import{_ as b}from"./logo-CC90_112.js";import"./database-B5yYN_Wa.js";import{A as k}from"./useFireStorage-H2zJQsii.js";import{d as y,r as V,b as S,c as I,a as t,e as a,f as i,u as v,q as c,k as C,o as L,x as m}from"./index-BAnCtb42.js";import{S as B,E as A}from"./useEncryp-DV_kLphk.js";import{s as g,e as h}from"./useToast-DKlWDkpx.js";import{_ as E}from"./InputPasswordFloat.vue_vue_type_script_setup_true_lang-Dxz2FEap.js";import{_ as U}from"./InputTextFloat.vue_vue_type_script_setup_true_lang-DW-OHmpI.js";/* empty css                                                                       */import"./index-CkfW3gqd.js";import"./user-QzlZX5LK.js";const $={class:"surface-ground flex align-items-center justify-content-center min-h-screen min-w-screen overflow-hidden"},j={class:"flex flex-column align-items-center justify-content-center w-11 md:w-auto"},q=t("img",{src:b,alt:"Image",class:"mb-5 w-6rem flex-shrink-0"},null,-1),N={class:"w-11 md:w-auto",style:{"border-radius":"56px",padding:"0.3rem",background:"linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"}},T={class:"w-full surface-card py-8 px-5 sm:px-8",style:{"border-radius":"53px"}},D={class:"text-center mb-4"},M=t("div",{class:"text-900 text-3xl font-medium mb-3"},"帳戶登入",-1),R={class:"field mt-6"},z={class:"field mt-6"},F={class:"flex align-items-center justify-content-between my-4 gap-5"},G={class:"flex align-items-center"},H=t("label",{for:"rememberme1",class:"mr-3"},"記住帳密",-1),J=t("label",{for:"rememberme1"},"保持登入狀態",-1),ae=y({__name:"AuthLogin",setup(K){const u=C(),r=new B,d=new A,p=new k,e=V({email:"",password:"",checked:!1,keepSignIn:!0}),w=async()=>{e.value.keepSignIn?await p.keepSignIn(e.value.email,e.value.password).then(o=>{o&&(f(),g(`${o}`),setTimeout(()=>{u.push("/")},700))}).catch(o=>{h(o)}):await p.signIn(e.value.email,e.value.password).then(o=>{o&&(f(),g(`${o}`),setTimeout(()=>{u.push("/")},700))}).catch(o=>{h(o)})};function f(){e.value.checked?(e.value.password=d.aesEncryp(e.value.password),r.setLocalStorage("account",e.value)):r.removeLocalStorage("account")}return S(()=>{r.getLocalStorage("account")&&(e.value=r.getLocalStorage("account"),e.value.password=d.aesDecrypt(e.value.password),e.value.keepSignIn=!0)}),(o,s)=>{const n=c("router-link"),_=c("Checkbox"),x=c("Button");return L(),I("div",$,[t("div",j,[q,t("div",N,[t("div",T,[t("div",D,[M,a(n,{class:"font-medium no-underline ml-0 text-right cursor-pointer",style:{color:"var(--primary-color)"},to:"/auth/login"},{default:i(()=>[m("帳戶登入")]),_:1}),a(n,{class:"font-medium no-underline ml-2 text-right cursor-pointer",style:{color:"var(--primary-color)"},to:"/auth/register"},{default:i(()=>[m("帳戶註冊")]),_:1})]),t("div",null,[t("div",R,[a(v(U),{label:"信箱",modelValue:e.value.email,"onUpdate:modelValue":s[0]||(s[0]=l=>e.value.email=l),name:"email1",rules:"required|email","input-class":"md:w-30rem"},null,8,["modelValue"])]),t("div",z,[a(v(E),{label:"密碼",modelValue:e.value.password,"onUpdate:modelValue":s[1]||(s[1]=l=>e.value.password=l),name:"password1",rules:"required",feedback:!1,"input-class":"md:w-30rem"},null,8,["modelValue"])]),t("div",F,[t("div",G,[a(_,{modelValue:e.value.checked,"onUpdate:modelValue":s[2]||(s[2]=l=>e.value.checked=l),id:"rememberme1",binary:"",class:"mr-1"},null,8,["modelValue"]),H,a(_,{modelValue:e.value.keepSignIn,"onUpdate:modelValue":s[3]||(s[3]=l=>e.value.keepSignIn=l),id:"rememberme1",binary:"",class:"mr-1"},null,8,["modelValue"]),J]),a(n,{class:"font-medium no-underline ml-2 text-right cursor-pointer",style:{color:"var(--primary-color)"},to:"/auth/forget"},{default:i(()=>[m("忘記密碼?")]),_:1})]),a(x,{label:"登入",class:"w-full p-3 text-xl mb-2",onClick:w})])])])])])}}});export{ae as default};
