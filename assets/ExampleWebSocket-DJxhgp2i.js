import{d as i,r as m,Q as x,c as v,a as u,A as V,e as a,F as h,q as s,o as d,D as b,C as f}from"./index-BAnCtb42.js";const g=u("p",null,"發送消息",-1),B=i({__name:"ExampleWebSocketPage",props:{channel:{type:String,default:""}},setup(c){const n=c,e=m("ok"),t=new WebSocket(`ws://localhost:8080/${n.channel}`);t.addEventListener("open",o=>{}),t.addEventListener("message",o=>{console.log("Message from server ",o.data)});const _=()=>{t.send(e.value)};return x(()=>{t.close()}),(o,l)=>{const p=s("InputText"),r=s("Button");return d(),v(h,null,[u("p",null,"當前房間:"+V(c.channel),1),g,a(p,{modelValue:e.value,"onUpdate:modelValue":l[0]||(l[0]=k=>e.value=k)},null,8,["modelValue"]),a(r,{label:"送出",type:"submit",onClick:_})],64)}}}),C=u("p",null,"進入房間",-1),y=u("hr",null,null,-1),S=i({__name:"ExampleWebSocket",setup(c){const n=m(""),e=m(""),t=()=>{n.value=e.value};return(_,o)=>{const l=s("InputText"),p=s("Button");return d(),v(h,null,[C,a(l,{modelValue:e.value,"onUpdate:modelValue":o[0]||(o[0]=r=>e.value=r)},null,8,["modelValue"]),a(p,{label:"送出",type:"submit",onClick:t}),y,n.value?(d(),b(B,{key:n.value,channel:n.value},null,8,["channel"])):f("",!0)],64)}}});export{S as default};
