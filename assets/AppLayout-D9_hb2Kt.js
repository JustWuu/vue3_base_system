import{u as J}from"./layout-C8oLut61.js";import{B as It,s as Pt,o as y,c as T,a as i,m as oe,d as E,r as O,w as ve,b as tt,e as $,f as D,u as v,g as xe,F as N,h as _e,n as k,i as Ie,j as Mt,k as nt,l as kt,p as ie,q as B,t as Bt,v as Ft,_ as Et,x as Ut,y as Lt,z as Dt,A as de,C as M,D as H,E as Nt,G as Vt,T as zt,U as Rt,H as Kt}from"./index-CJPEv9_p.js";import"./database-ZJ_VP24k.js";import{A as Gt}from"./useFireStorage-Hc109o-2.js";import{s as Ht,e as qt}from"./useToast-D3Ko8A9i.js";import"./user-BioliIlB.js";var Wt=`
@layer primevue {
    .p-inputswitch {
        display: inline-block;
    }

    .p-inputswitch-slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        border: 1px solid transparent;
    }

    .p-inputswitch-slider:before {
        position: absolute;
        content: '';
        top: 50%;
    }
}
`,Yt={root:{position:"relative"}},Xt={root:function(t){var n=t.instance,r=t.props;return["p-inputswitch p-component",{"p-inputswitch-checked":n.checked,"p-disabled":r.disabled,"p-focus":n.focused}]},slider:"p-inputswitch-slider"},Jt=It.extend({name:"inputswitch",css:Wt,classes:Xt,inlineStyles:Yt}),Zt={name:"BaseInputSwitch",extends:Pt,props:{modelValue:{type:null,default:!1},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},disabled:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},style:Jt,provide:function(){return{$parentInstance:this}}},me={name:"InputSwitch",extends:Zt,emits:["click","update:modelValue","change","input","focus","blur"],data:function(){return{focused:!1}},methods:{onClick:function(t){if(!this.disabled){var n=this.checked?this.falseValue:this.trueValue;this.$emit("click",t),this.$emit("update:modelValue",n),this.$emit("change",t),this.$emit("input",n),this.$refs.input.focus()}},onFocus:function(t){this.focused=!0,this.$emit("focus",t)},onBlur:function(t){this.focused=!1,this.$emit("blur",t)}},computed:{checked:function(){return this.modelValue===this.trueValue}}};function W(e){"@babel/helpers - typeof";return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(e)}function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pe(Object(n),!0).forEach(function(r){Qt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qt(e,t,n){return t=en(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function en(e){var t=tn(e,"string");return W(t)==="symbol"?t:String(t)}function tn(e,t){if(W(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(W(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nn=["id","checked","disabled","aria-checked","aria-labelledby","aria-label"];function rn(e,t,n,r,l,a){return y(),T("div",oe({class:e.cx("root"),style:e.sx("root"),onClick:t[2]||(t[2]=function(o){return a.onClick(o)})},e.ptm("root"),{"data-pc-name":"inputswitch"}),[i("div",oe({class:"p-hidden-accessible"},e.ptm("hiddenInputWrapper"),{"data-p-hidden-accessible":!0}),[i("input",oe({ref:"input",id:e.inputId,type:"checkbox",role:"switch",class:e.inputClass,style:e.inputStyle,checked:a.checked,disabled:e.disabled,"aria-checked":a.checked,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,onFocus:t[0]||(t[0]=function(o){return a.onFocus(o)}),onBlur:t[1]||(t[1]=function(o){return a.onBlur(o)})},Me(Me({},e.inputProps),e.ptm("hiddenInput"))),null,16,nn)],16),i("span",oe({class:e.cx("slider")},e.ptm("slider")),null,16)],16)}me.render=rn;const on=i("i",{class:"pi pi-cog"},null,-1),an=[on],sn=i("h5",null,"文字大小",-1),un={class:"flex align-items-center"},ln={class:"flex gap-2 align-items-center"},cn=i("h5",null,"選單設定",-1),dn={class:"flex"},pn={class:"field-radiobutton flex-1"},fn=i("label",{for:"mode1"},"固定",-1),mn={class:"field-radiobutton flex-1"},hn=i("label",{for:"mode2"},"浮動",-1),bn=i("h5",null,"按鈕波紋效果",-1),gn=i("h5",null,"黑暗模式",-1),yn=E({__name:"AppTopbarConfig",setup(e){const t=O([12,13,14,15,16]),n=O(!1),r=O(!1),{changeThemeSettings:l,setScale:a,layoutConfig:o}=J(),s=()=>{n.value=!n.value},p=(w,m)=>{var te,ne;const u="theme-css",_=document.getElementById(u),b=_==null?void 0:_.cloneNode(!0),A=(te=_==null?void 0:_.getAttribute("href"))==null?void 0:te.replace(o.theme.value,w);b==null||b.setAttribute("id",u+"-clone"),b==null||b.setAttribute("href",A),b==null||b.addEventListener("load",()=>{_==null||_.remove(),b.setAttribute("id",u),l(w,m==="dark")}),(ne=_==null?void 0:_.parentNode)==null||ne.insertBefore(b,_.nextSibling)},f=()=>{a(o.scale.value-1),d()},c=()=>{a(o.scale.value+1),d()},d=()=>{document.documentElement.style.fontSize=o.scale.value+"px"};return ve(r,w=>{w?p("lara-dark-blue","dark"):p("lara-light-blue","light")}),tt(()=>{d()}),(w,m)=>(y(),T(N,null,[i("button",{class:"p-link layout-topbar-button",type:"button",onClick:m[0]||(m[0]=u=>s())},an),$(v(Mt),{visible:n.value,"onUpdate:visible":m[7]||(m[7]=u=>n.value=u),position:"right",transitionOptions:".3s cubic-bezier(0, 0, 0.2, 1)",class:"layout-config-sidebar w-20rem",header:"樣式設定"},{default:D(()=>[sn,i("div",un,[$(v(xe),{icon:"pi pi-minus",type:"button",onClick:m[1]||(m[1]=u=>f()),class:"p-button-text p-button-rounded w-2rem h-2rem mr-2",disabled:v(o).scale.value===t.value[0]},null,8,["disabled"]),i("div",ln,[(y(!0),T(N,null,_e(t.value,u=>(y(),T("i",{class:k(["pi pi-circle-fill text-300",{"text-primary-500":u===v(o).scale.value}]),key:u},null,2))),128))]),$(v(xe),{icon:"pi pi-plus",type:"button",pButton:"",onClick:m[2]||(m[2]=u=>c()),class:"p-button-text p-button-rounded w-2rem h-2rem ml-2",disabled:v(o).scale.value===t.value[t.value.length-1]},null,8,["disabled"])]),cn,i("div",dn,[i("div",pn,[$(v(Ie),{name:"menuMode",value:"static",modelValue:v(o).menuMode.value,"onUpdate:modelValue":m[3]||(m[3]=u=>v(o).menuMode.value=u),inputId:"mode1"},null,8,["modelValue"]),fn]),i("div",mn,[$(v(Ie),{name:"menuMode",value:"overlay",modelValue:v(o).menuMode.value,"onUpdate:modelValue":m[4]||(m[4]=u=>v(o).menuMode.value=u),inputId:"mode2"},null,8,["modelValue"]),hn])]),bn,$(v(me),{modelValue:v(o).ripple.value,"onUpdate:modelValue":m[5]||(m[5]=u=>v(o).ripple.value=u)},null,8,["modelValue"]),gn,$(v(me),{modelValue:r.value,"onUpdate:modelValue":m[6]||(m[6]=u=>r.value=u)},null,8,["modelValue"])]),_:1},8,["visible","transitionOptions"])],64))}}),se=e=>(Bt("data-v-3937df23"),e=e(),Ft(),e),vn={class:"layout-topbar"},_n=["src"],$n=se(()=>i("span",null,"SAKAI",-1)),Tn=se(()=>i("i",{class:"pi pi-bars"},null,-1)),jn=[Tn],wn=se(()=>i("i",{class:"pi pi-ellipsis-v"},null,-1)),Sn=[wn],On=se(()=>i("div",{class:"flex align-items-center justify-content-center"},[i("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}}),i("span",null,"是否登出？")],-1)),An=E({__name:"AppTopbar",setup(e){const t=nt(),n=new Gt,{user:r}=n.getUser(),l=O([{label:"登入",icon:"pi pi-sign-in",to:"/auth/login"}]),a=O(!1),o=O(),s=()=>{n.signOut().then(S=>{Ht(`${S}`),a.value=!1,t.push("/")}).catch(S=>{qt(S)})},p=()=>{a.value=!0},f=()=>{a.value=!1},c=S=>{o.value.toggle(S)},{layoutConfig:d,onMenuToggle:w}=J(),m=O(null),u=O(!1);tt(async()=>{te()}),kt(()=>{ne()});const _=ie(()=>`layout/images/${d.darkTheme.value?"logo-white":"logo-dark"}.svg`),b=()=>{u.value=!u.value},A=ie(()=>({"layout-topbar-menu-mobile-active":u.value})),te=()=>{m.value||(m.value=S=>{Ot(S)&&(u.value=!1)},document.addEventListener("click",m.value))},ne=()=>{m.value&&(document.removeEventListener("click",m.value),m.value=null)},Ot=S=>{if(!u.value)return;const j=document.querySelector(".layout-topbar-menu"),P=document.querySelector(".layout-topbar-menu-button");return!(j!=null&&j.isSameNode(S.target)||j!=null&&j.contains(S.target)||P!=null&&P.isSameNode(S.target)||P!=null&&P.contains(S.target))};return(S,j)=>{const P=B("router-link"),At=B("Avatar"),Ct=B("Menu"),Ce=B("Button"),xt=B("Dialog");return y(),T("div",vn,[$(P,{to:"/",class:"layout-topbar-logo"},{default:D(()=>[i("img",{src:_.value,alt:"logo"},null,8,_n),$n]),_:1}),i("button",{class:"p-link layout-menu-button layout-topbar-button",onClick:j[0]||(j[0]=re=>v(w)())},jn),i("button",{class:"p-link layout-topbar-menu-button layout-topbar-button",onClick:j[1]||(j[1]=re=>b())},Sn),i("div",{class:k(["layout-topbar-menu",A.value])},[$(yn),i("button",{onClick:c,class:"layout-topbar-button"},[$(At,{image:v(r).uid!==""?v(r).photoURL:"src/assets/user.svg",size:"large",shape:"circle"},null,8,["image"]),$(Ct,{ref_key:"menu",ref:o,model:v(r).uid!==""?[{label:v(r).displayName,to:"/account/myaccount"},{separator:!0},{label:"登出",icon:"pi pi-sign-out",command:()=>{p()}}]:l.value,popup:!0},null,8,["model"])]),$(xt,{header:"確認",visible:a.value,"onUpdate:visible":j[3]||(j[3]=re=>a.value=re),style:{width:"350px"},modal:!0},{footer:D(()=>[$(Ce,{label:"No",icon:"pi pi-times",onClick:f,class:"p-button-text",autofocus:""}),$(Ce,{label:"Yes",icon:"pi pi-check",onClick:j[2]||(j[2]=re=>s()),class:"p-button-text"})]),default:D(()=>[On]),_:1},8,["visible"])],2)])}}}),Cn=Et(An,[["__scopeId","data-v-3937df23"]]),xn={class:"layout-footer"},In=["src"],Pn=i("span",{class:"font-medium ml-2"},"PrimeVue",-1),Mn=E({__name:"AppFooter",setup(e){const{layoutConfig:t}=J(),n=ie(()=>`layout/images/${t.darkTheme.value?"logo-white":"logo-dark"}.svg`);return(r,l)=>(y(),T("div",xn,[i("img",{src:n.value,alt:"Logo",height:"20",class:"mr-2"},null,8,In),Ut(" by "),Pn]))}}),kn={key:0,class:"layout-menuitem-root-text"},Bn=["href","target"],Fn={class:"layout-menuitem-text"},En={key:0,class:"pi pi-fw pi-angle-down layout-submenu-toggler"},Un={class:"layout-menuitem-text"},Ln={key:0,class:"pi pi-fw pi-angle-down layout-submenu-toggler"},Dn={class:"layout-submenu"},Nn=E({__name:"AppMenuItem",props:{item:{type:Object,default:()=>({})},index:{type:Number,default:0},root:{type:Boolean,default:!0},parentItemKey:{type:String,default:null}},setup(e){const t=Lt(),{layoutConfig:n,layoutState:r,setActiveMenuItem:l}=J(),a=e,o=O(!1),s=O(null);Dt(()=>{s.value=a.parentItemKey?a.parentItemKey+"-"+a.index:String(a.index);const c=r.activeMenuItem;o.value=c===s.value||c?c.value.startsWith(s.value+"-"):!1}),ve(()=>n.activeMenuItem.value,c=>{o.value=c===s.value||(c==null?void 0:c.startsWith(s.value+"-"))});const p=(c,d)=>{if(d.disabled){c.preventDefault();return}d.command&&d.command({originalEvent:c,item:d});const w=d.children?o.value?a.parentItemKey:s:s.value;l(w)},f=c=>t.path.indexOf(c.meta.theme)>0;return(c,d)=>{const w=B("router-link"),m=B("app-menu-item",!0);return y(),T("li",{class:k({"layout-root-menuitem":e.root,"active-menuitem":o.value})},[e.root&&e.item.visible!==!1?(y(),T("div",kn,de(e.item.meta.title),1)):M("",!0),(!e.item.path||e.item.children)&&e.item.visible!==!1?(y(),T("a",{key:1,href:e.item.url,onClick:d[0]||(d[0]=u=>p(u,e.item)),class:k(e.item.class),target:e.item.target,tabindex:"0"},[i("i",{class:k([e.item.meta.icon,"pi pi-fw layout-menuitem-icon"])},null,2),i("span",Fn,de(e.item.meta.title),1),e.item.children?(y(),T("i",En)):M("",!0)],10,Bn)):M("",!0),e.item.path&&!e.item.children&&e.item.visible!==!1?(y(),H(w,{key:2,onClick:d[1]||(d[1]=u=>p(u,e.item)),class:k([e.item.class,{"active-route":f(e.item)}]),tabindex:"0",to:e.item.path},{default:D(()=>[i("i",{class:k([e.item.meta.icon,"layout-menuitem-icon"])},null,2),i("span",Un,de(e.item.meta.title),1),e.item.children?(y(),T("i",Ln)):M("",!0)]),_:1},8,["class","to"])):M("",!0),e.item.children&&e.item.visible!==!1?(y(),H(zt,{key:3,name:"layout-submenu"},{default:D(()=>[Nt(i("ul",Dn,[(y(!0),T(N,null,_e(e.item.children,(u,_)=>{var b;return y(),T(N,{key:u},[(b=u.meta)!=null&&b.hide?M("",!0):(y(),H(m,{key:u,index:_,item:u,parentItemKey:s.value,root:!1},null,8,["index","item","parentItemKey"]))],64)}),128))],512),[[Vt,e.root?!0:o.value]])]),_:1})):M("",!0)],2)}}});var rt=typeof global=="object"&&global&&global.Object===Object&&global,Vn=typeof self=="object"&&self&&self.Object===Object&&self,C=rt||Vn||Function("return this")(),V=C.Symbol,ot=Object.prototype,zn=ot.hasOwnProperty,Rn=ot.toString,G=V?V.toStringTag:void 0;function Kn(e){var t=zn.call(e,G),n=e[G];try{e[G]=void 0;var r=!0}catch{}var l=Rn.call(e);return r&&(t?e[G]=n:delete e[G]),l}var Gn=Object.prototype,Hn=Gn.toString;function qn(e){return Hn.call(e)}var Wn="[object Null]",Yn="[object Undefined]",ke=V?V.toStringTag:void 0;function Z(e){return e==null?e===void 0?Yn:Wn:ke&&ke in Object(e)?Kn(e):qn(e)}function Q(e){return e!=null&&typeof e=="object"}var $e=Array.isArray;function ee(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Xn="[object AsyncFunction]",Jn="[object Function]",Zn="[object GeneratorFunction]",Qn="[object Proxy]";function at(e){if(!ee(e))return!1;var t=Z(e);return t==Jn||t==Zn||t==Xn||t==Qn}var pe=C["__core-js_shared__"],Be=function(){var e=/[^.]+$/.exec(pe&&pe.keys&&pe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function er(e){return!!Be&&Be in e}var tr=Function.prototype,nr=tr.toString;function U(e){if(e!=null){try{return nr.call(e)}catch{}try{return e+""}catch{}}return""}var rr=/[\\^$.*+?()[\]{}|]/g,or=/^\[object .+?Constructor\]$/,ar=Function.prototype,ir=Object.prototype,sr=ar.toString,ur=ir.hasOwnProperty,lr=RegExp("^"+sr.call(ur).replace(rr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cr(e){if(!ee(e)||er(e))return!1;var t=at(e)?lr:or;return t.test(U(e))}function dr(e,t){return e==null?void 0:e[t]}function L(e,t){var n=dr(e,t);return cr(n)?n:void 0}var he=L(C,"WeakMap"),Fe=Object.create,pr=function(){function e(){}return function(t){if(!ee(t))return{};if(Fe)return Fe(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function fr(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var Ee=function(){try{var e=L(Object,"defineProperty");return e({},"",{}),e}catch{}}();function mr(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var hr=9007199254740991,br=/^(?:0|[1-9]\d*)$/;function gr(e,t){var n=typeof e;return t=t??hr,!!t&&(n=="number"||n!="symbol"&&br.test(e))&&e>-1&&e%1==0&&e<t}function it(e,t,n){t=="__proto__"&&Ee?Ee(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function st(e,t){return e===t||e!==e&&t!==t}var yr=Object.prototype,vr=yr.hasOwnProperty;function ut(e,t,n){var r=e[t];(!(vr.call(e,t)&&st(r,n))||n===void 0&&!(t in e))&&it(e,t,n)}function ue(e,t,n,r){var l=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],p=void 0;p===void 0&&(p=e[s]),l?it(n,s,p):ut(n,s,p)}return n}var _r=9007199254740991;function lt(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=_r}function ct(e){return e!=null&&lt(e.length)&&!at(e)}var $r=Object.prototype;function Te(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||$r;return e===n}function Tr(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var jr="[object Arguments]";function Ue(e){return Q(e)&&Z(e)==jr}var dt=Object.prototype,wr=dt.hasOwnProperty,Sr=dt.propertyIsEnumerable,Or=Ue(function(){return arguments}())?Ue:function(e){return Q(e)&&wr.call(e,"callee")&&!Sr.call(e,"callee")};function Ar(){return!1}var pt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Le=pt&&typeof module=="object"&&module&&!module.nodeType&&module,Cr=Le&&Le.exports===pt,De=Cr?C.Buffer:void 0,xr=De?De.isBuffer:void 0,ft=xr||Ar,Ir="[object Arguments]",Pr="[object Array]",Mr="[object Boolean]",kr="[object Date]",Br="[object Error]",Fr="[object Function]",Er="[object Map]",Ur="[object Number]",Lr="[object Object]",Dr="[object RegExp]",Nr="[object Set]",Vr="[object String]",zr="[object WeakMap]",Rr="[object ArrayBuffer]",Kr="[object DataView]",Gr="[object Float32Array]",Hr="[object Float64Array]",qr="[object Int8Array]",Wr="[object Int16Array]",Yr="[object Int32Array]",Xr="[object Uint8Array]",Jr="[object Uint8ClampedArray]",Zr="[object Uint16Array]",Qr="[object Uint32Array]",g={};g[Gr]=g[Hr]=g[qr]=g[Wr]=g[Yr]=g[Xr]=g[Jr]=g[Zr]=g[Qr]=!0;g[Ir]=g[Pr]=g[Rr]=g[Mr]=g[Kr]=g[kr]=g[Br]=g[Fr]=g[Er]=g[Ur]=g[Lr]=g[Dr]=g[Nr]=g[Vr]=g[zr]=!1;function eo(e){return Q(e)&&lt(e.length)&&!!g[Z(e)]}function je(e){return function(t){return e(t)}}var mt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,q=mt&&typeof module=="object"&&module&&!module.nodeType&&module,to=q&&q.exports===mt,fe=to&&rt.process,z=function(){try{var e=q&&q.require&&q.require("util").types;return e||fe&&fe.binding&&fe.binding("util")}catch{}}(),Ne=z&&z.isTypedArray,no=Ne?je(Ne):eo,ro=Object.prototype,oo=ro.hasOwnProperty;function ht(e,t){var n=$e(e),r=!n&&Or(e),l=!n&&!r&&ft(e),a=!n&&!r&&!l&&no(e),o=n||r||l||a,s=o?Tr(e.length,String):[],p=s.length;for(var f in e)(t||oo.call(e,f))&&!(o&&(f=="length"||l&&(f=="offset"||f=="parent")||a&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||gr(f,p)))&&s.push(f);return s}function bt(e,t){return function(n){return e(t(n))}}var ao=bt(Object.keys,Object),io=Object.prototype,so=io.hasOwnProperty;function uo(e){if(!Te(e))return ao(e);var t=[];for(var n in Object(e))so.call(e,n)&&n!="constructor"&&t.push(n);return t}function we(e){return ct(e)?ht(e):uo(e)}function lo(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var co=Object.prototype,po=co.hasOwnProperty;function fo(e){if(!ee(e))return lo(e);var t=Te(e),n=[];for(var r in e)r=="constructor"&&(t||!po.call(e,r))||n.push(r);return n}function Se(e){return ct(e)?ht(e,!0):fo(e)}var Y=L(Object,"create");function mo(){this.__data__=Y?Y(null):{},this.size=0}function ho(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var bo="__lodash_hash_undefined__",go=Object.prototype,yo=go.hasOwnProperty;function vo(e){var t=this.__data__;if(Y){var n=t[e];return n===bo?void 0:n}return yo.call(t,e)?t[e]:void 0}var _o=Object.prototype,$o=_o.hasOwnProperty;function To(e){var t=this.__data__;return Y?t[e]!==void 0:$o.call(t,e)}var jo="__lodash_hash_undefined__";function wo(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Y&&t===void 0?jo:t,this}function F(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}F.prototype.clear=mo;F.prototype.delete=ho;F.prototype.get=vo;F.prototype.has=To;F.prototype.set=wo;function So(){this.__data__=[],this.size=0}function le(e,t){for(var n=e.length;n--;)if(st(e[n][0],t))return n;return-1}var Oo=Array.prototype,Ao=Oo.splice;function Co(e){var t=this.__data__,n=le(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Ao.call(t,n,1),--this.size,!0}function xo(e){var t=this.__data__,n=le(t,e);return n<0?void 0:t[n][1]}function Io(e){return le(this.__data__,e)>-1}function Po(e,t){var n=this.__data__,r=le(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function I(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}I.prototype.clear=So;I.prototype.delete=Co;I.prototype.get=xo;I.prototype.has=Io;I.prototype.set=Po;var X=L(C,"Map");function Mo(){this.size=0,this.__data__={hash:new F,map:new(X||I),string:new F}}function ko(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function ce(e,t){var n=e.__data__;return ko(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Bo(e){var t=ce(this,e).delete(e);return this.size-=t?1:0,t}function Fo(e){return ce(this,e).get(e)}function Eo(e){return ce(this,e).has(e)}function Uo(e,t){var n=ce(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function R(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}R.prototype.clear=Mo;R.prototype.delete=Bo;R.prototype.get=Fo;R.prototype.has=Eo;R.prototype.set=Uo;function gt(e,t){for(var n=-1,r=t.length,l=e.length;++n<r;)e[l+n]=t[n];return e}var yt=bt(Object.getPrototypeOf,Object);function Lo(){this.__data__=new I,this.size=0}function Do(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function No(e){return this.__data__.get(e)}function Vo(e){return this.__data__.has(e)}var zo=200;function Ro(e,t){var n=this.__data__;if(n instanceof I){var r=n.__data__;if(!X||r.length<zo-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new R(r)}return n.set(e,t),this.size=n.size,this}function K(e){var t=this.__data__=new I(e);this.size=t.size}K.prototype.clear=Lo;K.prototype.delete=Do;K.prototype.get=No;K.prototype.has=Vo;K.prototype.set=Ro;function Ko(e,t){return e&&ue(t,we(t),e)}function Go(e,t){return e&&ue(t,Se(t),e)}var vt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ve=vt&&typeof module=="object"&&module&&!module.nodeType&&module,Ho=Ve&&Ve.exports===vt,ze=Ho?C.Buffer:void 0,Re=ze?ze.allocUnsafe:void 0;function qo(e,t){if(t)return e.slice();var n=e.length,r=Re?Re(n):new e.constructor(n);return e.copy(r),r}function Wo(e,t){for(var n=-1,r=e==null?0:e.length,l=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[l++]=o)}return a}function _t(){return[]}var Yo=Object.prototype,Xo=Yo.propertyIsEnumerable,Ke=Object.getOwnPropertySymbols,Oe=Ke?function(e){return e==null?[]:(e=Object(e),Wo(Ke(e),function(t){return Xo.call(e,t)}))}:_t;function Jo(e,t){return ue(e,Oe(e),t)}var Zo=Object.getOwnPropertySymbols,$t=Zo?function(e){for(var t=[];e;)gt(t,Oe(e)),e=yt(e);return t}:_t;function Qo(e,t){return ue(e,$t(e),t)}function Tt(e,t,n){var r=t(e);return $e(e)?r:gt(r,n(e))}function ea(e){return Tt(e,we,Oe)}function ta(e){return Tt(e,Se,$t)}var be=L(C,"DataView"),ge=L(C,"Promise"),ye=L(C,"Set"),Ge="[object Map]",na="[object Object]",He="[object Promise]",qe="[object Set]",We="[object WeakMap]",Ye="[object DataView]",ra=U(be),oa=U(X),aa=U(ge),ia=U(ye),sa=U(he),x=Z;(be&&x(new be(new ArrayBuffer(1)))!=Ye||X&&x(new X)!=Ge||ge&&x(ge.resolve())!=He||ye&&x(new ye)!=qe||he&&x(new he)!=We)&&(x=function(e){var t=Z(e),n=t==na?e.constructor:void 0,r=n?U(n):"";if(r)switch(r){case ra:return Ye;case oa:return Ge;case aa:return He;case ia:return qe;case sa:return We}return t});var ua=Object.prototype,la=ua.hasOwnProperty;function ca(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&la.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Xe=C.Uint8Array;function Ae(e){var t=new e.constructor(e.byteLength);return new Xe(t).set(new Xe(e)),t}function da(e,t){var n=t?Ae(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var pa=/\w*$/;function fa(e){var t=new e.constructor(e.source,pa.exec(e));return t.lastIndex=e.lastIndex,t}var Je=V?V.prototype:void 0,Ze=Je?Je.valueOf:void 0;function ma(e){return Ze?Object(Ze.call(e)):{}}function ha(e,t){var n=t?Ae(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var ba="[object Boolean]",ga="[object Date]",ya="[object Map]",va="[object Number]",_a="[object RegExp]",$a="[object Set]",Ta="[object String]",ja="[object Symbol]",wa="[object ArrayBuffer]",Sa="[object DataView]",Oa="[object Float32Array]",Aa="[object Float64Array]",Ca="[object Int8Array]",xa="[object Int16Array]",Ia="[object Int32Array]",Pa="[object Uint8Array]",Ma="[object Uint8ClampedArray]",ka="[object Uint16Array]",Ba="[object Uint32Array]";function Fa(e,t,n){var r=e.constructor;switch(t){case wa:return Ae(e);case ba:case ga:return new r(+e);case Sa:return da(e,n);case Oa:case Aa:case Ca:case xa:case Ia:case Pa:case Ma:case ka:case Ba:return ha(e,n);case ya:return new r;case va:case Ta:return new r(e);case _a:return fa(e);case $a:return new r;case ja:return ma(e)}}function Ea(e){return typeof e.constructor=="function"&&!Te(e)?pr(yt(e)):{}}var Ua="[object Map]";function La(e){return Q(e)&&x(e)==Ua}var Qe=z&&z.isMap,Da=Qe?je(Qe):La,Na="[object Set]";function Va(e){return Q(e)&&x(e)==Na}var et=z&&z.isSet,za=et?je(et):Va,Ra=1,Ka=2,Ga=4,jt="[object Arguments]",Ha="[object Array]",qa="[object Boolean]",Wa="[object Date]",Ya="[object Error]",wt="[object Function]",Xa="[object GeneratorFunction]",Ja="[object Map]",Za="[object Number]",St="[object Object]",Qa="[object RegExp]",ei="[object Set]",ti="[object String]",ni="[object Symbol]",ri="[object WeakMap]",oi="[object ArrayBuffer]",ai="[object DataView]",ii="[object Float32Array]",si="[object Float64Array]",ui="[object Int8Array]",li="[object Int16Array]",ci="[object Int32Array]",di="[object Uint8Array]",pi="[object Uint8ClampedArray]",fi="[object Uint16Array]",mi="[object Uint32Array]",h={};h[jt]=h[Ha]=h[oi]=h[ai]=h[qa]=h[Wa]=h[ii]=h[si]=h[ui]=h[li]=h[ci]=h[Ja]=h[Za]=h[St]=h[Qa]=h[ei]=h[ti]=h[ni]=h[di]=h[pi]=h[fi]=h[mi]=!0;h[Ya]=h[wt]=h[ri]=!1;function ae(e,t,n,r,l,a){var o,s=t&Ra,p=t&Ka,f=t&Ga;if(o!==void 0)return o;if(!ee(e))return e;var c=$e(e);if(c){if(o=ca(e),!s)return fr(e,o)}else{var d=x(e),w=d==wt||d==Xa;if(ft(e))return qo(e,s);if(d==St||d==jt||w&&!l){if(o=p||w?{}:Ea(e),!s)return p?Qo(e,Go(o,e)):Jo(e,Ko(o,e))}else{if(!h[d])return l?e:{};o=Fa(e,d,s)}}a||(a=new K);var m=a.get(e);if(m)return m;a.set(e,o),za(e)?e.forEach(function(b){o.add(ae(b,t,n,b,e,a))}):Da(e)&&e.forEach(function(b,A){o.set(A,ae(b,t,n,A,e,a))});var u=f?p?ta:ea:p?Se:we,_=c?void 0:u(e);return mr(_||e,function(b,A){_&&(A=b,b=e[A]),ut(o,A,ae(b,t,n,A,e,a))}),o}var hi=1,bi=4;function gi(e){return ae(e,hi|bi)}const yi={class:"layout-menu"},vi=i("li",null,[i("a",{href:"https://www.primefaces.org/primeblocks-vue/#/",target:"_blank"},[i("img",{src:"https://picsum.photos/150/100",alt:"Prime Blocks",class:"w-full mt-3"})])],-1),_i=E({__name:"AppMenu",setup(e){const t=Rt(),n=nt(),r=O([]),l=O(t.user.roles);function a(o){o.forEach(s=>{s.meta.roles&&s.meta.roles.length>0&&(l.value.some(f=>s.meta.roles.includes(f))||(s.meta.hide=!0)),s.children&&s.children.length>0&&a(s.children)})}return Kt(()=>{r.value=gi([...n.options.routes]),l.value=t.user.roles,r.value.forEach(o=>{o.meta.roles&&o.meta.roles.length>0&&(l.value.some(p=>o.meta.roles.includes(p))||(o.meta.hide=!0)),o.children&&o.children.length>0&&a(o.children)}),r.value.forEach(o=>{if(o.children&&o.children.length>0){const s=o.children.every(p=>p.meta&&p.meta.hide);o.meta.hide=s}})}),(o,s)=>(y(),T("ul",yi,[(y(!0),T(N,null,_e(r.value,(p,f)=>{var c;return y(),T(N,{key:p},[(c=p.meta)!=null&&c.hide?M("",!0):(y(),H(Nn,{key:0,item:p,index:f},null,8,["item","index"]))],64)}),128)),vi]))}}),$i=E({__name:"AppSidebar",setup(e){return(t,n)=>(y(),H(_i))}}),Ti={class:"layout-sidebar"},ji={class:"layout-main-container"},wi={class:"layout-main"},Si=i("div",{class:"layout-mask"},null,-1),Mi=E({__name:"AppLayout",setup(e){const{layoutConfig:t,layoutState:n,isSidebarActive:r}=J(),l=O(null);ve(r,f=>{f?o():s()});const a=ie(()=>({"layout-theme-light":t.darkTheme.value==="light","layout-theme-dark":t.darkTheme.value==="dark","layout-overlay":t.menuMode.value==="overlay","layout-static":t.menuMode.value==="static","layout-static-inactive":n.staticMenuDesktopInactive.value&&t.menuMode.value==="static","layout-overlay-active":n.overlayMenuActive.value,"layout-mobile-active":n.staticMenuMobileActive.value,"p-ripple-disabled":!t.ripple.value})),o=()=>{l.value||(l.value=f=>{p(f)&&(n.overlayMenuActive.value=!1,n.staticMenuMobileActive.value=!1,n.menuHoverActive.value=!1)},document.addEventListener("click",l.value))},s=()=>{l.value&&(document.removeEventListener("click",l.value),l.value=null)},p=f=>{const c=document.querySelector(".layout-sidebar"),d=document.querySelector(".layout-menu-button");return!(c!=null&&c.isSameNode(f.target)||c!=null&&c.contains(f.target)||d!=null&&d.isSameNode(f.target)||d!=null&&d.contains(f.target))};return(f,c)=>{const d=B("router-view");return y(),T("div",{class:k(["layout-wrapper",a.value])},[$(Cn),i("div",Ti,[$($i)]),i("div",ji,[i("div",wi,[$(d)]),$(Mn)]),Si],2)}}});export{Mi as default};
