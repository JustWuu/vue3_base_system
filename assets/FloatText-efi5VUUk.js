import{r as v,V as N,W as O,X as P,u as A,p as T,w as V,b as $,Y as q,d as D,q as L,o as x,c as G,a as S,A as _,n as I,D as R,C as z,_ as X}from"./index-IOU40qfs.js";import"./Editor-kc3vYnik.js";function k(e){return O()?(P(e),!0):!1}function b(e){return typeof e=="function"?e():A(e)}const C=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Y=Object.prototype.toString,H=e=>Y.call(e)==="[object Object]",J=()=>{};function K(e){let t;function n(){return t||(t=e()),t}return n.reset=async()=>{const a=t;t=void 0,a&&await a},n}function Q(e,t,n={}){const{immediate:a=!0}=n,s=v(!1);let o=null;function i(){o&&(clearTimeout(o),o=null)}function l(){s.value=!1,i()}function d(...u){i(),s.value=!0,o=setTimeout(()=>{s.value=!1,o=null,e(...u)},b(t))}return a&&(s.value=!0,C&&d()),k(l),{isPending:N(s),start:d,stop:l}}function U(e){var t;const n=b(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Z=C?window:void 0,E=C?window.navigator:void 0;function W(...e){let t,n,a,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,a,s]=e,t=Z):[t,n,a,s]=e,!t)return J;Array.isArray(n)||(n=[n]),Array.isArray(a)||(a=[a]);const o=[],i=()=>{o.forEach(c=>c()),o.length=0},l=(c,p,m,y)=>(c.addEventListener(p,m,y),()=>c.removeEventListener(p,m,y)),d=V(()=>[U(t),b(s)],([c,p])=>{if(i(),!c)return;const m=H(p)?{...p}:p;o.push(...n.flatMap(y=>a.map(g=>l(c,y,g,m))))},{immediate:!0,flush:"post"}),u=()=>{d(),i()};return k(u),u}function ee(){const e=v(!1),t=q();return t&&$(()=>{e.value=!0},t),e}function M(e){const t=ee();return T(()=>(t.value,!!e()))}function B(e,t={}){const{controls:n=!1,navigator:a=E}=t,s=M(()=>a&&"permissions"in a);let o;const i=typeof e=="string"?{name:e}:e,l=v(),d=()=>{o&&(l.value=o.state)},u=K(async()=>{if(s.value){if(!o)try{o=await a.permissions.query(i),W(o,"change",d),d()}catch{l.value="prompt"}return o}});return u(),n?{state:l,isSupported:s,query:u}:l}function te(e={}){const{navigator:t=E,read:n=!1,source:a,copiedDuring:s=1500,legacy:o=!1}=e,i=M(()=>t&&"clipboard"in t),l=B("clipboard-read"),d=B("clipboard-write"),u=T(()=>i.value||o),c=v(""),p=v(!1),m=Q(()=>p.value=!1,s);function y(){i.value&&w(l.value)?t.clipboard.readText().then(r=>{c.value=r}):c.value=F()}u.value&&n&&W(["copy","cut"],y);async function g(r=b(a)){u.value&&r!=null&&(i.value&&w(d.value)?await t.clipboard.writeText(r):j(r),c.value=r,p.value=!0,m.start())}function j(r){const f=document.createElement("textarea");f.value=r??"",f.style.position="absolute",f.style.opacity="0",document.body.appendChild(f),f.select(),document.execCommand("copy"),f.remove()}function F(){var r,f,h;return(h=(f=(r=document==null?void 0:document.getSelection)==null?void 0:r.call(document))==null?void 0:f.toString())!=null?h:""}function w(r){return r==="granted"||r==="prompt"}return{isSupported:u,text:c,copied:p,copy:g}}const ne={class:"relative"},oe={class:"absolute float-span"},ae=D({__name:"FloatText",props:{label:{type:String,default:"-"},content:{type:[String,Number],default:"-"},disabled:{type:Boolean,default:!1},copyButton:{type:Boolean,default:!1}},setup(e){const{isSupported:t,copy:n}=te(),a=s=>{t&&(n(s),alert(`已複製：${s}`))};return(s,o)=>{const i=L("Button");return x(),G("div",ne,[S("span",oe,_(e.label),1),S("div",{class:I(["p-inputtext",{"opacity-90":e.disabled}])},[S("span",null,_(e.content),1)],2),e.copyButton&&A(t)?(x(),R(i,{key:0,icon:"pi pi-copy",text:"","aria-label":"複製",class:"copy-button",onClick:o[0]||(o[0]=l=>a(`${e.content}`))})):z("",!0)])}}}),ie=X(ae,[["__scopeId","data-v-90df8e5e"]]);export{ie as F};
