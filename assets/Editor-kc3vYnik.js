/*!
 * Cropper.js v1.6.1
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:44:19.860Z
 */function hG(F,V){var j=Object.keys(F);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(F);V&&(re=re.filter(function(se){return Object.getOwnPropertyDescriptor(F,se).enumerable})),j.push.apply(j,re)}return j}function RG(F){for(var V=1;V<arguments.length;V++){var j=arguments[V]!=null?arguments[V]:{};V%2?hG(Object(j),!0).forEach(function(re){kK(F,re,j[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(j)):hG(Object(j)).forEach(function(re){Object.defineProperty(F,re,Object.getOwnPropertyDescriptor(j,re))})}return F}function PZ(F){"@babel/helpers - typeof";return PZ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},PZ(F)}function vK(F,V){if(!(F instanceof V))throw new TypeError("Cannot call a class as a function")}function bG(F,V){for(var j=0;j<V.length;j++){var re=V[j];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(F,BG(re.key),re)}}function wK(F,V,j){return V&&bG(F.prototype,V),j&&bG(F,j),Object.defineProperty(F,"prototype",{writable:!1}),F}function kK(F,V,j){return V=BG(V),V in F?Object.defineProperty(F,V,{value:j,enumerable:!0,configurable:!0,writable:!0}):F[V]=j,F}function MG(F){return _K(F)||xK(F)||CK(F)||SK()}function _K(F){if(Array.isArray(F))return $Z(F)}function xK(F){if(typeof Symbol<"u"&&F[Symbol.iterator]!=null||F["@@iterator"]!=null)return Array.from(F)}function CK(F,V){if(F){if(typeof F=="string")return $Z(F,V);var j=Object.prototype.toString.call(F).slice(8,-1);if(j==="Object"&&F.constructor&&(j=F.constructor.name),j==="Map"||j==="Set")return Array.from(F);if(j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j))return $Z(F,V)}}function $Z(F,V){(V==null||V>F.length)&&(V=F.length);for(var j=0,re=new Array(V);j<V;j++)re[j]=F[j];return re}function SK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TK(F,V){if(typeof F!="object"||F===null)return F;var j=F[Symbol.toPrimitive];if(j!==void 0){var re=j.call(F,V||"default");if(typeof re!="object")return re;throw new TypeError("@@toPrimitive must return a primitive value.")}return(V==="string"?String:Number)(F)}function BG(F){var V=TK(F,"string");return typeof V=="symbol"?V:String(V)}var K7=typeof window<"u"&&typeof window.document<"u",_h=K7?window:{},ZZ=K7&&_h.document.documentElement?"ontouchstart"in _h.document.documentElement:!1,qZ=K7?"PointerEvent"in _h:!1,ua="cropper",GZ="all",NG="crop",PG="move",$G="zoom",$_="e",I_="w",vT="s",u0="n",tO="ne",nO="nw",oO="se",sO="sw",IZ="".concat(ua,"-crop"),yG="".concat(ua,"-disabled"),sd="".concat(ua,"-hidden"),vG="".concat(ua,"-hide"),EK="".concat(ua,"-invisible"),G7="".concat(ua,"-modal"),FZ="".concat(ua,"-move"),aO="".concat(ua,"Action"),Z7="".concat(ua,"Preview"),KZ="crop",IG="move",FG="none",LZ="crop",HZ="cropend",VZ="cropmove",jZ="cropstart",wG="dblclick",zK=ZZ?"touchstart":"mousedown",AK=ZZ?"touchmove":"mousemove",OK=ZZ?"touchend touchcancel":"mouseup",kG=qZ?"pointerdown":zK,_G=qZ?"pointermove":AK,xG=qZ?"pointerup pointercancel":OK,CG="ready",SG="resize",TG="wheel",UZ="zoom",EG="image/jpeg",DK=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,RK=/^data:/,MK=/^data:image\/jpeg;base64,/,BK=/^img|canvas$/i,LG=200,HG=100,zG={viewMode:0,dragMode:KZ,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:LG,minContainerHeight:HG,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},NK='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',PK=Number.isNaN||_h.isNaN;function ws(F){return typeof F=="number"&&!PK(F)}var AG=function(F){return F>0&&F<1/0};function BZ(F){return typeof F>"u"}function F_(F){return PZ(F)==="object"&&F!==null}var $K=Object.prototype.hasOwnProperty;function wT(F){if(!F_(F))return!1;try{var V=F.constructor,j=V.prototype;return V&&j&&$K.call(j,"isPrototypeOf")}catch{return!1}}function od(F){return typeof F=="function"}var IK=Array.prototype.slice;function VG(F){return Array.from?Array.from(F):IK.call(F)}function Ac(F,V){return F&&od(V)&&(Array.isArray(F)||ws(F.length)?VG(F).forEach(function(j,re){V.call(F,j,re,F)}):F_(F)&&Object.keys(F).forEach(function(j){V.call(F,F[j],j,F)})),F}var da=Object.assign||function(F){for(var V=arguments.length,j=new Array(V>1?V-1:0),re=1;re<V;re++)j[re-1]=arguments[re];return F_(F)&&j.length>0&&j.forEach(function(se){F_(se)&&Object.keys(se).forEach(function(pe){F[pe]=se[pe]})}),F},FK=/\.\d*(?:0|9){12}\d*$/;function _T(F){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return FK.test(F)?Math.round(F*V)/V:F}var LK=/^width|height|left|top|marginLeft|marginTop$/;function d0(F,V){var j=F.style;Ac(V,function(re,se){LK.test(se)&&ws(re)&&(re="".concat(re,"px")),j[se]=re})}function HK(F,V){return F.classList?F.classList.contains(V):F.className.indexOf(V)>-1}function Mi(F,V){if(V){if(ws(F.length)){Ac(F,function(re){Mi(re,V)});return}if(F.classList){F.classList.add(V);return}var j=F.className.trim();j?j.indexOf(V)<0&&(F.className="".concat(j," ").concat(V)):F.className=V}}function kh(F,V){if(V){if(ws(F.length)){Ac(F,function(j){kh(j,V)});return}if(F.classList){F.classList.remove(V);return}F.className.indexOf(V)>=0&&(F.className=F.className.replace(V,""))}}function kT(F,V,j){if(V){if(ws(F.length)){Ac(F,function(re){kT(re,V,j)});return}j?Mi(F,V):kh(F,V)}}var VK=/([a-z\d])([A-Z])/g;function YZ(F){return F.replace(VK,"$1-$2").toLowerCase()}function WZ(F,V){return F_(F[V])?F[V]:F.dataset?F.dataset[V]:F.getAttribute("data-".concat(YZ(V)))}function cO(F,V,j){F_(j)?F[V]=j:F.dataset?F.dataset[V]=j:F.setAttribute("data-".concat(YZ(V)),j)}function jK(F,V){if(F_(F[V]))try{delete F[V]}catch{F[V]=void 0}else if(F.dataset)try{delete F.dataset[V]}catch{F.dataset[V]=void 0}else F.removeAttribute("data-".concat(YZ(V)))}var jG=/\s\s*/,UG=function(){var F=!1;if(K7){var V=!1,j=function(){},re=Object.defineProperty({},"once",{get:function(){return F=!0,V},set:function(se){V=se}});_h.addEventListener("test",j,re),_h.removeEventListener("test",j,re)}return F}();function Bp(F,V,j){var re=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},se=j;V.trim().split(jG).forEach(function(pe){if(!UG){var ze=F.listeners;ze&&ze[pe]&&ze[pe][j]&&(se=ze[pe][j],delete ze[pe][j],Object.keys(ze[pe]).length===0&&delete ze[pe],Object.keys(ze).length===0&&delete F.listeners)}F.removeEventListener(pe,se,re)})}function Tm(F,V,j){var re=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},se=j;V.trim().split(jG).forEach(function(pe){if(re.once&&!UG){var ze=F.listeners,Me=ze===void 0?{}:ze;se=function(){delete Me[pe][j],F.removeEventListener(pe,se,re);for(var Ge=arguments.length,Fe=new Array(Ge),Ze=0;Ze<Ge;Ze++)Fe[Ze]=arguments[Ze];j.apply(F,Fe)},Me[pe]||(Me[pe]={}),Me[pe][j]&&F.removeEventListener(pe,Me[pe][j],re),Me[pe][j]=se,F.listeners=Me}F.addEventListener(pe,se,re)})}function xT(F,V,j){var re;return od(Event)&&od(CustomEvent)?re=new CustomEvent(V,{detail:j,bubbles:!0,cancelable:!0}):(re=document.createEvent("CustomEvent"),re.initCustomEvent(V,!0,!0,j)),F.dispatchEvent(re)}function WG(F){var V=F.getBoundingClientRect();return{left:V.left+(window.pageXOffset-document.documentElement.clientLeft),top:V.top+(window.pageYOffset-document.documentElement.clientTop)}}var NZ=_h.location,UK=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function OG(F){var V=F.match(UK);return V!==null&&(V[1]!==NZ.protocol||V[2]!==NZ.hostname||V[3]!==NZ.port)}function DG(F){var V="timestamp=".concat(new Date().getTime());return F+(F.indexOf("?")===-1?"?":"&")+V}function rO(F){var V=F.rotate,j=F.scaleX,re=F.scaleY,se=F.translateX,pe=F.translateY,ze=[];ws(se)&&se!==0&&ze.push("translateX(".concat(se,"px)")),ws(pe)&&pe!==0&&ze.push("translateY(".concat(pe,"px)")),ws(V)&&V!==0&&ze.push("rotate(".concat(V,"deg)")),ws(j)&&j!==1&&ze.push("scaleX(".concat(j,")")),ws(re)&&re!==1&&ze.push("scaleY(".concat(re,")"));var Me=ze.length?ze.join(" "):"none";return{WebkitTransform:Me,msTransform:Me,transform:Me}}function WK(F){var V=RG({},F),j=0;return Ac(F,function(re,se){delete V[se],Ac(V,function(pe){var ze=Math.abs(re.startX-pe.startX),Me=Math.abs(re.startY-pe.startY),Ge=Math.abs(re.endX-pe.endX),Fe=Math.abs(re.endY-pe.endY),Ze=Math.sqrt(ze*ze+Me*Me),ht=Math.sqrt(Ge*Ge+Fe*Fe),On=(ht-Ze)/Ze;Math.abs(On)>Math.abs(j)&&(j=On)})}),j}function q7(F,V){var j=F.pageX,re=F.pageY,se={endX:j,endY:re};return V?se:RG({startX:j,startY:re},se)}function ZK(F){var V=0,j=0,re=0;return Ac(F,function(se){var pe=se.startX,ze=se.startY;V+=pe,j+=ze,re+=1}),V/=re,j/=re,{pageX:V,pageY:j}}function f0(F){var V=F.aspectRatio,j=F.height,re=F.width,se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",pe=AG(re),ze=AG(j);if(pe&&ze){var Me=j*V;se==="contain"&&Me>re||se==="cover"&&Me<re?j=re/V:re=j*V}else pe?j=re/V:ze&&(re=j*V);return{width:re,height:j}}function qK(F){var V=F.width,j=F.height,re=F.degree;if(re=Math.abs(re)%180,re===90)return{width:j,height:V};var se=re%90*Math.PI/180,pe=Math.sin(se),ze=Math.cos(se),Me=V*ze+j*pe,Ge=V*pe+j*ze;return re>90?{width:Ge,height:Me}:{width:Me,height:Ge}}function GK(F,V,j,re){var se=V.aspectRatio,pe=V.naturalWidth,ze=V.naturalHeight,Me=V.rotate,Ge=Me===void 0?0:Me,Fe=V.scaleX,Ze=Fe===void 0?1:Fe,ht=V.scaleY,On=ht===void 0?1:ht,_n=j.aspectRatio,io=j.naturalWidth,Tn=j.naturalHeight,it=re.fillColor,zo=it===void 0?"transparent":it,Ao=re.imageSmoothingEnabled,oe=Ao===void 0?!0:Ao,Ut=re.imageSmoothingQuality,St=Ut===void 0?"low":Ut,Gt=re.maxWidth,Y=Gt===void 0?1/0:Gt,tn=re.maxHeight,$n=tn===void 0?1/0:tn,yn=re.minWidth,Re=yn===void 0?0:yn,ce=re.minHeight,Qo=ce===void 0?0:ce,Nn=document.createElement("canvas"),Et=Nn.getContext("2d"),E=f0({aspectRatio:_n,width:Y,height:$n}),lo=f0({aspectRatio:_n,width:Re,height:Qo},"cover"),Ye=Math.min(E.width,Math.max(lo.width,io)),wo=Math.min(E.height,Math.max(lo.height,Tn)),Yt=f0({aspectRatio:se,width:Y,height:$n}),Ue=f0({aspectRatio:se,width:Re,height:Qo},"cover"),Po=Math.min(Yt.width,Math.max(Ue.width,pe)),Ps=Math.min(Yt.height,Math.max(Ue.height,ze)),Xn=[-Po/2,-Ps/2,Po,Ps];return Nn.width=_T(Ye),Nn.height=_T(wo),Et.fillStyle=zo,Et.fillRect(0,0,Ye,wo),Et.save(),Et.translate(Ye/2,wo/2),Et.rotate(Ge*Math.PI/180),Et.scale(Ze,On),Et.imageSmoothingEnabled=oe,Et.imageSmoothingQuality=St,Et.drawImage.apply(Et,[F].concat(MG(Xn.map(function(Vs){return Math.floor(_T(Vs))})))),Et.restore(),Nn}var ZG=String.fromCharCode;function KK(F,V,j){var re="";j+=V;for(var se=V;se<j;se+=1)re+=ZG(F.getUint8(se));return re}var YK=/^data:.*,/;function XK(F){var V=F.replace(YK,""),j=atob(V),re=new ArrayBuffer(j.length),se=new Uint8Array(re);return Ac(se,function(pe,ze){se[ze]=j.charCodeAt(ze)}),re}function JK(F,V){for(var j=[],re=8192,se=new Uint8Array(F);se.length>0;)j.push(ZG.apply(null,VG(se.subarray(0,re)))),se=se.subarray(re);return"data:".concat(V,";base64,").concat(btoa(j.join("")))}function QK(F){var V=new DataView(F),j;try{var re,se,pe;if(V.getUint8(0)===255&&V.getUint8(1)===216)for(var ze=V.byteLength,Me=2;Me+1<ze;){if(V.getUint8(Me)===255&&V.getUint8(Me+1)===225){se=Me;break}Me+=1}if(se){var Ge=se+4,Fe=se+10;if(KK(V,Ge,4)==="Exif"){var Ze=V.getUint16(Fe);if(re=Ze===18761,(re||Ze===19789)&&V.getUint16(Fe+2,re)===42){var ht=V.getUint32(Fe+4,re);ht>=8&&(pe=Fe+ht)}}}if(pe){var On=V.getUint16(pe,re),_n,io;for(io=0;io<On;io+=1)if(_n=pe+io*12+2,V.getUint16(_n,re)===274){_n+=8,j=V.getUint16(_n,re),V.setUint16(_n,1,re);break}}}catch{j=1}return j}function eY(F){var V=0,j=1,re=1;switch(F){case 2:j=-1;break;case 3:V=-180;break;case 4:re=-1;break;case 5:V=90,re=-1;break;case 6:V=90;break;case 7:V=90,j=-1;break;case 8:V=-90;break}return{rotate:V,scaleX:j,scaleY:re}}var tY={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var F=this.element,V=this.options,j=this.container,re=this.cropper,se=Number(V.minContainerWidth),pe=Number(V.minContainerHeight);Mi(re,sd),kh(F,sd);var ze={width:Math.max(j.offsetWidth,se>=0?se:LG),height:Math.max(j.offsetHeight,pe>=0?pe:HG)};this.containerData=ze,d0(re,{width:ze.width,height:ze.height}),Mi(F,sd),kh(re,sd)},initCanvas:function(){var F=this.containerData,V=this.imageData,j=this.options.viewMode,re=Math.abs(V.rotate)%180===90,se=re?V.naturalHeight:V.naturalWidth,pe=re?V.naturalWidth:V.naturalHeight,ze=se/pe,Me=F.width,Ge=F.height;F.height*ze>F.width?j===3?Me=F.height*ze:Ge=F.width/ze:j===3?Ge=F.width/ze:Me=F.height*ze;var Fe={aspectRatio:ze,naturalWidth:se,naturalHeight:pe,width:Me,height:Ge};this.canvasData=Fe,this.limited=j===1||j===2,this.limitCanvas(!0,!0),Fe.width=Math.min(Math.max(Fe.width,Fe.minWidth),Fe.maxWidth),Fe.height=Math.min(Math.max(Fe.height,Fe.minHeight),Fe.maxHeight),Fe.left=(F.width-Fe.width)/2,Fe.top=(F.height-Fe.height)/2,Fe.oldLeft=Fe.left,Fe.oldTop=Fe.top,this.initialCanvasData=da({},Fe)},limitCanvas:function(F,V){var j=this.options,re=this.containerData,se=this.canvasData,pe=this.cropBoxData,ze=j.viewMode,Me=se.aspectRatio,Ge=this.cropped&&pe;if(F){var Fe=Number(j.minCanvasWidth)||0,Ze=Number(j.minCanvasHeight)||0;ze>1?(Fe=Math.max(Fe,re.width),Ze=Math.max(Ze,re.height),ze===3&&(Ze*Me>Fe?Fe=Ze*Me:Ze=Fe/Me)):ze>0&&(Fe?Fe=Math.max(Fe,Ge?pe.width:0):Ze?Ze=Math.max(Ze,Ge?pe.height:0):Ge&&(Fe=pe.width,Ze=pe.height,Ze*Me>Fe?Fe=Ze*Me:Ze=Fe/Me));var ht=f0({aspectRatio:Me,width:Fe,height:Ze});Fe=ht.width,Ze=ht.height,se.minWidth=Fe,se.minHeight=Ze,se.maxWidth=1/0,se.maxHeight=1/0}if(V)if(ze>(Ge?0:1)){var On=re.width-se.width,_n=re.height-se.height;se.minLeft=Math.min(0,On),se.minTop=Math.min(0,_n),se.maxLeft=Math.max(0,On),se.maxTop=Math.max(0,_n),Ge&&this.limited&&(se.minLeft=Math.min(pe.left,pe.left+(pe.width-se.width)),se.minTop=Math.min(pe.top,pe.top+(pe.height-se.height)),se.maxLeft=pe.left,se.maxTop=pe.top,ze===2&&(se.width>=re.width&&(se.minLeft=Math.min(0,On),se.maxLeft=Math.max(0,On)),se.height>=re.height&&(se.minTop=Math.min(0,_n),se.maxTop=Math.max(0,_n))))}else se.minLeft=-se.width,se.minTop=-se.height,se.maxLeft=re.width,se.maxTop=re.height},renderCanvas:function(F,V){var j=this.canvasData,re=this.imageData;if(V){var se=qK({width:re.naturalWidth*Math.abs(re.scaleX||1),height:re.naturalHeight*Math.abs(re.scaleY||1),degree:re.rotate||0}),pe=se.width,ze=se.height,Me=j.width*(pe/j.naturalWidth),Ge=j.height*(ze/j.naturalHeight);j.left-=(Me-j.width)/2,j.top-=(Ge-j.height)/2,j.width=Me,j.height=Ge,j.aspectRatio=pe/ze,j.naturalWidth=pe,j.naturalHeight=ze,this.limitCanvas(!0,!1)}(j.width>j.maxWidth||j.width<j.minWidth)&&(j.left=j.oldLeft),(j.height>j.maxHeight||j.height<j.minHeight)&&(j.top=j.oldTop),j.width=Math.min(Math.max(j.width,j.minWidth),j.maxWidth),j.height=Math.min(Math.max(j.height,j.minHeight),j.maxHeight),this.limitCanvas(!1,!0),j.left=Math.min(Math.max(j.left,j.minLeft),j.maxLeft),j.top=Math.min(Math.max(j.top,j.minTop),j.maxTop),j.oldLeft=j.left,j.oldTop=j.top,d0(this.canvas,da({width:j.width,height:j.height},rO({translateX:j.left,translateY:j.top}))),this.renderImage(F),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(F){var V=this.canvasData,j=this.imageData,re=j.naturalWidth*(V.width/V.naturalWidth),se=j.naturalHeight*(V.height/V.naturalHeight);da(j,{width:re,height:se,left:(V.width-re)/2,top:(V.height-se)/2}),d0(this.image,da({width:j.width,height:j.height},rO(da({translateX:j.left,translateY:j.top},j)))),F&&this.output()},initCropBox:function(){var F=this.options,V=this.canvasData,j=F.aspectRatio||F.initialAspectRatio,re=Number(F.autoCropArea)||.8,se={width:V.width,height:V.height};j&&(V.height*j>V.width?se.height=se.width/j:se.width=se.height*j),this.cropBoxData=se,this.limitCropBox(!0,!0),se.width=Math.min(Math.max(se.width,se.minWidth),se.maxWidth),se.height=Math.min(Math.max(se.height,se.minHeight),se.maxHeight),se.width=Math.max(se.minWidth,se.width*re),se.height=Math.max(se.minHeight,se.height*re),se.left=V.left+(V.width-se.width)/2,se.top=V.top+(V.height-se.height)/2,se.oldLeft=se.left,se.oldTop=se.top,this.initialCropBoxData=da({},se)},limitCropBox:function(F,V){var j=this.options,re=this.containerData,se=this.canvasData,pe=this.cropBoxData,ze=this.limited,Me=j.aspectRatio;if(F){var Ge=Number(j.minCropBoxWidth)||0,Fe=Number(j.minCropBoxHeight)||0,Ze=ze?Math.min(re.width,se.width,se.width+se.left,re.width-se.left):re.width,ht=ze?Math.min(re.height,se.height,se.height+se.top,re.height-se.top):re.height;Ge=Math.min(Ge,re.width),Fe=Math.min(Fe,re.height),Me&&(Ge&&Fe?Fe*Me>Ge?Fe=Ge/Me:Ge=Fe*Me:Ge?Fe=Ge/Me:Fe&&(Ge=Fe*Me),ht*Me>Ze?ht=Ze/Me:Ze=ht*Me),pe.minWidth=Math.min(Ge,Ze),pe.minHeight=Math.min(Fe,ht),pe.maxWidth=Ze,pe.maxHeight=ht}V&&(ze?(pe.minLeft=Math.max(0,se.left),pe.minTop=Math.max(0,se.top),pe.maxLeft=Math.min(re.width,se.left+se.width)-pe.width,pe.maxTop=Math.min(re.height,se.top+se.height)-pe.height):(pe.minLeft=0,pe.minTop=0,pe.maxLeft=re.width-pe.width,pe.maxTop=re.height-pe.height))},renderCropBox:function(){var F=this.options,V=this.containerData,j=this.cropBoxData;(j.width>j.maxWidth||j.width<j.minWidth)&&(j.left=j.oldLeft),(j.height>j.maxHeight||j.height<j.minHeight)&&(j.top=j.oldTop),j.width=Math.min(Math.max(j.width,j.minWidth),j.maxWidth),j.height=Math.min(Math.max(j.height,j.minHeight),j.maxHeight),this.limitCropBox(!1,!0),j.left=Math.min(Math.max(j.left,j.minLeft),j.maxLeft),j.top=Math.min(Math.max(j.top,j.minTop),j.maxTop),j.oldLeft=j.left,j.oldTop=j.top,F.movable&&F.cropBoxMovable&&cO(this.face,aO,j.width>=V.width&&j.height>=V.height?PG:GZ),d0(this.cropBox,da({width:j.width,height:j.height},rO({translateX:j.left,translateY:j.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),xT(this.element,LZ,this.getData())}},nY={initPreview:function(){var F=this.element,V=this.crossOrigin,j=this.options.preview,re=V?this.crossOriginUrl:this.url,se=F.alt||"The image to preview",pe=document.createElement("img");if(V&&(pe.crossOrigin=V),pe.src=re,pe.alt=se,this.viewBox.appendChild(pe),this.viewBoxImage=pe,!!j){var ze=j;typeof j=="string"?ze=F.ownerDocument.querySelectorAll(j):j.querySelector&&(ze=[j]),this.previews=ze,Ac(ze,function(Me){var Ge=document.createElement("img");cO(Me,Z7,{width:Me.offsetWidth,height:Me.offsetHeight,html:Me.innerHTML}),V&&(Ge.crossOrigin=V),Ge.src=re,Ge.alt=se,Ge.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',Me.innerHTML="",Me.appendChild(Ge)})}},resetPreview:function(){Ac(this.previews,function(F){var V=WZ(F,Z7);d0(F,{width:V.width,height:V.height}),F.innerHTML=V.html,jK(F,Z7)})},preview:function(){var F=this.imageData,V=this.canvasData,j=this.cropBoxData,re=j.width,se=j.height,pe=F.width,ze=F.height,Me=j.left-V.left-F.left,Ge=j.top-V.top-F.top;!this.cropped||this.disabled||(d0(this.viewBoxImage,da({width:pe,height:ze},rO(da({translateX:-Me,translateY:-Ge},F)))),Ac(this.previews,function(Fe){var Ze=WZ(Fe,Z7),ht=Ze.width,On=Ze.height,_n=ht,io=On,Tn=1;re&&(Tn=ht/re,io=se*Tn),se&&io>On&&(Tn=On/se,_n=re*Tn,io=On),d0(Fe,{width:_n,height:io}),d0(Fe.getElementsByTagName("img")[0],da({width:pe*Tn,height:ze*Tn},rO(da({translateX:-Me*Tn,translateY:-Ge*Tn},F))))}))}},oY={bind:function(){var F=this.element,V=this.options,j=this.cropper;od(V.cropstart)&&Tm(F,jZ,V.cropstart),od(V.cropmove)&&Tm(F,VZ,V.cropmove),od(V.cropend)&&Tm(F,HZ,V.cropend),od(V.crop)&&Tm(F,LZ,V.crop),od(V.zoom)&&Tm(F,UZ,V.zoom),Tm(j,kG,this.onCropStart=this.cropStart.bind(this)),V.zoomable&&V.zoomOnWheel&&Tm(j,TG,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),V.toggleDragModeOnDblclick&&Tm(j,wG,this.onDblclick=this.dblclick.bind(this)),Tm(F.ownerDocument,_G,this.onCropMove=this.cropMove.bind(this)),Tm(F.ownerDocument,xG,this.onCropEnd=this.cropEnd.bind(this)),V.responsive&&Tm(window,SG,this.onResize=this.resize.bind(this))},unbind:function(){var F=this.element,V=this.options,j=this.cropper;od(V.cropstart)&&Bp(F,jZ,V.cropstart),od(V.cropmove)&&Bp(F,VZ,V.cropmove),od(V.cropend)&&Bp(F,HZ,V.cropend),od(V.crop)&&Bp(F,LZ,V.crop),od(V.zoom)&&Bp(F,UZ,V.zoom),Bp(j,kG,this.onCropStart),V.zoomable&&V.zoomOnWheel&&Bp(j,TG,this.onWheel,{passive:!1,capture:!0}),V.toggleDragModeOnDblclick&&Bp(j,wG,this.onDblclick),Bp(F.ownerDocument,_G,this.onCropMove),Bp(F.ownerDocument,xG,this.onCropEnd),V.responsive&&Bp(window,SG,this.onResize)}},sY={resize:function(){if(!this.disabled){var F=this.options,V=this.container,j=this.containerData,re=V.offsetWidth/j.width,se=V.offsetHeight/j.height,pe=Math.abs(re-1)>Math.abs(se-1)?re:se;if(pe!==1){var ze,Me;F.restore&&(ze=this.getCanvasData(),Me=this.getCropBoxData()),this.render(),F.restore&&(this.setCanvasData(Ac(ze,function(Ge,Fe){ze[Fe]=Ge*pe})),this.setCropBoxData(Ac(Me,function(Ge,Fe){Me[Fe]=Ge*pe})))}}},dblclick:function(){this.disabled||this.options.dragMode===FG||this.setDragMode(HK(this.dragBox,IZ)?IG:KZ)},wheel:function(F){var V=this,j=Number(this.options.wheelZoomRatio)||.1,re=1;this.disabled||(F.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){V.wheeling=!1},50),F.deltaY?re=F.deltaY>0?1:-1:F.wheelDelta?re=-F.wheelDelta/120:F.detail&&(re=F.detail>0?1:-1),this.zoom(-re*j,F)))},cropStart:function(F){var V=F.buttons,j=F.button;if(!(this.disabled||(F.type==="mousedown"||F.type==="pointerdown"&&F.pointerType==="mouse")&&(ws(V)&&V!==1||ws(j)&&j!==0||F.ctrlKey))){var re=this.options,se=this.pointers,pe;F.changedTouches?Ac(F.changedTouches,function(ze){se[ze.identifier]=q7(ze)}):se[F.pointerId||0]=q7(F),Object.keys(se).length>1&&re.zoomable&&re.zoomOnTouch?pe=$G:pe=WZ(F.target,aO),DK.test(pe)&&xT(this.element,jZ,{originalEvent:F,action:pe})!==!1&&(F.preventDefault(),this.action=pe,this.cropping=!1,pe===NG&&(this.cropping=!0,Mi(this.dragBox,G7)))}},cropMove:function(F){var V=this.action;if(!(this.disabled||!V)){var j=this.pointers;F.preventDefault(),xT(this.element,VZ,{originalEvent:F,action:V})!==!1&&(F.changedTouches?Ac(F.changedTouches,function(re){da(j[re.identifier]||{},q7(re,!0))}):da(j[F.pointerId||0]||{},q7(F,!0)),this.change(F))}},cropEnd:function(F){if(!this.disabled){var V=this.action,j=this.pointers;F.changedTouches?Ac(F.changedTouches,function(re){delete j[re.identifier]}):delete j[F.pointerId||0],V&&(F.preventDefault(),Object.keys(j).length||(this.action=""),this.cropping&&(this.cropping=!1,kT(this.dragBox,G7,this.cropped&&this.options.modal)),xT(this.element,HZ,{originalEvent:F,action:V}))}}},rY={change:function(F){var V=this.options,j=this.canvasData,re=this.containerData,se=this.cropBoxData,pe=this.pointers,ze=this.action,Me=V.aspectRatio,Ge=se.left,Fe=se.top,Ze=se.width,ht=se.height,On=Ge+Ze,_n=Fe+ht,io=0,Tn=0,it=re.width,zo=re.height,Ao=!0,oe;!Me&&F.shiftKey&&(Me=Ze&&ht?Ze/ht:1),this.limited&&(io=se.minLeft,Tn=se.minTop,it=io+Math.min(re.width,j.width,j.left+j.width),zo=Tn+Math.min(re.height,j.height,j.top+j.height));var Ut=pe[Object.keys(pe)[0]],St={x:Ut.endX-Ut.startX,y:Ut.endY-Ut.startY},Gt=function(Y){switch(Y){case $_:On+St.x>it&&(St.x=it-On);break;case I_:Ge+St.x<io&&(St.x=io-Ge);break;case u0:Fe+St.y<Tn&&(St.y=Tn-Fe);break;case vT:_n+St.y>zo&&(St.y=zo-_n);break}};switch(ze){case GZ:Ge+=St.x,Fe+=St.y;break;case $_:if(St.x>=0&&(On>=it||Me&&(Fe<=Tn||_n>=zo))){Ao=!1;break}Gt($_),Ze+=St.x,Ze<0&&(ze=I_,Ze=-Ze,Ge-=Ze),Me&&(ht=Ze/Me,Fe+=(se.height-ht)/2);break;case u0:if(St.y<=0&&(Fe<=Tn||Me&&(Ge<=io||On>=it))){Ao=!1;break}Gt(u0),ht-=St.y,Fe+=St.y,ht<0&&(ze=vT,ht=-ht,Fe-=ht),Me&&(Ze=ht*Me,Ge+=(se.width-Ze)/2);break;case I_:if(St.x<=0&&(Ge<=io||Me&&(Fe<=Tn||_n>=zo))){Ao=!1;break}Gt(I_),Ze-=St.x,Ge+=St.x,Ze<0&&(ze=$_,Ze=-Ze,Ge-=Ze),Me&&(ht=Ze/Me,Fe+=(se.height-ht)/2);break;case vT:if(St.y>=0&&(_n>=zo||Me&&(Ge<=io||On>=it))){Ao=!1;break}Gt(vT),ht+=St.y,ht<0&&(ze=u0,ht=-ht,Fe-=ht),Me&&(Ze=ht*Me,Ge+=(se.width-Ze)/2);break;case tO:if(Me){if(St.y<=0&&(Fe<=Tn||On>=it)){Ao=!1;break}Gt(u0),ht-=St.y,Fe+=St.y,Ze=ht*Me}else Gt(u0),Gt($_),St.x>=0?On<it?Ze+=St.x:St.y<=0&&Fe<=Tn&&(Ao=!1):Ze+=St.x,St.y<=0?Fe>Tn&&(ht-=St.y,Fe+=St.y):(ht-=St.y,Fe+=St.y);Ze<0&&ht<0?(ze=sO,ht=-ht,Ze=-Ze,Fe-=ht,Ge-=Ze):Ze<0?(ze=nO,Ze=-Ze,Ge-=Ze):ht<0&&(ze=oO,ht=-ht,Fe-=ht);break;case nO:if(Me){if(St.y<=0&&(Fe<=Tn||Ge<=io)){Ao=!1;break}Gt(u0),ht-=St.y,Fe+=St.y,Ze=ht*Me,Ge+=se.width-Ze}else Gt(u0),Gt(I_),St.x<=0?Ge>io?(Ze-=St.x,Ge+=St.x):St.y<=0&&Fe<=Tn&&(Ao=!1):(Ze-=St.x,Ge+=St.x),St.y<=0?Fe>Tn&&(ht-=St.y,Fe+=St.y):(ht-=St.y,Fe+=St.y);Ze<0&&ht<0?(ze=oO,ht=-ht,Ze=-Ze,Fe-=ht,Ge-=Ze):Ze<0?(ze=tO,Ze=-Ze,Ge-=Ze):ht<0&&(ze=sO,ht=-ht,Fe-=ht);break;case sO:if(Me){if(St.x<=0&&(Ge<=io||_n>=zo)){Ao=!1;break}Gt(I_),Ze-=St.x,Ge+=St.x,ht=Ze/Me}else Gt(vT),Gt(I_),St.x<=0?Ge>io?(Ze-=St.x,Ge+=St.x):St.y>=0&&_n>=zo&&(Ao=!1):(Ze-=St.x,Ge+=St.x),St.y>=0?_n<zo&&(ht+=St.y):ht+=St.y;Ze<0&&ht<0?(ze=tO,ht=-ht,Ze=-Ze,Fe-=ht,Ge-=Ze):Ze<0?(ze=oO,Ze=-Ze,Ge-=Ze):ht<0&&(ze=nO,ht=-ht,Fe-=ht);break;case oO:if(Me){if(St.x>=0&&(On>=it||_n>=zo)){Ao=!1;break}Gt($_),Ze+=St.x,ht=Ze/Me}else Gt(vT),Gt($_),St.x>=0?On<it?Ze+=St.x:St.y>=0&&_n>=zo&&(Ao=!1):Ze+=St.x,St.y>=0?_n<zo&&(ht+=St.y):ht+=St.y;Ze<0&&ht<0?(ze=nO,ht=-ht,Ze=-Ze,Fe-=ht,Ge-=Ze):Ze<0?(ze=sO,Ze=-Ze,Ge-=Ze):ht<0&&(ze=tO,ht=-ht,Fe-=ht);break;case PG:this.move(St.x,St.y),Ao=!1;break;case $G:this.zoom(WK(pe),F),Ao=!1;break;case NG:if(!St.x||!St.y){Ao=!1;break}oe=WG(this.cropper),Ge=Ut.startX-oe.left,Fe=Ut.startY-oe.top,Ze=se.minWidth,ht=se.minHeight,St.x>0?ze=St.y>0?oO:tO:St.x<0&&(Ge-=Ze,ze=St.y>0?sO:nO),St.y<0&&(Fe-=ht),this.cropped||(kh(this.cropBox,sd),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}Ao&&(se.width=Ze,se.height=ht,se.left=Ge,se.top=Fe,this.action=ze,this.renderCropBox()),Ac(pe,function(Y){Y.startX=Y.endX,Y.startY=Y.endY})}},aY={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Mi(this.dragBox,G7),kh(this.cropBox,sd),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=da({},this.initialImageData),this.canvasData=da({},this.initialCanvasData),this.cropBoxData=da({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(da(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),kh(this.dragBox,G7),Mi(this.cropBox,sd)),this},replace:function(F){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&F&&(this.isImg&&(this.element.src=F),V?(this.url=F,this.image.src=F,this.ready&&(this.viewBoxImage.src=F,Ac(this.previews,function(j){j.getElementsByTagName("img")[0].src=F}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(F))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,kh(this.cropper,yG)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Mi(this.cropper,yG)),this},destroy:function(){var F=this.element;return F[ua]?(F[ua]=void 0,this.isImg&&this.replaced&&(F.src=this.originalUrl),this.uncreate(),this):this},move:function(F){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F,j=this.canvasData,re=j.left,se=j.top;return this.moveTo(BZ(F)?F:re+Number(F),BZ(V)?V:se+Number(V))},moveTo:function(F){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F,j=this.canvasData,re=!1;return F=Number(F),V=Number(V),this.ready&&!this.disabled&&this.options.movable&&(ws(F)&&(j.left=F,re=!0),ws(V)&&(j.top=V,re=!0),re&&this.renderCanvas(!0)),this},zoom:function(F,V){var j=this.canvasData;return F=Number(F),F<0?F=1/(1-F):F=1+F,this.zoomTo(j.width*F/j.naturalWidth,null,V)},zoomTo:function(F,V,j){var re=this.options,se=this.canvasData,pe=se.width,ze=se.height,Me=se.naturalWidth,Ge=se.naturalHeight;if(F=Number(F),F>=0&&this.ready&&!this.disabled&&re.zoomable){var Fe=Me*F,Ze=Ge*F;if(xT(this.element,UZ,{ratio:F,oldRatio:pe/Me,originalEvent:j})===!1)return this;if(j){var ht=this.pointers,On=WG(this.cropper),_n=ht&&Object.keys(ht).length?ZK(ht):{pageX:j.pageX,pageY:j.pageY};se.left-=(Fe-pe)*((_n.pageX-On.left-se.left)/pe),se.top-=(Ze-ze)*((_n.pageY-On.top-se.top)/ze)}else wT(V)&&ws(V.x)&&ws(V.y)?(se.left-=(Fe-pe)*((V.x-se.left)/pe),se.top-=(Ze-ze)*((V.y-se.top)/ze)):(se.left-=(Fe-pe)/2,se.top-=(Ze-ze)/2);se.width=Fe,se.height=Ze,this.renderCanvas(!0)}return this},rotate:function(F){return this.rotateTo((this.imageData.rotate||0)+Number(F))},rotateTo:function(F){return F=Number(F),ws(F)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=F%360,this.renderCanvas(!0,!0)),this},scaleX:function(F){var V=this.imageData.scaleY;return this.scale(F,ws(V)?V:1)},scaleY:function(F){var V=this.imageData.scaleX;return this.scale(ws(V)?V:1,F)},scale:function(F){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F,j=this.imageData,re=!1;return F=Number(F),V=Number(V),this.ready&&!this.disabled&&this.options.scalable&&(ws(F)&&(j.scaleX=F,re=!0),ws(V)&&(j.scaleY=V,re=!0),re&&this.renderCanvas(!0,!0)),this},getData:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,V=this.options,j=this.imageData,re=this.canvasData,se=this.cropBoxData,pe;if(this.ready&&this.cropped){pe={x:se.left-re.left,y:se.top-re.top,width:se.width,height:se.height};var ze=j.width/j.naturalWidth;if(Ac(pe,function(Fe,Ze){pe[Ze]=Fe/ze}),F){var Me=Math.round(pe.y+pe.height),Ge=Math.round(pe.x+pe.width);pe.x=Math.round(pe.x),pe.y=Math.round(pe.y),pe.width=Ge-pe.x,pe.height=Me-pe.y}}else pe={x:0,y:0,width:0,height:0};return V.rotatable&&(pe.rotate=j.rotate||0),V.scalable&&(pe.scaleX=j.scaleX||1,pe.scaleY=j.scaleY||1),pe},setData:function(F){var V=this.options,j=this.imageData,re=this.canvasData,se={};if(this.ready&&!this.disabled&&wT(F)){var pe=!1;V.rotatable&&ws(F.rotate)&&F.rotate!==j.rotate&&(j.rotate=F.rotate,pe=!0),V.scalable&&(ws(F.scaleX)&&F.scaleX!==j.scaleX&&(j.scaleX=F.scaleX,pe=!0),ws(F.scaleY)&&F.scaleY!==j.scaleY&&(j.scaleY=F.scaleY,pe=!0)),pe&&this.renderCanvas(!0,!0);var ze=j.width/j.naturalWidth;ws(F.x)&&(se.left=F.x*ze+re.left),ws(F.y)&&(se.top=F.y*ze+re.top),ws(F.width)&&(se.width=F.width*ze),ws(F.height)&&(se.height=F.height*ze),this.setCropBoxData(se)}return this},getContainerData:function(){return this.ready?da({},this.containerData):{}},getImageData:function(){return this.sized?da({},this.imageData):{}},getCanvasData:function(){var F=this.canvasData,V={};return this.ready&&Ac(["left","top","width","height","naturalWidth","naturalHeight"],function(j){V[j]=F[j]}),V},setCanvasData:function(F){var V=this.canvasData,j=V.aspectRatio;return this.ready&&!this.disabled&&wT(F)&&(ws(F.left)&&(V.left=F.left),ws(F.top)&&(V.top=F.top),ws(F.width)?(V.width=F.width,V.height=F.width/j):ws(F.height)&&(V.height=F.height,V.width=F.height*j),this.renderCanvas(!0)),this},getCropBoxData:function(){var F=this.cropBoxData,V;return this.ready&&this.cropped&&(V={left:F.left,top:F.top,width:F.width,height:F.height}),V||{}},setCropBoxData:function(F){var V=this.cropBoxData,j=this.options.aspectRatio,re,se;return this.ready&&this.cropped&&!this.disabled&&wT(F)&&(ws(F.left)&&(V.left=F.left),ws(F.top)&&(V.top=F.top),ws(F.width)&&F.width!==V.width&&(re=!0,V.width=F.width),ws(F.height)&&F.height!==V.height&&(se=!0,V.height=F.height),j&&(re?V.height=V.width/j:se&&(V.width=V.height*j)),this.renderCropBox()),this},getCroppedCanvas:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var V=this.canvasData,j=GK(this.image,this.imageData,V,F);if(!this.cropped)return j;var re=this.getData(F.rounded),se=re.x,pe=re.y,ze=re.width,Me=re.height,Ge=j.width/Math.floor(V.naturalWidth);Ge!==1&&(se*=Ge,pe*=Ge,ze*=Ge,Me*=Ge);var Fe=ze/Me,Ze=f0({aspectRatio:Fe,width:F.maxWidth||1/0,height:F.maxHeight||1/0}),ht=f0({aspectRatio:Fe,width:F.minWidth||0,height:F.minHeight||0},"cover"),On=f0({aspectRatio:Fe,width:F.width||(Ge!==1?j.width:ze),height:F.height||(Ge!==1?j.height:Me)}),_n=On.width,io=On.height;_n=Math.min(Ze.width,Math.max(ht.width,_n)),io=Math.min(Ze.height,Math.max(ht.height,io));var Tn=document.createElement("canvas"),it=Tn.getContext("2d");Tn.width=_T(_n),Tn.height=_T(io),it.fillStyle=F.fillColor||"transparent",it.fillRect(0,0,_n,io);var zo=F.imageSmoothingEnabled,Ao=zo===void 0?!0:zo,oe=F.imageSmoothingQuality;it.imageSmoothingEnabled=Ao,oe&&(it.imageSmoothingQuality=oe);var Ut=j.width,St=j.height,Gt=se,Y=pe,tn,$n,yn,Re,ce,Qo;Gt<=-ze||Gt>Ut?(Gt=0,tn=0,yn=0,ce=0):Gt<=0?(yn=-Gt,Gt=0,tn=Math.min(Ut,ze+Gt),ce=tn):Gt<=Ut&&(yn=0,tn=Math.min(ze,Ut-Gt),ce=tn),tn<=0||Y<=-Me||Y>St?(Y=0,$n=0,Re=0,Qo=0):Y<=0?(Re=-Y,Y=0,$n=Math.min(St,Me+Y),Qo=$n):Y<=St&&(Re=0,$n=Math.min(Me,St-Y),Qo=$n);var Nn=[Gt,Y,tn,$n];if(ce>0&&Qo>0){var Et=_n/ze;Nn.push(yn*Et,Re*Et,ce*Et,Qo*Et)}return it.drawImage.apply(it,[j].concat(MG(Nn.map(function(E){return Math.floor(_T(E))})))),Tn},setAspectRatio:function(F){var V=this.options;return!this.disabled&&!BZ(F)&&(V.aspectRatio=Math.max(0,F)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(F){var V=this.options,j=this.dragBox,re=this.face;if(this.ready&&!this.disabled){var se=F===KZ,pe=V.movable&&F===IG;F=se||pe?F:FG,V.dragMode=F,cO(j,aO,F),kT(j,IZ,se),kT(j,FZ,pe),V.cropBoxMovable||(cO(re,aO,F),kT(re,IZ,se),kT(re,FZ,pe))}return this}},cY=_h.Cropper,iY=function(){function F(V){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(vK(this,F),!V||!BK.test(V.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=V,this.options=da({},zG,wT(j)&&j),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return wK(F,[{key:"init",value:function(){var V=this.element,j=V.tagName.toLowerCase(),re;if(!V[ua]){if(V[ua]=this,j==="img"){if(this.isImg=!0,re=V.getAttribute("src")||"",this.originalUrl=re,!re)return;re=V.src}else j==="canvas"&&window.HTMLCanvasElement&&(re=V.toDataURL());this.load(re)}}},{key:"load",value:function(V){var j=this;if(V){this.url=V,this.imageData={};var re=this.element,se=this.options;if(!se.rotatable&&!se.scalable&&(se.checkOrientation=!1),!se.checkOrientation||!window.ArrayBuffer){this.clone();return}if(RK.test(V)){MK.test(V)?this.read(XK(V)):this.clone();return}var pe=new XMLHttpRequest,ze=this.clone.bind(this);this.reloading=!0,this.xhr=pe,pe.onabort=ze,pe.onerror=ze,pe.ontimeout=ze,pe.onprogress=function(){pe.getResponseHeader("content-type")!==EG&&pe.abort()},pe.onload=function(){j.read(pe.response)},pe.onloadend=function(){j.reloading=!1,j.xhr=null},se.checkCrossOrigin&&OG(V)&&re.crossOrigin&&(V=DG(V)),pe.open("GET",V,!0),pe.responseType="arraybuffer",pe.withCredentials=re.crossOrigin==="use-credentials",pe.send()}}},{key:"read",value:function(V){var j=this.options,re=this.imageData,se=QK(V),pe=0,ze=1,Me=1;if(se>1){this.url=JK(V,EG);var Ge=eY(se);pe=Ge.rotate,ze=Ge.scaleX,Me=Ge.scaleY}j.rotatable&&(re.rotate=pe),j.scalable&&(re.scaleX=ze,re.scaleY=Me),this.clone()}},{key:"clone",value:function(){var V=this.element,j=this.url,re=V.crossOrigin,se=j;this.options.checkCrossOrigin&&OG(j)&&(re||(re="anonymous"),se=DG(j)),this.crossOrigin=re,this.crossOriginUrl=se;var pe=document.createElement("img");re&&(pe.crossOrigin=re),pe.src=se||j,pe.alt=V.alt||"The image to crop",this.image=pe,pe.onload=this.start.bind(this),pe.onerror=this.stop.bind(this),Mi(pe,vG),V.parentNode.insertBefore(pe,V.nextSibling)}},{key:"start",value:function(){var V=this,j=this.image;j.onload=null,j.onerror=null,this.sizing=!0;var re=_h.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(_h.navigator.userAgent),se=function(Me,Ge){da(V.imageData,{naturalWidth:Me,naturalHeight:Ge,aspectRatio:Me/Ge}),V.initialImageData=da({},V.imageData),V.sizing=!1,V.sized=!0,V.build()};if(j.naturalWidth&&!re){se(j.naturalWidth,j.naturalHeight);return}var pe=document.createElement("img"),ze=document.body||document.documentElement;this.sizingImage=pe,pe.onload=function(){se(pe.width,pe.height),re||ze.removeChild(pe)},pe.src=j.src,re||(pe.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",ze.appendChild(pe))}},{key:"stop",value:function(){var V=this.image;V.onload=null,V.onerror=null,V.parentNode.removeChild(V),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var V=this.element,j=this.options,re=this.image,se=V.parentNode,pe=document.createElement("div");pe.innerHTML=NK;var ze=pe.querySelector(".".concat(ua,"-container")),Me=ze.querySelector(".".concat(ua,"-canvas")),Ge=ze.querySelector(".".concat(ua,"-drag-box")),Fe=ze.querySelector(".".concat(ua,"-crop-box")),Ze=Fe.querySelector(".".concat(ua,"-face"));this.container=se,this.cropper=ze,this.canvas=Me,this.dragBox=Ge,this.cropBox=Fe,this.viewBox=ze.querySelector(".".concat(ua,"-view-box")),this.face=Ze,Me.appendChild(re),Mi(V,sd),se.insertBefore(ze,V.nextSibling),kh(re,vG),this.initPreview(),this.bind(),j.initialAspectRatio=Math.max(0,j.initialAspectRatio)||NaN,j.aspectRatio=Math.max(0,j.aspectRatio)||NaN,j.viewMode=Math.max(0,Math.min(3,Math.round(j.viewMode)))||0,Mi(Fe,sd),j.guides||Mi(Fe.getElementsByClassName("".concat(ua,"-dashed")),sd),j.center||Mi(Fe.getElementsByClassName("".concat(ua,"-center")),sd),j.background&&Mi(ze,"".concat(ua,"-bg")),j.highlight||Mi(Ze,EK),j.cropBoxMovable&&(Mi(Ze,FZ),cO(Ze,aO,GZ)),j.cropBoxResizable||(Mi(Fe.getElementsByClassName("".concat(ua,"-line")),sd),Mi(Fe.getElementsByClassName("".concat(ua,"-point")),sd)),this.render(),this.ready=!0,this.setDragMode(j.dragMode),j.autoCrop&&this.crop(),this.setData(j.data),od(j.ready)&&Tm(V,CG,j.ready,{once:!0}),xT(V,CG)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var V=this.cropper.parentNode;V&&V.removeChild(this.cropper),kh(this.element,sd)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=cY,F}},{key:"setDefaults",value:function(V){da(zG,wT(V)&&V)}}]),F}();da(iY.prototype,tY,nY,oY,sY,rY,aY);function Y7(){this._types=Object.create(null),this._extensions=Object.create(null);for(let F=0;F<arguments.length;F++)this.define(arguments[F]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Y7.prototype.define=function(F,V){for(let j in F){let re=F[j].map(function(se){return se.toLowerCase()});j=j.toLowerCase();for(let se=0;se<re.length;se++){const pe=re[se];if(pe[0]!=="*"){if(!V&&pe in this._types)throw new Error('Attempt to change mapping for "'+pe+'" extension from "'+this._types[pe]+'" to "'+j+'". Pass `force=true` to allow this, otherwise remove "'+pe+'" from the list of extensions for "'+j+'".');this._types[pe]=j}}if(V||!this._extensions[j]){const se=re[0];this._extensions[j]=se[0]!=="*"?se:se.substr(1)}}};Y7.prototype.getType=function(F){F=String(F);let V=F.replace(/^.*[/\\]/,"").toLowerCase(),j=V.replace(/^.*\./,"").toLowerCase(),re=V.length<F.length;return(j.length<V.length-1||!re)&&this._types[j]||null};Y7.prototype.getExtension=function(F){return F=/^\s*([^;\s]*)/.test(F)&&RegExp.$1,F&&this._extensions[F.toLowerCase()]||null};var lY=Y7,uY={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]},dY={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]};let fY=lY;new fY(uY,dY);const qG=typeof window<"u";qG&&navigator.userAgent.toLowerCase();function GG({type:F,id:V,resource:j}){return new Promise((re,se)=>{if(!qG||document.querySelector(V)){se();return}function pe(ze){ze.addEventListener("load",re),ze.addEventListener("error",se),ze.addEventListener("abort",se)}switch(F){case"js":{const ze=document.createElement("script");ze.async=!0,ze.src=j,pe(ze),document.head.appendChild(ze);break}case"css":{const ze=document.createElement("link");ze.id=V,ze.rel="stylesheet",ze.href=j,pe(ze),document.head.appendChild(ze);break}case"style":{const ze=document.createElement("style");ze.id=V,pe(ze),document.head.appendChild(ze),ze.appendChild(document.createTextNode(j));break}}})}const mY=`/*!
 * Cropper.js v1.6.1
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:44:17.565Z
 */.cropper-container{direction:ltr;font-size:0;line-height:0;position:relative;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cropper-container img{backface-visibility:hidden;display:block;height:100%;image-orientation:0deg;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;width:100%}.cropper-wrap-box,.cropper-canvas,.cropper-drag-box,.cropper-crop-box,.cropper-modal{bottom:0;left:0;position:absolute;right:0;top:0}.cropper-wrap-box,.cropper-canvas{overflow:hidden}.cropper-drag-box{background-color:#fff;opacity:0}.cropper-modal{background-color:#000;opacity:.5}.cropper-view-box{display:block;height:100%;outline:1px solid #39f;outline-color:#3399ffbf;overflow:hidden;width:100%}.cropper-dashed{border:0 dashed #eee;display:block;opacity:.5;position:absolute}.cropper-dashed.dashed-h{border-bottom-width:1px;border-top-width:1px;height:calc(100% / 3);left:0;top:calc(100% / 3);width:100%}.cropper-dashed.dashed-v{border-left-width:1px;border-right-width:1px;height:100%;left:calc(100% / 3);top:0;width:calc(100% / 3)}.cropper-center{display:block;height:0;left:50%;opacity:.75;position:absolute;top:50%;width:0}.cropper-center:before,.cropper-center:after{background-color:#eee;content:" ";display:block;position:absolute}.cropper-center:before{height:1px;left:-3px;top:0;width:7px}.cropper-center:after{height:7px;left:0;top:-3px;width:1px}.cropper-face,.cropper-line,.cropper-point{display:block;height:100%;opacity:.1;position:absolute;width:100%}.cropper-face{background-color:#fff;left:0;top:0}.cropper-line{background-color:#39f}.cropper-line.line-e{cursor:ew-resize;right:-3px;top:0;width:5px}.cropper-line.line-n{cursor:ns-resize;height:5px;left:0;top:-3px}.cropper-line.line-w{cursor:ew-resize;left:-3px;top:0;width:5px}.cropper-line.line-s{bottom:-3px;cursor:ns-resize;height:5px;left:0}.cropper-point{background-color:#39f;height:5px;opacity:.75;width:5px}.cropper-point.point-e{cursor:ew-resize;margin-top:-3px;right:-3px;top:50%}.cropper-point.point-n{cursor:ns-resize;left:50%;margin-left:-3px;top:-3px}.cropper-point.point-w{cursor:ew-resize;left:-3px;margin-top:-3px;top:50%}.cropper-point.point-s{bottom:-3px;cursor:s-resize;left:50%;margin-left:-3px}.cropper-point.point-ne{cursor:nesw-resize;right:-3px;top:-3px}.cropper-point.point-nw{cursor:nwse-resize;left:-3px;top:-3px}.cropper-point.point-sw{bottom:-3px;cursor:nesw-resize;left:-3px}.cropper-point.point-se{bottom:-3px;cursor:nwse-resize;height:20px;opacity:1;right:-3px;width:20px}@media (min-width: 768px){.cropper-point.point-se{height:15px;width:15px}}@media (min-width: 992px){.cropper-point.point-se{height:10px;width:10px}}@media (min-width: 1200px){.cropper-point.point-se{height:5px;opacity:.75;width:5px}}.cropper-point.point-se:before{background-color:#39f;bottom:-50%;content:" ";display:block;height:200%;opacity:0;position:absolute;right:-50%;width:200%}.cropper-invisible{opacity:0}.cropper-bg{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC)}.cropper-hide{display:block;height:0;position:absolute;width:0}.cropper-hidden{display:none!important}.cropper-move{cursor:move}.cropper-crop{cursor:crosshair}.cropper-disabled .cropper-drag-box,.cropper-disabled .cropper-face,.cropper-disabled .cropper-line,.cropper-disabled .cropper-point{cursor:not-allowed}
`,pY=`.vue--picture-cropper__wrap{width:100%;height:100%;margin:0}.vue--picture-cropper__img{display:block;width:auto;height:auto;max-width:100%;max-height:100%}.vue--picture-cropper__wrap-round .cropper-view-box,.vue--picture-cropper__wrap-round .cropper-face{border-radius:50%}
`;GG({type:"style",id:"cropperjs",resource:mY}).catch(F=>{console.log(F)});GG({type:"style",id:"vue-picture-cropper",resource:pY}).catch(F=>{console.log(F)});var gY={exports:{}};(function(F){(function(){var V=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},j=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},re=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},se=function(e,n){return pe(function(o,r){return e.eq(n(o),n(r))})},pe=function(e){return{eq:e}},ze=pe(function(e,n){return e===n}),Me=ze,Ge=function(e){return pe(function(n,o){if(n.length!==o.length)return!1;for(var r=n.length,c=0;c<r;c++)if(!e.eq(n[c],o[c]))return!1;return!0})},Fe=function(e,n){return se(Ge(e),function(o){return re(o,n)})},Ze=function(e){return pe(function(n,o){var r=Object.keys(n),c=Object.keys(o);if(!Fe(Me).eq(r,c))return!1;for(var u=r.length,m=0;m<u;m++){var b=r[m];if(!e.eq(n[b],o[b]))return!1}return!0})},ht=pe(function(e,n){if(e===n)return!0;var o=V(e),r=V(n);return o!==r?!1:j(o)?e===n:o==="array"?Ge(ht).eq(e,n):o==="object"?Ze(ht).eq(e,n):!1});const On=Object.getPrototypeOf,_n=(e,n,o)=>{var r;return o(e,n.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===n.name},io=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&_n(e,String,(o,r)=>r.isPrototypeOf(o))?"string":n},Tn=e=>n=>io(n)===e,it=e=>n=>typeof n===e,zo=e=>n=>e===n,Ao=(e,n)=>Ut(e)&&_n(e,n,(o,r)=>On(o)===r),oe=Tn("string"),Ut=Tn("object"),St=e=>Ao(e,Object),Gt=Tn("array"),Y=zo(null),tn=it("boolean"),$n=zo(void 0),yn=e=>e==null,Re=e=>!yn(e),ce=it("function"),Qo=it("number"),Nn=(e,n)=>{if(Gt(e)){for(let o=0,r=e.length;o<r;++o)if(!n(e[o]))return!1;return!0}return!1},Et=()=>{},E=(e,n)=>(...o)=>e(n.apply(null,o)),lo=(e,n)=>o=>e(n(o)),Ye=e=>()=>e,wo=e=>e,Yt=(e,n)=>e===n;function Ue(e,...n){return(...o)=>{const r=n.concat(o);return e.apply(null,r)}}const Po=e=>n=>!e(n),Ps=e=>()=>{throw new Error(e)},Xn=e=>e(),Vs=e=>{e()},He=Ye(!1),ut=Ye(!0);class I{constructor(n,o){this.tag=n,this.value=o}static some(n){return new I(!0,n)}static none(){return I.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?I.some(n(this.value)):I.none()}bind(n){return this.tag?n(this.value):I.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:I.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return Re(n)?I.some(n):I.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}I.singletonNone=new I(!1);const Ka=Array.prototype.slice,Hn=Array.prototype.indexOf,ot=Array.prototype.push,Qe=(e,n)=>Hn.call(e,n),dn=(e,n)=>{const o=Qe(e,n);return o===-1?I.none():I.some(o)},Ke=(e,n)=>Qe(e,n)>-1,hn=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];if(n(c,o))return!0}return!1},Pt=(e,n)=>{const o=e.length,r=new Array(o);for(let c=0;c<o;c++){const u=e[c];r[c]=n(u,c)}return r},ve=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];n(c,o)}},tt=(e,n)=>{for(let o=e.length-1;o>=0;o--){const r=e[o];n(r,o)}},Ve=(e,n)=>{const o=[],r=[];for(let c=0,u=e.length;c<u;c++){const m=e[c];(n(m,c)?o:r).push(m)}return{pass:o,fail:r}},Ie=(e,n)=>{const o=[];for(let r=0,c=e.length;r<c;r++){const u=e[r];n(u,r)&&o.push(u)}return o},Mn=(e,n,o)=>(tt(e,(r,c)=>{o=n(o,r,c)}),o),nn=(e,n,o)=>(ve(e,(r,c)=>{o=n(o,r,c)}),o),is=(e,n,o)=>{for(let r=0,c=e.length;r<c;r++){const u=e[r];if(n(u,r))return I.some(u);if(o(u,r))break}return I.none()},go=(e,n)=>is(e,n,He),Rs=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];if(n(c,o))return I.some(o)}return I.none()},Xc=e=>{const n=[];for(let o=0,r=e.length;o<r;++o){if(!Gt(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);ot.apply(n,e[o])}return n},cs=(e,n)=>Xc(Pt(e,n)),es=(e,n)=>{for(let o=0,r=e.length;o<r;++o){const c=e[o];if(n(c,o)!==!0)return!1}return!0},ko=e=>{const n=Ka.call(e,0);return n.reverse(),n},Xr=(e,n)=>Ie(e,o=>!Ke(n,o)),_o=(e,n)=>{const o={};for(let r=0,c=e.length;r<c;r++){const u=e[r];o[String(u)]=n(u,r)}return o},Jn=(e,n)=>{const o=Ka.call(e,0);return o.sort(n),o},Ya=(e,n)=>n>=0&&n<e.length?I.some(e[n]):I.none(),In=e=>Ya(e,0),fs=e=>Ya(e,e.length-1),js=ce(Array.from)?Array.from:e=>Ka.call(e),Jc=(e,n)=>{for(let o=0;o<e.length;o++){const r=n(e[o],o);if(r.isSome())return r}return I.none()},rd=(e,n)=>{const o=[],r=ce(n)?c=>hn(o,u=>n(u,c)):c=>Ke(o,c);for(let c=0,u=e.length;c<u;c++){const m=e[c];r(m)||o.push(m)}return o},ts=Object.keys,uf=Object.hasOwnProperty,dt=(e,n)=>{const o=ts(e);for(let r=0,c=o.length;r<c;r++){const u=o[r],m=e[u];n(m,u)}},ho=(e,n)=>Jr(e,(o,r)=>({k:r,v:n(o,r)})),Jr=(e,n)=>{const o={};return dt(e,(r,c)=>{const u=n(r,c);o[u.k]=u.v}),o},za=e=>(n,o)=>{e[o]=n},Qc=(e,n,o,r)=>{dt(e,(c,u)=>{(n(c,u)?o:r)(c,u)})},ei=(e,n)=>{const o={},r={};return Qc(e,n,za(o),za(r)),{t:o,f:r}},ns=(e,n)=>{const o={};return Qc(e,n,za(o),Et),o},Bi=(e,n)=>{const o=[];return dt(e,(r,c)=>{o.push(n(r,c))}),o},Ni=e=>Bi(e,wo),Ho=(e,n)=>Qt(e,n)?I.from(e[n]):I.none(),Qt=(e,n)=>uf.call(e,n),kr=(e,n)=>Qt(e,n)&&e[n]!==void 0&&e[n]!==null,Pi=(e,n,o=ht)=>Ze(o).eq(e,n),df=e=>{const n={};return ve(e,o=>{n[o]={}}),ts(n)},ad=e=>e.length!==void 0,_r=Array.isArray,xr=e=>{if(_r(e))return e;{const n=[];for(let o=0,r=e.length;o<r;o++)n[o]=e[o];return n}},Us=(e,n,o)=>{if(!e)return!1;if(o=o||e,ad(e)){for(let r=0,c=e.length;r<c;r++)if(n.call(o,e[r],r,e)===!1)return!1}else for(const r in e)if(Qt(e,r)&&n.call(o,e[r],r,e)===!1)return!1;return!0},ti=(e,n)=>{const o=[];return Us(e,(r,c)=>{o.push(n(r,c,e))}),o},cd=(e,n)=>{const o=[];return Us(e,(r,c)=>{(!n||n(r,c,e))&&o.push(r)}),o},Cr=(e,n)=>{if(e){for(let o=0,r=e.length;o<r;o++)if(e[o]===n)return o}return-1},fa=(e,n,o,r)=>{let c=$n(o)?e[0]:o;for(let u=0;u<e.length;u++)c=n.call(r,c,e[u],u);return c},Ts=(e,n,o)=>{for(let r=0,c=e.length;r<c;r++)if(n.call(o,e[r],r,e))return r;return-1},$r=e=>e[e.length-1],$i=e=>{let n=!1,o;return(...r)=>(n||(n=!0,o=e.apply(null,r)),o)},Rl=(e,n,o,r)=>{const c=e.isiOS()&&/ipad/i.test(o)===!0,u=e.isiOS()&&!c,m=e.isiOS()||e.isAndroid(),b=m||r("(pointer:coarse)"),v=c||!u&&m&&r("(min-device-width:768px)"),C=u||m&&!v,O=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,D=!C&&!v&&!O;return{isiPad:Ye(c),isiPhone:Ye(u),isTablet:Ye(v),isPhone:Ye(C),isTouch:Ye(b),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:Ye(O),isDesktop:Ye(D)}},ff=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o];if(r.test(n))return r}},ni=(e,n)=>{const o=ff(e,n);if(!o)return{major:0,minor:0};const r=c=>Number(n.replace(o,"$"+c));return Qr(r(1),r(2))},mf=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?me():ni(e,o)},me=()=>Qr(0,0),Qr=(e,n)=>({major:e,minor:n}),Ii={nu:Qr,detect:mf,unknown:me},Np=(e,n)=>Jc(n.brands,o=>{const r=o.brand.toLowerCase();return go(e,c=>{var u;return r===((u=c.brand)===null||u===void 0?void 0:u.toLowerCase())}).map(c=>({current:c.name,version:Ii.nu(parseInt(o.version,10),0)}))}),Em=(e,n)=>{const o=String(n).toLowerCase();return go(e,r=>r.search(o))},os=(e,n)=>Em(e,n).map(o=>{const r=Ii.detect(o.versionRegexes,n);return{current:o.name,version:r}}),Pp=(e,n)=>Em(e,n).map(o=>{const r=Ii.detect(o.versionRegexes,n);return{current:o.name,version:r}}),Ny=(e,n)=>e.substring(n),Oc=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,du=(e,n)=>Es(e,n)?Ny(e,n.length):e,ls=(e,n,o=0,r)=>{const c=e.indexOf(n,o);return c!==-1?$n(r)?!0:c+n.length<=r:!1},Es=(e,n)=>Oc(e,n,0),Fi=(e,n)=>Oc(e,n,e.length-n.length),Xa=e=>n=>n.replace(e,""),el=Xa(/^\s+|\s+$/g),fu=Xa(/^\s+/g),tl=Xa(/\s+$/g),So=e=>e.length>0,Aa=e=>!So(e),mu=(e,n)=>n<=0?"":new Array(n+1).join(e),pu=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?I.none():I.some(o)},Dc=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,jr=e=>n=>ls(n,e),ms=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>ls(e,"edge/")&&ls(e,"chrome")&&ls(e,"safari")&&ls(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Dc],search:e=>ls(e,"chrome")&&!ls(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>ls(e,"msie")||ls(e,"trident")},{name:"Opera",versionRegexes:[Dc,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:jr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:jr("firefox")},{name:"Safari",versionRegexes:[Dc,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(ls(e,"safari")||ls(e,"mobile/"))&&ls(e,"applewebkit")}],Py=[{name:"Windows",search:jr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>ls(e,"iphone")||ls(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:jr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:jr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:jr("linux"),versionRegexes:[]},{name:"Solaris",search:jr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:jr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:jr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],pf={browsers:Ye(ms),oses:Ye(Py)},Oo="Edge",Oa="Chromium",Da="IE",dr="Opera",id="Firefox",Ml="Safari",lc=()=>nl({current:void 0,version:Ii.unknown()}),nl=e=>{const n=e.current,o=e.version,r=c=>()=>n===c;return{current:n,version:o,isEdge:r(Oo),isChromium:r(Oa),isIE:r(Da),isOpera:r(dr),isFirefox:r(id),isSafari:r(Ml)}},oi={unknown:lc,nu:nl,edge:Ye(Oo),chromium:Ye(Oa),ie:Ye(Da),opera:Ye(dr),firefox:Ye(id),safari:Ye(Ml)},$p="Windows",gf="iOS",hf="Android",uc="Linux",ol="macOS",gu="Solaris",bf="FreeBSD",zm="ChromeOS",Am=()=>hu({current:void 0,version:Ii.unknown()}),hu=e=>{const n=e.current,o=e.version,r=c=>()=>n===c;return{current:n,version:o,isWindows:r($p),isiOS:r(gf),isAndroid:r(hf),isMacOS:r(ol),isLinux:r(uc),isSolaris:r(gu),isFreeBSD:r(bf),isChromeOS:r(zm)}},Om={unknown:Am,nu:hu,windows:Ye($p),ios:Ye(gf),android:Ye(hf),linux:Ye(uc),macos:Ye(ol),solaris:Ye(gu),freebsd:Ye(bf),chromeos:Ye(zm)},dc={detect:(e,n,o)=>{const r=pf.browsers(),c=pf.oses(),u=n.bind(v=>Np(r,v)).orThunk(()=>os(r,e)).fold(oi.unknown,oi.nu),m=Pp(c,e).fold(Om.unknown,Om.nu),b=Rl(m,u,e,o);return{browser:u,os:m,deviceType:b}}},Dm=e=>window.matchMedia(e).matches;let yf=$i(()=>dc.detect(navigator.userAgent,I.from(navigator.userAgentData),Dm));const fc=()=>yf(),xh=navigator.userAgent,bu=fc(),rr=bu.browser,fr=bu.os,sl=bu.deviceType,vf=xh.indexOf("Windows Phone")!==-1,_t={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:rr.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!rr.isIE(),windowsPhone:vf,browser:{current:rr.current,version:rr.version,isChromium:rr.isChromium,isEdge:rr.isEdge,isFirefox:rr.isFirefox,isIE:rr.isIE,isOpera:rr.isOpera,isSafari:rr.isSafari},os:{current:fr.current,version:fr.version,isAndroid:fr.isAndroid,isChromeOS:fr.isChromeOS,isFreeBSD:fr.isFreeBSD,isiOS:fr.isiOS,isLinux:fr.isLinux,isMacOS:fr.isMacOS,isSolaris:fr.isSolaris,isWindows:fr.isWindows},deviceType:{isDesktop:sl.isDesktop,isiPad:sl.isiPad,isiPhone:sl.isiPhone,isPhone:sl.isPhone,isTablet:sl.isTablet,isTouch:sl.isTouch,isWebView:sl.isWebView}},ld=/^\s*|\s*$/g,ks=e=>yn(e)?"":(""+e).replace(ld,""),M=(e,n)=>n?n==="array"&&_r(e)?!0:typeof e===n:e!==void 0,Z=(e,n,o={})=>{const r=oe(e)?e.split(n||","):e||[];let c=r.length;for(;c--;)o[r[c]]={};return o},Q=Qt,Ce=(e,...n)=>{for(let o=0;o<n.length;o++){const r=n[o];for(const c in r)if(Qt(r,c)){const u=r[c];u!==void 0&&(e[c]=u)}}return e},xt=function(e,n,o,r){r=r||this,e&&(o&&(e=e[o]),Us(e,(c,u)=>n.call(r,c,u,o)===!1?!1:(xt(c,n,o,r),!0)))},Xe={trim:ks,isArray:_r,is:M,toArray:xr,makeMap:Z,each:Us,map:ti,grep:cd,inArray:Cr,hasOwn:Q,extend:Ce,walk:xt,resolve:(e,n=window)=>{const o=e.split(".");for(let r=0,c=o.length;r<c&&(n=n[o[r]],!!n);r++);return n},explode:(e,n)=>Gt(e)?e:e===""?[]:ti(e.split(n||","),ks),_addCacheSuffix:e=>{const n=_t.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},Vo=(e,n,o=Yt)=>e.exists(r=>o(r,n)),ma=(e,n,o=Yt)=>ar(e,n,o).getOr(e.isNone()&&n.isNone()),$s=e=>{const n=[],o=r=>{n.push(r)};for(let r=0;r<e.length;r++)e[r].each(o);return n},ar=(e,n,o)=>e.isSome()&&n.isSome()?I.some(o(e.getOrDie(),n.getOrDie())):I.none(),rl=(e,n,o,r)=>e.isSome()&&n.isSome()&&o.isSome()?I.some(r(e.getOrDie(),n.getOrDie(),o.getOrDie())):I.none(),no=(e,n)=>e?I.some(n):I.none(),si=typeof window<"u"?window:Function("return this;")(),ps=(e,n)=>{let o=n??si;for(let r=0;r<e.length&&o!==void 0&&o!==null;++r)o=o[e[r]];return o},Bl=(e,n)=>{const o=e.split(".");return ps(o,n)},er=(e,n)=>Bl(e,n),ud=(e,n)=>{const o=er(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},$y=Object.getPrototypeOf,Iy=e=>ud("HTMLElement",e),xo=e=>{const n=Bl("ownerDocument.defaultView",e);return Ut(e)&&(Iy(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test($y(e).constructor.name))},Li=8,Nl=9,Ja=11,Pl=1,Rm=3,oo=e=>e.dom.nodeName.toLowerCase(),mr=e=>e.dom.nodeType,mc=e=>n=>mr(n)===e,m0=e=>mr(e)===Li||oo(e)==="#comment",_s=e=>pa(e)&&xo(e.dom),pa=mc(Pl),Ur=mc(Rm),Fy=mc(Nl),Ch=mc(Ja),ri=e=>n=>pa(n)&&oo(n)===e,Ip=(e,n,o)=>{if(oe(o)||tn(o)||Qo(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},ss=(e,n,o)=>{Ip(e.dom,n,o)},ai=(e,n)=>{const o=e.dom;dt(n,(r,c)=>{Ip(o,c,r)})},ga=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},al=(e,n)=>I.from(ga(e,n)),pr=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},Is=(e,n)=>{e.dom.removeAttribute(n)},ci=e=>{const n=e.dom.attributes;return n==null||n.length===0},wf=e=>nn(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),dd=(e,n)=>{const o=ga(e,n);return o===void 0||o===""?[]:o.split(" ")},Fp=(e,n,o)=>{const c=dd(e,n).concat([o]);return ss(e,n,c.join(" ")),!0},Mm=(e,n,o)=>{const r=Ie(dd(e,n),c=>c!==o);return r.length>0?ss(e,n,r.join(" ")):Is(e,n),!1},Ra=e=>e.dom.classList!==void 0,Bm=e=>dd(e,"class"),Ma=(e,n)=>Fp(e,"class",n),cl=(e,n)=>Mm(e,"class",n),Nm=(e,n)=>Ke(Bm(e),n)?cl(e,n):Ma(e,n),fd=(e,n)=>{Ra(e)?e.dom.classList.add(n):Ma(e,n)},Pm=e=>{(Ra(e)?e.dom.classList:Bm(e)).length===0&&Is(e,"class")},md=(e,n)=>{Ra(e)?e.dom.classList.remove(n):cl(e,n),Pm(e)},Sh=(e,n)=>{const o=Ra(e)?e.dom.classList.toggle(n):Nm(e,n);return Pm(e),o},$l=(e,n)=>Ra(e)&&e.dom.classList.contains(n),Th=(e,n)=>{const r=(n||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const c="HTML does not have a single root node";throw console.error(c,e),new Error(c)}return pd(r.childNodes[0])},Eh=(e,n)=>{const r=(n||document).createElement(e);return pd(r)},zh=(e,n)=>{const r=(n||document).createTextNode(e);return pd(r)},pd=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},ee={fromHtml:Th,fromTag:Eh,fromText:zh,fromDom:pd,fromPoint:(e,n,o)=>I.from(e.dom.elementFromPoint(n,o)).map(pd)},kf=(e,n)=>{const o=[],r=u=>(o.push(u),n(u));let c=n(e);do c=c.bind(r);while(c.isSome());return o},ii=(e,n)=>{const o=e.dom;if(o.nodeType!==Pl)return!1;{const r=o;if(r.matches!==void 0)return r.matches(n);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(n);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(n);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},Lp=e=>e.nodeType!==Pl&&e.nodeType!==Nl&&e.nodeType!==Ja||e.childElementCount===0,L_=(e,n)=>{const o=n===void 0?document:n.dom;return Lp(o)?[]:Pt(o.querySelectorAll(e),ee.fromDom)},p0=(e,n)=>{const o=n===void 0?document:n.dom;return Lp(o)?I.none():I.from(o.querySelector(e)).map(ee.fromDom)},fo=(e,n)=>e.dom===n.dom,ea=(e,n)=>{const o=e.dom,r=n.dom;return o===r?!1:o.contains(r)},il=e=>ee.fromDom(e.dom.ownerDocument),Rc=e=>Fy(e)?e:il(e),Ah=e=>ee.fromDom(Rc(e).dom.documentElement),gd=e=>ee.fromDom(Rc(e).dom.defaultView),pc=e=>I.from(e.dom.parentNode).map(ee.fromDom),_f=e=>I.from(e.dom.parentElement).map(ee.fromDom),Oh=(e,n)=>{const o=ce(n)?n:He;let r=e.dom;const c=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const u=r.parentNode,m=ee.fromDom(u);if(c.push(m),o(m)===!0)break;r=u}return c},g0=e=>{const n=o=>Ie(o,r=>!fo(e,r));return pc(e).map(Sr).map(n).getOr([])},Mc=e=>I.from(e.dom.previousSibling).map(ee.fromDom),$m=e=>I.from(e.dom.nextSibling).map(ee.fromDom),Dh=e=>ko(kf(e,Mc)),gc=e=>kf(e,$m),Sr=e=>Pt(e.dom.childNodes,ee.fromDom),yu=(e,n)=>{const o=e.dom.childNodes;return I.from(o[n]).map(ee.fromDom)},xf=e=>yu(e,0),li=e=>yu(e,e.dom.childNodes.length-1),Qa=e=>e.dom.childNodes.length,Rh=e=>e.dom.hasChildNodes(),Hy=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return ee.fromDom(n)},Im=e=>Ch(e)&&Re(e.dom.host),Mh=ce(Element.prototype.attachShadow)&&ce(Node.prototype.getRootNode),Hp=Ye(Mh),ll=Mh?e=>ee.fromDom(e.dom.getRootNode()):Rc,Vy=e=>Im(e)?e:Hy(Rc(e)),H_=e=>Im(e)?e:ee.fromDom(Rc(e).dom.body),jy=e=>{const n=ll(e);return Im(n)?I.some(n):I.none()},Bh=e=>ee.fromDom(e.dom.host),Fm=e=>{if(Hp()&&Re(e.target)){const n=ee.fromDom(e.target);if(pa(n)&&Vp(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return In(o)}}return I.from(e.target)},Vp=e=>Re(e.dom.shadowRoot),Cf=e=>{const n=Ur(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return jy(ee.fromDom(n)).fold(()=>o.body.contains(n),lo(Cf,Bh))};var gs=(e,n,o,r,c)=>e(o,r)?I.some(o):ce(c)&&c(o)?I.none():n(o,r,c);const Ms=(e,n,o)=>{let r=e.dom;const c=ce(o)?o:He;for(;r.parentNode;){r=r.parentNode;const u=ee.fromDom(r);if(n(u))return I.some(u);if(c(u))break}return I.none()},ec=(e,n,o)=>gs((c,u)=>u(c),Ms,e,n,o),Nh=(e,n)=>{const o=e.dom;return o.parentNode?Uy(ee.fromDom(o.parentNode),r=>!fo(e,r)&&n(r)):I.none()},Uy=(e,n)=>{const o=c=>n(ee.fromDom(c));return go(e.dom.childNodes,o).map(ee.fromDom)},Wr=(e,n)=>{const o=r=>{for(let c=0;c<r.childNodes.length;c++){const u=ee.fromDom(r.childNodes[c]);if(n(u))return I.some(u);const m=o(r.childNodes[c]);if(m.isSome())return m}return I.none()};return o(e.dom)},hd=(e,n,o)=>Ms(e,r=>ii(r,n),o),Ba=(e,n)=>p0(n,e),ul=(e,n,o)=>gs((c,u)=>ii(c,u),hd,e,n,o),jp=e=>ul(e,"[contenteditable]"),xn=(e,n=!1)=>Cf(e)?e.dom.isContentEditable:jp(e).fold(Ye(n),o=>tc(o)==="true"),tc=e=>e.dom.contentEditable,vu=e=>e.style!==void 0&&ce(e.style.getPropertyValue),Sf=(e,n,o)=>{if(!oe(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);vu(e)&&e.style.setProperty(n,o)},Ph=(e,n)=>{vu(e)&&e.style.removeProperty(n)},Wy=(e,n,o)=>{const r=e.dom;Sf(r,n,o)},ha=(e,n)=>{const o=e.dom;dt(n,(r,c)=>{Sf(o,c,r)})},Ws=(e,n)=>{const o=e.dom,c=window.getComputedStyle(o).getPropertyValue(n);return c===""&&!Cf(e)?hc(o,n):c},hc=(e,n)=>vu(e)?e.style.getPropertyValue(n):"",cr=(e,n)=>{const o=e.dom,r=hc(o,n);return I.from(r).filter(c=>c.length>0)},Lm=e=>{const n={},o=e.dom;if(vu(o))for(let r=0;r<o.style.length;r++){const c=o.style.item(r);n[c]=o.style[c]}return n},Hm=(e,n)=>{const o=e.dom;Ph(o,n),Vo(al(e,"style").map(el),"")&&Is(e,"style")},Fs=e=>e.dom.offsetWidth,gr=(e,n)=>{pc(e).each(r=>{r.dom.insertBefore(n.dom,e.dom)})},Hi=(e,n)=>{$m(e).fold(()=>{pc(e).each(c=>{tr(c,n)})},r=>{gr(r,n)})},bd=(e,n)=>{xf(e).fold(()=>{tr(e,n)},r=>{e.dom.insertBefore(n.dom,r.dom)})},tr=(e,n)=>{e.dom.appendChild(n.dom)},$h=(e,n)=>{gr(e,n),tr(n,e)},Zy=(e,n)=>{ve(n,(o,r)=>{const c=r===0?e:n[r-1];Hi(c,o)})},Ro=(e,n)=>{ve(n,o=>{tr(e,o)})},dl=e=>{e.dom.textContent="",ve(Sr(e),n=>{ro(n)})},ro=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Na=e=>{const n=Sr(e);n.length>0&&Zy(e,n),ro(e)},yd=(e,n)=>{const r=(n||document).createElement("div");return r.innerHTML=e,Sr(ee.fromDom(r))},wu=e=>Pt(e,ee.fromDom),Bn=e=>e.dom.innerHTML,vd=(e,n)=>{const r=il(e).dom,c=ee.fromDom(r.createDocumentFragment()),u=yd(n,r);Ro(c,u),dl(e),tr(e,c)},Ih=e=>{const n=ee.fromTag("div"),o=ee.fromDom(e.dom.cloneNode(!0));return tr(n,o),Bn(n)},Fh=(e,n,o,r,c,u,m)=>({target:e,x:n,y:o,stop:r,prevent:c,kill:u,raw:m}),V_=e=>{const n=ee.fromDom(Fm(e).getOr(e.target)),o=()=>e.stopPropagation(),r=()=>e.preventDefault(),c=E(r,o);return Fh(n,e.clientX,e.clientY,o,r,c,e)},qy=(e,n)=>o=>{e(o)&&n(V_(o))},Up=(e,n,o,r,c)=>{const u=qy(o,r);return e.dom.addEventListener(n,u,c),{unbind:Ue(Vm,e,n,u,c)}},Lh=(e,n,o,r)=>Up(e,n,o,r,!1),Vm=(e,n,o,r)=>{e.dom.removeEventListener(n,o,r)},wd=(e,n)=>({left:e,top:n,translate:(r,c)=>wd(e+r,n+c)}),Tf=wd,Gy=e=>{const n=e.getBoundingClientRect();return Tf(n.left,n.top)},ui=(e,n)=>e!==void 0?e:n!==void 0?n:0,h0=e=>{const n=e.dom.ownerDocument,o=n.body,r=n.defaultView,c=n.documentElement;if(o===e.dom)return Tf(o.offsetLeft,o.offsetTop);const u=ui(r==null?void 0:r.pageYOffset,c.scrollTop),m=ui(r==null?void 0:r.pageXOffset,c.scrollLeft),b=ui(c.clientTop,o.clientTop),v=ui(c.clientLeft,o.clientLeft);return Ef(e).translate(m-v,u-b)},Ef=e=>{const n=e.dom,r=n.ownerDocument.body;return r===n?Tf(r.offsetLeft,r.offsetTop):Cf(e)?Gy(n):Tf(0,0)},Bc=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,r=n.body.scrollTop||n.documentElement.scrollTop;return Tf(o,r)},Hh=(e,n,o)=>{const c=(o!==void 0?o.dom:document).defaultView;c&&c.scrollTo(e,n)},Vh=(e,n)=>{fc().browser.isSafari()&&ce(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},jh=e=>{const n=e===void 0?window:e;return fc().browser.isFirefox()?I.none():I.from(n.visualViewport)},Wp=(e,n,o,r)=>({x:e,y:n,width:o,height:r,right:e+o,bottom:n+r}),Uh=e=>{const n=e===void 0?window:e,o=n.document,r=Bc(ee.fromDom(o));return jh(n).fold(()=>{const c=n.document.documentElement,u=c.clientWidth,m=c.clientHeight;return Wp(r.left,r.top,u,m)},c=>Wp(Math.max(c.pageLeft,r.left),Math.max(c.pageTop,r.top),c.width,c.height))},Wh=(e,n)=>Ie(Sr(e),n),Zh=(e,n)=>{let o=[];return ve(Sr(e),r=>{n(r)&&(o=o.concat([r])),o=o.concat(Zh(r,n))}),o},Tr=(e,n)=>L_(n,e),b0=(e,n,o)=>hd(e,n,o).isSome();class qo{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,r,c){if(n){if(!c&&n[o])return n[o];if(n!==this.rootNode){let u=n[r];if(u)return u;for(let m=n.parentNode;m&&m!==this.rootNode;m=m.parentNode)if(u=m[r],u)return u}}}findPreviousNode(n,o){if(n){const r=n.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!o){for(let u=r.lastChild;u;u=u.lastChild)if(!u.lastChild)return u}return r}const c=n.parentNode;if(c&&c!==this.rootNode)return c}}}const Ht=e=>n=>!!n&&n.nodeType===e,fl=e=>!!e&&!Object.getPrototypeOf(e),Dt=Ht(1),Vi=e=>Dt(e)&&_s(ee.fromDom(e)),Ky=e=>Dt(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",ml=e=>{const n=e.toLowerCase();return o=>Re(o)&&o.nodeName.toLowerCase()===n},Zs=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const r=o.nodeName.toLowerCase();return Ke(n,r)}return!1}},Il=(e,n)=>{const o=n.toLowerCase().split(" ");return r=>{if(Dt(r)){const c=r.ownerDocument.defaultView;if(c)for(let u=0;u<o.length;u++){const m=c.getComputedStyle(r,null);if((m?m.getPropertyValue(e):null)===o[u])return!0}}return!1}},jm=e=>n=>Dt(n)&&n.hasAttribute(e),Er=(e,n)=>o=>Dt(o)&&o.getAttribute(e)===n,ji=e=>Dt(e)&&e.hasAttribute("data-mce-bogus"),Zp=e=>Dt(e)&&e.getAttribute("data-mce-bogus")==="all",pl=e=>Dt(e)&&e.tagName==="TABLE",Yy=e=>n=>!!(Vi(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),Um=Zs(["textarea","input"]),Je=Ht(3),Xy=Ht(4),ku=Ht(7),Fl=Ht(8),Wm=Ht(9),hs=Ht(11),Mo=ml("br"),ba=ml("img"),ta=Yy("true"),Wn=Yy("false"),zf=Zs(["td","th"]),Ir=Zs(["td","th","caption"]),Bs=Zs(["video","audio","object","embed"]),qp=ml("li"),Le=ml("details"),nc=ml("summary"),Zm="\uFEFF",uo=" ",Ui=e=>e===Zm,Jy=e=>e.replace(/\uFEFF/g,""),qh=((e,n)=>{const o=u=>{if(!e(u))throw new Error("Can only get "+n+" value of a "+n+" node");return r(u).getOr("")},r=u=>e(u)?I.from(u.dom.nodeValue):I.none();return{get:o,getOption:r,set:(u,m)=>{if(!e(u))throw new Error("Can only set raw "+n+" value of a "+n+" node");u.dom.nodeValue=m}}})(Ur,"text"),di=e=>qh.get(e),Gh=e=>qh.getOption(e),bc=(e,n)=>qh.set(e,n),vo=["td","th"],gl=["thead","tbody","tfoot"],kd=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Fr=["li","dd","dt"],Kh=["ul","ol","dl"],_d=["pre","script","textarea","style"],xd=e=>{let n;return o=>(n=n||_o(e,ut),Qt(n,oo(o)))},ya=e=>oo(e)==="table",_u=e=>pa(e)&&oo(e)==="br",be=xd(kd),Pa=xd(Kh),Nc=xd(Fr),Pc=xd(gl),$a=xd(vo),ir=xd(_d),hr=e=>{const n=[];let o=e.dom;for(;o;)n.push(ee.fromDom(o)),o=o.lastChild;return n},Qy=e=>{const n=Tr(e,"br"),o=Ie(hr(e).slice(-1),_u);n.length===o.length&&ve(o,ro)},Ia=()=>{const e=ee.fromTag("br");return ss(e,"data-mce-bogus","1"),e},hl=e=>{dl(e),tr(e,Ia())},Kt=(e,n)=>{li(e).each(o=>{Mc(o).each(r=>{n.isBlock(oo(e))&&_u(o)&&n.isBlock(oo(r))&&ro(o)})})},k=Zm,S=Ui,$=Jy,W=e=>e.insertContent(k,{preserve_zwsp:!0}),ie=Dt,Oe=Je,nt=e=>(Oe(e)&&(e=e.parentNode),ie(e)&&e.hasAttribute("data-mce-caret")),bt=e=>Oe(e)&&S(e.data),Vt=e=>nt(e)||bt(e),kn=e=>e.firstChild!==e.lastChild||!Mo(e.firstChild),zs=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(k),u=e.parentNode;if(n){const m=e.previousSibling;if(Oe(m)){if(Vt(m))return m;if($c(m))return m.splitText(m.data.length-1)}u==null||u.insertBefore(c,e)}else{const m=e.nextSibling;if(Oe(m)){if(Vt(m))return m;if(Fa(m))return m.splitText(1),m}e.nextSibling?u==null||u.insertBefore(c,e.nextSibling):u==null||u.appendChild(c)}return c},bo=e=>{const n=e.container();return Je(n)?n.data.charAt(e.offset())===k||e.isAtStart()&&bt(n.previousSibling):!1},rs=e=>{const n=e.container();return Je(n)?n.data.charAt(e.offset()-1)===k||e.isAtEnd()&&bt(n.nextSibling):!1},oc=(e,n,o)=>{var r;const u=((r=n.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);u.setAttribute("data-mce-caret",o?"before":"after"),u.setAttribute("data-mce-bogus","all"),u.appendChild(Ia().dom);const m=n.parentNode;return o?m==null||m.insertBefore(u,n):n.nextSibling?m==null||m.insertBefore(u,n.nextSibling):m==null||m.appendChild(u),u},Fa=e=>Oe(e)&&e.data[0]===k,$c=e=>Oe(e)&&e.data[e.data.length-1]===k,xu=e=>{var n;const o=e.getElementsByTagName("br"),r=o[o.length-1];ji(r)&&((n=r.parentNode)===null||n===void 0||n.removeChild(r))},Zi=e=>e&&e.hasAttribute("data-mce-caret")?(xu(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,qm=e=>nt(e.startContainer),Af=ta,Cd=Wn,Gm=Mo,nr=Je,Ic=Zs(["script","style","textarea"]),Of=Zs(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Sd=Zs(["table"]),mo=Vt,Vn=e=>mo(e)?!1:nr(e)?!Ic(e.parentNode):Of(e)||Gm(e)||Sd(e)||na(e),zr=e=>Dt(e)&&e.getAttribute("unselectable")==="true",na=e=>!zr(e)&&Cd(e),Yh=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(na(o))return!1;if(Af(o))return!0}return!0},Ll=e=>na(e)?!nn(js(e.getElementsByTagName("*")),(n,o)=>n||Af(o),!1):!1,oa=e=>Of(e)||Ll(e),Td=(e,n)=>Vn(e)&&Yh(e,n),bl=/^[ \t\r\n]*$/,Df=e=>bl.test(e),Km=e=>{for(const n of e)if(!Ui(n))return!1;return!0},Gp=e=>" \f	\v".indexOf(e)!==-1,Ed=e=>e===`
`||e==="\r",CT=(e,n)=>n<e.length&&n>=0?Ed(e[n]):!1,Ym=(e,n=4,o=!0,r=!0)=>{const c=mu(" ",n),u=e.replace(/\t/g,c);return nn(u,(b,v)=>Gp(v)||v===uo?b.pcIsSpace||b.str===""&&o||b.str.length===u.length-1&&r||CT(u,b.str.length+1)?{pcIsSpace:!1,str:b.str+uo}:{pcIsSpace:!0,str:b.str+" "}:{pcIsSpace:Ed(v),str:b.str+v},{pcIsSpace:!1,str:""}).str},y0=(e,n)=>{const o=ee.fromDom(n),r=ee.fromDom(e);return b0(r,"pre,code",Ue(fo,o))},j_=(e,n)=>Je(e)&&Df(e.data)&&!y0(e,n),qs=e=>Dt(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Kp=(e,n)=>Vn(e)&&!j_(e,n)||qs(e)||Hl(e),Hl=jm("data-mce-bookmark"),Rf=jm("data-mce-bogus"),Xm=Er("data-mce-bogus","all"),Jm=e=>_f(ee.fromDom(e)).exists(n=>!xn(n)),Fc=(e,n)=>{let o=0;if(Kp(e,e))return!1;{let r=e.firstChild;if(!r)return!0;const c=new qo(r,e);do{if(n){if(Xm(r)){r=c.next(!0);continue}if(Rf(r)){r=c.next();continue}}if(ta(r)&&Jm(r))return!1;if(Mo(r)){o++,r=c.next();continue}if(Kp(r,e))return!1;r=c.next()}while(r);return o<=1}},Ns=(e,n=!0)=>Fc(e.dom,n),Vl=e=>e.toLowerCase()==="svg",v0=e=>Vl(e.nodeName),Xh=e=>(e==null?void 0:e.nodeName)==="svg"?"svg":"html",e1=["svg"],Mf=()=>{let e=[];const n=()=>e[e.length-1];return{track:u=>{v0(u)&&e.push(u);let m=n();return m&&!m.contains(u)&&(e.pop(),m=n()),Xh(m)},current:()=>Xh(n()),reset:()=>{e=[]}}},Jh="data-mce-block",t1=e=>Ie(ts(e),n=>!/[A-Z]/.test(n)),Cu=e=>Pt(t1(e),n=>`${n}:`+Pt(e1,o=>`not(${o} ${n})`).join(":")).join(","),jl=(e,n)=>Re(n.querySelector(e))?(n.setAttribute(Jh,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(Jh),!1),fi=(e,n)=>{const o=Cu(e.getTransparentElements()),r=Cu(e.getBlockElements());return Ie(n.querySelectorAll(o),c=>jl(r,c))},Bf=(e,n)=>{var o;const r=n?"lastChild":"firstChild";for(let c=e[r];c;c=c[r])if(Ns(ee.fromDom(c))){(o=c.parentNode)===null||o===void 0||o.removeChild(c);return}},Nf=(e,n)=>{const o=document.createRange(),r=e.parentNode;if(r){o.setStartBefore(e),o.setEndBefore(n);const c=o.extractContents();Bf(c,!0),o.setStartAfter(n),o.setEndAfter(e);const u=o.extractContents();Bf(u,!1),Ns(ee.fromDom(c))||r.insertBefore(c,e),Ns(ee.fromDom(n))||r.insertBefore(n,e),Ns(ee.fromDom(u))||r.insertBefore(u,e),r.removeChild(e)}},U_=(e,n,o)=>{const r=e.getBlockElements(),c=ee.fromDom(n),u=b=>oo(b)in r,m=b=>fo(b,c);ve(wu(o),b=>{Ms(b,u,m).each(v=>{const C=Wh(b,O=>u(O)&&!e.isValidChild(oo(v),oo(O)));if(C.length>0){const O=_f(v);ve(C,D=>{Ms(D,u,m).each(N=>{Nf(N.dom,D.dom)})}),O.each(D=>fi(e,D.dom))}})})},n1=(e,n,o)=>{ve([...o,...Gn(e,n)?[n]:[]],r=>ve(Tr(ee.fromDom(r),r.nodeName.toLowerCase()),c=>{Zt(e,c.dom)&&Na(c)}))},Qh=(e,n)=>{const o=fi(e,n);U_(e,n,o),n1(e,n,o)},o1=(e,n)=>{if(tb(e,n)){const o=Cu(e.getBlockElements());jl(o,n)}},W_=(e,n,o)=>{const r=u=>fo(u,ee.fromDom(n)),c=Oh(ee.fromDom(o),r);Ya(c,c.length-2).filter(pa).fold(()=>Qh(e,n),u=>Qh(e,u.dom))},s1=e=>e.hasAttribute(Jh),eb=(e,n)=>Qt(e.getTransparentElements(),n),tb=(e,n)=>Dt(n)&&eb(e,n.nodeName),Gn=(e,n)=>tb(e,n)&&s1(n),Zt=(e,n)=>tb(e,n)&&!s1(n),zd=(e,n)=>n.type===1&&eb(e,n.name)&&oe(n.attr(Jh)),r1=fc().browser,nb=e=>go(e,pa),ST=e=>r1.isFirefox()&&oo(e)==="table"?nb(Sr(e)).filter(n=>oo(n)==="caption").bind(n=>nb(gc(n)).map(o=>{const r=o.dom.offsetTop,c=n.dom.offsetTop,u=n.dom.offsetHeight;return r<=c?-u:0})).getOr(0):0,w0=(e,n)=>e.children&&Ke(e.children,n),Go=(e,n,o)=>{let r=0,c=0;const u=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&Ws(ee.fromDom(e),"position")==="static"){const b=n.getBoundingClientRect();return r=b.left+(u.documentElement.scrollLeft||e.scrollLeft)-u.documentElement.clientLeft,c=b.top+(u.documentElement.scrollTop||e.scrollTop)-u.documentElement.clientTop,{x:r,y:c}}let m=n;for(;m&&m!==o&&m.nodeType&&!w0(m,o);){const b=m;r+=b.offsetLeft||0,c+=b.offsetTop||0,m=b.offsetParent}for(m=n.parentNode;m&&m!==o&&m.nodeType&&!w0(m,o);)r-=m.scrollLeft||0,c-=m.scrollTop||0,m=m.parentNode;c+=ST(ee.fromDom(n))}return{x:r,y:c}},k0=(e,n={})=>{let o=0;const r={},c=ee.fromDom(e),u=Rc(c),m=le=>{n.referrerPolicy=le},b=le=>{n.contentCssCors=le},v=le=>{tr(Vy(c),le)},C=le=>{const fe=Vy(c);Ba(fe,"#"+le).each(ro)},O=le=>Ho(r,le).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),D=le=>new Promise((fe,de)=>{let we;const We=Xe._addCacheSuffix(le),at=O(We);r[We]=at,at.count++;const kt=(Rt,Wt)=>{ve(Rt,Vs),at.status=Wt,at.passed=[],at.failed=[],we&&(we.onload=null,we.onerror=null,we=null)},Ae=()=>kt(at.passed,2),Se=()=>kt(at.failed,3);if(fe&&at.passed.push(fe),de&&at.failed.push(de),at.status===1)return;if(at.status===2){Ae();return}if(at.status===3){Se();return}at.status=1;const je=ee.fromTag("link",u.dom);ai(je,{rel:"stylesheet",type:"text/css",id:at.id}),n.contentCssCors&&ss(je,"crossOrigin","anonymous"),n.referrerPolicy&&ss(je,"referrerpolicy",n.referrerPolicy),we=je.dom,we.onload=Ae,we.onerror=Se,v(je),ss(je,"href",We)}),N=(le,fe)=>{const de=O(le);r[le]=de,de.count++;const we=ee.fromTag("style",u.dom);ai(we,{rel:"stylesheet",type:"text/css",id:de.id}),we.dom.innerHTML=fe,v(we)},G=le=>Promise.allSettled(Pt(le,de=>D(de).then(Ye(de)))).then(de=>{const we=Ve(de,We=>We.status==="fulfilled");return we.fail.length>0?Promise.reject(Pt(we.fail,We=>We.reason)):Pt(we.pass,We=>We.value)}),X=le=>{const fe=Xe._addCacheSuffix(le);Ho(r,fe).each(de=>{--de.count===0&&(delete r[fe],C(de.id))})};return{load:D,loadRawCss:N,loadAll:G,unload:X,unloadRawCss:le=>{Ho(r,le).each(fe=>{--fe.count===0&&(delete r[le],C(fe.id))})},unloadAll:le=>{ve(le,fe=>{X(fe)})},_setReferrerPolicy:m,_setContentCssCors:b}},x0=(()=>{const e=new WeakMap;return{forElement:(o,r)=>{const u=ll(o).dom;return I.from(e.get(u)).getOrThunk(()=>{const m=k0(u,r);return e.set(u,m),m})}}})(),Pe=e=>e.nodeName.toLowerCase()==="span",a1=(e,n,o)=>Re(e)&&(Kp(e,n)||o.isInline(e.nodeName.toLowerCase())),TT=(e,n,o)=>{const r=new qo(e,n).prev(!1),c=new qo(e,n).next(!1),u=$n(r)||a1(r,n,o),m=$n(c)||a1(c,n,o);return u&&m},ob=e=>Pe(e)&&e.getAttribute("data-mce-type")==="bookmark",ET=(e,n,o)=>Je(e)&&e.data.length>0&&TT(e,n,o),Yp=e=>Dt(e)?e.childNodes.length>0:!1,C0=e=>hs(e)||Wm(e),Ad=(e,n,o,r)=>{var c;const u=r||n;if(Dt(n)&&ob(n))return n;const m=n.childNodes;for(let b=m.length-1;b>=0;b--)Ad(e,m[b],o,u);if(Dt(n)){const b=n.childNodes;b.length===1&&ob(b[0])&&((c=n.parentNode)===null||c===void 0||c.insertBefore(b[0],n))}return!C0(n)&&!Kp(n,u)&&!Yp(n)&&!ET(n,u,o)&&e.remove(n),n},zT=Xe.makeMap,Su=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jo=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Tu=/[<>&\"\']/g,S0=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,yl={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},Od={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},T0={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Qm=e=>{const n=ee.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},Z_=(e,n)=>{const o={};if(e){const r=e.split(",");n=n||10;for(let c=0;c<r.length;c+=2){const u=String.fromCharCode(parseInt(r[c],n));if(!Od[u]){const m="&"+r[c+1]+";";o[u]=m,o[m]=u}}return o}else return},c1=Z_("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),E0=(e,n)=>e.replace(n?Su:jo,o=>Od[o]||o),AT=e=>(""+e).replace(Tu,n=>Od[n]||n),z0=(e,n)=>e.replace(n?Su:jo,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":Od[o]||"&#"+o.charCodeAt(0)+";"),Eu=(e,n,o)=>{const r=o||c1;return e.replace(n?Su:jo,c=>Od[c]||r[c]||c)},Pf={encodeRaw:E0,encodeAllRaw:AT,encodeNumeric:z0,encodeNamed:Eu,getEncodeFunc:(e,n)=>{const o=Z_(n)||c1,r=(m,b)=>m.replace(b?Su:jo,v=>Od[v]!==void 0?Od[v]:o[v]!==void 0?o[v]:v.length>1?"&#"+((v.charCodeAt(0)-55296)*1024+(v.charCodeAt(1)-56320)+65536)+";":"&#"+v.charCodeAt(0)+";"),c=(m,b)=>Eu(m,b,o),u=zT(e.replace(/\+/g,","));return u.named&&u.numeric?r:u.named?n?c:Eu:u.numeric?z0:E0},decode:e=>e.replace(S0,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):yl[o]||String.fromCharCode(o)):T0[n]||c1[n]||Qm(n))},sa=(e,n)=>(e=Xe.trim(e),e?e.split(n||" "):[]),Ot=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),OT=e=>{const n=/^(~)?(.+)$/;return cs(sa(e,","),o=>{const r=n.exec(o);if(r){const c=r[1]==="~",u=c?"span":"div",m=r[2];return[{inline:c,cloneName:u,name:m}]}else return[]})},O0=e=>{let n,o,r;if(n="id accesskey class dir lang style tabindex title role",o="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"){const u="a ins del canvas map";n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",o+=" article aside details dialog figure main header footer hgroup section nav "+u,r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen svg"}e!=="html5-strict"&&(n+=" xml:lang",r=[r,"acronym applet basefont big font strike tt"].join(" "),o=[o,"center dir isindex noframes"].join(" "));const c=[o,r].join(" ");return{globalAttributes:n,blockContent:o,phrasingContent:r,flowContent:c}},DT=e=>{const{globalAttributes:n,phrasingContent:o,flowContent:r}=O0(e),c={},u=(v,C,O)=>{c[v]={attributes:_o(C,Ye({})),attributesOrder:C,children:_o(O,Ye({}))}},m=(v,C="",O="")=>{const D=sa(O),N=sa(v);let G=N.length;const X=sa([n,C].join(" "));for(;G--;)u(N[G],X.slice(),D)},b=(v,C)=>{const O=sa(v),D=sa(C);let N=O.length;for(;N--;){const G=c[O[N]];for(let X=0,U=D.length;X<U;X++)G.attributes[D[X]]={},G.attributesOrder.push(D[X])}};return e!=="html5-strict"&&(ve(sa("acronym applet basefont big font strike tt"),O=>{m(O,"",o)}),ve(sa("center dir isindex noframes"),O=>{m(O,"",r)})),m("html","manifest","head body"),m("head","","base command link meta noscript script style title"),m("title hr noscript br"),m("base","href target"),m("link","href rel media hreflang type sizes hreflang"),m("meta","name http-equiv content charset"),m("style","media type scoped"),m("script","src async defer type charset"),m("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),m("dd div","",r),m("address dt caption","",e==="html4"?o:r),m("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),m("blockquote","cite",r),m("ol","reversed start type","li"),m("ul","","li"),m("li","value",r),m("dl","","dt dd"),m("a","href target rel media hreflang type",e==="html4"?o:r),m("q","cite",o),m("ins del","cite datetime",r),m("img","src sizes srcset alt usemap ismap width height"),m("iframe","src name width height",r),m("embed","src type width height"),m("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),m("param","name value"),m("map","name",[r,"area"].join(" ")),m("area","alt coords shape href target rel media hreflang type"),m("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),m("colgroup","span","col"),m("col","span"),m("tbody thead tfoot","","tr"),m("tr","","td th"),m("td","colspan rowspan headers",r),m("th","colspan rowspan headers scope abbr",r),m("form","accept-charset action autocomplete enctype method name novalidate target",r),m("fieldset","disabled form name",[r,"legend"].join(" ")),m("label","form for",o),m("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),m("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:o),m("select","disabled form multiple name required size","option optgroup"),m("optgroup","disabled label","option"),m("option","disabled label selected value"),m("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),m("menu","type label",[r,"li"].join(" ")),m("noscript","",r),e!=="html4"&&(m("wbr"),m("ruby","",[o,"rt rp"].join(" ")),m("figcaption","",r),m("mark rt rp bdi","",o),m("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),m("canvas","width height",r),m("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),m("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),m("picture","","img source"),m("source","src srcset type media sizes"),m("track","kind src srclang label default"),m("datalist","",[o,"option"].join(" ")),m("article section nav aside main header footer","",r),m("hgroup","","h1 h2 h3 h4 h5 h6"),m("figure","",[r,"figcaption"].join(" ")),m("time","datetime",o),m("dialog","open",r),m("command","type label icon disabled checked radiogroup command"),m("output","for form name",o),m("progress","value max",o),m("meter","value min max low high optimum",o),m("details","open",[r,"summary"].join(" ")),m("keygen","autofocus challenge disabled form keytype name"),u("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(b("script","language xml:space"),b("style","xml:space"),b("object","declare classid code codebase codetype archive standby align border hspace vspace"),b("embed","align name hspace vspace"),b("param","valuetype type"),b("a","charset name rev shape coords"),b("br","clear"),b("applet","codebase archive code object alt name width height align hspace vspace"),b("img","name longdesc align border hspace vspace"),b("iframe","longdesc frameborder marginwidth marginheight scrolling align"),b("font basefont","size color face"),b("input","usemap align"),b("select"),b("textarea"),b("h1 h2 h3 h4 h5 h6 div p legend caption","align"),b("ul","type compact"),b("li","type"),b("ol dl menu dir","compact"),b("pre","width xml:space"),b("hr","align noshade size width"),b("isindex","prompt"),b("table","summary width frame rules cellspacing cellpadding align bgcolor"),b("col","width align char charoff valign"),b("colgroup","width align char charoff valign"),b("thead","align char charoff valign"),b("tr","align char charoff valign bgcolor"),b("th","axis align char charoff valign nowrap bgcolor width height"),b("form","accept"),b("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),b("tfoot","align char charoff valign"),b("tbody","align char charoff valign"),b("area","nohref"),b("body","background bgcolor text link vlink alink")),e!=="html4"&&(b("input button select textarea","autofocus"),b("input textarea","placeholder"),b("a","download"),b("link script img","crossorigin"),b("img","loading"),b("iframe","sandbox seamless allow allowfullscreen loading")),e!=="html4"&&ve([c.video,c.audio],v=>{delete v.children.audio,delete v.children.video}),ve(sa("a form meter progress dfn"),v=>{c[v]&&delete c[v].children[v]}),delete c.caption.children.table,delete c.script,c},q_=e=>e==="-"?"remove":"add",ep=e=>{const n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return cs(sa(e,","),o=>{const r=n.exec(o);if(r){const c=r[1],u=c?q_(c):"replace",m=r[2],b=sa(r[3],"|");return[{operation:u,name:m,validChildren:b}]}else return[]})},Xp=(e,n)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:c,attributesOrder:u}=n;return ve(sa(e,"|"),m=>{const b=o.exec(m);if(b){const v={},C=b[1],O=b[2].replace(/[\\:]:/g,":"),D=b[3],N=b[4];if(C==="!"&&(n.attributesRequired=n.attributesRequired||[],n.attributesRequired.push(O),v.required=!0),C==="-"){delete c[O],u.splice(Xe.inArray(u,O),1);return}if(D&&(D==="="?(n.attributesDefault=n.attributesDefault||[],n.attributesDefault.push({name:O,value:N}),v.defaultValue=N):D==="~"?(n.attributesForced=n.attributesForced||[],n.attributesForced.push({name:O,value:N}),v.forcedValue=N):D==="<"&&(v.validValues=Xe.makeMap(N,"?"))),r.test(O)){const G=v;n.attributePatterns=n.attributePatterns||[],G.pattern=Ot(O),n.attributePatterns.push(G)}else c[O]||u.push(O),c[O]=v}})},sb=(e,n)=>{dt(e.attributes,(o,r)=>{n.attributes[r]=o}),n.attributesOrder.push(...e.attributesOrder)},Jp=(e,n)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return cs(sa(n,","),r=>{const c=o.exec(r);if(c){const u=c[1],m=c[2],b=c[3],v=c[4],C=c[5],O={attributes:{},attributesOrder:[]};if(e.each(D=>sb(D,O)),u==="#"?O.paddEmpty=!0:u==="-"&&(O.removeEmpty=!0),v==="!"&&(O.removeEmptyAttrs=!0),C&&Xp(C,O),b&&(O.outputName=m),m==="@")if(e.isNone())e=I.some(O);else return[];return[b?{name:m,element:O,aliasName:b}:{name:m,element:O}]}else return[]})},i1={},Dd=Xe.makeMap,Ul=Xe.each,rb=Xe.extend,qi=Xe.explode,l1=(e,n={})=>{const o=Dd(e," ",Dd(e.toUpperCase()," "));return rb(o,n)},G_=e=>l1("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Qp=(e,n)=>{if(e){const o={};return oe(e)&&(e={"*":e}),Ul(e,(r,c)=>{o[c]=o[c.toUpperCase()]=n==="map"?Dd(r,/[, ]/):qi(r,/[, ]/)}),o}else return},Rd=(e={})=>{var n;const o={},r={};let c=[];const u={},m={},b=(bn,po,Jo)=>{const vs=e[bn];if(vs)return Dd(vs,/[, ]/,Dd(vs.toUpperCase(),/[, ]/));{let Ds=i1[bn];return Ds||(Ds=l1(po,Jo),i1[bn]=Ds),Ds}},v=(n=e.schema)!==null&&n!==void 0?n:"html5",C=DT(v);e.verify_html===!1&&(e.valid_elements="*[*]");const O=Qp(e.valid_styles),D=Qp(e.invalid_styles,"map"),N=Qp(e.valid_classes,"map"),G=b("whitespace_elements","pre script noscript style textarea video audio iframe object code"),X=b("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),U=b("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),J=b("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),le="td th iframe video audio object script code",fe=b("non_empty_elements",le+" pre svg",U),de=b("move_caret_before_on_enter_elements",le+" table",U),we="h1 h2 h3 h4 h5 h6",We=b("text_block_elements",we+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),at=b("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",We),kt=b("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Ae=b("transparent_elements","a ins del canvas map"),Se=b("wrap_block_elements","pre "+we);Ul("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),bn=>{m[bn]=new RegExp("</"+bn+"[^>]*>","gi")});const je=bn=>{const po=I.from(o["@"]),Jo=/[*?+]/;ve(Jp(po,bn??""),({name:vs,element:Ds,aliasName:Ai})=>{if(Ai&&(o[Ai]=Ds),Jo.test(vs)){const cf=Ds;cf.pattern=Ot(vs),c.push(cf)}else o[vs]=Ds})},Rt=bn=>{c=[],ve(ts(o),po=>{delete o[po]}),je(bn)},Wt=bn=>{delete i1.text_block_elements,delete i1.block_elements,ve(OT(bn??""),({inline:po,name:Jo,cloneName:vs})=>{if(r[Jo]=r[vs],u[Jo]=vs,fe[Jo.toUpperCase()]={},fe[Jo]={},po||(at[Jo.toUpperCase()]={},at[Jo]={}),!o[Jo]){let Ds=o[vs];Ds=rb({},Ds),delete Ds.removeEmptyAttrs,delete Ds.removeEmpty,o[Jo]=Ds}dt(r,(Ds,Ai)=>{Ds[vs]&&(r[Ai]=Ds=rb({},r[Ai]),Ds[Jo]=Ds[vs])})})},Rn=bn=>{ve(ep(bn??""),({operation:po,name:Jo,validChildren:vs})=>{const Ds=po==="replace"?{"#comment":{}}:r[Jo];ve(vs,Ai=>{po==="remove"?delete Ds[Ai]:Ds[Ai]={}}),r[Jo]=Ds})},zn=bn=>{const po=o[bn];if(po)return po;let Jo=c.length;for(;Jo--;){const vs=c[Jo];if(vs.pattern.test(bn))return vs}};e.valid_elements?(Rt(e.valid_elements),Ul(C,(bn,po)=>{r[po]=bn.children})):(Ul(C,(bn,po)=>{o[po]={attributes:bn.attributes,attributesOrder:bn.attributesOrder},r[po]=bn.children}),Ul(sa("strong/b em/i"),bn=>{const po=sa(bn,"/");o[po[1]].outputName=po[0]}),Ul(kt,(bn,po)=>{o[po]&&(e.padd_empty_block_inline_children&&(o[po].paddInEmptyBlock=!0),o[po].removeEmpty=!0)}),Ul(sa("ol ul blockquote a table tbody"),bn=>{o[bn]&&(o[bn].removeEmpty=!0)}),Ul(sa("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),bn=>{o[bn]&&(o[bn].paddEmpty=!0)}),Ul(sa("span"),bn=>{o[bn].removeEmptyAttrs=!0})),delete o.svg,Wt(e.custom_elements),Rn(e.valid_children),je(e.extended_valid_elements),Rn("+ol[ul|ol],+ul[ul|ol]"),Ul({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(bn,po)=>{o[po]&&(o[po].parentsRequired=sa(bn))}),e.invalid_elements&&Ul(qi(e.invalid_elements),bn=>{o[bn]&&delete o[bn]}),zn("span")||je("span[!data-mce-type|*]");const Fo=Ye(O),Xo=Ye(D),Js=Ye(N),Ta=Ye(J),No=Ye(at),mt=Ye(We),Ft=Ye(kt),An=Ye(Object.seal(U)),jn=Ye(X),Bt=Ye(fe),fn=Ye(de),lt=Ye(G),mn=Ye(Ae),to=Ye(Se),Wo=Ye(Object.seal(m)),Lo=(bn,po)=>{const Jo=r[bn.toLowerCase()];return!!(Jo&&Jo[po.toLowerCase()])},Hr=(bn,po)=>{const Jo=zn(bn);if(Jo)if(po){if(Jo.attributes[po])return!0;const vs=Jo.attributePatterns;if(vs){let Ds=vs.length;for(;Ds--;)if(vs[Ds].pattern.test(po))return!0}}else return!0;return!1},Qu=bn=>Qt(No(),bn),wm=bn=>!Es(bn,"#")&&Hr(bn)&&!Qu(bn),Kc=bn=>Qt(to(),bn)||wm(bn),cu=Ye(u);return{type:v,children:r,elements:o,getValidStyles:Fo,getValidClasses:Js,getBlockElements:No,getInvalidStyles:Xo,getVoidElements:An,getTextBlockElements:mt,getTextInlineElements:Ft,getBoolAttrs:Ta,getElementRule:zn,getSelfClosingElements:jn,getNonEmptyElements:Bt,getMoveCaretBeforeOnEnterElements:fn,getWhitespaceElements:lt,getTransparentElements:mn,getSpecialElements:Wo,isValidChild:Lo,isValid:Hr,isBlock:Qu,isInline:wm,isWrapper:Kc,getCustomElements:cu,addValidElements:je,setValidElements:Rt,addCustomElements:Wt,addValidChildren:Rn}},RT=e=>({value:eg(e)}),eg=e=>du(e,"#").toUpperCase(),tp=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},vl=e=>{const n=tp(e.red)+tp(e.green)+tp(e.blue);return RT(n)},Lc=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,MT=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,K_=(e,n,o,r)=>({red:e,green:n,blue:o,alpha:r}),Y_=(e,n,o,r)=>{const c=parseInt(e,10),u=parseInt(n,10),m=parseInt(o,10),b=parseFloat(r);return K_(c,u,m,b)},D0=e=>{if(e==="transparent")return I.some(K_(0,0,0,0));const n=Lc.exec(e);if(n!==null)return I.some(Y_(n[1],n[2],n[3],"1"));const o=MT.exec(e);return o!==null?I.some(Y_(o[1],o[2],o[3],o[4])):I.none()},Hc=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,tg=e=>D0(e).map(vl).map(n=>"#"+n.value).getOr(e),u1=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,u={};let m,b;const v=Zm;n&&(m=n.getValidStyles(),b=n.getInvalidStyles());const C=(`\\" \\' \\; \\: ; : `+v).split(" ");for(let D=0;D<C.length;D++)u[C[D]]=v+D,u[v+D]=C[D];const O={parse:D=>{const N={};let G=!1;const X=e.url_converter,U=e.url_converter_scope||O,J=(Ae,Se,je)=>{const Rt=N[Ae+"-top"+Se];if(!Rt)return;const Wt=N[Ae+"-right"+Se];if(!Wt)return;const Rn=N[Ae+"-bottom"+Se];if(!Rn)return;const zn=N[Ae+"-left"+Se];if(!zn)return;const Fo=[Rt,Wt,Rn,zn];let Xo=Fo.length-1;for(;Xo--&&Fo[Xo]===Fo[Xo+1];);Xo>-1&&je||(N[Ae+Se]=Xo===-1?Fo[0]:Fo.join(" "),delete N[Ae+"-top"+Se],delete N[Ae+"-right"+Se],delete N[Ae+"-bottom"+Se],delete N[Ae+"-left"+Se])},le=Ae=>{const Se=N[Ae];if(!Se)return;const je=Se.indexOf(",")>-1?[Se]:Se.split(" ");let Rt=je.length;for(;Rt--;)if(je[Rt]!==je[0])return!1;return N[Ae]=je[0],!0},fe=(Ae,Se,je,Rt)=>{le(Se)&&le(je)&&le(Rt)&&(N[Ae]=N[Se]+" "+N[je]+" "+N[Rt],delete N[Se],delete N[je],delete N[Rt])},de=Ae=>(G=!0,u[Ae]),we=(Ae,Se)=>(G&&(Ae=Ae.replace(/\uFEFF[0-9]/g,je=>u[je])),Se||(Ae=Ae.replace(/\\([\'\";:])/g,"$1")),Ae),We=Ae=>String.fromCharCode(parseInt(Ae.slice(1),16)),at=Ae=>Ae.replace(/\\[0-9a-f]+/gi,We),kt=(Ae,Se,je,Rt,Wt,Rn)=>{if(Wt=Wt||Rn,Wt)return Wt=we(Wt),"'"+Wt.replace(/\'/g,"\\'")+"'";if(Se=we(Se||je||Rt||""),!e.allow_script_urls){const zn=Se.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(zn)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(zn))return""}return X&&(Se=X.call(U,Se,"style")),"url('"+Se.replace(/\'/g,"\\'")+"')"};if(D){D=D.replace(/[\u0000-\u001F]/g,""),D=D.replace(/\\[\"\';:\uFEFF]/g,de).replace(/\"[^\"]+\"|\'[^\']+\'/g,Se=>Se.replace(/[;:]/g,de));let Ae;for(;Ae=r.exec(D);){r.lastIndex=Ae.index+Ae[0].length;let Se=Ae[1].replace(c,"").toLowerCase(),je=Ae[2].replace(c,"");if(Se&&je){if(Se=at(Se),je=at(je),Se.indexOf(v)!==-1||Se.indexOf('"')!==-1||!e.allow_script_urls&&(Se==="behavior"||/expression\s*\(|\/\*|\*\//.test(je)))continue;Se==="font-weight"&&je==="700"?je="bold":(Se==="color"||Se==="background-color")&&(je=je.toLowerCase()),oe(e.force_hex_color)&&e.force_hex_color!=="off"&&D0(je).each(Rt=>{(e.force_hex_color==="always"||Rt.alpha===1)&&(je=tg(Hc(Rt)))}),je=je.replace(o,kt),N[Se]=G?we(je,!0):je}}J("border","",!0),J("border","-width"),J("border","-color"),J("border","-style"),J("padding",""),J("margin",""),fe("border","border-width","border-style","border-color"),N.border==="medium none"&&delete N.border,N["border-image"]==="none"&&delete N["border-image"]}return N},serialize:(D,N)=>{let G="";const X=(J,le)=>{const fe=le[J];if(fe)for(let de=0,we=fe.length;de<we;de++){const We=fe[de],at=D[We];at&&(G+=(G.length>0?" ":"")+We+": "+at+";")}},U=(J,le)=>{if(!b||!le)return!0;let fe=b["*"];return fe&&fe[J]?!1:(fe=b[le],!(fe&&fe[J]))};return N&&m?(X("*",m),X(N,m)):dt(D,(J,le)=>{J&&U(le,N)&&(G+=(G.length>0?" ":"")+le+": "+J+";")}),G}};return O},d1={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},BT=e=>e instanceof Event||ce(e.initEvent),X_=e=>e.isDefaultPrevented===ut||e.isDefaultPrevented===He,R0=e=>yn(e.preventDefault)||BT(e),ng=(e,n)=>{const o=n??{};for(const r in e)Qt(d1,r)||(o[r]=e[r]);return Re(e.composedPath)&&(o.composedPath=()=>e.composedPath()),Re(e.getModifierState)&&(o.getModifierState=r=>e.getModifierState(r)),Re(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},og=(e,n,o,r)=>{var c;const u=ng(n,r);return u.type=e,yn(u.target)&&(u.target=(c=u.srcElement)!==null&&c!==void 0?c:o),R0(n)&&(u.preventDefault=()=>{u.defaultPrevented=!0,u.isDefaultPrevented=ut,ce(n.preventDefault)&&n.preventDefault()},u.stopPropagation=()=>{u.cancelBubble=!0,u.isPropagationStopped=ut,ce(n.stopPropagation)&&n.stopPropagation()},u.stopImmediatePropagation=()=>{u.isImmediatePropagationStopped=ut,u.stopPropagation()},X_(u)||(u.isDefaultPrevented=u.defaultPrevented===!0?ut:He,u.isPropagationStopped=u.cancelBubble===!0?ut:He,u.isImmediatePropagationStopped=He)),u},f1="mce-data-",NT=/^(?:mouse|contextmenu)|click/,m1=(e,n,o,r)=>{e.addEventListener(n,o,r||!1)},sg=(e,n,o,r)=>{e.removeEventListener(n,o,r||!1)},PT=e=>Re(e)&&NT.test(e.type),ab=(e,n)=>{const o=og(e.type,e,document,n);if(PT(e)&&$n(e.pageX)&&!$n(e.clientX)){const r=o.target.ownerDocument||document,c=r.documentElement,u=r.body,m=o;m.pageX=e.clientX+(c&&c.scrollLeft||u&&u.scrollLeft||0)-(c&&c.clientLeft||u&&u.clientLeft||0),m.pageY=e.clientY+(c&&c.scrollTop||u&&u.scrollTop||0)-(c&&c.clientTop||u&&u.clientTop||0)}return o},M0=(e,n,o)=>{const r=e.document,c={type:"ready"};if(o.domLoaded){n(c);return}const u=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,m=()=>{sg(e,"DOMContentLoaded",m),sg(e,"load",m),o.domLoaded||(o.domLoaded=!0,n(c)),e=null};u()?m():m1(e,"DOMContentLoaded",m),o.domLoaded||m1(e,"load",m)};class Vc{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=f1+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,r,c){const u=this;let m;const b=window,v=N=>{u.executeHandlers(ab(N||b.event),C)};if(!n||Je(n)||Fl(n))return r;let C;n[u.expando]?C=n[u.expando]:(C=u.count++,n[u.expando]=C,u.events[C]={}),c=c||n;const O=o.split(" ");let D=O.length;for(;D--;){let N=O[D],G=v,X=!1,U=!1;if(N==="DOMContentLoaded"&&(N="ready"),u.domLoaded&&N==="ready"&&n.readyState==="complete"){r.call(c,ab({type:N}));continue}!u.hasFocusIn&&(N==="focusin"||N==="focusout")&&(X=!0,U=N==="focusin"?"focus":"blur",G=J=>{const le=ab(J||b.event);le.type=le.type==="focus"?"focusin":"focusout",u.executeHandlers(le,C)}),m=u.events[C][N],m?N==="ready"&&u.domLoaded?r(ab({type:N})):m.push({func:r,scope:c}):(u.events[C][N]=m=[{func:r,scope:c}],m.fakeName=U,m.capture=X,m.nativeHandler=G,N==="ready"?M0(n,G,u):m1(n,U||N,G,X))}return n=m=null,r}unbind(n,o,r){if(!n||Je(n)||Fl(n))return this;const c=n[this.expando];if(c){let u=this.events[c];if(o){const m=o.split(" ");let b=m.length;for(;b--;){const v=m[b],C=u[v];if(C){if(r){let O=C.length;for(;O--;)if(C[O].func===r){const D=C.nativeHandler,N=C.fakeName,G=C.capture,X=C.slice(0,O).concat(C.slice(O+1));X.nativeHandler=D,X.fakeName=N,X.capture=G,u[v]=X}}(!r||C.length===0)&&(delete u[v],sg(n,C.fakeName||v,C.nativeHandler,C.capture))}}}else dt(u,(m,b)=>{sg(n,m.fakeName||b,m.nativeHandler,m.capture)}),u={};for(const m in u)if(Qt(u,m))return this;delete this.events[c];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,r){return this.dispatch(n,o,r)}dispatch(n,o,r){if(!n||Je(n)||Fl(n))return this;const c=ab({type:o,target:n},r);do{const u=n[this.expando];u&&this.executeHandlers(c,u),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!c.isPropagationStopped());return this}clean(n){if(!n||Je(n)||Fl(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let r=o.length;for(;r--;)n=o[r],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const r=this.events[o],c=r&&r[n.type];if(c)for(let u=0,m=c.length;u<m;u++){const b=c[u];if(b&&b.func.call(b.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}Vc.Event=new Vc;const p1=Xe.each,J_=Xe.grep,g1="data-mce-style",lO=Xe.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),h1=(e,n,o)=>{yn(o)||o===""?Is(e,n):ss(e,n,o)},$f=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),zu=(e,n)=>{let o=0;if(e)for(let r=e.nodeType,c=e.previousSibling;c;c=c.previousSibling){const u=c.nodeType;n&&Je(c)&&(u===r||!c.data.length)||(o++,r=u)}return o},B0=(e,n)=>{const o=ga(n,"style"),r=e.serialize(e.parse(o),oo(n));h1(n,g1,r)},rg=(e,n)=>Qo(e)?Qt(lO,n)?e+"":e+"px":e,b1=(e,n,o)=>{const r=$f(n);yn(o)||o===""?Hm(e,r):Wy(e,r,rg(o,r))},Q_=(e,n,o)=>{const r=n.keep_values,c={set:(m,b,v)=>{const C=ee.fromDom(m);ce(n.url_converter)&&Re(b)&&(b=n.url_converter.call(n.url_converter_scope||o(),String(b),v,m));const O="data-mce-"+v;h1(C,O,b),h1(C,v,b)},get:(m,b)=>{const v=ee.fromDom(m);return ga(v,"data-mce-"+b)||ga(v,b)}},u={style:{set:(m,b)=>{const v=ee.fromDom(m);r&&h1(v,g1,b),Is(v,"style"),oe(b)&&ha(v,e.parse(b))},get:m=>{const b=ee.fromDom(m),v=ga(b,g1)||ga(b,"style");return e.serialize(e.parse(v),oo(b))}}};return r&&(u.href=u.src=c),u},as=(e,n={})=>{const o={},r=window,c={};let u=0;const m=!0,b=!0,v=x0.forElement(ee.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),C=[],O=n.schema?n.schema:Rd({}),D=u1({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope,force_hex_color:n.force_hex_color},n.schema),N=n.ownEvents?new Vc:Vc.Event,G=O.getBlockElements(),X=ke=>oe(ke)?Qt(G,ke):Dt(ke)&&(Qt(G,ke.nodeName)||Gn(O,ke)),U=ke=>ke&&e&&oe(ke)?e.getElementById(ke):ke,J=ke=>{const xe=U(ke);return Re(xe)?ee.fromDom(xe):null},le=(ke,xe,ft="")=>{let st;const jt=J(ke);if(Re(jt)&&pa(jt)){const Un=i0[xe];Un&&Un.get?st=Un.get(jt.dom,xe):st=ga(jt,xe)}return Re(st)?st:ft},fe=ke=>{const xe=U(ke);return yn(xe)?[]:xe.attributes},de=(ke,xe,ft)=>{Ft(ke,st=>{if(Dt(st)){const jt=ee.fromDom(st),Un=ft===""?null:ft,Ss=ga(jt,xe),Yc=i0[xe];Yc&&Yc.set?Yc.set(jt.dom,Un,xe):h1(jt,xe,Un),Ss!==Un&&n.onSetAttrib&&n.onSetAttrib({attrElm:jt.dom,attrName:xe,attrValue:Un})}})},we=(ke,xe)=>ke.cloneNode(xe),We=()=>n.root_element||e.body,at=ke=>{const xe=Uh(ke);return{x:xe.x,y:xe.y,w:xe.width,h:xe.height}},kt=(ke,xe)=>Go(e.body,U(ke),xe),Ae=(ke,xe,ft)=>{Ft(ke,st=>{const jt=ee.fromDom(st);b1(jt,xe,ft),n.update_styles&&B0(D,jt)})},Se=(ke,xe)=>{Ft(ke,ft=>{const st=ee.fromDom(ft);dt(xe,(jt,Un)=>{b1(st,Un,jt)}),n.update_styles&&B0(D,st)})},je=(ke,xe,ft)=>{const st=U(ke);if(!(yn(st)||!Vi(st)&&!Ky(st)))return ft?Ws(ee.fromDom(st),$f(xe)):(xe=xe.replace(/-(\D)/g,(jt,Un)=>Un.toUpperCase()),xe==="float"&&(xe="cssFloat"),st.style?st.style[xe]:void 0)},Rt=ke=>{const xe=U(ke);if(!xe)return{w:0,h:0};let ft=je(xe,"width"),st=je(xe,"height");return(!ft||ft.indexOf("px")===-1)&&(ft="0"),(!st||st.indexOf("px")===-1)&&(st="0"),{w:parseInt(ft,10)||xe.offsetWidth||xe.clientWidth,h:parseInt(st,10)||xe.offsetHeight||xe.clientHeight}},Wt=ke=>{const xe=U(ke),ft=kt(xe),st=Rt(xe);return{x:ft.x,y:ft.y,w:st.w,h:st.h}},Rn=(ke,xe)=>{if(!ke)return!1;const ft=Gt(ke)?ke:[ke];return hn(ft,st=>ii(ee.fromDom(st),xe))},zn=(ke,xe,ft,st)=>{const jt=[];let Un=U(ke);st=st===void 0;const Ss=ft||(We().nodeName!=="BODY"?We().parentNode:null);if(oe(xe))if(xe==="*")xe=Dt;else{const Yc=xe;xe=Yr=>Rn(Yr,Yc)}for(;Un&&!(Un===Ss||yn(Un.nodeType)||Wm(Un)||hs(Un));){if(!xe||xe(Un))if(st)jt.push(Un);else return[Un];Un=Un.parentNode}return st?jt:null},Fo=(ke,xe,ft)=>{const st=zn(ke,xe,ft,!1);return st&&st.length>0?st[0]:null},Xo=(ke,xe,ft)=>{let st=xe;if(ke){oe(xe)&&(st=jt=>Rn(jt,xe));for(let jt=ke[ft];jt;jt=jt[ft])if(ce(st)&&st(jt))return jt}return null},Js=(ke,xe)=>Xo(ke,xe,"nextSibling"),Ta=(ke,xe)=>Xo(ke,xe,"previousSibling"),No=ke=>ce(ke.querySelectorAll),mt=(ke,xe)=>{var ft,st;const jt=(st=(ft=U(xe))!==null&&ft!==void 0?ft:n.root_element)!==null&&st!==void 0?st:e;return No(jt)?js(jt.querySelectorAll(ke)):[]},Ft=function(ke,xe,ft){const st=ft??this;if(Gt(ke)){const jt=[];return p1(ke,(Un,Ss)=>{const Yc=U(Un);Yc&&jt.push(xe.call(st,Yc,Ss))}),jt}else{const jt=U(ke);return jt?xe.call(st,jt):!1}},An=(ke,xe)=>{Ft(ke,ft=>{dt(xe,(st,jt)=>{de(ft,jt,st)})})},jn=(ke,xe)=>{Ft(ke,ft=>{const st=ee.fromDom(ft);vd(st,xe)})},Bt=(ke,xe,ft,st,jt)=>Ft(ke,Un=>{const Ss=oe(xe)?e.createElement(xe):xe;return Re(ft)&&An(Ss,ft),st&&(!oe(st)&&st.nodeType?Ss.appendChild(st):oe(st)&&jn(Ss,st)),jt?Ss:Un.appendChild(Ss)}),fn=(ke,xe,ft)=>Bt(e.createElement(ke),ke,xe,ft,!0),lt=Pf.decode,mn=Pf.encodeAllRaw,to=(ke,xe,ft="")=>{let st="<"+ke;for(const jt in xe)kr(xe,jt)&&(st+=" "+jt+'="'+mn(xe[jt])+'"');return Aa(ft)&&Qt(O.getVoidElements(),ke)?st+" />":st+">"+ft+"</"+ke+">"},Wo=ke=>{const xe=e.createElement("div"),ft=e.createDocumentFragment();ft.appendChild(xe),ke&&(xe.innerHTML=ke);let st;for(;st=xe.firstChild;)ft.appendChild(st);return ft.removeChild(xe),ft},Lo=(ke,xe)=>Ft(ke,ft=>{const st=ee.fromDom(ft);return xe&&ve(Sr(st),jt=>{Ur(jt)&&jt.dom.length===0?ro(jt):gr(st,jt)}),ro(st),st.dom}),Hr=ke=>Ft(ke,xe=>{const ft=xe.attributes;for(let st=ft.length-1;st>=0;st--)xe.removeAttributeNode(ft.item(st))}),Qu=ke=>D.parse(ke),wm=(ke,xe)=>D.serialize(ke,xe),Kc=ke=>{if(xm!==as.DOM&&e===document){if(o[ke])return;o[ke]=!0}let xe=e.getElementById("mceDefaultStyles");if(!xe){xe=e.createElement("style"),xe.id="mceDefaultStyles",xe.type="text/css";const ft=e.head;ft.firstChild?ft.insertBefore(xe,ft.firstChild):ft.appendChild(xe)}xe.styleSheet?xe.styleSheet.cssText+=ke:xe.appendChild(e.createTextNode(ke))},cu=ke=>{ke||(ke=""),ve(ke.split(","),xe=>{c[xe]=!0,v.load(xe).catch(Et)})},bn=(ke,xe,ft)=>{Ft(ke,st=>{if(Dt(st)){const jt=ee.fromDom(st),Un=xe.split(" ");ve(Un,Ss=>{Re(ft)?(ft?fd:md)(jt,Ss):Sh(jt,Ss)})}})},po=(ke,xe)=>{bn(ke,xe,!0)},Jo=(ke,xe)=>{bn(ke,xe,!1)},vs=(ke,xe)=>{const ft=J(ke),st=xe.split(" ");return Re(ft)&&es(st,jt=>$l(ft,jt))},Ds=ke=>{Ft(ke,xe=>Hm(ee.fromDom(xe),"display"))},Ai=ke=>{Ft(ke,xe=>Wy(ee.fromDom(xe),"display","none"))},cf=ke=>{const xe=J(ke);return Re(xe)&&Vo(cr(xe,"display"),"none")},bh=ke=>(ke||"mce_")+u++,z_=ke=>{const xe=J(ke);return Re(xe)?Dt(xe.dom)?xe.dom.outerHTML:Ih(xe):""},Ay=(ke,xe)=>{Ft(ke,ft=>{Dt(ft)&&(ft.outerHTML=xe)})},r0=(ke,xe)=>{const ft=U(xe);return Ft(ke,st=>{const jt=ft==null?void 0:ft.parentNode,Un=ft==null?void 0:ft.nextSibling;return jt&&(Un?jt.insertBefore(st,Un):jt.appendChild(st)),st})},a0=(ke,xe,ft)=>Ft(xe,st=>{var jt;const Un=Gt(xe)?ke.cloneNode(!0):ke;return ft&&p1(J_(st.childNodes),Ss=>{Un.appendChild(Ss)}),(jt=st.parentNode)===null||jt===void 0||jt.replaceChild(Un,st),st}),A_=(ke,xe)=>{if(ke.nodeName!==xe.toUpperCase()){const ft=fn(xe);return p1(fe(ke),st=>{de(ft,st.nodeName,le(ke,st.nodeName))}),a0(ft,ke,!0),ft}else return ke},Oy=(ke,xe)=>{let ft=ke;for(;ft;){let st=xe;for(;st&&ft!==st;)st=st.parentNode;if(ft===st)break;ft=ft.parentNode}return!ft&&ke.ownerDocument?ke.ownerDocument.documentElement:ft},Dy=ke=>{if(Dt(ke)){const xe=ke.nodeName.toLowerCase()==="a"&&!le(ke,"href")&&le(ke,"id");if(le(ke,"name")||le(ke,"data-mce-bookmark")||xe)return!0}return!1},ed=(ke,xe,ft)=>{let st=0;if(Dy(ke))return!1;const jt=ke.firstChild;if(jt){const Un=new qo(jt,ke),Ss=O?O.getWhitespaceElements():{},Yc=xe||(O?O.getNonEmptyElements():null);let Yr=jt;do{if(Dt(Yr)){const vh=Yr.getAttribute("data-mce-bogus");if(vh){Yr=Un.next(vh==="all");continue}const iu=Yr.nodeName.toLowerCase();if(Yc&&Yc[iu]){if(iu==="br"){st++,Yr=Un.next();continue}return!1}if(Dy(Yr))return!1}if(Fl(Yr)||Je(Yr)&&!Df(Yr.data)&&(!(ft!=null&&ft.includeZwsp)||!Km(Yr.data))||Je(Yr)&&Yr.parentNode&&Ss[Yr.parentNode.nodeName]&&Df(Yr.data))return!1;Yr=Un.next()}while(Yr)}return st<=1},km=()=>e.createRange(),O_=(ke,xe,ft)=>{let st=km(),jt,Un;if(ke&&xe&&ke.parentNode&&xe.parentNode){const Ss=ke.parentNode;return st.setStart(Ss,zu(ke)),st.setEnd(xe.parentNode,zu(xe)),jt=st.extractContents(),st=km(),st.setStart(xe.parentNode,zu(xe)+1),st.setEnd(Ss,zu(ke)+1),Un=st.extractContents(),Ss.insertBefore(Ad(xm,jt,O),ke),ft?Ss.insertBefore(ft,ke):Ss.insertBefore(xe,ke),Ss.insertBefore(Ad(xm,Un,O),ke),Lo(ke),ft||xe}else return},c0=(ke,xe,ft,st)=>{if(Gt(ke)){let jt=ke.length;const Un=[];for(;jt--;)Un[jt]=c0(ke[jt],xe,ft,st);return Un}else return n.collect&&(ke===e||ke===r)&&C.push([ke,xe,ft,st]),N.bind(ke,xe,ft,st||xm)},uT=(ke,xe,ft)=>{if(Gt(ke)){let st=ke.length;const jt=[];for(;st--;)jt[st]=uT(ke[st],xe,ft);return jt}else{if(C.length>0&&(ke===e||ke===r)){let st=C.length;for(;st--;){const[jt,Un,Ss]=C[st];ke===jt&&(!xe||xe===Un)&&(!ft||ft===Ss)&&N.unbind(jt,Un,Ss)}}return N.unbind(ke,xe,ft)}},_m=(ke,xe,ft)=>N.dispatch(ke,xe,ft),dT=(ke,xe,ft)=>N.dispatch(ke,xe,ft),D_=ke=>{if(ke&&Vi(ke)){const xe=ke.getAttribute("data-mce-contenteditable");return xe&&xe!=="inherit"?xe:ke.contentEditable!=="inherit"?ke.contentEditable:null}else return null},xm={doc:e,settings:n,win:r,files:c,stdMode:m,boxModel:b,styleSheetLoader:v,boundEvents:C,styles:D,schema:O,events:N,isBlock:X,root:null,clone:we,getRoot:We,getViewPort:at,getRect:Wt,getSize:Rt,getParent:Fo,getParents:zn,get:U,getNext:Js,getPrev:Ta,select:mt,is:Rn,add:Bt,create:fn,createHTML:to,createFragment:Wo,remove:Lo,setStyle:Ae,getStyle:je,setStyles:Se,removeAllAttribs:Hr,setAttrib:de,setAttribs:An,getAttrib:le,getPos:kt,parseStyle:Qu,serializeStyle:wm,addStyle:Kc,loadCSS:cu,addClass:po,removeClass:Jo,hasClass:vs,toggleClass:bn,show:Ds,hide:Ai,isHidden:cf,uniqueId:bh,setHTML:jn,getOuterHTML:z_,setOuterHTML:Ay,decode:lt,encode:mn,insertAfter:r0,replace:a0,rename:A_,findCommonAncestor:Oy,run:Ft,getAttribs:fe,isEmpty:ed,createRng:km,nodeIndex:zu,split:O_,bind:c0,unbind:uT,fire:dT,dispatch:_m,getContentEditable:D_,getContentEditableParent:ke=>{const xe=We();let ft=null;for(let st=ke;st&&st!==xe&&(ft=D_(st),ft===null);st=st.parentNode);return ft},isEditable:ke=>{if(Re(ke)){const xe=Dt(ke)?ke:ke.parentElement;return Re(xe)&&Vi(xe)&&xn(ee.fromDom(xe))}else return!1},destroy:()=>{if(C.length>0){let ke=C.length;for(;ke--;){const[xe,ft,st]=C[ke];N.unbind(xe,ft,st)}}dt(c,(ke,xe)=>{v.unload(xe),delete c[xe]})},isChildOf:(ke,xe)=>ke===xe||xe.contains(ke),dumpRng:ke=>"startContainer: "+ke.startContainer.nodeName+", startOffset: "+ke.startOffset+", endContainer: "+ke.endContainer.nodeName+", endOffset: "+ke.endOffset},i0=Q_(D,n,Ye(xm));return xm};as.DOM=as(document),as.nodeIndex=zu;const $T=as.DOM,Gs=0,ex=1,xs=2,ag=3;class br{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((o,r)=>{const c=$T;let u;const m=()=>{c.remove(C),u&&(u.onerror=u.onload=u=null)},b=()=>{m(),o()},v=()=>{m(),r("Failed to load script: "+n)},C=c.uniqueId();u=document.createElement("script"),u.id=C,u.type="text/javascript",u.src=Xe._addCacheSuffix(n),this.settings.referrerPolicy&&c.setAttrib(u,"referrerpolicy",this.settings.referrerPolicy),u.onload=b,u.onerror=v,(document.getElementsByTagName("head")[0]||document.body).appendChild(u)})}isDone(n){return this.states[n]===xs}markDone(n){this.states[n]=xs}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=Gs),new Promise((c,u)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:c,reject:u})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,r=(v,C)=>{Ho(o.scriptLoadedCallbacks,C).each(O=>{ve(O,D=>D[v](C))}),delete o.scriptLoadedCallbacks[C]},c=v=>{const C=Ie(v,O=>O.status==="rejected");return C.length>0?Promise.reject(cs(C,({reason:O})=>Gt(O)?O:[O])):Promise.resolve()},u=v=>Promise.allSettled(Pt(v,C=>o.states[C]===xs?(r("resolve",C),Promise.resolve()):o.states[C]===ag?(r("reject",C),Promise.reject(C)):(o.states[C]=ex,o.loadScript(C).then(()=>{o.states[C]=xs,r("resolve",C);const O=o.queue;return O.length>0?(o.queue=[],u(O).then(c)):Promise.resolve()},()=>(o.states[C]=ag,r("reject",C),Promise.reject(C)))))),m=v=>(o.loading=!0,u(v).then(C=>{o.loading=!1;const O=o.queueLoadedCallbacks.shift();return I.from(O).each(Vs),c(C)})),b=df(n);return o.loading?new Promise((v,C)=>{o.queueLoadedCallbacks.push(()=>{m(b).then(v,C)})}):m(b)}}br.ScriptLoader=new br;const As=e=>{let n=e;return{get:()=>n,set:c=>{n=c}}},mi=(e,n)=>{const o=e.indexOf(n);return o!==-1&&e.indexOf(n,o+1)>o},N0=e=>Ut(e)&&Qt(e,"raw"),ra=e=>Gt(e)&&e.length>1,cb={},cg=As("en"),Au=()=>Ho(cb,cg.get()),wl={getData:()=>ho(cb,e=>({...e})),setCode:e=>{e&&cg.set(e)},getCode:()=>cg.get(),add:(e,n)=>{let o=cb[e];o||(cb[e]=o={});const r=Pt(ts(n),c=>c.toLowerCase());dt(n,(c,u)=>{const m=u.toLowerCase();m!==u&&mi(r,m)?(Qt(n,m)||(o[m]=c),o[u]=c):o[m]=c})},translate:e=>{const n=Au().getOr({}),o=m=>ce(m)?Object.prototype.toString.call(m):r(m)?"":""+m,r=m=>m===""||m===null||m===void 0,c=m=>{const b=o(m);return Qt(n,b)?o(n[b]):Ho(n,b.toLowerCase()).map(o).getOr(b)},u=m=>m.replace(/{context:\w+}$/,"");if(r(e))return"";if(N0(e))return o(e.raw);if(ra(e)){const m=e.slice(1),b=c(e[0]).replace(/\{([0-9]+)\}/g,(v,C)=>Qt(m,C)?o(m[C]):v);return u(b)}return u(c(e))},isRtl:()=>Au().bind(e=>Ho(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>Qt(cb,e)},La=()=>{const e=[],n={},o={},r=[],c=(U,J)=>{const le=Ie(r,fe=>fe.name===U&&fe.state===J);ve(le,fe=>fe.resolve())},u=U=>Qt(n,U),m=U=>Qt(o,U),b=U=>{if(o[U])return o[U].instance},v=(U,J)=>{const le=wl.getCode(),fe=","+(J||"")+",";!le||J&&fe.indexOf(","+le+",")===-1||br.ScriptLoader.add(n[U]+"/langs/"+le+".js")},C=(U,J)=>{La.languageLoad!==!1&&(u(U)?v(U,J):X(U,"loaded").then(()=>v(U,J)))},O=(U,J)=>(e.push(J),o[U]={instance:J},c(U,"added"),J),D=U=>{delete n[U],delete o[U]},N=(U,J)=>oe(J)?oe(U)?{prefix:"",resource:J,suffix:""}:{prefix:U.prefix,resource:J,suffix:U.suffix}:J,G=(U,J)=>{if(n[U])return Promise.resolve();let le=oe(J)?J:J.prefix+J.resource+J.suffix;le.indexOf("/")!==0&&le.indexOf("://")===-1&&(le=La.baseURL+"/"+le),n[U]=le.substring(0,le.lastIndexOf("/"));const fe=()=>(c(U,"loaded"),Promise.resolve());return o[U]?fe():br.ScriptLoader.add(le).then(fe)},X=(U,J="added")=>J==="added"&&m(U)||J==="loaded"&&u(U)?Promise.resolve():new Promise(le=>{r.push({name:U,state:J,resolve:le})});return{items:e,urls:n,lookup:o,get:b,requireLangPack:C,add:O,remove:D,createUrl:N,load:G,waitFor:X}};La.languageLoad=!0,La.baseURL="",La.PluginManager=La(),La.ThemeManager=La(),La.ModelManager=La();const FT=e=>{const n=As(I.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(I.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:b=>{o(),n.set(I.some(b))}}},LT=e=>{const n=As(I.none()),o=()=>n.get().each(b=>clearInterval(b));return{clear:()=>{o(),n.set(I.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:b=>{o(),n.set(I.some(setInterval(b,e)))}}},Ff=()=>{const e=FT(Et);return{...e,on:o=>e.get().each(o)}},ib=(e,n)=>{let o=null;return{cancel:()=>{Y(o)||(clearTimeout(o),o=null)},throttle:(...u)=>{Y(o)&&(o=setTimeout(()=>{o=null,e.apply(null,u)},n))}}},y1=(e,n)=>{let o=null;const r=()=>{Y(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...u)=>{r(),o=setTimeout(()=>{o=null,e.apply(null,u)},n)}}},v1=Ye("mce-annotation"),Ou=Ye("data-mce-annotation"),lg=Ye("data-mce-annotation-uid"),ug=Ye("data-mce-annotation-active"),dg=Ye("data-mce-annotation-classes"),np=Ye("data-mce-annotation-attrs"),nx=e=>n=>fo(n,e),Ls=(e,n)=>{const o=e.selection.getRng(),r=ee.fromDom(o.startContainer),c=ee.fromDom(e.getBody()),u=n.fold(()=>"."+v1(),v=>`[${Ou()}="${v}"]`),m=yu(r,o.startOffset).getOr(r);return ul(m,u,nx(c)).bind(v=>al(v,`${lg()}`).bind(C=>al(v,`${Ou()}`).map(O=>{const D=sx(e,C);return{uid:C,name:O,elements:D}})))},ox=e=>pa(e)&&$l(e,v1()),fg=(e,n)=>pr(e,"data-mce-bogus")||b0(e,'[data-mce-bogus="all"]',nx(n)),sx=(e,n)=>{const o=ee.fromDom(e.getBody()),r=Tr(o,`[${lg()}="${n}"]`);return Ie(r,c=>!fg(c,o))},w1=(e,n)=>{const o=ee.fromDom(e.getBody()),r=Tr(o,`[${Ou()}="${n}"]`),c={};return ve(r,u=>{if(!fg(u,o)){const m=ga(u,lg()),b=Ho(c,m).getOr([]);c[m]=b.concat([u])}}),c},va=(e,n)=>{const o=As({}),r=()=>({listeners:[],previous:Ff()}),c=(D,N)=>{u(D,G=>(N(G),G))},u=(D,N)=>{const G=o.get(),X=Ho(G,D).getOrThunk(r),U=N(X);G[D]=U,o.set(G)},m=(D,N,G)=>{c(D,X=>{ve(X.listeners,U=>U(!0,D,{uid:N,nodes:Pt(G,J=>J.dom)}))})},b=D=>{c(D,N=>{ve(N.listeners,G=>G(!1,D))})},v=(D,N)=>{ve(sx(e,D),G=>{N?ss(G,ug(),"true"):Is(G,ug())})},C=y1(()=>{const D=Jn(n.getNames());ve(D,N=>{u(N,G=>{const X=G.previous.get();return Ls(e,I.some(N)).fold(()=>{X.each(U=>{b(N),G.previous.clear(),v(U,!1)})},({uid:U,name:J,elements:le})=>{Vo(X,U)||(X.each(fe=>v(fe,!1)),m(J,U,le),G.previous.set(U),v(U,!0))}),{previous:G.previous,listeners:G.listeners}})})},30);return e.on("remove",()=>{C.cancel()}),e.on("NodeChange",()=>{C.throttle()}),{addListener:(D,N)=>{u(D,G=>({previous:G.previous,listeners:G.listeners.concat([N])}))}}},pi=(e,n)=>{const o=Ou(),r=u=>I.from(u.attr(o)).bind(n.lookup),c=u=>{var m,b;u.attr(lg(),null),u.attr(Ou(),null),u.attr(ug(),null);const v=I.from(u.attr(np())).map(N=>N.split(",")).getOr([]),C=I.from(u.attr(dg())).map(N=>N.split(",")).getOr([]);ve(v,N=>u.attr(N,null));const O=(b=(m=u.attr("class"))===null||m===void 0?void 0:m.split(" "))!==null&&b!==void 0?b:[],D=Xr(O,[v1()].concat(C));u.attr("class",D.length>0?D.join(" "):null),u.attr(dg(),null),u.attr(np(),null)};e.serializer.addTempAttr(ug()),e.serializer.addAttributeFilter(o,u=>{for(const m of u)r(m).each(b=>{b.persistent===!1&&(m.name==="span"?m.unwrap():c(m))})})},rx=()=>{const e={};return{register:(c,u)=>{e[c]={name:c,settings:u}},lookup:c=>Ho(e,c).map(u=>u.settings),getNames:()=>ts(e)}};let k1=0;const op=e=>{const o=new Date().getTime(),r=Math.floor(Math.random()*1e9);return k1++,e+"_"+r+k1+String(o)},HT=(e,n)=>{ve(n,o=>{fd(e,o)})},ax=(e,n)=>{ve(n,o=>{md(e,o)})},P0=(e,n)=>ee.fromDom(e.dom.cloneNode(n)),jc=e=>P0(e,!1),_1=e=>P0(e,!0),Ks=(e,n)=>{const o=ee.fromTag(n),r=wf(e);return ai(o,r),o},Wl=(e,n)=>{const o=Ks(e,n);Hi(e,o);const r=Sr(e);return Ro(o,r),ro(e),o},mg=(e,n,o=He)=>{const r=new qo(e,n),c=u=>{let m;do m=r[u]();while(m&&!Je(m)&&!o(m));return I.from(m).filter(Je)};return{current:()=>I.from(r.current()).filter(Je),next:()=>c("next"),prev:()=>c("prev"),prev2:()=>c("prev2")}},Lf=(e,n)=>{const o=n||(m=>e.isBlock(m)||Mo(m)||Wn(m)),r=(m,b,v,C)=>{if(Je(m)){const O=C(m,b,m.data);if(O!==-1)return I.some({container:m,offset:O})}return v().bind(O=>r(O.container,O.offset,v,C))};return{backwards:(m,b,v,C)=>{const O=mg(m,C??e.getRoot(),o);return r(m,b,()=>O.prev().map(D=>({container:D,offset:D.length})),v).getOrNull()},forwards:(m,b,v,C)=>{const O=mg(m,C??e.getRoot(),o);return r(m,b,()=>O.next().map(D=>({container:D,offset:0})),v).getOrNull()}}},sp=Math.round,rp=e=>e?{left:sp(e.left),top:sp(e.top),bottom:sp(e.bottom),right:sp(e.right),width:sp(e.width),height:sp(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Bd=(e,n)=>(e=rp(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),cx=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,ap=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,Hf=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:ap(n.top-e.bottom,e,n)},cp=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:ap(n.bottom-e.top,e,n),ix=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,VT=e=>nn(e,(n,o)=>n.fold(()=>I.some(o),r=>{const c=Math.min(o.left,r.left),u=Math.min(o.top,r.top),m=Math.max(o.right,r.right),b=Math.max(o.bottom,r.bottom);return I.some({top:u,right:m,bottom:b,left:c,width:m-c,height:b-u})}),I.none()),$0=(e,n,o)=>{const r=Math.max(Math.min(n,e.left+e.width),e.left),c=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-r)*(n-r)+(o-c)*(o-c))},jT=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),x1=(e,n,o)=>Math.min(Math.max(e,n),o),I0=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},Uc=(e,n)=>{if(Dt(e)&&e.hasChildNodes()){const o=e.childNodes,r=x1(n,0,o.length-1);return o[r]}else return e},lx=(e,n)=>{if(!(n<0&&Dt(e)&&e.hasChildNodes()))return Uc(e,n)},pg=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),ux=e=>oe(e)&&e.charCodeAt(0)>=768&&pg.test(e),UT=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},lb=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},Vf=Dt,C1=Vn,Qn=Il("display","block table"),Wc=Il("float","left right"),Zl=lb(Vf,C1,Po(Wc)),F0=Po(Il("white-space","pre pre-line pre-wrap")),Bo=Je,ub=Mo,L0=as.nodeIndex,Ar=lx,Du=e=>e?e.createRange():as.DOM.createRng(),jf=e=>oe(e)&&/[\r\n\t ]/.test(e),H0=e=>!!e.setStart&&!!e.setEnd,S1=e=>{const n=e.startContainer,o=e.startOffset;if(jf(e.toString())&&F0(n.parentNode)&&Je(n)){const r=n.data;if(jf(r[o-1])||jf(r[o+1]))return!0}return!1},db=e=>{const n=e.ownerDocument,o=Du(n),r=n.createTextNode(uo),c=e.parentNode;c.insertBefore(r,e),o.setStart(r,0),o.setEnd(r,1);const u=rp(o.getBoundingClientRect());return c.removeChild(r),u},V0=e=>{const n=e.startContainer,o=e.endContainer,r=e.startOffset,c=e.endOffset;if(n===o&&Je(o)&&r===0&&c===1){const u=e.cloneRange();return u.setEndAfter(o),Ru(u)}else return null},T1=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Ru=e=>{var n;let o;const r=e.getClientRects();return r.length>0?o=rp(r[0]):o=rp(e.getBoundingClientRect()),!H0(e)&&ub(e)&&T1(o)?db(e):T1(o)&&H0(e)&&(n=V0(e))!==null&&n!==void 0?n:o},Nd=(e,n)=>{const o=Bd(e,n);return o.width=1,o.right=o.left+1,o},WT=e=>{const n=[],o=m=>{m.height!==0&&(n.length>0&&cx(m,n[n.length-1])||n.push(m))},r=(m,b)=>{const v=Du(m.ownerDocument);if(b<m.data.length){if(ux(m.data[b]))return;if(ux(m.data[b-1])&&(v.setStart(m,b),v.setEnd(m,b+1),!S1(v))){o(Nd(Ru(v),!1));return}}b>0&&(v.setStart(m,b-1),v.setEnd(m,b),S1(v)||o(Nd(Ru(v),!1))),b<m.data.length&&(v.setStart(m,b),v.setEnd(m,b+1),S1(v)||o(Nd(Ru(v),!0)))},c=e.container(),u=e.offset();if(Bo(c))return r(c,u),n;if(Vf(c))if(e.isAtEnd()){const m=Ar(c,u);Bo(m)&&r(m,m.data.length),Zl(m)&&!ub(m)&&o(Nd(Ru(m),!1))}else{const m=Ar(c,u);if(Bo(m)&&r(m,0),Zl(m)&&e.isAtEnd())return o(Nd(Ru(m),!1)),n;const b=Ar(e.container(),e.offset()-1);Zl(b)&&!ub(b)&&(Qn(b)||Qn(m)||!Zl(m))&&o(Nd(Ru(b),!1)),Zl(m)&&o(Nd(Ru(m),!0))}return n},_e=(e,n,o)=>{const r=()=>(Bo(e),n===0),c=()=>Bo(e)?n>=e.data.length:n>=e.childNodes.length,u=()=>{const O=Du(e.ownerDocument);return O.setStart(e,n),O.setEnd(e,n),O},m=()=>(o||(o=WT(_e(e,n))),o),b=()=>m().length>0,v=O=>O&&e===O.container()&&n===O.offset(),C=O=>Ar(e,O?n-1:n);return{container:Ye(e),offset:Ye(n),toRange:u,getClientRects:m,isVisible:b,isAtStart:r,isAtEnd:c,isEqual:v,getNode:C}};_e.fromRangeStart=e=>_e(e.startContainer,e.startOffset),_e.fromRangeEnd=e=>_e(e.endContainer,e.endOffset),_e.after=e=>_e(e.parentNode,L0(e)+1),_e.before=e=>_e(e.parentNode,L0(e)),_e.isAbove=(e,n)=>ar(In(n.getClientRects()),fs(e.getClientRects()),Hf).getOr(!1),_e.isBelow=(e,n)=>ar(fs(n.getClientRects()),In(e.getClientRects()),cp).getOr(!1),_e.isAtStart=e=>e?e.isAtStart():!1,_e.isAtEnd=e=>e?e.isAtEnd():!1,_e.isTextPosition=e=>e?Je(e.container()):!1,_e.isElementPosition=e=>!_e.isTextPosition(e);const fb=(e,n)=>{Je(n)&&n.data.length===0&&e.remove(n)},gg=(e,n,o)=>{n.insertNode(o),fb(e,o.previousSibling),fb(e,o.nextSibling)},gi=(e,n,o)=>{const r=I.from(o.firstChild),c=I.from(o.lastChild);n.insertNode(o),r.each(u=>fb(e,u.previousSibling)),c.each(u=>fb(e,u.nextSibling))},j0=(e,n,o)=>{hs(o)?gi(e,n,o):gg(e,n,o)},bs=Je,E1=ji,Pd=as.nodeIndex,U0=e=>{const n=e.parentNode;return E1(n)?U0(n):n},z1=e=>e?fa(e.childNodes,(n,o)=>(E1(o)&&o.nodeName!=="BR"?n=n.concat(z1(o)):n.push(o),n),[]):[],W0=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&bs(o);)n+=o.data.length;return n},mb=e=>n=>e===n,hg=e=>{let n,o;n=z1(U0(e)),o=Ts(n,mb(e),e),n=n.slice(0,o+1);const r=fa(n,(c,u,m)=>(bs(u)&&bs(n[m-1])&&c++,c),0);return n=cd(n,Zs([e.nodeName])),o=Ts(n,mb(e),e),o-r},Z0=e=>(bs(e)?"text()":e.nodeName.toLowerCase())+"["+hg(e)+"]",ZT=(e,n,o)=>{const r=[];for(let c=n.parentNode;c&&c!==e;c=c.parentNode)r.push(c);return r},sc=(e,n)=>{let o=[],r=n.container(),c=n.offset(),u;if(bs(r))u=W0(r,c);else{const b=r.childNodes;c>=b.length?(u="after",c=b.length-1):u="before",r=b[c]}o.push(Z0(r));let m=ZT(e,r);return m=cd(m,Po(ji)),o=o.concat(ti(m,b=>Z0(b))),o.reverse().join("/")+","+u},Or=(e,n,o)=>{let r=z1(e);return r=cd(r,(c,u)=>!bs(c)||!bs(r[u-1])),r=cd(r,Zs([n])),r[o]},aa=(e,n)=>{let o=e,r=0;for(;bs(o);){const c=o.data.length;if(n>=r&&n<=r+c){e=o,n=n-r;break}if(!bs(o.nextSibling)){e=o,n=c;break}r+=c,o=o.nextSibling}return bs(e)&&n>e.data.length&&(n=e.data.length),_e(e,n)},rc=(e,n)=>{if(!n)return null;const o=n.split(","),r=o[0].split("/"),c=o.length>1?o[1]:"before",u=fa(r,(m,b)=>{const v=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(b);return v?(v[1]==="text()"&&(v[1]="#text"),Or(m,v[1],parseInt(v[2],10))):null},e);if(!u)return null;if(!bs(u)&&u.parentNode){let m;return c==="after"?m=Pd(u)+1:m=Pd(u),_e(u.parentNode,m)}return aa(u,parseInt(c,10))},wa=Wn,Ha=(e,n,o)=>{let r=e(n.data.slice(0,o)).length;for(let c=n.previousSibling;c&&Je(c);c=c.previousSibling)r+=e(c.data).length;return r},Dr=(e,n,o,r,c)=>{const u=c?r.startContainer:r.endContainer;let m=c?r.startOffset:r.endOffset;const b=[],v=e.getRoot();if(Je(u))b.push(o?Ha(n,u,m):m);else{let C=0;const O=u.childNodes;m>=O.length&&O.length&&(C=1,m=Math.max(0,O.length-1)),b.push(e.nodeIndex(O[m],o)+C)}for(let C=u;C&&C!==v;C=C.parentNode)b.push(e.nodeIndex(C,o));return b},q0=(e,n,o,r)=>{const c=n.dom,u=Dr(c,e,o,r,!0),m=n.isForward(),b=qm(r)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:u,forward:m,...b};{const v=Dr(c,e,o,r,!1);return{start:u,end:v,forward:m,...b}}},pb=(e,n,o)=>{let r=0;return Xe.each(e.select(n),c=>{if(c.getAttribute("data-mce-bogus")!=="all"){if(c===o)return!1;r++;return}}),r},G0=(e,n)=>{let o=n?e.startContainer:e.endContainer,r=n?e.startOffset:e.endOffset;if(Dt(o)&&o.nodeName==="TR"){const c=o.childNodes;o=c[Math.min(n?r:r-1,c.length-1)],o&&(r=n?0:o.childNodes.length,n?e.setStart(o,r):e.setEnd(o,r))}},gb=e=>(G0(e,!0),G0(e,!1),e),K0=(e,n)=>{if(Dt(e)&&(e=Uc(e,n),wa(e)))return e;if(Vt(e)){Je(e)&&nt(e)&&(e=e.parentNode);let o=e.previousSibling;if(wa(o)||(o=e.nextSibling,wa(o)))return o}},dx=e=>K0(e.startContainer,e.startOffset)||K0(e.endContainer,e.endOffset),A1=(e,n,o)=>{const r=o.getNode(),c=o.getRng();if(r.nodeName==="IMG"||wa(r)){const m=r.nodeName;return{name:m,index:pb(o.dom,m,r)}}const u=dx(c);if(u){const m=u.tagName;return{name:m,index:pb(o.dom,m,u)}}return q0(e,o,n,c)},Y0=e=>{const n=e.getRng();return{start:sc(e.dom.getRoot(),_e.fromRangeStart(n)),end:sc(e.dom.getRoot(),_e.fromRangeEnd(n)),forward:e.isForward()}},qT=e=>({rng:e.getRng(),forward:e.isForward()}),GT=(e,n,o)=>{const r={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",r,"&#xFEFF;"):e.create("span",r)},fx=(e,n)=>{const o=e.dom;let r=e.getRng();const c=o.uniqueId(),u=e.isCollapsed(),m=e.getNode(),b=m.nodeName,v=e.isForward();if(b==="IMG")return{name:b,index:pb(o,b,m)};const C=gb(r.cloneRange());if(!u){C.collapse(!1);const D=GT(o,c+"_end",n);j0(o,C,D)}r=gb(r),r.collapse(!0);const O=GT(o,c+"_start",n);return j0(o,r,O),e.moveToBookmark({id:c,keep:!0,forward:v}),{id:c,forward:v}},KT=(e,n,o=!1)=>n===2?A1($,o,e):n===3?Y0(e):n?qT(e):fx(e,!1),bg=Ue(A1,wo,!0),O1=e=>{const n=u=>u(e),o=Ye(e),r=()=>c,c={tag:!0,inner:e,fold:(u,m)=>m(e),isValue:ut,isError:He,map:u=>yc.value(u(e)),mapError:r,bind:n,exists:n,forall:n,getOr:o,or:r,getOrThunk:o,orThunk:r,getOrDie:o,each:u=>{u(e)},toOptional:()=>I.some(e)};return c},mx=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(r,c)=>r(e),isValue:He,isError:ut,map:n,mapError:r=>yc.error(r(e)),bind:n,exists:He,forall:ut,getOr:wo,or:wo,getOrThunk:Xn,orThunk:Xn,getOrDie:Ps(String(e)),each:Et,toOptional:I.none};return o},yc={value:O1,error:mx,fromOption:(e,n)=>e.fold(()=>mx(n),O1)},ql={generate:e=>{if(!Gt(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return ve(e,(r,c)=>{const u=ts(r);if(u.length!==1)throw new Error("one and only one name per case");const m=u[0],b=r[m];if(o[m]!==void 0)throw new Error("duplicate key detected:"+m);if(m==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Gt(b))throw new Error("case arguments must be an array");n.push(m),o[m]=(...v)=>{const C=v.length;if(C!==b.length)throw new Error("Wrong number of arguments to case "+m+". Expected "+b.length+" ("+b+"), got "+C);return{fold:(...D)=>{if(D.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+D.length);return D[c].apply(null,v)},match:D=>{const N=ts(D);if(n.length!==N.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+N.join(","));if(!es(n,X=>Ke(N,X)))throw new Error("Not all branches were specified when using match. Specified: "+N.join(", ")+`
Required: `+n.join(", "));return D[m].apply(null,v)},log:D=>{console.log(D,{constructors:n,constructor:m,params:v})}}}}),o}};ql.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const ct=e=>{const n=[],o=[];return ve(e,r=>{r.fold(c=>{n.push(c)},c=>{o.push(c)})}),{errors:n,values:o}},X0=e=>e.type==="inline-command"||e.type==="inline-format",Rr=e=>e.type==="block-command"||e.type==="block-format",px=e=>{const n=r=>yc.error({message:r,pattern:e}),o=(r,c,u)=>{if(e.format!==void 0){let m;if(Gt(e.format)){if(!es(e.format,oe))return n(r+" pattern has non-string items in the `format` array");m=e.format}else if(oe(e.format))m=[e.format];else return n(r+" pattern has non-string `format` parameter");return yc.value(c(m))}else return e.cmd!==void 0?oe(e.cmd)?yc.value(u(e.cmd,e.value)):n(r+" pattern has non-string `cmd` parameter"):n(r+" pattern is missing both `format` and `cmd` parameters")};if(!Ut(e))return n("Raw pattern is not an object");if(!oe(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!oe(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let r=e.start,c=e.end;return c.length===0&&(c=r,r=""),o("Inline",u=>({type:"inline-format",start:r,end:c,format:u}),(u,m)=>({type:"inline-command",start:r,end:c,cmd:u,value:m}))}else return e.replacement!==void 0?oe(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):yc.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter"):e.start.length===0?n("Block pattern has empty `start` parameter"):o("Block",r=>({type:"block-format",start:e.start,format:r[0]}),(r,c)=>({type:"block-command",start:e.start,cmd:r,value:c}))},D1=e=>Ie(e,Rr),J0=e=>Ie(e,X0),vc=(e,n)=>({inlinePatterns:J0(e),blockPatterns:D1(e),dynamicPatternsLookup:n}),YT=e=>{const n=ct(Pt(e,px));return ve(n.errors,o=>console.error(o.message,o.pattern)),n.values},gx=e=>n=>{const o=e(n);return YT(o)},wc=fc().deviceType,yg=wc.isTouch(),hb=as.DOM,Mu=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return nn(n,(o,r)=>{const c=r.split("="),u=c[0],m=c.length>1?c[1]:u;return o[el(u)]=el(m),o},{})},kl=e=>Ao(e,RegExp),Tt=e=>n=>n.options.get(e),hi=e=>oe(e)||Ut(e),hx=(e,n="")=>o=>{const r=oe(o);if(r)if(o.indexOf("=")!==-1){const c=Mu(o);return{value:Ho(c,e.id).getOr(n),valid:r}}else return{value:o,valid:r};else return{valid:!1,message:"Must be a string."}},bx=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.documentBaseUrl}),n("body_id",{processor:hx(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:hx(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const r=oe(o)&&So(o);return r?{value:o,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const r=Ke(["block","linebreak","invert","default"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>tn(o)?{valid:!0,value:o}:oe(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const r=o===!1||oe(o)||Nn(o,oe);return r?oe(o)?{value:Pt(o.split(","),el),valid:r}:Gt(o)?{value:o,valid:r}:o===!1?{value:[],valid:r}:{value:o,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:uw(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const r=oe(o)||Nn(o,oe);return r?{value:Gt(o)?o:Pt(o.split(","),el),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const r=tn(o)||oe(o);return r?o===!1||wc.isiPhone()||wc.isiPad()?{value:"",valid:r}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!yg}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"object"}),n("service_message",{processor:"string"}),n("theme",{processor:o=>o===!1||oe(o)||ce(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const r=o===!1||oe(o);return r?{value:o===!1?"":o,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("readonly",{processor:"boolean",default:!1}),n("editable_root",{processor:"boolean",default:!0}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean",default:!0}),n("pad_empty_with_br",{processor:"boolean",default:!1}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:"string"}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:hi}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:hi}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:hi}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>oe(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>Nn(o,Ut)||o===!1?{value:YT(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),n("text_patterns_lookup",{processor:o=>ce(o)?{value:gx(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>Nn(o,kl)?{value:o,valid:!0}:kl(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!1}),n("xss_sanitization",{processor:"boolean",default:!0}),n("details_initial_state",{processor:o=>{const r=Ke(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("details_serialized_state",{processor:o=>{const r=Ke(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("init_content_sync",{processor:"boolean",default:!1}),n("newdocument_content",{processor:"string",default:""}),n("force_hex_color",{processor:o=>{const r=["always","rgb_only","off"],c=Ke(r,o);return c?{value:o,valid:c}:{valid:!1,message:`Must be one of: ${r.join(", ")}.`}},default:"off"}),n("sandbox_iframes",{processor:"boolean",default:!1}),n("convert_unsafe_embeds",{processor:"boolean",default:!1}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:wl.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:hb.getAttrib(e.getElement(),"placeholder")})})},Q0=Tt("iframe_attrs"),yx=Tt("doctype"),ew=Tt("document_base_url"),tw=Tt("body_id"),XT=Tt("body_class"),nw=Tt("content_security_policy"),JT=Tt("br_in_pre"),Va=Tt("forced_root_block"),bb=Tt("forced_root_block_attrs"),QT=Tt("newline_behavior"),eE=Tt("br_newline_selector"),ow=Tt("no_newline_selector"),tE=Tt("keep_styles"),vx=Tt("end_container_on_empty_block"),wx=Tt("automatic_uploads"),yb=Tt("images_reuse_filename"),kx=Tt("images_replace_blob_uris"),sw=Tt("icons"),ip=Tt("icons_url"),nE=Tt("images_upload_url"),oE=Tt("images_upload_base_path"),rw=Tt("images_upload_credentials"),sE=Tt("images_upload_handler"),$d=Tt("content_css_cors"),Fn=Tt("referrer_policy"),aw=Tt("language"),ja=Tt("language_url"),R1=Tt("indent_use_margin"),cw=Tt("indentation"),iw=Tt("content_css"),M1=Tt("content_style"),_x=Tt("font_css"),rE=Tt("directionality"),aE=Tt("inline_boundaries_selector"),vg=Tt("object_resizing"),xx=Tt("resize_img_proportional"),pO=Tt("placeholder"),Uf=Tt("event_root"),cE=Tt("service_message"),wg=Tt("theme"),iE=Tt("theme_url"),lw=Tt("model"),Cx=Tt("model_url"),lp=Tt("inline_boundaries"),lE=Tt("formats"),Sx=Tt("preview_styles"),Tx=Tt("format_empty_lines"),kg=Tt("format_noneditable_selector"),Ex=Tt("custom_ui_selector"),uw=Tt("inline"),uE=Tt("hidden_input"),zx=Tt("submit_patch"),Bu=Tt("add_form_submit_trigger"),vb=Tt("add_unload_trigger"),wb=Tt("custom_undo_redo_levels"),B1=Tt("disable_nodechange"),kb=Tt("readonly"),Gi=Tt("editable_root"),_g=Tt("content_css_cors"),_b=Tt("plugins"),Wf=Tt("external_plugins"),N1=Tt("block_unsupported_drop"),dE=Tt("visual"),fE=Tt("visual_table_class"),Ax=Tt("visual_anchor_class"),mE=Tt("iframe_aria_text"),dw=Tt("setup"),pE=Tt("init_instance_callback"),gE=Tt("urlconverter_callback"),Ox=Tt("auto_focus"),hE=Tt("browser_spellcheck"),Dx=Tt("protect"),bE=Tt("paste_block_drop"),P1=Tt("paste_data_images"),yE=Tt("paste_preprocess"),Rx=Tt("paste_postprocess"),xg=Tt("newdocument_content"),fw=Tt("paste_webkit_styles"),mw=Tt("paste_remove_styles_if_webkit"),pw=Tt("paste_merge_formats"),Mx=Tt("smart_paste"),gw=Tt("paste_as_text"),vE=Tt("paste_tab_spaces"),$1=Tt("allow_html_data_urls"),I1=Tt("text_patterns"),wE=Tt("text_patterns_lookup"),hw=Tt("noneditable_class"),Bx=Tt("editable_class"),kE=Tt("noneditable_regexp"),bw=Tt("preserve_cdata"),_E=Tt("highlight_on_focus"),Cg=Tt("xss_sanitization"),xE=Tt("init_content_sync"),yw=e=>e.options.isSet("text_patterns_lookup"),CE=e=>Xe.explode(e.options.get("font_size_style_values")),SE=e=>Xe.explode(e.options.get("font_size_classes")),TE=e=>e.options.get("encoding")==="xml",Nx=e=>Xe.explode(e.options.get("images_file_types")),EE=Tt("table_tab_navigation"),Zr=Tt("details_initial_state"),gO=Tt("details_serialized_state"),Sg=Tt("force_hex_color"),F1=Tt("sandbox_iframes"),Px=Dt,vw=Je,$x=e=>{const n=e.parentNode;n&&n.removeChild(e)},Ix=e=>{const n=$(e);return{count:e.length-n.length,text:n}},up=e=>{let n;for(;(n=e.data.lastIndexOf(k))!==-1;)e.deleteData(n,1)},xb=(e,n)=>(Mr(e),n),zE=(e,n)=>{const o=Ix(e.data.substr(0,n.offset())),r=Ix(e.data.substr(n.offset()));return(o.text+r.text).length>0?(up(e),_e(e,n.offset()-o.count)):n},AE=(e,n)=>{const o=n.container(),r=dn(js(o.childNodes),e).map(c=>c<n.offset()?_e(o,n.offset()-1):n).getOr(n);return Mr(e),r},Cb=(e,n)=>vw(e)&&n.container()===e?zE(e,n):xb(e,n),ww=(e,n)=>n.container()===e.parentNode?AE(e,n):xb(e,n),Fx=(e,n)=>_e.isTextPosition(n)?Cb(e,n):ww(e,n),Mr=e=>{Px(e)&&Vt(e)&&(kn(e)?e.removeAttribute("data-mce-caret"):$x(e)),vw(e)&&(up(e),e.data.length===0&&$x(e))},Lx=Wn,kw=Bs,hO=zf,Tg="*[contentEditable=false],video,audio,embed,object",OE=(e,n,o)=>{const r=Bd(n.getBoundingClientRect(),o);let c,u;if(e.tagName==="BODY"){const b=e.ownerDocument.documentElement;c=e.scrollLeft||b.scrollLeft,u=e.scrollTop||b.scrollTop}else{const b=e.getBoundingClientRect();c=e.scrollLeft-b.left,u=e.scrollTop-b.top}r.left+=c,r.right+=c,r.top+=u,r.bottom+=u,r.width=1;let m=n.offsetWidth-n.clientWidth;return m>0&&(o&&(m*=-1),r.left+=m,r.right+=m),r},Hx=e=>{var n,o;const r=Tr(ee.fromDom(e),Tg);for(let c=0;c<r.length;c++){const u=r[c].dom;let m=u.previousSibling;if($c(m)){const b=m.data;b.length===1?(n=m.parentNode)===null||n===void 0||n.removeChild(m):m.deleteData(b.length-1,1)}m=u.nextSibling,Fa(m)&&(m.data.length===1?(o=m.parentNode)===null||o===void 0||o.removeChild(m):m.deleteData(0,1))}},_w=(e,n,o,r)=>{const c=Ff();let u,m;const b=Va(e),v=e.dom,C=(U,J)=>{let le;if(O(),hO(J))return null;if(o(J)){const fe=oc(b,J,U),de=OE(n,J,U);v.setStyle(fe,"top",de.top),m=fe;const we=v.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});v.setStyles(we,{...de}),v.add(n,we),c.set({caret:we,element:J,before:U}),U&&v.addClass(we,"mce-visual-caret-before"),D(),le=J.ownerDocument.createRange(),le.setStart(fe,0),le.setEnd(fe,0)}else return m=zs(J,U),le=J.ownerDocument.createRange(),L1(m.nextSibling)?(le.setStart(m,0),le.setEnd(m,0)):(le.setStart(m,1),le.setEnd(m,1)),le;return le},O=()=>{Hx(n),m&&(Mr(m),m=null),c.on(U=>{v.remove(U.caret),c.clear()}),u&&(clearInterval(u),u=void 0)},D=()=>{u=setInterval(()=>{c.on(U=>{r()?v.toggleClass(U.caret,"mce-visual-caret-hidden"):v.addClass(U.caret,"mce-visual-caret-hidden")})},500)};return{show:C,hide:O,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{c.on(U=>{const J=OE(n,U.element,U.before);v.setStyles(U.caret,{...J})})},destroy:()=>clearInterval(u)}},Sb=()=>_t.browser.isFirefox(),L1=e=>Lx(e)||kw(e),Eg=e=>(L1(e)||pl(e)&&Sb())&&_f(ee.fromDom(e)).exists(xn),DE=ta,Zf=Wn,Vx=Bs,qf=Il("display","block table table-cell table-caption list-item"),Gf=Vt,xw=nt,jx=Dt,bO=Je,Cw=Vn,Kf=e=>e>0,Nu=e=>e<0,Tb=(e,n)=>{let o;for(;o=e(n);)if(!xw(o))return o;return null},zg=(e,n,o,r,c)=>{const u=new qo(e,r),m=Zf(e)||xw(e);let b;if(Nu(n)){if(m&&(b=Tb(u.prev.bind(u),!0),o(b)))return b;for(;b=Tb(u.prev.bind(u),c);)if(o(b))return b}if(Kf(n)){if(m&&(b=Tb(u.next.bind(u),!0),o(b)))return b;for(;b=Tb(u.next.bind(u),c);)if(o(b))return b}return null},Sw=(e,n)=>{const o=c=>DE(c.dom),r=c=>c.dom===n;return Ms(ee.fromDom(e),o,r).map(c=>c.dom).getOr(n)},Id=(e,n)=>{for(;e&&e!==n;){if(qf(e))return e;e=e.parentNode}return null},Gl=(e,n,o)=>Id(e.container(),o)===Id(n.container(),o),Eb=(e,n)=>{if(!n)return I.none();const o=n.container(),r=n.offset();return jx(o)?I.from(o.childNodes[r+e]):I.none()},H1=(e,n)=>{var o;const c=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)),c},zb=(e,n,o)=>Id(n,e)===Id(o,e),Tw=(e,n,o)=>{const r=e?"previousSibling":"nextSibling";let c=o;for(;c&&c!==n;){let u=c[r];if(u&&Gf(u)&&(u=u[r]),Zf(u)||Vx(u)){if(zb(n,u,c))return u;break}if(Cw(u))break;c=c.parentNode}return null},Ag=Ue(H1,!0),Ab=Ue(H1,!1),Ew=(e,n,o)=>{let r;const c=Ue(Tw,!0,n),u=Ue(Tw,!1,n),m=o.startContainer,b=o.startOffset;if(nt(m)){const v=bO(m)?m.parentNode:m,C=v.getAttribute("data-mce-caret");if(C==="before"&&(r=v.nextSibling,Eg(r)))return Ag(r);if(C==="after"&&(r=v.previousSibling,Eg(r)))return Ab(r)}if(!o.collapsed)return o;if(Je(m)){if(Gf(m)){if(e===1){if(r=u(m),r)return Ag(r);if(r=c(m),r)return Ab(r)}if(e===-1){if(r=c(m),r)return Ab(r);if(r=u(m),r)return Ag(r)}return o}if($c(m)&&b>=m.data.length-1)return e===1&&(r=u(m),r)?Ag(r):o;if(Fa(m)&&b<=1)return e===-1&&(r=c(m),r)?Ab(r):o;if(b===m.data.length)return r=u(m),r?Ag(r):o;if(b===0)return r=c(m),r?Ab(r):o}return o},Ux=(e,n)=>Eb(e?0:-1,n).filter(Zf),Yf=(e,n,o)=>{const r=Ew(e,n,o);return e===-1?_e.fromRangeStart(r):_e.fromRangeEnd(r)},V1=e=>I.from(e.getNode()).map(ee.fromDom),RE=e=>I.from(e.getNode(!0)).map(ee.fromDom),Wx=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},zw=(e,n)=>{const o=Gl(e,n);return!o&&Mo(e.getNode())?!0:o};var Ys;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Ys||(Ys={}));const yO=Wn,Fd=Je,Zx=Dt,j1=Mo,Xf=Vn,ka=oa,Og=Td,Ob=(e,n)=>{const o=[];let r=e;for(;r&&r!==n;)o.push(r),r=r.parentNode;return o},Dg=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,Aw=(e,n)=>{if(Kf(e)){if(Xf(n.previousSibling)&&!Fd(n.previousSibling))return _e.before(n);if(Fd(n))return _e(n,0)}if(Nu(e)){if(Xf(n.nextSibling)&&!Fd(n.nextSibling))return _e.after(n);if(Fd(n))return _e(n,n.data.length)}return Nu(e)?j1(n)?_e.before(n):_e.after(n):_e.before(n)},Rg=(e,n)=>{const o=n.nextSibling;return o&&Xf(o)?Fd(o)?_e(o,0):_e.before(o):dp(Ys.Forwards,_e.after(n),e)},dp=(e,n,o)=>{let r,c,u,m;if(!Zx(o)||!n)return null;if(n.isEqual(_e.after(o))&&o.lastChild){if(m=_e.after(o.lastChild),Nu(e)&&Xf(o.lastChild)&&Zx(o.lastChild))return j1(o.lastChild)?_e.before(o.lastChild):m}else m=n;const b=m.container();let v=m.offset();if(Fd(b)){if(Nu(e)&&v>0)return _e(b,--v);if(Kf(e)&&v<b.length)return _e(b,++v);r=b}else{if(Nu(e)&&v>0&&(c=Dg(b,v-1),Xf(c)))return!ka(c)&&(u=zg(c,e,Og,c),u)?Fd(u)?_e(u,u.data.length):_e.after(u):Fd(c)?_e(c,c.data.length):_e.before(c);if(Kf(e)&&v<b.childNodes.length&&(c=Dg(b,v),Xf(c)))return j1(c)?Rg(o,c):!ka(c)&&(u=zg(c,e,Og,c),u)?Fd(u)?_e(u,0):_e.before(u):Fd(c)?_e(c,0):_e.after(c);r=c||m.getNode()}if(r&&(Kf(e)&&m.isAtEnd()||Nu(e)&&m.isAtStart())&&(r=zg(r,e,ut,o,!0),Og(r,o)))return Aw(e,r);c=r&&zg(r,e,Og,o);const C=$r(Ie(Ob(b,o),yO));return C&&(!c||!C.contains(c))?(Kf(e)?m=_e.after(C):m=_e.before(C),m):c?Aw(e,c):null},Kl=e=>({next:n=>dp(Ys.Forwards,n,e),prev:n=>dp(Ys.Backwards,n,e)}),ME=(e,n,o)=>{const r=e?_e.before(o):_e.after(o);return qr(e,n,r)},BE=e=>Mo(e)?_e.before(e):_e.after(e),Jf=e=>_e.isTextPosition(e)?e.offset()===0:Vn(e.getNode()),Mg=e=>{if(_e.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return Vn(e.getNode(!0))},U1=(e,n)=>!_e.isTextPosition(e)&&!_e.isTextPosition(n)&&e.getNode()===n.getNode(!0),Pu=e=>!_e.isTextPosition(e)&&Mo(e.getNode()),Ow=(e,n,o)=>e?!U1(n,o)&&!Pu(n)&&Mg(n)&&Jf(o):!U1(o,n)&&Jf(n)&&Mg(o),qr=(e,n,o)=>{const r=Kl(n);return I.from(e?r.next(o):r.prev(o))},Ld=(e,n,o)=>qr(e,n,o).bind(r=>Gl(o,r,n)&&Ow(e,o,r)?qr(e,n,r):I.some(r)),_l=(e,n,o,r)=>Ld(e,n,o).bind(c=>r(c)?_l(e,n,c,r):I.some(c)),Bg=(e,n)=>{const o=e?n.firstChild:n.lastChild;return Je(o)?I.some(_e(o,e?0:o.data.length)):o?Vn(o)?I.some(e?_e.before(o):BE(o)):ME(e,n,o):I.none()},Ua=Ue(qr,!0),kc=Ue(qr,!1),ac=Ue(Bg,!0),xl=Ue(Bg,!1),W1="_mce_caret",bi=e=>Dt(e)&&e.id===W1,fp=(e,n)=>{let o=n;for(;o&&o!==e;){if(bi(o))return o;o=o.parentNode}return null},Dw=e=>oe(e.start),NE=e=>Qt(e,"rng"),qx=e=>Qt(e,"id"),Db=e=>Qt(e,"name"),Gx=e=>Xe.isArray(e.start),Rb=e=>!Db(e)&&tn(e.forward)?e.forward:!0,Z1=(e,n)=>(Dt(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),PE=(e,n)=>{const o=I.from(rc(e.getRoot(),n.start)),r=I.from(rc(e.getRoot(),n.end));return ar(o,r,(c,u)=>{const m=e.createRng();return m.setStart(c.container(),c.offset()),m.setEnd(u.container(),u.offset()),{range:m,forward:Rb(n)}})},Kx=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(k);e.appendChild(c),n.setStart(c,0),n.setEnd(c,0)},$E=e=>!e.hasChildNodes(),vO=(e,n)=>xl(e).fold(He,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),Yx=(e,n,o)=>$E(n)&&fp(e,n)?(Kx(n,o),!0):!1,Kn=(e,n,o,r)=>{const c=o[n?"start":"end"],u=e.getRoot();if(c){let m=u,b=c[0];for(let v=c.length-1;m&&v>=1;v--){const C=m.childNodes;if(Yx(u,m,r))return!0;if(c[v]>C.length-1)return Yx(u,m,r)?!0:vO(m,r);m=C[c[v]]}Je(m)&&(b=Math.min(c[0],m.data.length)),Dt(m)&&(b=Math.min(c[0],m.childNodes.length)),n?r.setStart(m,b):r.setEnd(m,b)}return!0},Yl=e=>Je(e)&&e.data.length>0,mp=(e,n,o)=>{const r=e.get(o.id+"_"+n),c=r==null?void 0:r.parentNode,u=o.keep;if(r&&c){let m,b;if(n==="start"?u?r.hasChildNodes()?(m=r.firstChild,b=1):Yl(r.nextSibling)?(m=r.nextSibling,b=0):Yl(r.previousSibling)?(m=r.previousSibling,b=r.previousSibling.data.length):(m=c,b=e.nodeIndex(r)+1):(m=c,b=e.nodeIndex(r)):u?r.hasChildNodes()?(m=r.firstChild,b=1):Yl(r.previousSibling)?(m=r.previousSibling,b=r.previousSibling.data.length):(m=c,b=e.nodeIndex(r)):(m=c,b=e.nodeIndex(r)),!u){const v=r.previousSibling,C=r.nextSibling;Xe.each(Xe.grep(r.childNodes),D=>{Je(D)&&(D.data=D.data.replace(/\uFEFF/g,""))});let O;for(;O=e.get(o.id+"_"+n);)e.remove(O,!0);if(Je(C)&&Je(v)&&!_t.browser.isOpera()){const D=v.data.length;v.appendData(C.data),e.remove(C),m=v,b=D}}return I.some(_e(m,b))}else return I.none()},Rw=(e,n)=>{const o=e.createRng();return Kn(e,!0,n,o)&&Kn(e,!1,n,o)?I.some({range:o,forward:Rb(n)}):I.none()},Xx=(e,n)=>{const o=mp(e,"start",n),r=mp(e,"end",n);return ar(o,r.or(o),(c,u)=>{const m=e.createRng();return m.setStart(Z1(e,c.container()),c.offset()),m.setEnd(Z1(e,u.container()),u.offset()),{range:m,forward:Rb(n)}})},Mb=(e,n)=>I.from(e.select(n.name)[n.index]).map(o=>{const r=e.createRng();return r.selectNode(o),{range:r,forward:!0}}),IE=(e,n)=>{const o=e.dom;if(n){if(Gx(n))return Rw(o,n);if(Dw(n))return PE(o,n);if(qx(n))return Xx(o,n);if(Db(n))return Mb(o,n);if(NE(n))return I.some({range:n.rng,forward:Rb(n)})}return I.none()},Ng=(e,n,o)=>KT(e,n,o),q1=(e,n)=>{IE(e,n).each(({range:o,forward:r})=>{e.setRng(o,r)})},yi=e=>Dt(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",G1=(e=>n=>e===n)(uo),Pg=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Qf=e=>!Pg(e)&&!G1(e)&&!Ui(e),K1=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},Y1=e=>cs(e,n=>{const o=I0(n);return o?[ee.fromDom(o)]:[]}),pp=e=>K1(e).length>1,FE=e=>Ie(Y1(e),$a),Jx=e=>Tr(e,"td[data-mce-selected],th[data-mce-selected]"),LE=(e,n)=>{const o=Jx(n);return o.length>0?o:FE(e)},$g=e=>LE(K1(e.selection.getSel()),ee.fromDom(e.getBody())),Hd=(e,n)=>hd(e,"table",n),HE=e=>{const n=e.startContainer,o=e.startOffset;return Je(n)?o===0?I.some(ee.fromDom(n)):I.none():I.from(n.childNodes[o]).map(ee.fromDom)},VE=e=>{const n=e.endContainer,o=e.endOffset;return Je(n)?o===n.data.length?I.some(ee.fromDom(n)):I.none():I.from(n.childNodes[o-1]).map(ee.fromDom)},Qx=e=>xf(e).fold(Ye([e]),n=>[e].concat(Qx(n))),Mw=e=>li(e).fold(Ye([e]),n=>oo(n)==="br"?Mc(n).map(o=>[e].concat(Mw(o))).getOr([]):[e].concat(Mw(n))),Bw=(e,n)=>ar(HE(n),VE(n),(o,r)=>{const c=go(Qx(e),Ue(fo,o)),u=go(Mw(e),Ue(fo,r));return c.isSome()&&u.isSome()}).getOr(!1),Nw=(e,n,o,r)=>{const c=o,u=new qo(o,c),m=ns(e.schema.getMoveCaretBeforeOnEnterElements(),(v,C)=>!Ke(["td","th","table"],C.toLowerCase()));let b=o;do{if(Je(b)&&Xe.trim(b.data).length!==0){r?n.setStart(b,0):n.setEnd(b,b.data.length);return}if(m[b.nodeName]){r?n.setStartBefore(b):b.nodeName==="BR"?n.setEndBefore(b):n.setEndAfter(b);return}}while(b=r?u.next():u.prev());c.nodeName==="BODY"&&(r?n.setStart(c,0):n.setEnd(c,c.childNodes.length))},X1=e=>{const n=e.selection.getSel();return Re(n)&&n.rangeCount>0},em=(e,n)=>{const o=$g(e);o.length>0?ve(o,r=>{const c=r.dom,u=e.dom.createRng();u.setStartBefore(c),u.setEndAfter(c),n(u,!0)}):n(e.selection.getRng(),!1)},e2=(e,n,o)=>{const r=fx(e,n);o(r),e.moveToBookmark(r)},Bb=e=>Qo(e==null?void 0:e.nodeType),Pw=e=>Dt(e)&&!yi(e)&&!bi(e)&&!ji(e),jE=(e,n)=>{if(Pw(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),r=parseInt(o,10);return!isNaN(r)&&r>0}else return!1},Nb=(e,n,o)=>{const{selection:r,dom:c}=e,u=r.getNode(),m=Wn(u);e2(r,!0,()=>{n()}),m&&Wn(u)&&c.isChildOf(u,e.getBody())?e.selection.select(u):o(r.getStart())&&UE(c,r)},UE=(e,n)=>{var o,r;const c=n.getRng(),{startContainer:u,startOffset:m}=c,b=n.getNode();if(!jE(e,b)&&Dt(u)){const v=u.childNodes,C=e.getRoot();let O;if(m<v.length){const D=v[m];O=new qo(D,(o=e.getParent(D,e.isBlock))!==null&&o!==void 0?o:C)}else{const D=v[v.length-1];O=new qo(D,(r=e.getParent(D,e.isBlock))!==null&&r!==void 0?r:C),O.next(!0)}for(let D=O.current();D;D=O.next()){if(e.getContentEditable(D)==="false")return;if(Je(D)&&!or(D)){c.setStart(D,0),n.setRng(c);return}}}},Ct=(e,n,o)=>{if(e){const r=n?"nextSibling":"previousSibling";for(e=e[r];e;e=e[r])if(Dt(e)||!or(e))return e}},yr=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||Gn(e,n),Vd=(e,n,o)=>e.schema.isValidChild(n,o),or=(e,n=!1)=>{if(Re(e)&&Je(e)){const o=n?e.data.replace(/ /g," "):e.data;return Df(o)}else return!1},Ki=e=>Re(e)&&Je(e)&&e.length===0,J1=(e,n)=>{const o="[data-mce-cef-wrappable]",r=kg(e),c=Aa(r)?o:`${o},${r}`;return ii(ee.fromDom(n),c)},Pb=(e,n)=>{const o=e.dom;return Pw(n)&&o.getContentEditable(n)==="false"&&J1(e,n)&&o.select('[contenteditable="true"]',n).length===0},Xl=(e,n)=>ce(e)?e(n):(Re(n)&&(e=e.replace(/%(\w+)/g,(o,r)=>n[r]||o)),e),Q1=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),ev=(e,n)=>{if(yn(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=tg(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},Ig=(e,n,o)=>{const r=e.getStyle(n,o);return ev(r,o)},t2=(e,n)=>{let o;return e.getParent(n,r=>Dt(r)?(o=e.getStyle(r,"text-decoration"),!!o&&o!=="none"):!1),o},$b=(e,n,o)=>e.getParents(n,o,e.getRoot()),$w=(e,n,o)=>{const r=e.formatter.get(n);return Re(r)&&hn(r,o)},Iw=(e,n)=>$w(e,n,r=>{const c=u=>ce(u)||u.length>1&&u.charAt(0)==="%";return hn(["styles","attributes"],u=>Ho(r,u).exists(m=>{const b=Gt(m)?m:Ni(m);return hn(b,c)}))}),WE=(e,n,o)=>{const r=["inline","block","selector","attributes","styles","classes"],c=u=>ns(u,(m,b)=>hn(r,v=>v===b));return $w(e,n,u=>{const m=c(u);return $w(e,o,b=>{const v=c(b);return Pi(m,v)})})},Jl=e=>kr(e,"block"),tv=e=>Jl(e)&&e.wrapper===!0,Fg=e=>Jl(e)&&e.wrapper!==!0,ca=e=>kr(e,"selector"),lr=e=>kr(e,"inline"),nv=e=>ca(e)&&lr(e)&&Vo(Ho(e,"mixed"),!0),Ib=e=>ca(e)&&e.expand!==!1&&!lr(e),ov=e=>{const n=[];let o=e;for(;o;){if(Je(o)&&o.data!==k||o.childNodes.length>1)return[];Dt(o)&&n.push(o),o=o.firstChild}return n},Fb=e=>ov(e).length>0,Lb=e=>bi(e.dom)&&Fb(e.dom),Lg=yi,n2=$b,Hb=or,o2=yr,s2=e=>Mo(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,r2=(e,n)=>{let o=n;for(;o;){if(Dt(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},Yi=(e,n,o,r)=>{const c=n.data;if(e){for(let u=o;u>0;u--)if(r(c.charAt(u-1)))return u}else for(let u=o;u<c.length;u++)if(r(c.charAt(u)))return u;return-1},_a=(e,n,o)=>Yi(e,n,o,r=>G1(r)||Pg(r)),Cl=(e,n,o)=>Yi(e,n,o,Qf),_c=(e,n,o,r,c,u)=>{let m;const b=e.getParent(o,e.isBlock)||n,v=(O,D,N)=>{const G=Lf(e),X=c?G.backwards:G.forwards;return I.from(X(O,D,(U,J)=>Lg(U.parentNode)?-1:(m=U,N(c,U,J)),b))};return v(o,r,_a).bind(O=>u?v(O.container,O.offset+(c?-1:0),Cl):I.some(O)).orThunk(()=>m?I.some({container:m,offset:c?0:m.length}):I.none())},Vb=(e,n,o,r,c)=>{const u=r[c];Je(r)&&Aa(r.data)&&u&&(r=u);const m=n2(e,r);for(let b=0;b<m.length;b++)for(let v=0;v<n.length;v++){const C=n[v];if(!(Re(C.collapsed)&&C.collapsed!==o.collapsed)&&ca(C)&&e.is(m[b],C.selector))return m[b]}return r},sv=(e,n,o,r)=>{var c;let u=o;const m=e.getRoot(),b=n[0];if(Jl(b)&&(u=b.wrapper?null:e.getParent(o,b.block,m)),!u){const v=(c=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&c!==void 0?c:m;u=e.getParent(Je(o)?o.parentNode:o,C=>C!==m&&o2(e.schema,C),v)}if(u&&Jl(b)&&b.wrapper&&(u=n2(e,u,"ul,ol").reverse()[0]||u),!u)for(u=o;u&&u[r]&&!e.isBlock(u[r])&&(u=u[r],!Q1(u,"br")););return u||o},a2=(e,n,o,r)=>{const c=o.parentNode;return Re(o[r])?!1:c===n||yn(c)||e.isBlock(c)?!0:a2(e,n,c,r)},jb=(e,n,o,r,c)=>{let u=o;const m=c?"previousSibling":"nextSibling",b=e.getRoot();if(Je(o)&&!Hb(o)&&(c?r>0:r<o.data.length))return o;for(;u;){if(!n[0].block_expand&&e.isBlock(u))return u;for(let v=u[m];v;v=v[m]){const C=Je(v)&&!a2(e,b,v,m);if(!Lg(v)&&!s2(v)&&!Hb(v,C))return u}if(u===b||u.parentNode===b){o=u;break}u=u.parentNode}return o},ZE=e=>Lg(e.parentNode)||Lg(e),jd=(e,n,o,r=!1)=>{let{startContainer:c,startOffset:u,endContainer:m,endOffset:b}=n;const v=o[0];return Dt(c)&&c.hasChildNodes()&&(c=Uc(c,u),Je(c)&&(u=0)),Dt(m)&&m.hasChildNodes()&&(m=Uc(m,n.collapsed?b:b-1),Je(m)&&(b=m.data.length)),c=r2(e,c),m=r2(e,m),ZE(c)&&(c=Lg(c)?c:c.parentNode,n.collapsed?c=c.previousSibling||c:c=c.nextSibling||c,Je(c)&&(u=n.collapsed?c.length:0)),ZE(m)&&(m=Lg(m)?m:m.parentNode,n.collapsed?m=m.nextSibling||m:m=m.previousSibling||m,Je(m)&&(b=n.collapsed?0:m.length)),n.collapsed&&(_c(e,e.getRoot(),c,u,!0,r).each(({container:D,offset:N})=>{c=D,u=N}),_c(e,e.getRoot(),m,b,!1,r).each(({container:D,offset:N})=>{m=D,b=N})),(lr(v)||v.block_expand)&&((!lr(v)||!Je(c)||u===0)&&(c=jb(e,o,c,u,!0)),(!lr(v)||!Je(m)||b===m.data.length)&&(m=jb(e,o,m,b,!1))),Ib(v)&&(c=Vb(e,o,n,c,"previousSibling"),m=Vb(e,o,n,m,"nextSibling")),(Jl(v)||ca(v))&&(c=sv(e,o,c,"previousSibling"),m=sv(e,o,m,"nextSibling"),Jl(v)&&(e.isBlock(c)||(c=jb(e,o,c,u,!0)),e.isBlock(m)||(m=jb(e,o,m,b,!1)))),Dt(c)&&c.parentNode&&(u=e.nodeIndex(c),c=c.parentNode),Dt(m)&&m.parentNode&&(b=e.nodeIndex(m)+1,m=m.parentNode),{startContainer:c,startOffset:u,endContainer:m,endOffset:b}},Ub=(e,n,o)=>{var r;const c=n.startOffset,u=Uc(n.startContainer,c),m=n.endOffset,b=Uc(n.endContainer,m-1),v=J=>{const le=J[0];Je(le)&&le===u&&c>=le.data.length&&J.splice(0,1);const fe=J[J.length-1];return m===0&&J.length>0&&fe===b&&Je(fe)&&J.splice(J.length-1,1),J},C=(J,le,fe)=>{const de=[];for(;J&&J!==fe;J=J[le])de.push(J);return de},O=(J,le)=>e.getParent(J,fe=>fe.parentNode===le,le),D=(J,le,fe)=>{const de=fe?"nextSibling":"previousSibling";for(let we=J,We=we.parentNode;we&&we!==le;we=We){We=we.parentNode;const at=C(we===J?we:we[de],de);at.length&&(fe||at.reverse(),o(v(at)))}};if(u===b)return o(v([u]));const N=(r=e.findCommonAncestor(u,b))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(u,b))return D(u,N,!0);if(e.isChildOf(b,u))return D(b,N);const G=O(u,N)||u,X=O(b,N)||b;D(u,G,!0);const U=C(G===u?G:G.nextSibling,"nextSibling",X===b?X.nextSibling:X);U.length&&o(v(U)),D(b,X)},Fw=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],c2=e=>Ur(e)&&di(e)===k,i2=(e,n,o,r)=>pc(n).fold(()=>"skipping",c=>r==="br"||c2(n)?"valid":ox(n)?"existing":bi(n.dom)?"caret":hn(Fw,u=>ii(n,u))?"valid-block":!Vd(e,o,r)||!Vd(e,oo(c),o)?"invalid-child":"valid"),Lw=(e,n)=>{const o=jd(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},rv=(e,n,o,r,c,u)=>{const{uid:m=n,...b}=o;fd(e,v1()),ss(e,`${lg()}`,m),ss(e,`${Ou()}`,r);const{attributes:v={},classes:C=[]}=c(m,b);if(ai(e,v),HT(e,C),u){C.length>0&&ss(e,`${dg()}`,C.join(","));const O=ts(v);O.length>0&&ss(e,`${np()}`,O.join(","))}},Uo=e=>{md(e,v1()),Is(e,`${lg()}`),Is(e,`${Ou()}`),Is(e,`${ug()}`);const n=al(e,`${np()}`).map(r=>r.split(",")).getOr([]),o=al(e,`${dg()}`).map(r=>r.split(",")).getOr([]);ve(n,r=>Is(e,r)),ax(e,o),Is(e,`${dg()}`),Is(e,`${np()}`)},Ud=(e,n,o,r,c)=>{const u=ee.fromTag("span",e);return rv(u,n,o,r,c,!1),u},l2=(e,n,o,r,c,u)=>{const m=[],b=Ud(e.getDoc(),o,u,r,c),v=Ff(),C=()=>{v.clear()},O=()=>v.get().getOrThunk(()=>{const X=jc(b);return m.push(X),v.set(X),X}),D=X=>{ve(X,N)},N=X=>{switch(i2(e,X,"span",oo(X))){case"invalid-child":{C();const J=Sr(X);D(J),C();break}case"valid-block":{C(),rv(X,o,u,r,c,!0);break}case"valid":{const J=O();$h(X,J);break}}},G=X=>{const U=Pt(X,ee.fromDom);D(U)};return Ub(e.dom,n,X=>{C(),G(X)}),m},Hw=(e,n,o,r)=>{e.undoManager.transact(()=>{const c=e.selection,u=c.getRng(),m=$g(e).length>0,b=op("mce-annotation");if(u.collapsed&&!m&&Lw(e,u),c.getRng().collapsed&&!m){const v=Ud(e.getDoc(),b,r,n,o.decorate);vd(v,uo),c.getRng().insertNode(v.dom),c.select(v.dom)}else e2(c,!1,()=>{em(e,v=>{l2(e,v,b,n,o.decorate,r)})})})},Vw=e=>{const n=rx();pi(e,n);const o=va(e,n),r=ri("span"),c=u=>{ve(u,m=>{r(m)?Na(m):Uo(m)})};return{register:(u,m)=>{n.register(u,m)},annotate:(u,m)=>{n.lookup(u).each(b=>{Hw(e,u,b,m)})},annotationChanged:(u,m)=>{o.addListener(u,m)},remove:u=>{Ls(e,I.some(u)).each(({elements:m})=>{const b=e.selection.getBookmark();c(m),e.selection.moveToBookmark(b)})},removeAll:u=>{const m=e.selection.getBookmark();dt(w1(e,u),(b,v)=>{c(b)}),e.selection.moveToBookmark(m)},getAll:u=>{const m=w1(e,u);return ho(m,b=>Pt(b,v=>v.dom))}}},gp=e=>({getBookmark:Ue(Ng,e),moveToBookmark:Ue(q1,e)});gp.isBookmarkNode=yi;const jw=(e,n,o)=>o.collapsed?!1:hn(o.getClientRects(),r=>ix(r,e,n)),Uw=(e,n)=>e.dispatch("PreProcess",n),qE=(e,n)=>e.dispatch("PostProcess",n),Hg=e=>{e.dispatch("remove")},Vg=e=>{e.dispatch("detach")},Ww=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},Zw=(e,n,o,r,c)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:r,origin:c})},Sl=(e,n,o,r,c)=>{e.dispatch("ObjectResized",{target:n,width:o,height:r,origin:c})},tm=e=>{e.dispatch("PreInit")},GE=e=>{e.dispatch("PostRender")},Wb=e=>{e.dispatch("Init")},KE=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},Zc=(e,n,o)=>{e.dispatch(n,o)},xa=(e,n,o,r)=>{e.dispatch("FormatApply",{format:n,node:o,vars:r})},hp=(e,n,o,r)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:r})},wO=(e,n)=>e.dispatch("BeforeSetContent",n),u2=(e,n)=>e.dispatch("SetContent",n),YE=(e,n)=>e.dispatch("BeforeGetContent",n),Zn=(e,n)=>e.dispatch("GetContent",n),qw=(e,n)=>{e.dispatch("AutocompleterStart",n)},d2=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},Gw=e=>{e.dispatch("AutocompleterEnd")},XE=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),JE=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),f2=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),QE=(e,n)=>e.dispatch("EditableRootStateChange",{state:n}),zt={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||zt.metaKeyPressed(e),metaKeyPressed:e=>_t.os.isMacOS()||_t.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},nm="data-mce-selected",m2="table,img,figure.image,hr,video,span.mce-preview-object,details",Zb=Math.abs,qb=Math.round,e4={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},kO=e=>e.type==="longpress"||e.type.indexOf("touch")===0,_O=(e,n)=>{const o=n.dom,r=n.getDoc(),c=document,u=n.getBody();let m,b,v,C,O,D,N,G,X,U,J,le,fe,de,we,We,at;const kt=lt=>Re(lt)&&(ba(lt)||o.is(lt,"figure.image")),Ae=lt=>Bs(lt)||o.hasClass(lt,"mce-preview-object"),Se=(lt,mn)=>{if(kO(lt)){const to=lt.touches[0];return kt(lt.target)&&!jw(to.clientX,to.clientY,mn)}else return kt(lt.target)&&!jw(lt.clientX,lt.clientY,mn)},je=lt=>{const mn=lt.target;Se(lt,n.selection.getRng())&&!lt.isDefaultPrevented()&&n.selection.select(mn)},Rt=lt=>o.hasClass(lt,"mce-preview-object")&&Re(lt.firstElementChild)?[lt,lt.firstElementChild]:o.is(lt,"figure.image")?[lt.querySelector("img")]:[lt],Wt=lt=>{const mn=vg(n);return!mn||lt.getAttribute("data-mce-resize")==="false"||lt===n.getBody()?!1:o.hasClass(lt,"mce-preview-object")&&Re(lt.firstElementChild)?ii(ee.fromDom(lt.firstElementChild),mn):ii(ee.fromDom(lt),mn)},Rn=lt=>Ae(lt)?o.create("img",{src:_t.transparentSrc}):lt.cloneNode(!0),zn=(lt,mn,to)=>{if(Re(to)){const Wo=Rt(lt);ve(Wo,Lo=>{Lo.style[mn]||!n.schema.isValid(Lo.nodeName.toLowerCase(),mn)?o.setStyle(Lo,mn,to):o.setAttrib(Lo,mn,""+to)})}},Fo=(lt,mn,to)=>{zn(lt,"width",mn),zn(lt,"height",to)},Xo=lt=>{let mn,to,Wo,Lo,Hr;mn=lt.screenX-D,to=lt.screenY-N,de=mn*C[2]+U,we=to*C[3]+J,de=de<5?5:de,we=we<5?5:we,(kt(m)||Ae(m))&&xx(n)!==!1?Wo=!zt.modifierPressed(lt):Wo=zt.modifierPressed(lt),Wo&&(Zb(mn)>Zb(to)?(we=qb(de*le),de=qb(we/le)):(de=qb(we/le),we=qb(de*le))),Fo(b,de,we),Lo=C.startPos.x+mn,Hr=C.startPos.y+to,Lo=Lo>0?Lo:0,Hr=Hr>0?Hr:0,o.setStyles(v,{left:Lo,top:Hr,display:"block"}),v.innerHTML=de+" &times; "+we,C[2]<0&&b.clientWidth<=de&&o.setStyle(b,"left",G+(U-de)),C[3]<0&&b.clientHeight<=we&&o.setStyle(b,"top",X+(J-we)),mn=u.scrollWidth-We,to=u.scrollHeight-at,mn+to!==0&&o.setStyles(v,{left:Lo-mn,top:Hr-to}),fe||(Zw(n,m,U,J,"corner-"+C.name),fe=!0)},Js=()=>{const lt=fe;fe=!1,lt&&(zn(m,"width",de),zn(m,"height",we)),o.unbind(r,"mousemove",Xo),o.unbind(r,"mouseup",Js),c!==r&&(o.unbind(c,"mousemove",Xo),o.unbind(c,"mouseup",Js)),o.remove(b),o.remove(v),o.remove(O),Ta(m),lt&&(Sl(n,m,de,we,"corner-"+C.name),o.setAttrib(m,"style",o.getAttrib(m,"style"))),n.nodeChanged()},Ta=lt=>{jn();const mn=o.getPos(lt,u),to=mn.x,Wo=mn.y,Lo=lt.getBoundingClientRect(),Hr=Lo.width||Lo.right-Lo.left,Qu=Lo.height||Lo.bottom-Lo.top;m!==lt&&(mt(),m=lt,de=we=0);const wm=n.dispatch("ObjectSelected",{target:lt});Wt(lt)&&!wm.isDefaultPrevented()?dt(e4,(Kc,cu)=>{const bn=Jo=>{const vs=Rt(m)[0];D=Jo.screenX,N=Jo.screenY,U=vs.clientWidth,J=vs.clientHeight,le=J/U,C=Kc,C.name=cu,C.startPos={x:Hr*Kc[0]+to,y:Qu*Kc[1]+Wo},We=u.scrollWidth,at=u.scrollHeight,O=o.add(u,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(O,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),b=Rn(m),o.addClass(b,"mce-clonedresizable"),o.setAttrib(b,"data-mce-bogus","all"),b.contentEditable="false",o.setStyles(b,{left:to,top:Wo,margin:0}),Fo(b,Hr,Qu),b.removeAttribute(nm),u.appendChild(b),o.bind(r,"mousemove",Xo),o.bind(r,"mouseup",Js),c!==r&&(o.bind(c,"mousemove",Xo),o.bind(c,"mouseup",Js)),v=o.add(u,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},U+" &times; "+J)};let po=o.get("mceResizeHandle"+cu);po&&o.remove(po),po=o.add(u,"div",{id:"mceResizeHandle"+cu,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+cu+"-resize; margin:0; padding:0"}),o.bind(po,"mousedown",Jo=>{Jo.stopImmediatePropagation(),Jo.preventDefault(),bn(Jo)}),Kc.elm=po,o.setStyles(po,{left:Hr*Kc[0]+to-po.offsetWidth/2,top:Qu*Kc[1]+Wo-po.offsetHeight/2})}):mt(!1)},No=ib(Ta,0),mt=(lt=!0)=>{No.cancel(),jn(),m&&lt&&m.removeAttribute(nm),dt(e4,(mn,to)=>{const Wo=o.get("mceResizeHandle"+to);Wo&&(o.unbind(Wo),o.remove(Wo))})},Ft=(lt,mn)=>o.isChildOf(lt,mn),An=lt=>{if(fe||n.removed||n.composing)return;const mn=lt.type==="mousedown"?lt.target:e.getNode(),to=ul(ee.fromDom(mn),m2).map(Lo=>Lo.dom).filter(Lo=>o.isEditable(Lo.parentElement)||Lo.nodeName==="IMG"&&o.isEditable(Lo)).getOrUndefined(),Wo=Re(to)?o.getAttrib(to,nm,"1"):"1";if(ve(o.select(`img[${nm}],hr[${nm}]`),Lo=>{Lo.removeAttribute(nm)}),Re(to)&&Ft(to,u)&&n.hasFocus()){Bt();const Lo=e.getStart(!0);if(Ft(Lo,to)&&Ft(e.getEnd(!0),to)){o.setAttrib(to,nm,Wo),No.throttle(to);return}}mt()},jn=()=>{dt(e4,lt=>{lt.elm&&(o.unbind(lt.elm),delete lt.elm)})},Bt=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{Bt(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",An),n.on("keyup compositionend",lt=>{m&&m.nodeName==="TABLE"&&An(lt)}),n.on("hide blur",mt),n.on("contextmenu longpress",je,!0)}),n.on("remove",jn),{isResizable:Wt,showResizeRect:Ta,hideResizeRect:mt,updateResizeRect:An,destroy:()=>{No.cancel(),m=b=O=null}}},J7=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,r)=>{e.setStart(o.dom,r)},o=>{e.setStartAfter(o.dom)})},t4=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,r)=>{e.setEnd(o.dom,r)},o=>{e.setEndAfter(o.dom)})},p2=(e,n,o)=>{const r=e.document.createRange();return J7(r,n),t4(r,o),r},en=(e,n,o,r,c)=>{const u=e.document.createRange();return u.setStart(n.dom,o),u.setEnd(r.dom,c),u},Wd=ql.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),g2=(e,n,o)=>n(ee.fromDom(o.startContainer),o.startOffset,ee.fromDom(o.endContainer),o.endOffset),n4=(e,n)=>n.match({domRange:o=>({ltr:Ye(o),rtl:I.none}),relative:(o,r)=>({ltr:$i(()=>p2(e,o,r)),rtl:$i(()=>I.some(p2(e,r,o)))}),exact:(o,r,c,u)=>({ltr:$i(()=>en(e,o,r,c,u)),rtl:$i(()=>I.some(en(e,c,u,o,r)))})}),Gb=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(c=>c.collapsed===!1).map(c=>Wd.rtl(ee.fromDom(c.endContainer),c.endOffset,ee.fromDom(c.startContainer),c.startOffset)).getOrThunk(()=>g2(e,Wd.ltr,o)):g2(e,Wd.ltr,o)},o4=(e,n)=>{const o=n4(e,n);return Gb(e,o)};Wd.ltr,Wd.rtl;const Kw={create:(e,n,o,r)=>({start:e,soffset:n,finish:o,foffset:r})},b2=(e,n,o)=>{var r,c;return I.from((c=(r=e.dom).caretPositionFromPoint)===null||c===void 0?void 0:c.call(r,n,o)).bind(u=>{if(u.offsetNode===null)return I.none();const m=e.dom.createRange();return m.setStart(u.offsetNode,u.offset),m.collapse(),I.some(m)})},av=(e,n,o)=>{var r,c;return I.from((c=(r=e.dom).caretRangeFromPoint)===null||c===void 0?void 0:c.call(r,n,o))},s4=document.caretPositionFromPoint?b2:document.caretRangeFromPoint?av:I.none,r4=(e,n,o)=>{const r=ee.fromDom(e.document);return s4(r,n,o).map(c=>Kw.create(ee.fromDom(c.startContainer),c.startOffset,ee.fromDom(c.endContainer),c.endOffset))},jg=ql.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Yw=(e,n,o,r)=>e.fold(n,o,r),y2=e=>e.fold(wo,wo,wo),a4=jg.before,c4=jg.on,cv=jg.after,$u={before:a4,on:c4,after:cv,cata:Yw,getStart:y2},iv=ql.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),yo=e=>iv.exact(e.start,e.soffset,e.finish,e.foffset),i4=e=>e.match({domRange:n=>ee.fromDom(n.startContainer),relative:(n,o)=>$u.getStart(n),exact:(n,o,r,c)=>n}),Zd=iv.domRange,Iu=iv.relative,lv=iv.exact,vi=e=>{const n=i4(e);return gd(n)},uv=Kw.create,qd={domRange:Zd,relative:Iu,exact:lv,exactFromRange:yo,getWin:vi,range:uv},Ug=(e,n)=>{const o=oo(e);return o==="input"?$u.after(e):Ke(["br","img"],o)?n===0?$u.before(e):$u.after(e):$u.on(e,n)},Kb=(e,n)=>{const o=e.fold($u.before,Ug,$u.after),r=n.fold($u.before,Ug,$u.after);return qd.relative(o,r)},Xw=(e,n,o,r)=>{const c=Ug(e,n),u=Ug(o,r);return qd.relative(c,u)},l4=e=>e.match({domRange:n=>{const o=ee.fromDom(n.startContainer),r=ee.fromDom(n.endContainer);return Xw(o,n.startOffset,r,n.endOffset)},relative:Kb,exact:Xw}),Jw=(e,n)=>{const r=document.createDocumentFragment();return ve(e,c=>{r.appendChild(c.dom)}),ee.fromDom(r)},u4=e=>{const n=qd.getWin(e).dom,o=(c,u,m,b)=>en(n,c,u,m,b),r=l4(e);return o4(n,r).match({ltr:o,rtl:o})},Yn=(e,n,o)=>r4(e,n,o),wi=(e,n,o)=>{const r=gd(ee.fromDom(o));return Yn(r.dom,e,n).map(c=>{const u=o.createRange();return u.setStart(c.start.dom,c.soffset),u.setEnd(c.finish.dom,c.foffset),u}).getOrUndefined()},Gd=(e,n)=>Re(e)&&Re(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,d4=(e,n,o)=>{let r=e;for(;r&&r!==n;){if(o(r))return r;r=r.parentNode}return null},Wg=(e,n,o)=>d4(e,n,o)!==null,ao=(e,n,o)=>Wg(e,n,r=>r.nodeName===o),f4=(e,n)=>Vt(e)&&!Wg(e,n,bi),Qw=(e,n,o)=>{const r=n.parentNode;if(r){const c=new qo(n,e.getParent(r,e.isBlock)||e.getRoot());let u;for(;u=c[o?"prev":"next"]();)if(Mo(u))return!0}return!1},l=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},f=(e,n)=>{let o=n;for(;o&&o!==e;){if(Wn(o))return!0;o=o.parentNode}return!1},g=(e,n,o,r,c)=>{const u=e.getRoot(),m=e.schema.getNonEmptyElements(),b=c.parentNode;let v,C;if(!b)return I.none();const O=e.getParent(b,e.isBlock)||u;if(r&&Mo(c)&&n&&e.isEmpty(O))return I.some(_e(b,e.nodeIndex(c)));const D=new qo(c,O);for(;C=D[r?"prev":"next"]();){if(e.getContentEditableParent(C)==="false"||f4(C,u))return I.none();if(Je(C)&&C.data.length>0)return ao(C,u,"A")?I.none():I.some(_e(C,r?C.data.length:0));if(e.isBlock(C)||m[C.nodeName.toLowerCase()])return I.none();v=C}return Fl(v)?I.none():o&&v?I.some(_e(v,0)):I.none()},y=(e,n,o,r)=>{const c=e.getRoot();let u,m=!1,b=o?r.startContainer:r.endContainer,v=o?r.startOffset:r.endOffset;const C=Dt(b)&&v===b.childNodes.length,O=e.schema.getNonEmptyElements();let D=o;if(Vt(b))return I.none();if(Dt(b)&&v>b.childNodes.length-1&&(D=!1),Wm(b)&&(b=c,v=0),b===c){if(D&&(u=b.childNodes[v>0?v-1:0],u&&(Vt(u)||O[u.nodeName]||pl(u))))return I.none();if(b.hasChildNodes()){if(v=Math.min(!D&&v>0?v-1:v,b.childNodes.length-1),b=b.childNodes[v],v=Je(b)&&C?b.data.length:0,!n&&b===c.lastChild&&pl(b)||f(c,b)||Vt(b)||Le(b))return I.none();if(b.hasChildNodes()&&!pl(b)){u=b;const N=new qo(b,c);do{if(Wn(u)||Vt(u)){m=!1;break}if(Je(u)&&u.data.length>0){v=D?0:u.data.length,b=u,m=!0;break}if(O[u.nodeName.toLowerCase()]&&!Ir(u)){v=e.nodeIndex(u),b=u.parentNode,D||v++,m=!0;break}}while(u=D?N.next():N.prev())}}}return n&&(Je(b)&&v===0&&g(e,C,n,!0,b).each(N=>{b=N.container(),v=N.offset(),m=!0}),Dt(b)&&(u=b.childNodes[v],u||(u=b.childNodes[v-1]),u&&Mo(u)&&!l(u,"A")&&!Qw(e,u,!1)&&!Qw(e,u,!0)&&g(e,C,n,!0,u).each(N=>{b=N.container(),v=N.offset(),m=!0}))),D&&!n&&Je(b)&&v===b.data.length&&g(e,C,n,!1,b).each(N=>{b=N.container(),v=N.offset(),m=!0}),m&&b?I.some(_e(b,v)):I.none()},x=(e,n)=>{const o=n.collapsed,r=n.cloneRange(),c=_e.fromRangeStart(n);return y(e,o,!0,r).each(u=>{(!o||!_e.isAbove(c,u))&&r.setStart(u.container(),u.offset())}),o||y(e,o,!1,r).each(u=>{r.setEnd(u.container(),u.offset())}),o&&r.collapse(!0),Gd(n,r)?I.none():I.some(r)},z=(e,n)=>e.splitText(n),B=e=>{let n=e.startContainer,o=e.startOffset,r=e.endContainer,c=e.endOffset;if(n===r&&Je(n)){if(o>0&&o<n.data.length)if(r=z(n,o),n=r.previousSibling,c>o){c=c-o;const u=z(r,c).previousSibling;n=r=u,c=u.data.length,o=0}else c=0}else if(Je(n)&&o>0&&o<n.data.length&&(n=z(n,o),o=0),Je(r)&&c>0&&c<r.data.length){const u=z(r,c).previousSibling;r=u,c=u.data.length}return{startContainer:n,startOffset:o,endContainer:r,endOffset:c}},H=e=>({walk:(u,m)=>Ub(e,u,m),split:B,expand:(u,m={type:"word"})=>{if(m.type==="word"){const b=jd(e,u,[{inline:"span"}]),v=e.createRng();return v.setStart(b.startContainer,b.startOffset),v.setEnd(b.endContainer,b.endOffset),v}return u},normalize:u=>x(e,u).fold(He,m=>(u.setStart(m.startContainer,m.startOffset),u.setEnd(m.endContainer,m.endOffset),!0))});H.compareRanges=Gd,H.getCaretRangeFromPoint=wi,H.getSelectedNode=I0,H.getNode=Uc;const ne=((e,n)=>{const o=(b,v)=>{if(!Qo(v)&&!v.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+v);const C=b.dom;vu(C)&&(C.style[e]=v+"px")},r=b=>{const v=n(b);if(v<=0||v===null){const C=Ws(b,e);return parseFloat(C)||0}return v},c=r,u=(b,v)=>nn(v,(C,O)=>{const D=Ws(b,O),N=D===void 0?0:parseInt(D,10);return isNaN(N)?C:C+N},0);return{set:o,get:r,getOuter:c,aggregate:u,max:(b,v,C)=>{const O=u(b,C);return v>O?v-O:0}}})("height",e=>{const n=e.dom;return Cf(e)?n.getBoundingClientRect().height:n.offsetHeight}),ge=e=>ne.get(e),qe=()=>ee.fromDom(document),vt=(e,n)=>e.view(n).fold(Ye([]),r=>{const c=e.owner(r),u=vt(e,c);return[r].concat(u)}),yt=(e,n)=>{const o=n.owner(e);return vt(n,o)};var Be=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?I.none():I.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(ee.fromDom)},owner:e=>Rc(e)});const $t=e=>{const n=qe(),o=Bc(n),r=yt(e,Be),c=Ef(e),u=Mn(r,(m,b)=>{const v=Ef(b);return{left:m.left+v.left,top:m.top+v.top}},{left:0,top:0});return Tf(u.left+c.left+o.left,u.top+c.top+o.top)},an=e=>oo(e)==="textarea",En=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),ds=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},Br=(e,n)=>{const o=Sr(e);if(o.length===0||an(e))return{element:e,offset:n};if(n<o.length&&!an(o[n]))return{element:o[n],offset:0};{const r=o[o.length-1];return an(r)?{element:e,offset:n}:oo(r)==="img"?{element:r,offset:1}:Ur(r)?{element:r,offset:di(r).length}:{element:r,offset:Sr(r).length}}},Hs=(e,n)=>{const o=h0(e),r=ge(e);return{element:e,bottom:o.top+r,height:r,pos:o,cleanup:n}},xc=(e,n)=>{const o=Br(e,n),r=ee.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+k+"</span>");return gr(o.element,r),Hs(r,()=>ro(r))},bp=e=>Hs(ee.fromDom(e),Et),yp=(e,n,o,r)=>{Wa(e,(c,u)=>dv(e,n,o,r),o)},ek=(e,n,o,r,c)=>{const u={elm:r.element.dom,alignToTop:c};if(En(e,u))return;const m=Bc(n).top;o(e,n,m,r,c),ds(e,u)},dv=(e,n,o,r)=>{const c=ee.fromDom(e.getBody()),u=ee.fromDom(e.getDoc());Fs(c);const m=xc(ee.fromDom(o.startContainer),o.startOffset);ek(e,u,n,m,r),m.cleanup()},$o=(e,n,o,r)=>{const c=ee.fromDom(e.getDoc());ek(e,c,o,bp(n),r)},Wa=(e,n,o)=>{const r=o.startContainer,c=o.startOffset,u=o.endContainer,m=o.endOffset;n(ee.fromDom(r),ee.fromDom(u));const b=e.dom.createRng();b.setStart(r,c),b.setEnd(u,m),e.selection.setRng(o)},ia=(e,n,o,r,c)=>{const u=n.pos;if(r)Hh(u.left,u.top,c);else{const m=u.top-o+n.height;Hh(-e.getBody().getBoundingClientRect().left,m,c)}},ki=(e,n,o,r,c,u)=>{const m=r+o,b=c.pos.top,v=c.bottom,C=v-b>=r;b<o?ia(e,c,r,u!==!1,n):b>m?ia(e,c,r,C?u!==!1:u===!0,n):v>m&&!C&&ia(e,c,r,u===!0,n)},qc=(e,n,o,r,c)=>{const u=gd(n).dom.innerHeight;ki(e,n,o,u,r,c)},om=(e,n,o,r,c)=>{const u=gd(n).dom.innerHeight;ki(e,n,o,u,r,c);const m=$t(r.element),b=Uh(window);m.top<b.y?Vh(r.element,c!==!1):m.top>b.bottom&&Vh(r.element,c===!0)},cc=(e,n,o)=>yp(e,qc,n,o),tk=(e,n,o)=>$o(e,n,qc,o),Yb=(e,n,o)=>yp(e,om,n,o),Fu=(e,n,o)=>$o(e,n,om,o),Ca=(e,n,o)=>{(e.inline?tk:Fu)(e,n,o)},Xb=(e,n,o)=>{(e.inline?cc:Yb)(e,n,o)},v2=(e,n=!1)=>e.dom.focus({preventScroll:n}),w2=e=>{const n=ll(e).dom;return e.dom===n.activeElement},Zg=(e=qe())=>I.from(e.dom.activeElement).map(ee.fromDom),k2=e=>Zg(ll(e)).filter(n=>e.dom.contains(n.dom)),fv=(e,n)=>{const o=Ur(n)?di(n).length:Sr(n).length+1;return e>o?o:e<0?0:e},_2=e=>qd.range(e.start,fv(e.soffset,e.start),e.finish,fv(e.foffset,e.finish)),vp=(e,n)=>!fl(n.dom)&&(ea(e,n)||fo(e,n)),xO=e=>n=>vp(e,n.start)&&vp(e,n.finish),Q7=e=>e.inline||_t.browser.isFirefox(),eP=e=>qd.range(ee.fromDom(e.startContainer),e.startOffset,ee.fromDom(e.endContainer),e.endOffset),tP=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?I.none():I.from(n.getRangeAt(0))).map(eP)},nP=e=>{const n=gd(e);return tP(n.dom).filter(xO(e))},CO=(e,n)=>I.from(n).filter(xO(e)).map(_2),SO=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),I.some(n)}catch{return I.none()}},mv=e=>{const n=Q7(e)?nP(ee.fromDom(e.getBody())):I.none();e.bookmark=n.isSome()?n:e.bookmark},m4=e=>(e.bookmark?e.bookmark:I.none()).bind(o=>CO(ee.fromDom(e.getBody()),o)).bind(SO),oP=e=>{m4(e).each(n=>e.selection.setRng(n))},EO={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},zO=(e,n)=>(Qo(n)||(n=0),setTimeout(e,n)),AO=(e,n)=>(Qo(n)||(n=0),setInterval(e,n)),Tl={setEditorTimeout:(e,n,o)=>zO(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const r=AO(()=>{e.removed?clearInterval(r):n()},o);return r}},sP=e=>e.type==="nodechange"&&e.selectionChange,rP=(e,n)=>{const o=()=>{n.throttle()};as.DOM.bind(document,"mouseup",o),e.on("remove",()=>{as.DOM.unbind(document,"mouseup",o)})},aP=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},cP=(e,n)=>{aP(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{sP(o)||mv(e)})},x2=e=>{const n=ib(()=>{mv(e)},0);e.on("init",()=>{e.inline&&rP(e,n),cP(e,n)}),e.on("remove",()=>{n.cancel()})};let Jb;const C2=as.DOM,OO=e=>Dt(e)&&EO.isEditorUIElement(e),S2=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},T2=(e,n)=>{const o=Ex(e);return C2.getParent(n,c=>OO(c)||(o?e.dom.is(c,o):!1))!==null},p4=e=>{try{const n=ll(ee.fromDom(e.getElement()));return Zg(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},iP=(e,n)=>{const o=n.editor;x2(o);const r=(c,u)=>{if(_E(c)&&c.inline!==!0){const m=ee.fromDom(c.getContainer());u(m,"tox-edit-focus")}};o.on("focusin",()=>{const c=e.focusedEditor;S2(p4(o))&&r(o,fd),c!==o&&(c&&c.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:c}),o.focus(!0))}),o.on("focusout",()=>{Tl.setEditorTimeout(o,()=>{const c=e.focusedEditor;(!S2(p4(o))||c!==o)&&r(o,md),!T2(o,p4(o))&&c===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Jb||(Jb=c=>{const u=e.activeEditor;u&&Fm(c).each(m=>{const b=m;b.ownerDocument===document&&b!==document.body&&!T2(u,b)&&e.focusedEditor===u&&(u.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},C2.bind(document,"focusin",Jb))},lP=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&Jb&&(C2.unbind(document,"focusin",Jb),Jb=null)},uP=e=>{e.on("AddEditor",Ue(iP,e)),e.on("RemoveEditor",Ue(lP,e))},dP=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),fP=e=>e.collapsed?I.from(Uc(e.startContainer,e.startOffset)).map(ee.fromDom):I.none(),mP=(e,n)=>fP(n).bind(o=>Pc(o)?I.some(o):ea(e,o)?I.none():I.some(e)),DO=(e,n)=>{mP(ee.fromDom(e.getBody()),n).bind(o=>ac(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},g4=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},pP=e=>w2(e)||k2(e).isSome(),gP=e=>Re(e.iframeElement)&&w2(ee.fromDom(e.iframeElement)),E2=e=>{const n=e.getBody();return n&&pP(ee.fromDom(n))},RO=e=>{const n=ll(ee.fromDom(e.getElement()));return Zg(n).filter(o=>!S2(o.dom)&&T2(e,o.dom)).isSome()},qg=e=>e.inline?E2(e):gP(e),MO=e=>qg(e)||RO(e),hP=e=>{const n=e.selection,o=e.getBody();let r=n.getRng();e.quirks.refreshContentEditable(),Re(e.bookmark)&&!qg(e)&&m4(e).each(u=>{e.selection.setRng(u),r=u});const c=dP(e,n.getNode());if(c&&e.dom.isChildOf(c,o)){g4(c),DO(e,r),h4(e);return}e.inline||(_t.browser.isOpera()||g4(o),e.getWin().focus()),(_t.browser.isFirefox()||e.inline)&&(g4(o),DO(e,r)),h4(e)},h4=e=>e.editorManager.setActive(e),bP=(e,n)=>{e.removed||(n?h4(e):hP(e))},BO=(e,n)=>n.collapsed?e.isEditable(n.startContainer):e.isEditable(n.startContainer)&&e.isEditable(n.endContainer),NO=(e,n,o,r,c)=>{const u=o?n.startContainer:n.endContainer,m=o?n.startOffset:n.endOffset;return I.from(u).map(ee.fromDom).map(b=>!r||!n.collapsed?yu(b,c(b,m)).getOr(b):b).bind(b=>pa(b)?I.some(b):pc(b).filter(pa)).map(b=>b.dom).getOr(e)},b4=(e,n,o=!1)=>NO(e,n,!0,o,(r,c)=>Math.min(Qa(r),c)),PO=(e,n,o=!1)=>NO(e,n,!1,o,(r,c)=>c>0?c-1:c),y4=(e,n)=>{const o=e;for(;e&&Je(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},$O=(e,n)=>{if(!n)return e;let o=n.startContainer,r=n.endContainer;const c=n.startOffset,u=n.endOffset;let m=n.commonAncestorContainer;n.collapsed||(o===r&&u-c<2&&o.hasChildNodes()&&(m=o.childNodes[c]),Je(o)&&Je(r)&&(o.length===c?o=y4(o.nextSibling,!0):o=o.parentNode,u===0?r=y4(r.previousSibling,!1):r=r.parentNode,o&&o===r&&(m=o)));const b=Je(m)?m.parentNode:m;return Vi(b)?b:e},yP=(e,n,o,r)=>{const c=[],u=e.getRoot(),m=e.getParent(o||b4(u,n,n.collapsed),e.isBlock),b=e.getParent(r||PO(u,n,n.collapsed),e.isBlock);if(m&&m!==u&&c.push(m),m&&b&&m!==b){let v;const C=new qo(m,u);for(;(v=C.next())&&v!==b;)e.isBlock(v)&&c.push(v)}return b&&m!==b&&b!==u&&c.push(b),c},vP=(e,n,o)=>I.from(n).bind(r=>I.from(r.parentNode).map(c=>{const u=e.nodeIndex(r),m=e.createRng();return m.setStart(c,u),m.setEnd(c,u+1),o&&(Nw(e,m,r,!0),Nw(e,m,r,!1)),m})),v4=(e,n)=>Pt(n,o=>{const r=e.dispatch("GetSelectionRange",{range:o});return r.range!==o?r.range:o}),wP=e=>oo(e)==="img"?1:Gh(e).fold(()=>Sr(e).length,n=>n.length),kP=e=>Gh(e).filter(n=>n.trim().length!==0||n.indexOf(uo)>-1).isSome(),_P=e=>_s(e)&&ga(e,"contenteditable")==="false",xP=["img","br"],IO=e=>kP(e)||Ke(xP,oo(e))||_P(e),CP=e=>Wr(e,IO),SP=e=>TP(e,IO),TP=(e,n)=>{const o=r=>{const c=Sr(r);for(let u=c.length-1;u>=0;u--){const m=c[u];if(n(m))return I.some(m);const b=o(m);if(b.isSome())return b}return I.none()};return o(e)},FO="[data-mce-autocompleter]",EP=(e,n)=>{if(LO(ee.fromDom(e.getBody())).isNone()){const o=ee.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());tr(o,ee.fromDom(n.extractContents())),n.insertNode(o.dom),pc(o).each(r=>r.dom.normalize()),SP(o).map(r=>{e.selection.setCursorLocation(r.dom,wP(r))})}},zP=e=>ul(e,FO),LO=e=>Ba(e,FO),AP=(e,n)=>LO(n).each(o=>{const r=e.selection.getBookmark();Na(o),e.selection.moveToBookmark(r)}),OP={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},z2=(e,n,o)=>{const r=o?"lastChild":"firstChild",c=o?"prev":"next";if(e[r])return e[r];if(e!==n){let u=e[c];if(u)return u;for(let m=e.parent;m&&m!==n;m=m.parent)if(u=m[c],u)return u}},DP=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!Df(o))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(o))},qt=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class Cc{static create(n,o){const r=new Cc(n,OP[n]||1);return o&&dt(o,(c,u)=>{r.attr(u,c)}),r}constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const r=this;if(!oe(n))return Re(n)&&dt(n,(u,m)=>{r.attr(m,u)}),r;const c=r.attributes;if(c){if(o!==void 0){if(o===null){if(n in c.map){delete c.map[n];let u=c.length;for(;u--;)if(c[u].name===n)return c.splice(u,1),r}return r}if(n in c.map){let u=c.length;for(;u--;)if(c[u].name===n){c[u].value=o;break}}else c.push({name:n,value:o});return c.map[n]=o,r}return c.map[n]}}clone(){const n=this,o=new Cc(n.name,n.type),r=n.attributes;if(r){const c=[];c.map={};for(let u=0,m=r.length;u<m;u++){const b=r[u];b.name!=="id"&&(c[c.length]={name:b.name,value:b.value},c.map[b.name]=b.value)}o.attributes=c}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const r=o.next;n.insert(o,n,!0),o=r}n.remove()}remove(){const n=this,o=n.parent,r=n.next,c=n.prev;return o&&(o.firstChild===n?(o.firstChild=r,r&&(r.prev=null)):c&&(c.next=r),o.lastChild===n?(o.lastChild=c,c&&(c.next=null)):r&&(r.prev=c),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const r=o.lastChild;return r?(r.next=n,n.prev=r,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,r){n.parent&&n.remove();const c=o.parent||this;return r?(o===c.firstChild?c.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===c.lastChild?c.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=c,n}getAll(n){const o=this,r=[];for(let c=o.firstChild;c;c=z2(c,o))c.name===n&&r.push(c);return r}children(){const n=this,o=[];for(let r=n.firstChild;r;r=r.next)o.push(r);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let c=n.firstChild;c;c=z2(c,n))o.push(c);let r=o.length;for(;r--;){const c=o[r];c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},r){var c;const u=this;let m=u.firstChild;if(qt(u))return!1;if(m)do{if(m.type===1){if(m.attr("data-mce-bogus"))continue;if(n[m.name]||qt(m))return!1}if(m.type===8||m.type===3&&!DP(m)||m.type===3&&m.parent&&o[m.parent.name]&&Df((c=m.value)!==null&&c!==void 0?c:"")||r&&r(m))return!1}while(m=z2(m,u));return!0}walk(n){return z2(this,null,n)}}const HO=Xe.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),VO=e=>oe(e.nodeValue)&&e.nodeValue.includes(k),A2=e=>`${e.length===0?"":`${Pt(e,n=>`[${n}]`).join(",")},`}[data-mce-bogus="all"]`,RP=(e,n)=>n.querySelectorAll(A2(e)),jO=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,n=>VO(n)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),UO=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,n=>{if(VO(n)){const o=n.parentNode;return o&&Qt(HO,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),MP=e=>jO(e).nextNode()!==null,BP=e=>UO(e).nextNode()!==null,O2=(e,n)=>n.querySelector(A2(e))!==null,WO=(e,n)=>{ve(RP(e,n),o=>{const r=ee.fromDom(o);ga(r,"data-mce-bogus")==="all"?ro(r):ve(e,c=>{pr(r,c)&&Is(r,c)})})},NP=e=>{let n=e.nextNode();for(;n!==null;)n.nodeValue=null,n=e.nextNode()},PP=E(NP,jO),vn=E(NP,UO),ZO=(e,n)=>{const o=[{condition:Ue(O2,n),action:Ue(WO,n)},{condition:MP,action:PP},{condition:BP,action:vn}];let r=e,c=!1;return ve(o,({condition:u,action:m})=>{u(r)&&(c||(r=e.cloneNode(!0),c=!0),m(r))}),r},Cn=e=>{const n=Tr(e,"[data-mce-bogus]");ve(n,o=>{ga(o,"data-mce-bogus")==="all"?ro(o):_u(o)?(gr(o,ee.fromText(Zm)),ro(o)):Na(o)})},w4=e=>{const n=Tr(e,"input");ve(n,o=>{Is(o,"name")})},XZ=(e,n)=>{const o=Va(e),r=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(r,"")},JZ=(e,n)=>{const o=e.getDoc(),r=ll(ee.fromDom(e.getBody())),c=ee.fromTag("div",o);ss(c,"data-mce-bogus","all"),ha(c,{position:"fixed",left:"-9999999px",top:"0"}),vd(c,n.innerHTML),Cn(c),w4(c);const u=H_(r);tr(u,c);const m=$(c.dom.innerText);return ro(c),m},$P=(e,n,o)=>{let r;return n.format==="raw"?r=Xe.trim($(ZO(o,e.serializer.getTempAttrs()).innerHTML)):n.format==="text"?r=JZ(e,o):n.format==="tree"?r=e.serializer.serialize(o,n):r=XZ(e,e.serializer.serialize(o,n)),n.format!=="text"&&!ir(ee.fromDom(o))&&oe(r)?Xe.trim(r):r},QZ=(e,n)=>I.from(e.getBody()).fold(Ye(n.format==="tree"?new Cc("body",11):""),o=>$P(e,n,o)),IP=Xe.makeMap,qO=e=>{const n=[];e=e||{};const o=e.indent,r=IP(e.indent_before||""),c=IP(e.indent_after||""),u=Pf.getEncodeFunc(e.entity_encoding||"raw",e.entities),m=e.element_format!=="xhtml";return{start:(b,v,C)=>{if(o&&r[b]&&n.length>0){const O=n[n.length-1];O.length>0&&O!==`
`&&n.push(`
`)}if(n.push("<",b),v)for(let O=0,D=v.length;O<D;O++){const N=v[O];n.push(" ",N.name,'="',u(N.value,!0),'"')}if(!C||m?n[n.length]=">":n[n.length]=" />",C&&o&&c[b]&&n.length>0){const O=n[n.length-1];O.length>0&&O!==`
`&&n.push(`
`)}},end:b=>{let v;n.push("</",b,">"),o&&c[b]&&n.length>0&&(v=n[n.length-1],v.length>0&&v!==`
`&&n.push(`
`))},text:(b,v)=>{b.length>0&&(n[n.length]=v?b:u(b))},cdata:b=>{n.push("<![CDATA[",b,"]]>")},comment:b=>{n.push("<!--",b,"-->")},pi:(b,v)=>{v?n.push("<?",b," ",u(v),"?>"):n.push("<?",b,"?>"),o&&n.push(`
`)},doctype:b=>{n.push("<!DOCTYPE",b,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},Gg=(e={},n=Rd())=>{const o=qO(e);return e.validate="validate"in e?e.validate:!0,{serialize:c=>{const u=e.validate,m={3:v=>{var C;o.text((C=v.value)!==null&&C!==void 0?C:"",v.raw)},8:v=>{var C;o.comment((C=v.value)!==null&&C!==void 0?C:"")},7:v=>{o.pi(v.name,v.value)},10:v=>{var C;o.doctype((C=v.value)!==null&&C!==void 0?C:"")},4:v=>{var C;o.cdata((C=v.value)!==null&&C!==void 0?C:"")},11:v=>{let C=v;if(C=C.firstChild)do b(C);while(C=C.next)}};o.reset();const b=v=>{var C;const O=m[v.type];if(O)O(v);else{const D=v.name,N=D in n.getVoidElements();let G=v.attributes;if(u&&G&&G.length>1){const X=[];X.map={};const U=n.getElementRule(v.name);if(U){for(let J=0,le=U.attributesOrder.length;J<le;J++){const fe=U.attributesOrder[J];if(fe in G.map){const de=G.map[fe];X.map[fe]=de,X.push({name:fe,value:de})}}for(let J=0,le=G.length;J<le;J++){const fe=G[J].name;if(!(fe in X.map)){const de=G.map[fe];X.map[fe]=de,X.push({name:fe,value:de})}}G=X}}if(o.start(D,G,N),Vl(D))oe(v.value)&&o.text(v.value,!0),o.end(D);else if(!N){let X=v.firstChild;if(X){(D==="pre"||D==="textarea")&&X.type===3&&((C=X.value)===null||C===void 0?void 0:C[0])===`
`&&o.text(`
`,!0);do b(X);while(X=X.next)}o.end(D)}}};return c.type===1&&!e.inner?b(c):c.type===3?m[3](c):m[11](c),o.getContent()}}},on=new Set;ve(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{on.add(n)});const GO=["font","text-decoration","text-emphasis"],k4=(e,n)=>ts(e.parseStyle(e.getAttrib(n,"style"))),FP=e=>on.has(e),nk=(e,n)=>es(k4(e,n),o=>!FP(o)),KO=e=>Ie(e,n=>hn(GO,o=>Es(n,o))),LP=(e,n,o)=>{const r=k4(e,n),c=k4(e,o),u=m=>{var b,v;const C=(b=e.getStyle(n,m))!==null&&b!==void 0?b:"",O=(v=e.getStyle(o,m))!==null&&v!==void 0?v:"";return So(C)&&So(O)&&C!==O};return hn(r,m=>{const b=v=>hn(v,C=>C===m);if(!b(c)&&b(GO)){const v=KO(c);return hn(v,u)}else return u(m)})},YO=(e,n,o)=>I.from(o.container()).filter(Je).exists(r=>{const c=e?0:-1;return n(r.data.charAt(o.offset()+c))}),_4=Ue(YO,!0,Pg),D2=Ue(YO,!1,Pg),HP=e=>{const n=e.container();return Je(n)&&(n.data.length===0||S(n.data)&&gp.isBookmarkNode(n.parentNode))},Qb=(e,n)=>o=>Eb(e?0:-1,o).filter(n).isSome(),VP=e=>ba(e)&&Ws(ee.fromDom(e),"display")==="block",XO=e=>Wn(e)&&!Zp(e),jP=Qb(!0,VP),UP=Qb(!1,VP),ok=Qb(!0,Bs),pv=Qb(!1,Bs),JO=Qb(!0,pl),Dn=Qb(!1,pl),wp=Qb(!0,XO),Kd=Qb(!1,XO),QO=e=>e.slice(0,-1),eD=(e,n,o)=>ea(n,e)?QO(Oh(e,r=>o(r)||fo(r,n))):[],x4=(e,n)=>eD(e,n,He),sm=(e,n)=>[e].concat(x4(e,n)),R2=(e,n,o)=>_l(e,n,o,HP),WP=e=>n=>e.isBlock(oo(n)),C4=(e,n,o)=>go(sm(ee.fromDom(n.container()),e),WP(o)),tD=(e,n,o,r)=>R2(e,n.dom,o).forall(c=>C4(n,o,r).fold(()=>!Gl(c,o,n.dom),u=>!Gl(c,o,n.dom)&&ea(u,ee.fromDom(c.container())))),nD=(e,n,o,r)=>C4(n,o,r).fold(()=>R2(e,n.dom,o).forall(c=>!Gl(c,o,n.dom)),c=>R2(e,c.dom,o).isNone()),S4=Ue(nD,!1),oD=Ue(nD,!0),ZP=Ue(tD,!1),qP=Ue(tD,!0),GP=e=>V1(e).exists(_u),M2=(e,n,o,r)=>{const c=Ie(sm(ee.fromDom(o.container()),n),m=>r.isBlock(oo(m))),u=In(c).getOr(n);return qr(e,u.dom,o).filter(GP)},sk=(e,n,o)=>V1(n).exists(_u)||M2(!0,e,n,o).isSome(),rk=(e,n,o)=>RE(n).exists(_u)||M2(!1,e,n,o).isSome(),KP=Ue(M2,!1),YP=Ue(M2,!0),sD=e=>_e.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),rD=(e,n,o)=>{const r=Ie(sm(ee.fromDom(n.container()),e),c=>o.isBlock(oo(c)));return In(r).getOr(e)},aD=(e,n,o)=>sD(n)?D2(n):D2(n)||kc(rD(e,n,o).dom,n).exists(D2),cD=(e,n,o)=>sD(n)?_4(n):_4(n)||Ua(rD(e,n,o).dom,n).exists(_4),XP=e=>Ke(["pre","pre-wrap"],e),T4=e=>V1(e).bind(n=>ec(n,pa)).exists(n=>XP(Ws(n,"white-space"))),iD=(e,n)=>kc(e.dom,n).isNone(),JP=(e,n)=>Ua(e.dom,n).isNone(),QP=(e,n,o)=>iD(e,n)||JP(e,n)||S4(e,n,o)||oD(e,n,o)||rk(e,n,o)||sk(e,n,o),ey=e=>Re(e)&&Wn(e)&&qf(e),lD=(e,n)=>o=>ey(new qo(o,e)[n]()),uD=(e,n)=>{const o=Ua(e.dom,n).getOr(n),r=lD(e.dom,"next");return n.isAtEnd()&&(r(n.container())||r(o.container()))},e$=(e,n)=>{const o=kc(e.dom,n).getOr(n),r=lD(e.dom,"prev");return n.isAtStart()&&(r(n.container())||r(o.container()))},dD=(e,n,o)=>T4(n)?!1:QP(e,n,o)||aD(e,n,o)||cD(e,n,o),gv=(e,n,o)=>T4(n)?!1:S4(e,n,o)||ZP(e,n,o)||rk(e,n,o)||aD(e,n,o)||e$(e,n),fD=e=>{const n=e.container(),o=e.offset();return Je(n)&&o<n.data.length?_e(n,o+1):e},hv=(e,n,o)=>T4(n)?!1:oD(e,n,o)||qP(e,n,o)||sk(e,n,o)||cD(e,n,o)||uD(e,n),B2=(e,n,o)=>gv(e,n,o)||hv(e,fD(n),o),Sc=(e,n)=>G1(e.charAt(n)),mD=(e,n)=>Pg(e.charAt(n)),t$=e=>{const n=e.container();return Je(n)&&ls(n.data,uo)},n$=e=>{const n=e.split("");return Pt(n,(o,r)=>G1(o)&&r>0&&r<n.length-1&&Qf(n[r-1])&&Qf(n[r+1])?" ":o).join("")},pD=(e,n,o,r)=>{const c=n.data,u=_e(n,0);return!o&&Sc(c,0)&&!B2(e,u,r)?(n.data=" "+c.slice(1),!0):o&&mD(c,0)&&gv(e,u,r)?(n.data=uo+c.slice(1),!0):!1},o$=e=>{const n=e.data,o=n$(n);return o!==n?(e.data=o,!0):!1},Kg=(e,n,o,r)=>{const c=n.data,u=_e(n,c.length-1);return!o&&Sc(c,c.length-1)&&!B2(e,u,r)?(n.data=c.slice(0,-1)+" ",!0):o&&mD(c,c.length-1)&&hv(e,u,r)?(n.data=c.slice(0,-1)+uo,!0):!1},s$=(e,n,o)=>{const r=n.container();if(!Je(r))return I.none();if(t$(n)){const c=pD(e,r,!1,o)||o$(r)||Kg(e,r,!1,o);return no(c,n)}else if(B2(e,n,o)){const c=pD(e,r,!0,o)||Kg(e,r,!0,o);return no(c,n)}else return I.none()},r$=e=>{const n=ee.fromDom(e.getBody());e.selection.isCollapsed()&&s$(n,_e.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},Os=(e,n,o,r)=>{if(o===0)return;const c=ee.fromDom(e),u=Ms(c,C=>r.isBlock(oo(C))).getOr(c),m=e.data.slice(n,n+o),b=n+o>=e.data.length&&hv(u,_e(e,e.data.length),r),v=n===0&&gv(u,_e(e,0),r);e.replaceData(n,o,Ym(m,4,v,b))},ty=(e,n,o)=>{const r=e.data.slice(n),c=r.length-fu(r).length;Os(e,n,c,o)},gD=(e,n,o)=>{const r=e.data.slice(0,n),c=r.length-tl(r).length;Os(e,n-c,c,o)},Gr=(e,n,o,r,c=!0)=>{const u=tl(e.data).length,m=c?e:n,b=c?n:e;return c?m.appendData(b.data):m.insertData(0,b.data),ro(ee.fromDom(b)),r&&ty(m,u,o),m},a$=(e,n)=>{const o=e.container(),r=e.offset();return!_e.isTextPosition(e)&&o===n.parentNode&&r>_e.before(n).offset()},c$=(e,n)=>a$(n,e)?_e(n.container(),n.offset()-1):n,kp=e=>Je(e)?_e(e,0):_e.before(e),To=e=>Je(e)?_e(e,e.data.length):_e.after(e),E4=e=>Vn(e.previousSibling)?I.some(To(e.previousSibling)):e.previousSibling?xl(e.previousSibling):I.none(),z4=e=>Vn(e.nextSibling)?I.some(kp(e.nextSibling)):e.nextSibling?ac(e.nextSibling):I.none(),i$=(e,n)=>I.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>kc(e,_e.before(o))).orThunk(()=>Ua(e,_e.after(n))),l$=(e,n)=>Ua(e,_e.after(n)).orThunk(()=>kc(e,_e.before(n))),u$=(e,n)=>E4(n).orThunk(()=>z4(n)).orThunk(()=>i$(e,n)),Xi=(e,n)=>z4(n).orThunk(()=>E4(n)).orThunk(()=>l$(e,n)),Yd=(e,n,o)=>e?Xi(n,o):u$(n,o),d$=(e,n,o)=>Yd(e,n,o).map(Ue(c$,o)),N2=(e,n,o)=>{o.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),n)})},A4=e=>n=>n.dom===e,f$=(e,n)=>n&&Qt(e.schema.getBlockElements(),oo(n)),m$=(e,n)=>{if(Ns(e)){const o=ee.fromHtml('<br data-mce-bogus="1">');return n?ve(Sr(e),r=>{Lb(r)||ro(r)}):dl(e),tr(e,o),I.some(_e.before(o.dom))}else return I.none()},ak=(e,n,o,r)=>{const c=Mc(e).filter(Ur),u=$m(e).filter(Ur);return ro(e),rl(c,u,n,(m,b,v)=>{const C=m.dom,O=b.dom,D=C.data.length;return Gr(C,O,o,r),v.container()===O?_e(C,D):v}).orThunk(()=>(r&&(c.each(m=>gD(m.dom,m.dom.length,o)),u.each(m=>ty(m.dom,0,o))),n))},P2=(e,n)=>Qt(e.schema.getTextInlineElements(),oo(n)),_p=(e,n,o,r=!0,c=!1)=>{const u=d$(n,e.getBody(),o.dom),m=Ms(o,Ue(f$,e),A4(e.getBody())),b=ak(o,u,e.schema,P2(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):m.bind(v=>m$(v,c)).fold(()=>{r&&N2(e,n,b)},v=>{r&&N2(e,n,I.some(v))})},p$=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Xd=e=>p$.test(e),ny=(e,n)=>ii(ee.fromDom(n),aE(e))&&!Gn(e.schema,n)&&e.dom.isEditable(n),hD=e=>{var n;return as.DOM.getStyle(e,"direction",!0)==="rtl"||Xd((n=e.textContent)!==null&&n!==void 0?n:"")},Ql=(e,n,o)=>Ie(as.DOM.getParents(o.container(),"*",n),e),Lu=(e,n,o)=>{const r=Ql(e,n,o);return I.from(r[r.length-1])},Hu=(e,n,o)=>{const r=Id(n,e),c=Id(o,e);return Re(r)&&r===c},g$=e=>bo(e)||rs(e),eo=(e,n)=>{const o=n.container(),r=n.offset();return e?bt(o)?Je(o.nextSibling)?_e(o.nextSibling,0):_e.after(o):bo(n)?_e(o,r+1):n:bt(o)?Je(o.previousSibling)?_e(o.previousSibling,o.previousSibling.data.length):_e.before(o):rs(n)?_e(o,r-1):n},oy=Ue(eo,!0),ck=Ue(eo,!1),O4=(e,n)=>{const o=r=>r.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},D4=e=>{e.execCommand("delete")},ik=e=>O4(e,"Delete"),h$=e=>O4(e,"ForwardDelete"),R4=e=>n=>Vo(pc(n),e,fo),b$=e=>be(e)||Nc(e),lk=(e,n)=>ea(e,n)?ec(n,b$,R4(e)):I.none(),$2=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},I2=(e,n,o)=>ar(ac(o),xl(o),(r,c)=>{const u=eo(!0,r),m=eo(!1,c),b=eo(!1,n);return e?Ua(o,b).exists(v=>v.isEqual(m)&&n.isEqual(u)):kc(o,b).exists(v=>v.isEqual(u)&&n.isEqual(m))}).getOr(!0),M4=e=>(m0(e)?Mc(e):li(e)).bind(M4).orThunk(()=>I.some(e)),uk=(e,n,o,r=!0)=>{var c;n.deleteContents();const u=M4(o).getOr(o),m=ee.fromDom((c=e.dom.getParent(u.dom,e.dom.isBlock))!==null&&c!==void 0?c:o.dom);if(m.dom===e.getBody()?$2(e,r):Ns(m)&&(hl(m),r&&e.selection.setCursorLocation(m.dom,0)),!fo(o,m)){const b=Vo(pc(m),o)?[]:g0(m);ve(b.concat(Sr(o)),v=>{!fo(v,m)&&!ea(v,m)&&Ns(v)&&ro(v)})}},y$=(e,n,o)=>Ms(e,n,o).isSome(),v$=(e,n)=>Nh(e,n).isSome(),bD=(e,n)=>Wr(e,n).isSome(),w$=e=>n=>fo(e,n),B4=e=>Tr(e,"td,th"),N4=(e,n)=>Hd(ee.fromDom(e),n),k$=e=>ar(e.startTable,e.endTable,(n,o)=>{const r=bD(n,u=>fo(u,o)),c=bD(o,u=>fo(u,n));return!r&&!c?e:{...e,startTable:r?I.none():e.startTable,endTable:c?I.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),_$=e=>k$(e),yD=(e,n)=>{const o=N4(e.startContainer,n),r=N4(e.endContainer,n),c=o.isSome(),u=r.isSome(),m=ar(o,r,fo).getOr(!1);return _$({startTable:o,endTable:r,isStartInTable:c,isEndInTable:u,isSameTable:m,isMultiTable:!m&&c&&u})},F2=(e,n)=>({start:e,end:n}),x$=(e,n,o)=>({rng:e,table:n,cells:o}),dk=ql.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),fk=(e,n)=>ul(ee.fromDom(e),"td,th",n),vD=e=>!fo(e.start,e.end),P4=(e,n)=>Hd(e.start,n).bind(o=>Hd(e.end,n).bind(r=>no(fo(o,r),o))),El=(e,n)=>!vD(e)&&P4(e,n).exists(o=>{const r=o.dom.rows;return r.length===1&&r[0].cells.length===1}),C$=(e,n)=>{const o=fk(e.startContainer,n),r=fk(e.endContainer,n);return ar(o,r,F2)},wD=e=>n=>Hd(n,e).bind(o=>fs(B4(o)).map(r=>F2(n,r))),$4=e=>n=>Hd(n,e).bind(o=>In(B4(o)).map(r=>F2(r,n))),mk=e=>n=>P4(n,e).map(o=>x$(n,o,B4(o))),I4=(e,n,o,r)=>{if(o.collapsed||!e.forall(vD))return I.none();if(n.isSameTable){const c=e.bind(mk(r));return I.some({start:c,end:c})}else{const c=fk(o.startContainer,r),u=fk(o.endContainer,r),m=c.bind(wD(r)).bind(mk(r)),b=u.bind($4(r)).bind(mk(r));return I.some({start:m,end:b})}},F4=(e,n)=>Rs(e,o=>fo(o,n)),L4=e=>ar(F4(e.cells,e.rng.start),F4(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),S$=(e,n,o)=>e.exists(r=>El(r,o)&&Bw(r.start,n)),L2=(e,n)=>{const{startTable:o,endTable:r}=n,c=e.cloneRange();return o.each(u=>c.setStartAfter(u.dom)),r.each(u=>c.setEndBefore(u.dom)),c},kD=(e,n,o,r)=>I4(e,n,o,r).bind(({start:c,end:u})=>c.or(u)).bind(c=>{const{isSameTable:u}=n,m=L4(c).getOr([]);if(u&&c.cells.length===m.length)return I.some(dk.fullTable(c.table));if(m.length>0){if(u)return I.some(dk.partialTable(m,I.none()));{const b=L2(o,n);return I.some(dk.partialTable(m,I.some({...n,rng:b})))}}else return I.none()}),Vu=(e,n,o,r)=>I4(e,n,o,r).bind(({start:c,end:u})=>{const m=c.bind(L4).getOr([]),b=u.bind(L4).getOr([]);if(m.length>0&&b.length>0){const v=L2(o,n);return I.some(dk.multiTable(m,b,v))}else return I.none()}),T$=(e,n)=>{const o=w$(e),r=C$(n,o),c=yD(n,o);return S$(r,n,o)?r.map(u=>dk.singleCellTable(n,u.start)):c.isMultiTable?Vu(r,c,n,o):kD(r,c,n,o)},_D=e=>ve(e,n=>{Is(n,"contenteditable"),hl(n)}),eq=(e,n)=>I.from(e.dom.getParent(n,e.dom.isBlock)).map(ee.fromDom),H4=(e,n,o)=>{o.each(r=>{n?ro(r):(hl(r),e.selection.setCursorLocation(r.dom,0))})},V4=(e,n,o,r)=>{const c=o.cloneRange();r?(c.setStart(o.startContainer,o.startOffset),c.setEndAfter(n.dom.lastChild)):(c.setStartBefore(n.dom.firstChild),c.setEnd(o.endContainer,o.endOffset)),Ji(e,c,n,!1).each(u=>u())},sy=e=>{const n=$g(e),o=ee.fromDom(e.selection.getNode());zf(o.dom)&&Ns(o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&hn(n,r=>fo(r,o))&&ss(o,"data-mce-selected","1")},xD=(e,n,o)=>I.some(()=>{const r=e.selection.getRng(),c=o.bind(({rng:u,isStartInTable:m})=>{const b=eq(e,m?u.endContainer:u.startContainer);u.deleteContents(),H4(e,m,b.filter(Ns));const v=m?n[0]:n[n.length-1];return V4(e,v,r,m),Ns(v)?I.none():I.some(m?n.slice(1):n.slice(0,-1))}).getOr(n);_D(c),sy(e)}),bv=(e,n,o,r)=>I.some(()=>{const c=e.selection.getRng(),u=n[0],m=o[o.length-1];V4(e,u,c,!0),V4(e,m,c,!1);const b=Ns(u)?n:n.slice(1),v=Ns(m)?o:o.slice(0,-1);_D(b.concat(v)),r.deleteContents(),sy(e)}),Ji=(e,n,o,r=!0)=>I.some(()=>{uk(e,n,o,r)}),pk=(e,n)=>I.some(()=>_p(e,!1,n)),Ko=(e,n,o)=>T$(n,o).bind(r=>r.fold(Ue(Ji,e),Ue(pk,e),Ue(xD,e),Ue(bv,e))),gk=(e,n)=>yv(e,n),CD=(e,n,o,r)=>hk(n,r).fold(()=>Ko(e,n,o),c=>gk(e,c)),SD=(e,n,o)=>{const r=ee.fromDom(e.getBody()),c=e.selection.getRng();return o.length!==0?xD(e,o,I.none()):CD(e,r,c,n)},H2=(e,n)=>go(sm(n,e),$a),hk=(e,n)=>go(sm(n,e),ri("caption")),j4=(e,n,o,r,c)=>Ld(o,e.getBody(),c).bind(u=>H2(n,ee.fromDom(u.getNode())).bind(m=>fo(m,r)?I.none():I.some(Et))),yv=(e,n)=>I.some(()=>{hl(n),e.selection.setCursorLocation(n.dom,0)}),V2=(e,n,o,r)=>ac(e.dom).bind(c=>xl(e.dom).map(u=>n?o.isEqual(c)&&r.isEqual(u):o.isEqual(u)&&r.isEqual(c))).getOr(!0),U4=(e,n)=>yv(e,n),TD=(e,n,o)=>hk(e,ee.fromDom(o.getNode())).fold(()=>I.some(Et),r=>no(!fo(r,n),Et)),ED=(e,n,o,r,c)=>Ld(o,e.getBody(),c).fold(()=>I.some(Et),u=>V2(r,o,c,u)?U4(e,r):TD(n,r,u)),zD=(e,n,o,r)=>{const c=_e.fromRangeStart(e.selection.getRng());return H2(o,r).bind(u=>Ns(u)?yv(e,u):j4(e,o,n,u,c))},AD=(e,n,o,r)=>{const c=_e.fromRangeStart(e.selection.getRng());return Ns(r)?yv(e,r):ED(e,o,n,r,c)},W4=(e,n)=>e?JO(n):Dn(n),vv=(e,n)=>{const o=_e.fromRangeStart(e.selection.getRng());return W4(n,o)||qr(n,e.getBody(),o).exists(r=>W4(n,r))},OD=(e,n,o)=>{const r=ee.fromDom(e.getBody());return hk(r,o).fold(()=>zD(e,n,r,o).orThunk(()=>no(vv(e,n),Et)),c=>AD(e,n,r,c))},bk=(e,n)=>{const o=ee.fromDom(e.selection.getStart(!0)),r=$g(e);return e.selection.isCollapsed()&&r.length===0?OD(e,n,o):SD(e,o,r)},ry=(e,n)=>{let o=n;for(;o&&o!==e;){if(ta(o)||Wn(o))return o;o=o.parentNode}return null},E$=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],DD=Xe.each,j2=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),r=(u,m)=>{if(u.nodeName!==m.nodeName||u.nodeType!==m.nodeType)return!1;const b=C=>{const O={};return DD(n.getAttribs(C),D=>{const N=D.nodeName.toLowerCase();N!=="style"&&!c(N)&&(O[N]=n.getAttrib(C,N))}),O},v=(C,O)=>{for(const D in C)if(Qt(C,D)){const N=O[D];if($n(N)||C[D]!==N)return!1;delete O[D]}for(const D in O)if(Qt(O,D))return!1;return!0};return Dt(u)&&Dt(m)&&(!v(b(u),b(m))||!v(n.parseStyle(n.getAttrib(u,"style")),n.parseStyle(n.getAttrib(m,"style"))))?!1:!yi(u)&&!yi(m)},c=u=>hn(E$,m=>Es(u,m))||o.has(u);return{compare:r,isAttributeInternal:c}},Z4=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),U2=e=>e.name==="summary",RD=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},q4=(e,n,o,r)=>{const c=o.name;for(let u=0,m=e.length;u<m;u++){const b=e[u];if(b.name===c){const v=r.nodes[c];v?v.nodes.push(o):r.nodes[c]={filter:b,nodes:[o]}}}if(o.attributes)for(let u=0,m=n.length;u<m;u++){const b=n[u],v=b.name;if(v in o.attributes.map){const C=r.attributes[v];C?C.nodes.push(o):r.attributes[v]={filter:b,nodes:[o]}}}},MD=(e,n,o)=>{const r={nodes:{},attributes:{}};return o.firstChild&&RD(o,c=>{q4(e,n,c,r)}),r},G4=(e,n)=>{const o=(r,c)=>{dt(r,u=>{const m=js(u.nodes);ve(u.filter.callbacks,b=>{for(let v=m.length-1;v>=0;v--){const C=m[v];(!(c?C.attr(u.filter.name)!==void 0:C.name===u.filter.name)||yn(C.parent))&&m.splice(v,1)}m.length>0&&b(m,u.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},K4=(e,n,o,r={})=>{const c=MD(e,n,o);G4(c,r)},W2=(e,n,o,r)=>{if((e.pad_empty_with_br||n.insert)&&o(r)){const u=new Cc("br",1);n.insert&&u.attr("data-mce-bogus","1"),r.empty().append(u)}else r.empty().append(new Cc("#text",3)).value=uo},BD=e=>{var n;return Y4(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===uo},Y4=(e,n)=>{const o=e==null?void 0:e.firstChild;return Re(o)&&o===e.lastChild&&o.name===n},ND=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},wv=(e,n,o,r)=>r.isEmpty(n,o,c=>ND(e,c)),X4=(e,n)=>Re(e)&&(n(e)||e.name==="br"),PD=e=>{let n;for(let o=e;o;o=o.parent){const r=o.attr("contenteditable");if(r==="false")break;r==="true"&&(n=o)}return I.from(n)},Z2=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const c of r)o&&!n.isValidChild(o.name,c.name)&&Z2(c,n,o);e.unwrap()}},q2=(e,n,o,r=Et)=>{const c=n.getTextBlockElements(),u=n.getNonEmptyElements(),m=n.getWhitespaceElements(),b=Xe.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),v=new Set,C=O=>O!==o&&!b[O.name];for(let O=0;O<e.length;O++){const D=e[O];let N,G,X;if(!D.parent||v.has(D))continue;if(c[D.name]&&D.parent.name==="li"){let J=D.next;for(;J&&c[J.name];){J.name="li",v.add(J),D.parent.insert(J,D.parent);J=J.next}D.unwrap();continue}const U=[D];for(N=D.parent;N&&!n.isValidChild(N.name,D.name)&&C(N);N=N.parent)U.push(N);if(N&&U.length>1)if(G2(n,D,N))Z2(D,n);else{U.reverse(),G=U[0].clone(),r(G);let J=G;for(let le=0;le<U.length-1;le++){n.isValidChild(J.name,U[le].name)&&le>0?(X=U[le].clone(),r(X),J.append(X)):X=J;for(let fe=U[le].firstChild;fe&&fe!==U[le+1];){const de=fe.next;X.append(fe),fe=de}J=X}wv(n,u,m,G)?N.insert(D,U[0],!0):(N.insert(G,U[0],!0),N.insert(D,G)),N=U[0],(wv(n,u,m,N)||Y4(N,"br"))&&N.empty().remove()}else if(D.parent){if(D.name==="li"){let J=D.prev;if(J&&(J.name==="ul"||J.name==="ol")){J.append(D);continue}if(J=D.next,J&&(J.name==="ul"||J.name==="ol")&&J.firstChild){J.insert(D,J.firstChild,!0);continue}const le=new Cc("ul",1);r(le),D.wrap(le);continue}if(n.isValidChild(D.parent.name,"div")&&n.isValidChild("div",D.name)){const J=new Cc("div",1);r(J),D.wrap(J)}else Z2(D,n)}}},$D=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},G2=(e,n,o=n.parent)=>o?e.children[n.name]&&!e.isValidChild(o.name,n.name)||n.name==="a"&&$D(o,"a")?!0:U2(o)&&Z4(n)?!((o==null?void 0:o.firstChild)===n&&(o==null?void 0:o.lastChild)===n):!1:!1,ID=(e,n,o,r)=>{const c=document.createRange();return c.setStart(e,n),c.setEnd(o,r),c},J4=e=>{const n=_e.fromRangeStart(e),o=_e.fromRangeEnd(e),r=e.commonAncestorContainer;return qr(!1,r,o).map(c=>!Gl(n,o,r)&&Gl(n,c,r)?ID(n.container(),n.offset(),c.container(),c.offset()):e).getOr(e)},kv=e=>e.collapsed?e:J4(e),K2=e=>Re(e.firstChild)&&e.firstChild===e.lastChild,Y2=e=>e.name==="br"||e.value===uo,FD=(e,n)=>e.getBlockElements()[n.name]&&K2(n)&&Y2(n.firstChild),X2=(e,n)=>{const o=e.getNonEmptyElements();return Re(n)&&(n.isEmpty(o)||FD(e,n))},Q4=(e,n)=>{let o=n.firstChild,r=n.lastChild;return o&&o.name==="meta"&&(o=o.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),X2(e,r)&&(r=r==null?void 0:r.prev),!o||o!==r?!1:o.name==="ul"||o.name==="ol"},yk=e=>{var n,o;const r=e.firstChild,c=e.lastChild;return r&&r.nodeName==="META"&&((n=r.parentNode)===null||n===void 0||n.removeChild(r)),c&&c.id==="mce_marker"&&((o=c.parentNode)===null||o===void 0||o.removeChild(c)),e},e3=(e,n,o)=>{const r=n.serialize(o),c=e.createFragment(r);return yk(c)},LD=e=>{var n;return Ie((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},_v=e=>e.data===uo||Mo(e),t3=e=>Re(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&_v(e.firstChild),n3=e=>!e.firstChild||t3(e),vk=e=>e.length>0&&n3(e[e.length-1])?e.slice(0,-1):e,rm=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},HD=(e,n)=>!!rm(e,n),z$=(e,n)=>{const o=n.cloneRange(),r=n.cloneRange();return o.setStartBefore(e),r.setEndAfter(e),[o.cloneContents(),r.cloneContents()]},VD=(e,n)=>{const o=_e.before(e),c=Kl(n).next(o);return c?c.toRange():null},o3=(e,n)=>{const o=_e.after(e),c=Kl(n).prev(o);return c?c.toRange():null},A$=(e,n,o,r)=>{const c=z$(e,r),u=e.parentNode;return u&&(u.insertBefore(c[0],e),Xe.each(n,m=>{u.insertBefore(m,e)}),u.insertBefore(c[1],e),u.removeChild(e)),o3(n[n.length-1],o)},tq=(e,n,o)=>{const r=e.parentNode;return r&&Xe.each(n,c=>{r.insertBefore(c,e)}),VD(e,o)},O$=(e,n,o,r)=>(r.insertAfter(n.reverse(),e),o3(n[0],o)),s3=(e,n,o,r)=>{const c=e3(n,e,r),u=rm(n,o.startContainer),m=vk(LD(c.firstChild)),b=1,v=2,C=n.getRoot(),O=D=>{const N=_e.fromRangeStart(o),G=Kl(n.getRoot()),X=D===b?G.prev(N):G.next(N),U=X==null?void 0:X.getNode();return U?rm(n,U)!==u:!0};return u?O(b)?tq(u,m,C):O(v)?O$(u,m,C,n):A$(u,m,C,o):null},Jd=["pre"],r3=(e,n,o,r)=>{var c;const u=n.firstChild,m=n.lastChild,b=m.attr("data-mce-type")==="bookmark"?m.prev:m,v=u===b,C=Ke(Jd,u.name);if(v&&C){const O=u.attr("contenteditable")!=="false",D=((c=e.getParent(o,e.isBlock))===null||c===void 0?void 0:c.nodeName.toLowerCase())===u.name,N=I.from(ry(r,o)).forall(ta);return O&&D&&N}else return!1},xv=zf,a3=(e,n,o)=>{if(Re(o)){const r=e.getParent(n.endContainer,xv);return o===r&&Bw(ee.fromDom(o),n)}else return!1},D$=(e,n,o)=>{var r;if(o.getAttribute("data-mce-bogus")==="all")(r=o.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(n),o);else{const c=o.firstChild,u=o.lastChild;!c||c===u&&c.nodeName==="BR"?e.dom.setHTML(o,n):e.selection.setContent(n,{no_events:!0})}},jD=(e,n,o)=>{I.from(e.getParent(n,"td,th")).map(ee.fromDom).each(r=>Kt(r,o))},R$=(e,n)=>{const o=e.schema.getTextInlineElements(),r=e.dom;if(n){const c=e.getBody(),u=j2(e);Xe.each(r.select("*[data-mce-fragment]"),m=>{if(Re(o[m.nodeName.toLowerCase()])&&nk(r,m)){for(let v=m.parentElement;Re(v)&&v!==c&&!LP(r,m,v);v=v.parentElement)if(u.compare(v,m)){r.remove(m,!0);break}}})}},UD=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},c3=e=>{Xe.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},M$=e=>!!e.getAttribute("data-mce-fragment"),WD=(e,n)=>Re(n)&&!e.schema.getVoidElements()[n.nodeName],B$=(e,n)=>{var o,r,c;let u;const m=e.dom,b=e.selection;if(!n)return;b.scrollIntoView(n);const v=ry(e.getBody(),n);if(v&&m.getContentEditable(v)==="false"){m.remove(n),b.select(v);return}let C=m.createRng();const O=n.previousSibling;if(Je(O)){C.setStart(O,(r=(o=O.nodeValue)===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0);const G=n.nextSibling;Je(G)&&(O.appendData(G.data),(c=G.parentNode)===null||c===void 0||c.removeChild(G))}else C.setStartBefore(n),C.setEndBefore(n);const D=G=>{let X=_e.fromRangeStart(G);return X=Kl(e.getBody()).next(X),X==null?void 0:X.toRange()},N=m.getParent(n,m.isBlock);if(m.remove(n),N&&m.isEmpty(N)){const G=xv(N);dl(ee.fromDom(N)),C.setStart(N,0),C.setEnd(N,0),!G&&!M$(N)&&(u=D(C))?(C=u,m.remove(N)):m.add(N,m.create("br",G?{}:{"data-mce-bogus":"1"}))}b.setRng(C)},wk=e=>{const n=e.dom,o=kv(e.selection.getRng());e.selection.setRng(o);const r=n.getParent(o.startContainer,xv);a3(n,o,r)?Ji(e,o,ee.fromDom(r)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&Je(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},ZD=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return I.some(n);return I.none()},N$=(e,n,o)=>{var r;return hn(o.children(),Z4)&&((r=e.getParent(n,e.isBlock))===null||r===void 0?void 0:r.nodeName)==="SUMMARY"},qD=(e,n,o)=>{var r,c;const u=e.selection,m=e.dom,b=e.parser,v=o.merge,C=Gg({validate:!0},e.schema),O='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(n=$(n)),n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,O);let D=u.getRng();const N=D.startContainer,G=e.getBody();N===G&&u.isCollapsed()&&m.isBlock(G.firstChild)&&WD(e,G.firstChild)&&m.isEmpty(G.firstChild)&&(D=m.createRng(),D.setStart(G.firstChild,0),D.setEnd(G.firstChild,0),u.setRng(D)),u.isCollapsed()||wk(e);const X=u.getNode(),U={context:X.nodeName.toLowerCase(),data:o.data,insert:!0},J=b.parse(n,U);if(o.paste===!0&&Q4(e.schema,J)&&HD(m,X))return D=s3(C,m,u.getRng(),J),D&&u.setRng(D),n;o.paste===!0&&r3(m,J,X,e.getBody())&&((r=J.firstChild)===null||r===void 0||r.unwrap()),UD(J);let le=J.lastChild;if(le&&le.attr("id")==="mce_marker"){const fe=le;for(le=le.prev;le;le=le.walk(!0))if(le.type===3||!m.isBlock(le.name)){le.parent&&e.schema.isValidChild(le.parent.name,"span")&&le.parent.insert(fe,le,le.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(X),!U.invalid&&!N$(m,X,J))n=C.serialize(J),D$(e,n,X);else{e.selection.setContent(O);let fe=u.getNode(),de;const we=e.getBody();for(Wm(fe)?fe=de=we:de=fe;de&&de!==we;)fe=de,de=de.parentNode;n=fe===we?we.innerHTML:m.getOuterHTML(fe);const We=b.parse(n),at=ZD(We),kt=at.bind(PD).getOr(We);at.each(Rt=>Rt.replace(J));const Ae=J.children(),Se=(c=J.parent)!==null&&c!==void 0?c:We;J.unwrap();const je=Ie(Ae,Rt=>G2(e.schema,Rt,Se));q2(je,e.schema,kt),K4(b.getNodeFilters(),b.getAttributeFilters(),We),n=C.serialize(We),fe===we?m.setHTML(we,n):m.setOuterHTML(fe,n)}return R$(e,v),B$(e,m.get("mce_marker")),c3(e.getBody()),jD(m,u.getStart(),e.schema),W_(e.schema,e.getBody(),u.getStart()),n},J2=e=>e instanceof Cc,P$=e=>{qg(e)&&ac(e.getBody()).each(n=>{const o=n.getNode(),r=pl(o)?ac(o).getOr(n):n;e.selection.setRng(r.toRange())})},i3=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&P$(e)},$$=(e,n,o,r)=>{if(o=$(o),o.length===0||/^\s+$/.test(o)){const c='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+c+"</li>");const u=Va(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),u.toLowerCase())?(o=c,o=e.dom.createHTML(u,bb(e),o)):o||(o=c),i3(e,o,r.no_selection),{content:o,html:o}}else{r.format!=="raw"&&(o=Gg({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const c=ir(ee.fromDom(n))?o:Xe.trim(o);return i3(e,c,r.no_selection),{content:c,html:c}}},I$=(e,n,o,r)=>{K4(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const c=Gg({validate:!1},e.schema).serialize(o),u=$(ir(ee.fromDom(n))?c:Xe.trim(c));return i3(e,u,r.no_selection),{content:o,html:u}},GD=(e,n,o)=>I.from(e.getBody()).map(r=>J2(n)?I$(e,r,n,o):$$(e,r,n,o)).getOr({content:n,html:J2(o.content)?"":o.content}),KD=e=>ce(e)?e:He,l3=(e,n,o)=>{let r=e.dom;const c=KD(o);for(;r.parentNode;){r=r.parentNode;const u=ee.fromDom(r),m=n(u);if(m.isSome())return m;if(c(u))break}return I.none()},xp=(e,n,o)=>{const r=n(e),c=KD(o);return r.orThunk(()=>c(e)?I.none():l3(e,n,c))},u3=Q1,YD=(e,n,o)=>{const r=e.formatter.get(o);if(r)for(let c=0;c<r.length;c++){const u=r[c];if(ca(u)&&u.inherit===!1&&e.dom.is(n,u.selector))return!0}return!1},Cv=(e,n,o,r,c)=>{const u=e.dom.getRoot();if(n===u)return!1;const m=e.dom.getParent(n,b=>YD(e,b,o)?!0:b.parentNode===u||!!am(e,b,o,r,!0));return!!am(e,m,o,r,c)},kk=(e,n,o)=>lr(o)&&u3(n,o.inline)||Jl(o)&&u3(n,o.block)?!0:ca(o)?Dt(n)&&e.is(n,o.selector):!1,d3=(e,n,o,r,c,u)=>{const m=o[r],b=r==="attributes";if(ce(o.onmatch))return o.onmatch(n,o,r);if(m){if(ad(m)){for(let v=0;v<m.length;v++)if(b?e.getAttrib(n,m[v]):Ig(e,n,m[v]))return!0}else for(const v in m)if(Qt(m,v)){const C=b?e.getAttrib(n,v):Ig(e,n,v),O=Xl(m[v],u),D=yn(C)||Aa(C);if(D&&yn(O))continue;if(c&&D&&!o.exact||(!c||o.exact)&&!u3(C,ev(O,v)))return!1}}return!0},am=(e,n,o,r,c)=>{const u=e.formatter.get(o),m=e.dom;if(u&&Dt(n))for(let b=0;b<u.length;b++){const v=u[b];if(kk(e.dom,n,v)&&d3(m,n,v,"attributes",c,r)&&d3(m,n,v,"styles",c,r)){const C=v.classes;if(C){for(let O=0;O<C.length;O++)if(!e.dom.hasClass(n,Xl(C[O],r)))return}return v}}},Q2=(e,n,o,r,c)=>{if(r)return Cv(e,r,n,o,c);if(r=e.selection.getNode(),Cv(e,r,n,o,c))return!0;const u=e.selection.getStart();return!!(u!==r&&Cv(e,u,n,o,c))},F$=(e,n,o)=>{const r=[],c={},u=e.selection.getStart();return e.dom.getParent(u,m=>{for(let b=0;b<n.length;b++){const v=n[b];!c[v]&&am(e,m,v,o)&&(c[v]=!0,r.push(v))}},e.dom.getRoot()),r},ay=(e,n)=>{const o=c=>fo(c,ee.fromDom(e.getBody())),r=(c,u)=>am(e,c.dom,u)?I.some(u):I.none();return I.from(e.selection.getStart(!0)).bind(c=>xp(ee.fromDom(c),u=>Jc(n,m=>r(u,m)),o)).getOrNull()},XD=(e,n)=>{const o=e.formatter.get(n),r=e.dom;if(o&&e.selection.isEditable()){const c=e.selection.getStart(),u=$b(r,c);for(let m=o.length-1;m>=0;m--){const b=o[m];if(!ca(b))return!0;for(let v=u.length-1;v>=0;v--)if(r.is(u[v],b.selector))return!0}}return!1},JD=(e,n,o)=>nn(o,(r,c)=>{const u=Iw(e,c);return e.formatter.matchNode(n,c,{},u)?r.concat([c]):r},[]),Sv=k,eC=(e,n)=>e.importNode(n,!0),f3=e=>{if(e){const n=new qo(e,e);for(let o=n.current();o;o=n.next())if(Je(o))return o}return null},m3=e=>{const n=ee.fromTag("span");return ai(n,{id:W1,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&tr(n,ee.fromText(Sv)),n},QD=e=>{const n=f3(e);return n&&n.data.charAt(0)===Sv&&n.deleteData(0,1),n},p3=(e,n,o)=>{const r=e.dom,c=e.selection;if(Fb(n))_p(e,!1,ee.fromDom(n),o,!0);else{const u=c.getRng(),m=r.getParent(n,r.isBlock),b=u.startContainer,v=u.startOffset,C=u.endContainer,O=u.endOffset,D=QD(n);r.remove(n,!0),b===D&&v>0&&u.setStart(D,v-1),C===D&&O>0&&u.setEnd(D,O-1),m&&r.isEmpty(m)&&hl(ee.fromDom(m)),c.setRng(u)}},g3=(e,n,o)=>{const r=e.dom,c=e.selection;if(n)p3(e,n,o);else if(n=fp(e.getBody(),c.getStart()),!n)for(;n=r.get(W1);)p3(e,n,o)},tC=(e,n,o)=>{var r,c;const u=e.dom,m=u.getParent(o,Ue(yr,e.schema));m&&u.isEmpty(m)?(r=o.parentNode)===null||r===void 0||r.replaceChild(n,o):(Qy(ee.fromDom(o)),u.isEmpty(o)?(c=o.parentNode)===null||c===void 0||c.replaceChild(n,o):u.insertAfter(n,o))},h3=(e,n)=>(e.appendChild(n),n),nC=(e,n)=>{var o;const r=Mn(e,(u,m)=>h3(u,m.cloneNode(!1)),n),c=(o=r.ownerDocument)!==null&&o!==void 0?o:document;return h3(r,c.createTextNode(Sv))},L$=(e,n,o,r,c,u)=>{const m=e.formatter,b=e.dom,v=Ie(ts(m.get()),D=>D!==r&&!ls(D,"removeformat")),C=JD(e,o,v);if(Ie(C,D=>!WE(e,D,r)).length>0){const D=o.cloneNode(!1);return b.add(n,D),m.remove(r,c,D,u),b.remove(D),I.some(D)}else return I.none()},H$=(e,n,o)=>{let r;const c=e.selection,u=e.formatter.get(n);if(!u)return;const m=c.getRng();let b=m.startOffset;const C=m.startContainer.nodeValue;r=fp(e.getBody(),c.getStart());const O=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(C&&b>0&&b<C.length&&O.test(C.charAt(b))&&O.test(C.charAt(b-1))){const D=c.getBookmark();m.collapse(!0);let N=jd(e.dom,m,u);N=B(N),e.formatter.apply(n,o,N),c.moveToBookmark(D)}else{let D=r?f3(r):null;(!r||(D==null?void 0:D.data)!==Sv)&&(r=eC(e.getDoc(),m3(!0).dom),D=r.firstChild,m.insertNode(r),b=1),e.formatter.apply(n,o,r),c.setCursorLocation(D,b)}},eR=(e,n,o,r)=>{const c=e.dom,u=e.selection;let m=!1;const b=e.formatter.get(n);if(!b)return;const v=u.getRng(),C=v.startContainer,O=v.startOffset;let D=C;Je(C)&&(O!==C.data.length&&(m=!0),D=D.parentNode);const N=[];let G;for(;D;){if(am(e,D,n,o,r)){G=D;break}D.nextSibling&&(m=!0),N.push(D),D=D.parentNode}if(G)if(m){const X=u.getBookmark();v.collapse(!0);let U=jd(c,v,b,!0);U=B(U),e.formatter.remove(n,o,U,r),u.moveToBookmark(X)}else{const X=fp(e.getBody(),G),U=Re(X)?c.getParents(G.parentNode,ut,X):[],J=m3(!1).dom;tC(e,J,X??G);const le=L$(e,J,G,n,o,r),fe=nC([...N,...le.toArray(),...U],J);X&&p3(e,X,Re(X)),u.setCursorLocation(fe,1),c.isEmpty(G)&&c.remove(G)}},b3=(e,n,o)=>{const r=e.selection,c=e.getBody();g3(e,null,o),(n===8||n===46)&&r.isCollapsed()&&r.getStart().innerHTML===Sv&&g3(e,fp(c,r.getStart()),!0),(n===37||n===39)&&g3(e,fp(c,r.getStart()),!0)},tR=e=>Je(e)&&Fi(e.data,uo),V$=e=>{e.on("mouseup keydown",n=>{b3(e,n.keyCode,tR(e.selection.getRng().endContainer))})},nR=e=>{const n=m3(!1),o=nC(e,n.dom);return{caretContainer:n,caretPosition:_e(o,0)}},oR=(e,n)=>{const{caretContainer:o,caretPosition:r}=nR(n);return gr(ee.fromDom(e),o),ro(ee.fromDom(e)),r},oC=(e,n)=>{const{caretContainer:o,caretPosition:r}=nR(n);return e.insertNode(o.dom),r},cm=(e,n)=>{if(bi(n.dom))return!1;const o=e.schema.getTextInlineElements();return Qt(o,oo(n))&&!bi(n.dom)&&!ji(n.dom)},_k={},sC=Zs(["pre"]),ur=(e,n)=>{_k[e]||(_k[e]=[]),_k[e].push(n)},y3=(e,n)=>{Qt(_k,e)&&ve(_k[e],o=>{o(n)})};ur("pre",e=>{const n=e.selection.getRng(),o=c=>u=>{const m=u.previousSibling;return sC(m)&&Ke(c,m)},r=(c,u)=>{const m=ee.fromDom(u),b=Rc(m).dom;ro(m),Ro(ee.fromDom(c),[ee.fromTag("br",b),ee.fromTag("br",b),...Sr(m)])};if(!n.collapsed){const c=e.selection.getSelectedBlocks(),u=Ie(Ie(c,sC),o(c));ve(u,m=>{r(m.previousSibling,m)})}});const rC=["fontWeight","fontStyle","color","fontSize","fontFamily"],Cp=e=>Ut(e.styles)&&hn(ts(e.styles),n=>Ke(rC,n)),sR=e=>go(e,n=>lr(n)&&n.inline==="span"&&Cp(n)),v3=(e,n)=>{const o=e.get(n);return Gt(o)?sR(o):I.none()},Tv=(e,n)=>kc(n,_e.fromRangeStart(e)).isNone(),rR=(e,n)=>Ua(n,_e.fromRangeEnd(e)).exists(o=>!Mo(o.getNode())||Ua(n,o).isSome())===!1,aR=e=>n=>qp(n)&&e.isEditable(n),Ev=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return Tv(o,n[0])&&rR(o,n[0])?n:[];{const r=In(n).filter(m=>Tv(o,m)).toArray(),c=fs(n).filter(m=>rR(o,m)).toArray(),u=n.slice(1,-1);return r.concat(u).concat(c)}},j$=e=>Ie(Ev(e),aR(e.dom)),Yg=e=>Ie(e.getSelectedBlocks(),aR(e.dom)),w3=Xe.each,im=e=>Dt(e)&&!yi(e)&&!bi(e)&&!ji(e),zl=(e,n)=>{for(let o=e;o;o=o[n]){if(Je(o)&&So(o.data))return e;if(Dt(o)&&!yi(o))return o}return e},xk=(e,n,o)=>{const r=j2(e),c=Vi(n)&&e.dom.isEditable(n),u=Vi(o)&&e.dom.isEditable(o);if(c&&u){const m=zl(n,"previousSibling"),b=zl(o,"nextSibling");if(r.compare(m,b)){for(let v=m.nextSibling;v&&v!==b;){const C=v;v=v.nextSibling,m.appendChild(C)}return e.dom.remove(b),Xe.each(Xe.grep(b.childNodes),v=>{m.appendChild(v)}),m}}return o},aC=(e,n,o,r)=>{var c;if(r&&n.merge_siblings!==!1){const u=(c=xk(e,Ct(r),r))!==null&&c!==void 0?c:r;xk(e,u,Ct(u,!0))}},U$=(e,n,o)=>{if(n.clear_child_styles){const r=n.links?"*:not(a)":"*";w3(e.select(r,o),c=>{im(c)&&e.isEditable(c)&&w3(n.styles,(u,m)=>{e.setStyle(c,m,"")})})}},k3=(e,n,o)=>{w3(e.childNodes,r=>{im(r)&&(n(r)&&o(r),r.hasChildNodes()&&k3(r,n,o))})},cC=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},cR=(e,n)=>o=>!!(o&&Ig(e,o,n)),eu=(e,n,o)=>r=>{e.setStyle(r,n,o),r.getAttribute("style")===""&&r.removeAttribute("style"),cC(e,r)},lm=ql.generate([{keep:[]},{rename:["name"]},{removed:[]}]),iR=/^(src|href|style)$/,Ck=Xe.each,zv=Q1,cy=e=>/^(TR|TH|TD)$/.test(e.nodeName),iC=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),lR=(e,n,o)=>{let r=n[o?"startContainer":"endContainer"],c=n[o?"startOffset":"endOffset"];if(Dt(r)){const u=r.childNodes.length-1;!o&&c&&c--,r=r.childNodes[c>u?u:c]}return Je(r)&&o&&c>=r.data.length&&(r=new qo(r,e.getBody()).next()||r),Je(r)&&!o&&c===0&&(r=new qo(r,e.getBody()).prev()||r),r},_3=(e,n)=>{const o=n?"firstChild":"lastChild",r=e[o];return cy(e)&&r?e.nodeName==="TR"&&r[o]||r:e},x3=(e,n,o,r)=>{var c;const u=e.create(o,r);return(c=n.parentNode)===null||c===void 0||c.insertBefore(u,n),u.appendChild(n),u},uR=(e,n,o,r,c)=>{const u=ee.fromDom(n),m=ee.fromDom(e.create(r,c)),b=o?gc(u):Dh(u);return Ro(m,b),o?(gr(u,m),bd(m,u)):(Hi(u,m),tr(m,u)),m.dom},W$=(e,n)=>n.links&&e.nodeName==="A",dR=(e,n,o)=>{const r=n.parentNode;let c;const u=e.dom,m=Va(e);Jl(o)&&r===u.getRoot()&&(!o.list_block||!zv(n,o.list_block))&&ve(js(n.childNodes),b=>{Vd(e,m,b.nodeName.toLowerCase())?c?c.appendChild(b):(c=x3(u,b,m),u.setAttribs(c,bb(e))):c=null}),!(nv(o)&&!zv(o.inline,n))&&u.remove(n,!0)},Av=(e,n,o)=>Qo(e)?{name:n,value:null}:{name:e,value:Xl(n,o)},fR=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},C3=(e,n,o,r,c)=>{let u=!1;Ck(o.styles,(m,b)=>{const{name:v,value:C}=Av(b,m,r),O=ev(C,v);(o.remove_similar||Y(C)||!Dt(c)||zv(Ig(e,c,v),O))&&e.setStyle(n,v,""),u=!0}),u&&fR(e,n)},S3=(e,n,o)=>{n==="removeformat"?ve(Yg(e.selection),r=>{ve(rC,c=>e.dom.setStyle(r,c,"")),fR(e.dom,r)}):v3(e.formatter,n).each(r=>{ve(Yg(e.selection),c=>C3(e.dom,c,r,o,null))})},mR=(e,n,o,r,c)=>{const u=e.dom,m=j2(e),b=e.schema;if(lr(n)&&eb(b,n.inline)&&Gn(b,r)&&r.parentElement===e.getBody())return dR(e,r,n),lm.removed();if(!n.ceFalseOverride&&r&&u.getContentEditableParent(r)==="false"||r&&!kk(u,r,n)&&!W$(r,n))return lm.keep();const v=r,C=n.preserve_attributes;if(lr(n)&&n.remove==="all"&&Gt(C)){const O=Ie(u.getAttribs(v),D=>Ke(C,D.name.toLowerCase()));if(u.removeAllAttribs(v),ve(O,D=>u.setAttrib(v,D.name,D.value)),O.length>0)return lm.rename("span")}if(n.remove!=="all"){C3(u,v,n,o,c),Ck(n.attributes,(D,N)=>{const{name:G,value:X}=Av(N,D,o);if(n.remove_similar||Y(X)||!Dt(c)||zv(u.getAttrib(c,G),X)){if(G==="class"){const U=u.getAttrib(v,G);if(U){let J="";if(ve(U.split(/\s+/),le=>{/mce\-\w+/.test(le)&&(J+=(J?" ":"")+le)}),J){u.setAttrib(v,G,J);return}}}if(iR.test(G)&&v.removeAttribute("data-mce-"+G),G==="style"&&Zs(["li"])(v)&&u.getStyle(v,"list-style-type")==="none"){v.removeAttribute(G),u.setStyle(v,"list-style-type","none");return}G==="class"&&v.removeAttribute("className"),v.removeAttribute(G)}}),Ck(n.classes,D=>{D=Xl(D,o),(!Dt(c)||u.hasClass(c,D))&&u.removeClass(v,D)});const O=u.getAttribs(v);for(let D=0;D<O.length;D++){const N=O[D].nodeName;if(!m.isAttributeInternal(N))return lm.keep()}}return n.remove!=="none"?(dR(e,v,n),lm.removed()):lm.keep()},pR=(e,n,o,r,c)=>{let u;return n.parentNode&&ve($b(e.dom,n.parentNode).reverse(),m=>{if(!u&&Dt(m)&&m.id!=="_start"&&m.id!=="_end"){const b=am(e,m,o,r,c);b&&b.split!==!1&&(u=m)}}),u},gR=(e,n,o,r)=>mR(e,n,o,r,r).fold(Ye(r),c=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,c)),Ye(null)),Z$=(e,n,o,r,c,u,m,b)=>{var v,C;let O,D;const N=e.dom;if(o){const G=o.parentNode;for(let X=r.parentNode;X&&X!==G;X=X.parentNode){let U=N.clone(X,!1);for(let J=0;J<n.length&&(U=gR(e,n[J],b,U),U!==null);J++);U&&(O&&U.appendChild(O),D||(D=U),O=U)}(!m.mixed||!N.isBlock(o))&&(r=(v=N.split(o,r))!==null&&v!==void 0?v:r),O&&D&&((C=c.parentNode)===null||C===void 0||C.insertBefore(O,c),D.appendChild(c),lr(m)&&aC(e,m,b,O))}return r},q$=(e,n,o,r,c)=>{const u=e.formatter.get(n),m=u[0],b=e.dom,v=e.selection,C=U=>{const J=pR(e,U,n,o,c);return Z$(e,u,J,U,U,!0,m,o)},O=U=>yi(U)&&Dt(U)&&(U.id==="_start"||U.id==="_end"),D=U=>hn(u,J=>Sk(e,J,o,U,U)),N=U=>{const J=js(U.childNodes),fe=D(U)||hn(u,We=>kk(b,U,We)),de=U.parentNode;if(!fe&&Re(de)&&Ib(m)&&D(de),m.deep&&J.length)for(let We=0;We<J.length;We++)N(J[We]);ve(["underline","line-through","overline"],We=>{Dt(U)&&e.dom.getStyle(U,"text-decoration")===We&&U.parentNode&&t2(b,U.parentNode)===We&&Sk(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:We}},void 0,U)})},G=U=>{const J=b.get(U?"_start":"_end");if(J){let le=J[U?"firstChild":"lastChild"];return O(le)&&(le=le[U?"firstChild":"lastChild"]),Je(le)&&le.data.length===0&&(le=U?J.previousSibling||J.nextSibling:J.nextSibling||J.previousSibling),b.remove(J,!0),le}else return null},X=U=>{let J,le,fe=jd(b,U,u,U.collapsed);if(m.split){if(fe=B(fe),J=lR(e,fe,!0),le=lR(e,fe),J!==le){if(J=_3(J,!0),le=_3(le,!1),iC(b,J,le)){const we=I.from(J.firstChild).getOr(J);C(uR(b,we,!0,"span",{id:"_start","data-mce-type":"bookmark"})),G(!0);return}if(iC(b,le,J)){const we=I.from(le.lastChild).getOr(le);C(uR(b,we,!1,"span",{id:"_end","data-mce-type":"bookmark"})),G(!1);return}J=x3(b,J,"span",{id:"_start","data-mce-type":"bookmark"}),le=x3(b,le,"span",{id:"_end","data-mce-type":"bookmark"});const de=b.createRng();de.setStartAfter(J),de.setEndBefore(le),Ub(b,de,we=>{ve(we,We=>{!yi(We)&&!yi(We.parentNode)&&C(We)})}),C(J),C(le),J=G(!0),le=G()}else J=le=C(J);fe.startContainer=J.parentNode?J.parentNode:J,fe.startOffset=b.nodeIndex(J),fe.endContainer=le.parentNode?le.parentNode:le,fe.endOffset=b.nodeIndex(le)+1}Ub(b,fe,de=>{ve(de,N)})};if(r){if(Bb(r)){const U=b.createRng();U.setStartBefore(r),U.setEndAfter(r),X(U)}else X(r);hp(e,n,r,o);return}!v.isCollapsed()||!lr(m)||$g(e).length?(Nb(e,()=>em(e,X),U=>lr(m)&&Q2(e,n,o,U)),e.nodeChanged()):eR(e,n,o,c),S3(e,n,o),hp(e,n,r,o)},hR=(e,n,o,r,c)=>{(r||e.selection.isEditable())&&q$(e,n,o,r,c)},Sk=(e,n,o,r,c)=>mR(e,n,o,r,c).fold(He,u=>(e.dom.rename(r,u),!0),ut),bR=Xe.each,G$=(e,n,o,r)=>{const c=u=>{if(Vi(u)&&Dt(u.parentNode)&&e.isEditable(u)){const m=t2(e,u.parentNode);e.getStyle(u,"color")&&m?e.setStyle(u,"text-decoration",m):e.getStyle(u,"text-decoration")===m&&e.setStyle(u,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(Xe.walk(r,c,"childNodes"),c(r))},K$=(e,n,o,r)=>{if(n.styles&&n.styles.backgroundColor){const c=cR(e,"fontSize");k3(r,u=>c(u)&&e.isEditable(u),eu(e,"backgroundColor",Xl(n.styles.backgroundColor,o)))}},Y$=(e,n,o,r)=>{if(lr(n)&&(n.inline==="sub"||n.inline==="sup")){const c=cR(e,"fontSize");k3(r,m=>c(m)&&e.isEditable(m),eu(e,"fontSize",""));const u=Ie(e.select(n.inline==="sup"?"sub":"sup",r),e.isEditable);e.remove(u,!0)}},X$=(e,n,o,r)=>{bR(n,c=>{lr(c)&&bR(e.dom.select(c.inline,r),u=>{im(u)&&Sk(e,c,o,u,c.exact?u:null)}),U$(e.dom,c,r)})},J$=(e,n,o,r,c)=>{const u=c.parentNode;am(e,u,o,r)&&Sk(e,n,r,c)||n.merge_with_parents&&u&&e.dom.getParent(u,m=>am(e,m,o,r)?(Sk(e,n,r,c),!0):!1)},lC=Xe.each,Q$=(e,n,o,r)=>{if(Tx(e)&&lr(n)&&o.parentNode){const c=G_(e.schema),u=v$(ee.fromDom(o),m=>bi(m.dom));return kr(c,r)&&Ns(ee.fromDom(o.parentNode),!1)&&!u}else return!1},yR=(e,n,o,r)=>{if(lC(o.styles,(c,u)=>{e.setStyle(n,u,Xl(c,r))}),o.styles){const c=e.getAttrib(n,"style");c&&e.setAttrib(n,"data-mce-style",c)}},vR=(e,n,o,r)=>{const c=e.formatter.get(n),u=c[0],m=!r&&e.selection.isCollapsed(),b=e.dom,v=e.selection,C=(X,U=u)=>{ce(U.onformat)&&U.onformat(X,U,o,r),yR(b,X,U,o),lC(U.attributes,(J,le)=>{b.setAttrib(X,le,Xl(J,o))}),lC(U.classes,J=>{const le=Xl(J,o);b.hasClass(X,le)||b.addClass(X,le)})},O=(X,U)=>{let J=!1;return lC(X,le=>ca(le)?b.getContentEditable(U)==="false"&&!le.ceFalseOverride||Re(le.collapsed)&&le.collapsed!==m?!0:b.is(U,le.selector)&&!bi(U)?(C(U,le),J=!0,!1):!0:!1),J},D=X=>{if(oe(X)){const U=b.create(X);return C(U),U}else return null},N=(X,U,J)=>{const le=[];let fe=!0;const de=u.inline||u.block,we=D(de),We=Ae=>tv(u)&&am(e,Ae,n,o),at=(Ae,Se,je)=>{const Rt=Fg(u)&&yr(e.schema,Ae)&&Vd(e,Se,de);return je&&Rt},kt=(Ae,Se,je,Rt)=>{const Wt=Ae.nodeName.toLowerCase(),Rn=Vd(e,de,Wt)&&Vd(e,Se,de),zn=!J&&Je(Ae)&&S(Ae.data),Fo=bi(Ae),Xo=!lr(u)||!X.isBlock(Ae);return(je||Rt)&&Rn&&!zn&&!Fo&&Xo};Ub(X,U,Ae=>{let Se;const je=Rt=>{let Wt=!1,Rn=fe,zn=!1;const Fo=Rt.parentNode,Xo=Fo.nodeName.toLowerCase(),Js=X.getContentEditable(Rt);Re(Js)&&(Rn=fe,fe=Js==="true",Wt=!0,zn=Pb(e,Rt));const Ta=fe&&!Wt;if(Mo(Rt)&&!Q$(e,u,Rt,Xo)){Se=null,Jl(u)&&X.remove(Rt);return}if(We(Rt)){Se=null;return}if(at(Rt,Xo,Ta)){const No=X.rename(Rt,de);C(No),le.push(No),Se=null;return}if(ca(u)){let No=O(c,Rt);if(!No&&Re(Fo)&&Ib(u)&&(No=O(c,Fo)),!lr(u)||No){Se=null;return}}Re(we)&&kt(Rt,Xo,Ta,zn)?(Se||(Se=X.clone(we,!1),Fo.insertBefore(Se,Rt),le.push(Se)),zn&&Wt&&(fe=Rn),Se.appendChild(Rt)):(Se=null,ve(js(Rt.childNodes),je),Wt&&(fe=Rn),Se=null)};ve(Ae,je)}),u.links===!0&&ve(le,Ae=>{const Se=je=>{je.nodeName==="A"&&C(je,u),ve(js(je.childNodes),Se)};Se(Ae)}),ve(le,Ae=>{const Se=Wt=>{let Rn=0;return ve(Wt.childNodes,zn=>{!Ki(zn)&&!yi(zn)&&Rn++}),Rn},je=Wt=>go(Wt.childNodes,Pw).filter(zn=>X.getContentEditable(zn)!=="false"&&kk(X,zn,u)).map(zn=>{const Fo=X.clone(zn,!1);return C(Fo),X.replace(Fo,Wt,!0),X.remove(zn,!0),Fo}).getOr(Wt),Rt=Se(Ae);if((le.length>1||!X.isBlock(Ae))&&Rt===0){X.remove(Ae,!0);return}(lr(u)||Jl(u)&&u.wrapper)&&(!u.exact&&Rt===1&&(Ae=je(Ae)),X$(e,c,o,Ae),J$(e,u,n,o,Ae),K$(X,u,o,Ae),G$(X,u,o,Ae),Y$(X,u,o,Ae),aC(e,u,o,Ae))})},G=Bb(r)?r:v.getNode();if(b.getContentEditable(G)==="false"&&!Pb(e,G)){r=G,O(c,r),xa(e,n,r,o);return}if(u){if(r)if(Bb(r)){if(!O(c,r)){const X=b.createRng();X.setStartBefore(r),X.setEndAfter(r),N(b,jd(b,X,c),!0)}}else N(b,r,!0);else!m||!lr(u)||$g(e).length?(v.setRng(kv(v.getRng())),Nb(e,()=>{em(e,(X,U)=>{const J=U?X:jd(b,X,c);N(b,J,!1)})},ut),e.nodeChanged()):H$(e,n,o),v3(e.formatter,n).each(X=>{ve(j$(e.selection),U=>yR(b,U,X,o))});y3(n,e)}xa(e,n,r,o)},wR=(e,n,o,r)=>{(r||e.selection.isEditable())&&vR(e,n,o,r)},iy=e=>Qt(e,"vars"),eI=(e,n)=>{e.set({}),n.on("NodeChange",o=>{T3(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const r=I.from(o.node).map(c=>Bb(c)?c:c.startContainer).bind(c=>Dt(c)?I.some(c):I.from(c.parentElement)).getOrThunk(()=>kR(n));T3(n,r,e.get())})},kR=e=>e.selection.getStart(),_R=(e,n,o,r,c)=>is(n,b=>{const v=e.formatter.matchNode(b,o,c??{},r);return!$n(v)},b=>YD(e,b,o)?!0:r?!1:Re(e.formatter.matchNode(b,o,c,!0))),xR=(e,n)=>{const o=n??kR(e);return Ie($b(e.dom,o),r=>Dt(r)&&!ji(r))},T3=(e,n,o)=>{const r=xR(e,n);dt(o,(c,u)=>{const m=b=>{const v=_R(e,r,u,b.similar,iy(b)?b.vars:void 0),C=v.isSome();if(b.state.get()!==C){b.state.set(C);const O=v.getOr(n);iy(b)?b.callback(C,{node:O,format:u,parents:r}):ve(b.callbacks,D=>D(C,{node:O,format:u,parents:r}))}};ve([c.withSimilar,c.withoutSimilar],m),ve(c.withVars,m)})},tI=(e,n,o,r,c,u)=>{const m=n.get();ve(o.split(","),b=>{const v=Ho(m,b).getOrThunk(()=>{const O={withSimilar:{state:As(!1),similar:!0,callbacks:[]},withoutSimilar:{state:As(!1),similar:!1,callbacks:[]},withVars:[]};return m[b]=O,O}),C=()=>{const O=xR(e);return _R(e,O,b,c,u).isSome()};if($n(u)){const O=c?v.withSimilar:v.withoutSimilar;O.callbacks.push(r),O.callbacks.length===1&&O.state.set(C())}else v.withVars.push({state:As(C()),similar:c,vars:u,callback:r})}),n.set(m)},nI=(e,n,o)=>{const r=e.get();ve(n.split(","),c=>Ho(r,c).each(u=>{r[c]={withSimilar:{...u.withSimilar,callbacks:Ie(u.withSimilar.callbacks,m=>m!==o)},withoutSimilar:{...u.withoutSimilar,callbacks:Ie(u.withoutSimilar.callbacks,m=>m!==o)},withVars:Ie(u.withVars,m=>m.callback!==o)}})),e.set(r)},oI=(e,n,o,r,c,u)=>(tI(e,n,o,r,c,u),{unbind:()=>nI(n,o,r)}),sI=(e,n,o,r)=>{const c=e.formatter.get(n);c&&(Q2(e,n,o,r)&&(!("toggle"in c[0])||c[0].toggle)?hR(e,n,o,r):wR(e,n,o,r))},CR=Xe.explode,SR=()=>{const e={};return{addFilter:(c,u)=>{ve(CR(c),m=>{Qt(e,m)||(e[m]={name:m,callbacks:[]}),e[m].callbacks.push(u)})},getFilters:()=>Ni(e),removeFilter:(c,u)=>{ve(CR(c),m=>{if(Qt(e,m))if(Re(u)){const b=e[m],v=Ie(b.callbacks,C=>C!==u);v.length>0?b.callbacks=v:delete e[m]}else delete e[m]})}}},rI=(e,n)=>{ve(n,o=>{e.attr(o,null)})},aI=(e,n,o)=>{e.addNodeFilter("font",r=>{ve(r,c=>{const u=n.parse(c.attr("style")),m=c.attr("color"),b=c.attr("face"),v=c.attr("size");m&&(u.color=m),b&&(u["font-family"]=b),v&&pu(v).each(C=>{u["font-size"]=o[C-1]}),c.name="span",c.attr("style",n.serialize(u)),rI(c,["color","face","size"])})})},cI=(e,n,o)=>{e.addNodeFilter("strike",r=>{const c=n.type!=="html4";ve(r,u=>{if(c)u.name="s";else{const m=o.parse(u.attr("style"));m["text-decoration"]="line-through",u.name="span",u.attr("style",o.serialize(m))}})})},iI=(e,n,o)=>{var r;const c=u1();n.convert_fonts_to_spans&&aI(e,c,Xe.explode((r=n.font_size_legacy_values)!==null&&r!==void 0?r:"")),cI(e,o,c)},E3=(e,n,o)=>{n.inline_styles&&iI(e,n,o)},z3=(e,n,o)=>{n.addNodeFilter("br",(r,c,u)=>{const m=Xe.extend({},o.getBlockElements()),b=o.getNonEmptyElements(),v=o.getWhitespaceElements();m.body=1;const C=O=>O.name in m||zd(o,O);for(let O=0,D=r.length;O<D;O++){let N=r[O],G=N.parent;if(G&&C(G)&&N===G.lastChild){let X=N.prev;for(;X;){const U=X.name;if(U!=="span"||X.attr("data-mce-type")!=="bookmark"){U==="br"&&(N=null);break}X=X.prev}if(N&&(N.remove(),wv(o,b,v,G))){const U=o.getElementRule(G.name);U&&(U.removeEmpty?G.remove():U.paddEmpty&&W2(e,u,C,G))}}else{let X=N;for(;G&&G.firstChild===X&&G.lastChild===X&&(X=G,!m[G.name]);)G=G.parent;if(X===G){const U=new Cc("#text",3);U.value=uo,N.replace(U)}}}})},nq=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),Tk=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},uC=e=>{const[n,...o]=e.split(","),r=o.join(","),c=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(c){const u=c[2]===";base64",m=u?Tk(r):decodeURIComponent(r);return I.some({type:c[1],data:m,base64Encoded:u})}else return I.none()},Ov=(e,n,o=!0)=>{let r=n;if(o)try{r=atob(n)}catch{return I.none()}const c=new Uint8Array(r.length);for(let u=0;u<c.length;u++)c[u]=r.charCodeAt(u);return I.some(new Blob([c],{type:e}))},Ek=e=>new Promise((n,o)=>{uC(e).bind(({type:r,data:c,base64Encoded:u})=>Ov(r,c,u)).fold(()=>o("Invalid data URI"),n)}),TR=e=>Es(e,"blob:")?nq(e):Es(e,"data:")?Ek(e):Promise.reject("Unknown URI format"),lI=e=>new Promise((n,o)=>{const r=new FileReader;r.onloadend=()=>{n(r.result)},r.onerror=()=>{var c;o((c=r.error)===null||c===void 0?void 0:c.message)},r.readAsDataURL(e)});let uI=0;const oq=e=>"blobid"+uI++,ER=(e,n,o)=>uC(e).bind(({data:r,type:c,base64Encoded:u})=>{if(n&&!u)return I.none();{const m=u?r:btoa(r);return o(m,c)}}),zR=(e,n,o)=>{const r=e.create(oq(),n,o);return e.add(r),r},dI=(e,n,o=!1)=>ER(n,o,(r,c)=>I.from(e.getByData(r,c)).orThunk(()=>Ov(c,r).map(u=>zR(e,u,r)))),fI=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(Es(n,"blob:")){const r=e.getByUri(n);return Re(r)?Promise.resolve(r):TR(n).then(c=>lI(c).then(u=>ER(u,!1,m=>I.some(zR(e,c,m))).getOrThunk(o)))}else return Es(n,"data:")?dI(e,n).fold(o,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},AR=e=>Re(e.attr("data-mce-bogus")),mI=e=>e.attr("src")===_t.transparentSrc||Re(e.attr("data-mce-placeholder")),OR=(e,n)=>{const{blob_cache:o}=n;if(o){const r=c=>{const u=c.attr("src");mI(c)||AR(c)||yn(u)||dI(o,u,!0).each(m=>{c.attr("src",m.blobUri())})};e.addAttributeFilter("src",c=>ve(c,r))}},A3=(e,n)=>Es(e,`${n}/`),dC=(e,n,o,r,c)=>{let u;$n(e)?u="iframe":A3(e,"image")?u="img":A3(e,"video")?u="video":A3(e,"audio")?u="audio":u="iframe";const m=new Cc(u,1);return m.attr(u==="audio"?{src:n}:{src:n,width:o,height:r}),(u==="audio"||u==="video")&&m.attr("controls",""),u==="iframe"&&c&&m.attr("sandbox",""),m},DR=(e,n)=>{const o=e.schema;n.remove_trailing_brs&&z3(n,e,o),e.addAttributeFilter("href",c=>{let u=c.length;const m=v=>v.split(" ").filter(O=>O.length>0).concat(["noopener"]).sort().join(" "),b=v=>{const C=v?Xe.trim(v):"";return/\b(noopener)\b/g.test(C)?C:m(C)};if(!n.allow_unsafe_link_target)for(;u--;){const v=c[u];v.name==="a"&&v.attr("target")==="_blank"&&v.attr("rel",b(v.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",c=>{let u=c.length,m,b,v,C;for(;u--;)if(C=c[u],C.name==="a"&&C.firstChild&&!C.attr("href"))for(v=C.parent,m=C.lastChild;m&&v;)b=m.prev,v.insert(m,C),m=b}),n.fix_list_elements&&e.addNodeFilter("ul,ol",c=>{let u=c.length,m,b;for(;u--;)if(m=c[u],b=m.parent,b&&(b.name==="ul"||b.name==="ol"))if(m.prev&&m.prev.name==="li")m.prev.append(m);else{const v=new Cc("li",1);v.attr("style","list-style-type: none"),m.wrap(v)}});const r=o.getValidClasses();n.validate&&r&&e.addAttributeFilter("class",c=>{var u;let m=c.length;for(;m--;){const b=c[m],v=(u=b.attr("class"))!==null&&u!==void 0?u:"",C=Xe.explode(v," ");let O="";for(let D=0;D<C.length;D++){const N=C[D];let G=!1,X=r["*"];X&&X[N]&&(G=!0),X=r[b.name],!G&&X&&X[N]&&(G=!0),G&&(O&&(O+=" "),O+=N)}O.length||(O=null),b.attr("class",O)}}),OR(e,n),n.convert_unsafe_embeds&&e.addNodeFilter("object,embed",c=>ve(c,u=>{u.replace(dC(u.attr("type"),u.name==="object"?u.attr("data"):u.attr("src"),u.attr("width"),u.attr("height"),n.sandbox_iframes))})),n.sandbox_iframes&&e.addNodeFilter("iframe",c=>ve(c,u=>u.attr("sandbox","")))},{entries:Nr,setPrototypeOf:pI,isFrozen:sq,getPrototypeOf:rq,getOwnPropertyDescriptor:aq}=Object;let{freeze:vr,seal:Al,create:Xg}=Object,{apply:um,construct:O3}=typeof Reflect<"u"&&Reflect;um||(um=function(n,o,r){return n.apply(o,r)}),vr||(vr=function(n){return n}),Al||(Al=function(n){return n}),O3||(O3=function(n,o){return new n(...o)});const gI=Uu(Array.prototype.forEach),Dv=Uu(Array.prototype.pop),dm=Uu(Array.prototype.push),Sp=Uu(String.prototype.toLowerCase),fC=Uu(String.prototype.toString),D3=Uu(String.prototype.match),ju=Uu(String.prototype.replace),RR=Uu(String.prototype.indexOf),hI=Uu(String.prototype.trim),tu=Uu(RegExp.prototype.test),Rv=bI(TypeError);function Uu(e){return function(n){for(var o=arguments.length,r=new Array(o>1?o-1:0),c=1;c<o;c++)r[c-1]=arguments[c];return um(e,n,r)}}function bI(e){return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return O3(e,o)}}function Io(e,n,o){var r;o=(r=o)!==null&&r!==void 0?r:Sp,pI&&pI(e,null);let c=n.length;for(;c--;){let u=n[c];if(typeof u=="string"){const m=o(u);m!==u&&(sq(n)||(n[c]=m),u=m)}e[u]=!0}return e}function Mv(e){const n=Xg(null);for(const[o,r]of Nr(e))n[o]=r;return n}function mC(e,n){for(;e!==null;){const r=aq(e,n);if(r){if(r.get)return Uu(r.get);if(typeof r.value=="function")return Uu(r.value)}e=rq(e)}function o(r){return console.warn("fallback value for",r),null}return o}const R3=vr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),M3=vr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ly=vr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),MR=vr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),B3=vr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),BR=vr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),NR=vr(["#text"]),N3=vr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),P3=vr(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),PR=vr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),zk=vr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),$R=Al(/\{\{[\w\W]*|[\w\W]*\}\}/gm),IR=Al(/<%[\w\W]*|[\w\W]*%>/gm),FR=Al(/\${[\w\W]*}/gm),LR=Al(/^data-[\-\w.\u00B7-\uFFFF]/),HR=Al(/^aria-[\-\w]+$/),VR=Al(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),yI=Al(/^(?:\w+script|data):/i),vI=Al(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),pC=Al(/^html$/i);var Bv=Object.freeze({__proto__:null,MUSTACHE_EXPR:$R,ERB_EXPR:IR,TMPLIT_EXPR:FR,DATA_ATTR:LR,ARIA_ATTR:HR,IS_ALLOWED_URI:VR,IS_SCRIPT_OR_DATA:yI,ATTR_WHITESPACE:vI,DOCTYPE_NAME:pC});const jR=()=>typeof window>"u"?null:window,UR=function(n,o){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let r=null;const c="data-tt-policy-suffix";o&&o.hasAttribute(c)&&(r=o.getAttribute(c));const u="dompurify"+(r?"#"+r:"");try{return n.createPolicy(u,{createHTML(m){return m},createScriptURL(m){return m}})}catch{return console.warn("TrustedTypes policy "+u+" could not be created."),null}};function Ak(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:jR();const n=Ln=>Ak(Ln);if(n.version="3.0.5",n.removed=[],!e||!e.document||e.document.nodeType!==9)return n.isSupported=!1,n;const o=e.document,r=o.currentScript;let{document:c}=e;const{DocumentFragment:u,HTMLTemplateElement:m,Node:b,Element:v,NodeFilter:C,NamedNodeMap:O=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:D,DOMParser:N,trustedTypes:G}=e,X=v.prototype,U=mC(X,"cloneNode"),J=mC(X,"nextSibling"),le=mC(X,"childNodes"),fe=mC(X,"parentNode");if(typeof m=="function"){const Ln=c.createElement("template");Ln.content&&Ln.content.ownerDocument&&(c=Ln.content.ownerDocument)}let de,we="";const{implementation:We,createNodeIterator:at,createDocumentFragment:kt,getElementsByTagName:Ae}=c,{importNode:Se}=o;let je={};n.isSupported=typeof Nr=="function"&&typeof fe=="function"&&We&&We.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Rt,ERB_EXPR:Wt,TMPLIT_EXPR:Rn,DATA_ATTR:zn,ARIA_ATTR:Fo,IS_SCRIPT_OR_DATA:Xo,ATTR_WHITESPACE:Js}=Bv;let{IS_ALLOWED_URI:Ta}=Bv,No=null;const mt=Io({},[...R3,...M3,...ly,...B3,...NR]);let Ft=null;const An=Io({},[...N3,...P3,...PR,...zk]);let jn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Bt=null,fn=null,lt=!0,mn=!0,to=!1,Wo=!0,Lo=!1,Hr=!1,Qu=!1,wm=!1,Kc=!1,cu=!1,bn=!1,po=!0,Jo=!1;const vs="user-content-";let Ds=!0,Ai=!1,cf={},bh=null;const z_=Io({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ay=null;const r0=Io({},["audio","video","img","source","image","track"]);let a0=null;const A_=Io({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Oy="http://www.w3.org/1998/Math/MathML",Dy="http://www.w3.org/2000/svg",ed="http://www.w3.org/1999/xhtml";let km=ed,O_=!1,c0=null;const uT=Io({},[Oy,Dy,ed],fC);let _m;const dT=["application/xhtml+xml","text/html"],D_="text/html";let Ga,yh=null;const qA=c.createElement("form"),R_=function(Te){return Te instanceof RegExp||Te instanceof Function},M_=function(Te){if(!(yh&&yh===Te)){if((!Te||typeof Te!="object")&&(Te={}),Te=Mv(Te),_m=dT.indexOf(Te.PARSER_MEDIA_TYPE)===-1?_m=D_:_m=Te.PARSER_MEDIA_TYPE,Ga=_m==="application/xhtml+xml"?fC:Sp,No="ALLOWED_TAGS"in Te?Io({},Te.ALLOWED_TAGS,Ga):mt,Ft="ALLOWED_ATTR"in Te?Io({},Te.ALLOWED_ATTR,Ga):An,c0="ALLOWED_NAMESPACES"in Te?Io({},Te.ALLOWED_NAMESPACES,fC):uT,a0="ADD_URI_SAFE_ATTR"in Te?Io(Mv(A_),Te.ADD_URI_SAFE_ATTR,Ga):A_,Ay="ADD_DATA_URI_TAGS"in Te?Io(Mv(r0),Te.ADD_DATA_URI_TAGS,Ga):r0,bh="FORBID_CONTENTS"in Te?Io({},Te.FORBID_CONTENTS,Ga):z_,Bt="FORBID_TAGS"in Te?Io({},Te.FORBID_TAGS,Ga):{},fn="FORBID_ATTR"in Te?Io({},Te.FORBID_ATTR,Ga):{},cf="USE_PROFILES"in Te?Te.USE_PROFILES:!1,lt=Te.ALLOW_ARIA_ATTR!==!1,mn=Te.ALLOW_DATA_ATTR!==!1,to=Te.ALLOW_UNKNOWN_PROTOCOLS||!1,Wo=Te.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Lo=Te.SAFE_FOR_TEMPLATES||!1,Hr=Te.WHOLE_DOCUMENT||!1,Kc=Te.RETURN_DOM||!1,cu=Te.RETURN_DOM_FRAGMENT||!1,bn=Te.RETURN_TRUSTED_TYPE||!1,wm=Te.FORCE_BODY||!1,po=Te.SANITIZE_DOM!==!1,Jo=Te.SANITIZE_NAMED_PROPS||!1,Ds=Te.KEEP_CONTENT!==!1,Ai=Te.IN_PLACE||!1,Ta=Te.ALLOWED_URI_REGEXP||VR,km=Te.NAMESPACE||ed,jn=Te.CUSTOM_ELEMENT_HANDLING||{},Te.CUSTOM_ELEMENT_HANDLING&&R_(Te.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(jn.tagNameCheck=Te.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Te.CUSTOM_ELEMENT_HANDLING&&R_(Te.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(jn.attributeNameCheck=Te.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Te.CUSTOM_ELEMENT_HANDLING&&typeof Te.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(jn.allowCustomizedBuiltInElements=Te.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Lo&&(mn=!1),cu&&(Kc=!0),cf&&(No=Io({},[...NR]),Ft=[],cf.html===!0&&(Io(No,R3),Io(Ft,N3)),cf.svg===!0&&(Io(No,M3),Io(Ft,P3),Io(Ft,zk)),cf.svgFilters===!0&&(Io(No,ly),Io(Ft,P3),Io(Ft,zk)),cf.mathMl===!0&&(Io(No,B3),Io(Ft,PR),Io(Ft,zk))),Te.ADD_TAGS&&(No===mt&&(No=Mv(No)),Io(No,Te.ADD_TAGS,Ga)),Te.ADD_ATTR&&(Ft===An&&(Ft=Mv(Ft)),Io(Ft,Te.ADD_ATTR,Ga)),Te.ADD_URI_SAFE_ATTR&&Io(a0,Te.ADD_URI_SAFE_ATTR,Ga),Te.FORBID_CONTENTS&&(bh===z_&&(bh=Mv(bh)),Io(bh,Te.FORBID_CONTENTS,Ga)),Ds&&(No["#text"]=!0),Hr&&Io(No,["html","head","body"]),No.table&&(Io(No,["tbody"]),delete Bt.tbody),Te.TRUSTED_TYPES_POLICY){if(typeof Te.TRUSTED_TYPES_POLICY.createHTML!="function")throw Rv('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Te.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Rv('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');de=Te.TRUSTED_TYPES_POLICY,we=de.createHTML("")}else de===void 0&&(de=UR(G,r)),de!==null&&typeof we=="string"&&(we=de.createHTML(""));vr&&vr(Te),yh=Te}},xm=Io({},["mi","mo","mn","ms","mtext"]),i0=Io({},["foreignobject","desc","title","annotation-xml"]),ke=Io({},["title","style","font","a","script"]),xe=Io({},M3);Io(xe,ly),Io(xe,MR);const ft=Io({},B3);Io(ft,BR);const st=function(Te){let It=fe(Te);(!It||!It.tagName)&&(It={namespaceURI:km,tagName:"template"});const rn=Sp(Te.tagName),Qs=Sp(It.tagName);return c0[Te.namespaceURI]?Te.namespaceURI===Dy?It.namespaceURI===ed?rn==="svg":It.namespaceURI===Oy?rn==="svg"&&(Qs==="annotation-xml"||xm[Qs]):!!xe[rn]:Te.namespaceURI===Oy?It.namespaceURI===ed?rn==="math":It.namespaceURI===Dy?rn==="math"&&i0[Qs]:!!ft[rn]:Te.namespaceURI===ed?It.namespaceURI===Dy&&!i0[Qs]||It.namespaceURI===Oy&&!xm[Qs]?!1:!ft[rn]&&(ke[rn]||!xe[rn]):!!(_m==="application/xhtml+xml"&&c0[Te.namespaceURI]):!1},jt=function(Te){dm(n.removed,{element:Te});try{Te.parentNode.removeChild(Te)}catch{Te.remove()}},Un=function(Te,It){try{dm(n.removed,{attribute:It.getAttributeNode(Te),from:It})}catch{dm(n.removed,{attribute:null,from:It})}if(It.removeAttribute(Te),Te==="is"&&!Ft[Te])if(Kc||cu)try{jt(It)}catch{}else try{It.setAttribute(Te,"")}catch{}},Ss=function(Te){let It,rn;if(wm)Te="<remove></remove>"+Te;else{const lu=D3(Te,/^[\r\n\t ]+/);rn=lu&&lu[0]}_m==="application/xhtml+xml"&&km===ed&&(Te='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Te+"</body></html>");const Qs=de?de.createHTML(Te):Te;if(km===ed)try{It=new N().parseFromString(Qs,_m)}catch{}if(!It||!It.documentElement){It=We.createDocument(km,"template",null);try{It.documentElement.innerHTML=O_?we:Qs}catch{}}const zc=It.body||It.documentElement;return Te&&rn&&zc.insertBefore(c.createTextNode(rn),zc.childNodes[0]||null),km===ed?Ae.call(It,Hr?"html":"body")[0]:Hr?It.documentElement:zc},Yc=function(Te){return at.call(Te.ownerDocument||Te,Te,C.SHOW_ELEMENT|C.SHOW_COMMENT|C.SHOW_TEXT,null,!1)},Yr=function(Te){return Te instanceof D&&(typeof Te.nodeName!="string"||typeof Te.textContent!="string"||typeof Te.removeChild!="function"||!(Te.attributes instanceof O)||typeof Te.removeAttribute!="function"||typeof Te.setAttribute!="function"||typeof Te.namespaceURI!="string"||typeof Te.insertBefore!="function"||typeof Te.hasChildNodes!="function")},vh=function(Te){return typeof b=="object"?Te instanceof b:Te&&typeof Te=="object"&&typeof Te.nodeType=="number"&&typeof Te.nodeName=="string"},iu=function(Te,It,rn){je[Te]&&gI(je[Te],Qs=>{Qs.call(n,It,rn,yh)})},GA=function(Te){let It;if(iu("beforeSanitizeElements",Te,null),Yr(Te))return jt(Te),!0;const rn=Ga(Te.nodeName);if(iu("uponSanitizeElement",Te,{tagName:rn,allowedTags:No}),Te.hasChildNodes()&&!vh(Te.firstElementChild)&&(!vh(Te.content)||!vh(Te.content.firstElementChild))&&tu(/<[/\w]/g,Te.innerHTML)&&tu(/<[/\w]/g,Te.textContent))return jt(Te),!0;if(!No[rn]||Bt[rn]){if(!Bt[rn]&&KA(rn)&&(jn.tagNameCheck instanceof RegExp&&tu(jn.tagNameCheck,rn)||jn.tagNameCheck instanceof Function&&jn.tagNameCheck(rn)))return!1;if(Ds&&!bh[rn]){const Qs=fe(Te)||Te.parentNode,zc=le(Te)||Te.childNodes;if(zc&&Qs){const lu=zc.length;for(let Vr=lu-1;Vr>=0;--Vr)Qs.insertBefore(U(zc[Vr],!0),J(Te))}}return jt(Te),!0}return Te instanceof v&&!st(Te)||(rn==="noscript"||rn==="noembed"||rn==="noframes")&&tu(/<\/no(script|embed|frames)/i,Te.innerHTML)?(jt(Te),!0):(Lo&&Te.nodeType===3&&(It=Te.textContent,It=ju(It,Rt," "),It=ju(It,Wt," "),It=ju(It,Rn," "),Te.textContent!==It&&(dm(n.removed,{element:Te.cloneNode()}),Te.textContent=It)),iu("afterSanitizeElements",Te,null),!1)},fT=function(Te,It,rn){if(po&&(It==="id"||It==="name")&&(rn in c||rn in qA))return!1;if(!(mn&&!fn[It]&&tu(zn,It))){if(!(lt&&tu(Fo,It))){if(!Ft[It]||fn[It]){if(!(KA(Te)&&(jn.tagNameCheck instanceof RegExp&&tu(jn.tagNameCheck,Te)||jn.tagNameCheck instanceof Function&&jn.tagNameCheck(Te))&&(jn.attributeNameCheck instanceof RegExp&&tu(jn.attributeNameCheck,It)||jn.attributeNameCheck instanceof Function&&jn.attributeNameCheck(It))||It==="is"&&jn.allowCustomizedBuiltInElements&&(jn.tagNameCheck instanceof RegExp&&tu(jn.tagNameCheck,rn)||jn.tagNameCheck instanceof Function&&jn.tagNameCheck(rn))))return!1}else if(!a0[It]){if(!tu(Ta,ju(rn,Js,""))){if(!((It==="src"||It==="xlink:href"||It==="href")&&Te!=="script"&&RR(rn,"data:")===0&&Ay[Te])){if(!(to&&!tu(Xo,ju(rn,Js,"")))){if(rn)return!1}}}}}}return!0},KA=function(Te){return Te.indexOf("-")>0},YA=function(Te){let It,rn,Qs,zc;iu("beforeSanitizeAttributes",Te,null);const{attributes:lu}=Te;if(!lu)return;const Vr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ft};for(zc=lu.length;zc--;){It=lu[zc];const{name:td,namespaceURI:mT}=It;rn=td==="value"?It.value:hI(It.value);const TZ=rn;if(Qs=Ga(td),Vr.attrName=Qs,Vr.attrValue=rn,Vr.keepAttr=!0,Vr.forceKeepAttr=void 0,iu("uponSanitizeAttribute",Te,Vr),rn=Vr.attrValue,Vr.forceKeepAttr)continue;if(!Vr.keepAttr){Un(td,Te);continue}if(!Wo&&tu(/\/>/i,rn)){Un(td,Te);continue}Lo&&(rn=ju(rn,Rt," "),rn=ju(rn,Wt," "),rn=ju(rn,Rn," "));const XA=Ga(Te.nodeName);if(!fT(XA,Qs,rn)){Un(td,Te);continue}if(Jo&&(Qs==="id"||Qs==="name")&&(Un(td,Te),rn=vs+rn),de&&typeof G=="object"&&typeof G.getAttributeType=="function"&&!mT)switch(G.getAttributeType(XA,Qs)){case"TrustedHTML":{rn=de.createHTML(rn);break}case"TrustedScriptURL":{rn=de.createScriptURL(rn);break}}if(rn!==TZ)try{mT?Te.setAttributeNS(mT,td,rn):Te.setAttribute(td,rn)}catch{Un(td,Te)}}iu("afterSanitizeAttributes",Te,null)},SZ=function Ln(Te){let It;const rn=Yc(Te);for(iu("beforeSanitizeShadowDOM",Te,null);It=rn.nextNode();)iu("uponSanitizeShadowNode",It,null),!GA(It)&&(It.content instanceof u&&Ln(It.content),YA(It));iu("afterSanitizeShadowDOM",Te,null)};return n.sanitize=function(Ln){let Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},It,rn,Qs,zc;if(O_=!Ln,O_&&(Ln="<!-->"),typeof Ln!="string"&&!vh(Ln))if(typeof Ln.toString=="function"){if(Ln=Ln.toString(),typeof Ln!="string")throw Rv("dirty is not a string, aborting")}else throw Rv("toString is not a function");if(!n.isSupported)return Ln;if(Qu||M_(Te),n.removed=[],typeof Ln=="string"&&(Ai=!1),Ai){if(Ln.nodeName){const td=Ga(Ln.nodeName);if(!No[td]||Bt[td])throw Rv("root node is forbidden and cannot be sanitized in-place")}}else if(Ln instanceof b)It=Ss("<!---->"),rn=It.ownerDocument.importNode(Ln,!0),rn.nodeType===1&&rn.nodeName==="BODY"||rn.nodeName==="HTML"?It=rn:It.appendChild(rn);else{if(!Kc&&!Lo&&!Hr&&Ln.indexOf("<")===-1)return de&&bn?de.createHTML(Ln):Ln;if(It=Ss(Ln),!It)return Kc?null:bn?we:""}It&&wm&&jt(It.firstChild);const lu=Yc(Ai?Ln:It);for(;Qs=lu.nextNode();)GA(Qs)||(Qs.content instanceof u&&SZ(Qs.content),YA(Qs));if(Ai)return Ln;if(Kc){if(cu)for(zc=kt.call(It.ownerDocument);It.firstChild;)zc.appendChild(It.firstChild);else zc=It;return(Ft.shadowroot||Ft.shadowrootmode)&&(zc=Se.call(o,zc,!0)),zc}let Vr=Hr?It.outerHTML:It.innerHTML;return Hr&&No["!doctype"]&&It.ownerDocument&&It.ownerDocument.doctype&&It.ownerDocument.doctype.name&&tu(pC,It.ownerDocument.doctype.name)&&(Vr="<!DOCTYPE "+It.ownerDocument.doctype.name+`>
`+Vr),Lo&&(Vr=ju(Vr,Rt," "),Vr=ju(Vr,Wt," "),Vr=ju(Vr,Rn," ")),de&&bn?de.createHTML(Vr):Vr},n.setConfig=function(Ln){M_(Ln),Qu=!0},n.clearConfig=function(){yh=null,Qu=!1},n.isValidAttribute=function(Ln,Te,It){yh||M_({});const rn=Ga(Ln),Qs=Ga(Te);return fT(rn,Qs,It)},n.addHook=function(Ln,Te){typeof Te=="function"&&(je[Ln]=je[Ln]||[],dm(je[Ln],Te))},n.removeHook=function(Ln){if(je[Ln])return Dv(je[Ln])},n.removeHooks=function(Ln){je[Ln]&&(je[Ln]=[])},n.removeAllHooks=function(){je={}},n}var WR=Ak();const ZR=Xe.each,Jg=Xe.trim,$3=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],qR={ftp:21,http:80,https:443,mailto:25},Ok=["img","video"],GR=(e,n)=>Re(e)?!e:Re(n)?!Ke(Ok,n):!0,I3=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},F3=(e,n,o)=>{const r=I3(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?GR(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class nu{static parseDataUri(n){let o;const r=decodeURIComponent(n).split(","),c=/data:([^;]+)/.exec(r[0]);return c&&(o=c[1]),{type:o,data:r[1]}}static isDomSafe(n,o,r={}){if(r.allow_script_urls)return!0;{const c=Pf.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!F3(r,c,o)}}static getDocumentBaseUrl(n){var o;let r;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?r=(o=n.href)!==null&&o!==void 0?o:"":r=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(n,o={}){this.path="",this.directory="",n=Jg(n),this.settings=o;const r=o.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){c.source=n;return}const u=n.indexOf("//")===0;if(n.indexOf("/")===0&&!u&&(n=(r&&r.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const b=r?r.path:new nu(document.location.href).directory;if((r==null?void 0:r.protocol)==="")n="//mce_host"+c.toAbsPath(b,n);else{const v=/([^#?]*)([#?]?.*)/.exec(n);v&&(n=(r&&r.protocol||"http")+"://mce_host"+c.toAbsPath(b,v[1])+v[2])}}n=n.replace(/@@/g,"(mce_at)");const m=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);m&&ZR($3,(b,v)=>{let C=m[v];C&&(C=C.replace(/\(mce_at\)/g,"@@")),c[b]=C}),r&&(c.protocol||(c.protocol=r.protocol),c.userInfo||(c.userInfo=r.userInfo),!c.port&&c.host==="mce_host"&&(c.port=r.port),(!c.host||c.host==="mce_host")&&(c.host=r.host),c.source=""),u&&(c.protocol="")}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new nu(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const r=this.getURI(),c=o.getURI();if(r===c||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===c)return r;let u=this.toRelPath(this.path,o.path);return o.query&&(u+="?"+o.query),o.anchor&&(u+="#"+o.anchor),u}toAbsolute(n,o){const r=new nu(n,{base_uri:this});return r.getURI(o&&this.isSameOrigin(r))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?qR[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let r=0,c="",u,m;const b=n.substring(0,n.lastIndexOf("/")).split("/"),v=o.split("/");if(b.length>=v.length){for(u=0,m=b.length;u<m;u++)if(u>=v.length||b[u]!==v[u]){r=u+1;break}}if(b.length<v.length){for(u=0,m=v.length;u<m;u++)if(u>=b.length||b[u]!==v[u]){r=u+1;break}}if(r===1)return o;for(u=0,m=b.length-(r-1);u<m;u++)c+="../";for(u=r-1,m=v.length;u<m;u++)u!==r-1?c+="/"+v[u]:c+=v[u];return c}toAbsPath(n,o){let r=0;const c=/\/$/.test(o)?"/":"",u=n.split("/"),m=o.split("/"),b=[];ZR(u,D=>{D&&b.push(D)});const v=[];for(let D=m.length-1;D>=0;D--)if(!(m[D].length===0||m[D]===".")){if(m[D]===".."){r++;continue}if(r>0){r--;continue}v.push(m[D])}const C=b.length-r;let O;return C<=0?O=ko(v).join("/"):O=b.slice(0,C).join("/")+"/"+ko(v).join("/"),O.indexOf("/")!==0&&(O="/"+O),c&&O.lastIndexOf("/")!==O.length-1&&(O+=c),O}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const wI=Xe.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),L3="data-mce-type";let KR=0;const gC=(e,n,o,r,c)=>{var u,m,b,v;const C=n.validate,O=o.getSpecialElements();e.nodeType===Li&&!n.allow_conditional_comments&&/^\[if/i.test((u=e.nodeValue)!==null&&u!==void 0?u:"")&&(e.nodeValue=" "+e.nodeValue);const D=(m=c==null?void 0:c.tagName)!==null&&m!==void 0?m:e.nodeName.toLowerCase();if(r!=="html"&&o.isValid(r)){Re(c)&&(c.allowedTags[D]=!0);return}if(e.nodeType!==Pl||D==="body")return;const N=ee.fromDom(e),G=pr(N,L3),X=ga(N,"data-mce-bogus");if(!G&&oe(X)){X==="all"?ro(N):Na(N);return}const U=o.getElementRule(D);if(C&&!U){Qt(O,D)?ro(N):Na(N);return}else Re(c)&&(c.allowedTags[D]=!0);if(C&&U&&!G){if(ve((b=U.attributesForced)!==null&&b!==void 0?b:[],J=>{ss(N,J.name,J.value==="{$uid}"?`mce_${KR++}`:J.value)}),ve((v=U.attributesDefault)!==null&&v!==void 0?v:[],J=>{pr(N,J.name)||ss(N,J.name,J.value==="{$uid}"?`mce_${KR++}`:J.value)}),U.attributesRequired&&!hn(U.attributesRequired,J=>pr(N,J))){Na(N);return}if(U.removeEmptyAttrs&&ci(N)){Na(N);return}U.outputName&&U.outputName!==D&&Wl(N,U.outputName)}},kI=(e,n,o,r,c)=>{const u=e.tagName.toLowerCase(),{attrName:m,attrValue:b}=c;c.keepAttr=H3(n,o,r,u,m,b),c.keepAttr?(c.allowedAttributes[m]=!0,XR(m,o)&&(c.attrValue=m),n.allow_svg_data_urls&&Es(b,"data:image/svg+xml")&&(c.forceKeepAttr=!0)):YR(e,m)&&(c.forceKeepAttr=!0)},H3=(e,n,o,r,c,u)=>o!=="html"&&!Vl(r)?!0:!(c in wI&&F3(e,u,r))&&(!e.validate||n.isValid(r,c)||Es(c,"data-")||Es(c,"aria-")),YR=(e,n)=>e.hasAttribute(L3)&&(n==="id"||n==="class"||n==="style"),XR=(e,n)=>e in n.getBoolAttrs(),_I=(e,n,o,r)=>{const{attributes:c}=e;for(let u=c.length-1;u>=0;u--){const m=c[u],b=m.name,v=m.value;!H3(n,o,r,e.tagName.toLowerCase(),b,v)&&!YR(e,b)?e.removeAttribute(b):XR(b,o)&&e.setAttribute(b,b)}},xI=(e,n,o)=>{const r=WR();return r.addHook("uponSanitizeElement",(c,u)=>{gC(c,e,n,o.track(c),u)}),r.addHook("uponSanitizeAttribute",(c,u)=>{kI(c,e,n,o.current(),u)}),r},CI=(e,n)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=n,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},SI=e=>{const n=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(r=>`xlink:${r}`),o={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:n};return WR().sanitize(e,o),e.innerHTML},TI=(e,n)=>{const o=Mf();if(e.sanitize){const r=xI(e,n,o);return{sanitizeHtmlElement:(u,m)=>{r.sanitize(u,CI(e,m)),r.removed=[],o.reset()},sanitizeNamespaceElement:SI}}else return{sanitizeHtmlElement:(u,m)=>{const b=document.createNodeIterator(u,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let v;for(;v=b.nextNode();){const C=o.track(v);gC(v,e,n,C),Dt(v)&&_I(v,e,n,C)}o.reset()},sanitizeNamespaceElement:Et}},JR=Xe.makeMap,QR=Xe.extend,Dk=(e,n,o,r)=>{const c=e.name,u=c in o&&c!=="title"&&c!=="textarea",m=n.childNodes;for(let b=0,v=m.length;b<v;b++){const C=m[b],O=new Cc(C.nodeName.toLowerCase(),C.nodeType);if(Dt(C)){const D=C.attributes;for(let N=0,G=D.length;N<G;N++){const X=D[N];O.attr(X.name,X.value)}Vl(O.name)&&(r(C),O.value=C.innerHTML)}else Je(C)?(O.value=C.data,u&&(O.raw=!0)):(Fl(C)||Xy(C)||ku(C))&&(O.value=C.data);Vl(O.name)||Dk(O,C,o,r),e.append(O)}},Tc=(e,n,o)=>{const r=[];for(let c=e,u=c;c;u=c,c=c.walk()){const m=c;ve(n,b=>b(m)),yn(m.parent)&&m!==e?c=u:r.push(m)}for(let c=r.length-1;c>=0;c--){const u=r[c];ve(o,m=>m(u))}},EI=(e,n,o,r)=>{const c=o.validate,u=n.getNonEmptyElements(),m=n.getWhitespaceElements(),b=QR(JR("script,style,head,html,body,title,meta,param"),n.getBlockElements()),v=G_(n),C=/[ \t\r\n]+/g,O=/^[ \t\r\n]+/,D=/[ \t\r\n]+$/,N=fe=>{let de=fe.parent;for(;Re(de);){if(de.name in m)return!0;de=de.parent}return!1},G=fe=>{let de=fe;for(;Re(de);){if(de.name in v)return wv(n,u,m,de);de=de.parent}return!1},X=fe=>fe.name in b||zd(n,fe)||Vl(fe.name)&&fe.parent===e,U=(fe,de)=>{const we=de?fe.prev:fe.next;return Re(we)||yn(fe.parent)?!1:X(fe.parent)&&(fe.parent!==e||r.isRootContent===!0)};return[fe=>{var de;if(fe.type===3&&!N(fe)){let we=(de=fe.value)!==null&&de!==void 0?de:"";we=we.replace(C," "),(X4(fe.prev,X)||U(fe,!0))&&(we=we.replace(O,"")),we.length===0?fe.remove():fe.value=we}},fe=>{var de;if(fe.type===1){const we=n.getElementRule(fe.name);if(c&&we){const We=wv(n,u,m,fe);we.paddInEmptyBlock&&We&&G(fe)?W2(o,r,X,fe):we.removeEmpty&&We?X(fe)?fe.remove():fe.unwrap():we.paddEmpty&&(We||BD(fe))&&W2(o,r,X,fe)}}else if(fe.type===3&&!N(fe)){let we=(de=fe.value)!==null&&de!==void 0?de:"";(fe.next&&X(fe.next)||U(fe,!1))&&(we=we.replace(D,"")),we.length===0?fe.remove():fe.value=we}}]},hC=(e,n)=>{var o;const r=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return r===!1?"":r===!0?"p":r},Wu=(e={},n=Rd())=>{const o=SR(),r=SR(),c={validate:!0,root_name:"body",sanitize:!0,...e},u=new DOMParser,m=TI(c,n),b=(de,we,We="html")=>{const at=We==="xhtml"?"application/xhtml+xml":"text/html",kt=Qt(n.getSpecialElements(),we.toLowerCase()),Ae=kt?`<${we}>${de}</${we}>`:de,Se=We==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Ae}</body></html>`:`<body>${Ae}</body>`,je=u.parseFromString(Se,at).body;return m.sanitizeHtmlElement(je,at),kt?je.firstChild:je},v=o.addFilter,C=o.getFilters,O=o.removeFilter,D=r.addFilter,N=r.getFilters,G=r.removeFilter,X=(de,we)=>{G2(n,de)&&we.push(de)},U=(de,we)=>{const We=oe(we.attr(L3)),at=we.type===1&&!Qt(de,we.name)&&!zd(n,we)&&!Vl(we.name);return we.type===3||at&&!We},J=(de,we)=>{const We=QR(JR("script,style,head,html,body,title,meta,param"),n.getBlockElements()),at=/^[ \t\r\n]+/,kt=/[ \t\r\n]+$/;let Ae=de.firstChild,Se=null;const je=Rt=>{var Wt,Rn;Rt&&(Ae=Rt.firstChild,Ae&&Ae.type===3&&(Ae.value=(Wt=Ae.value)===null||Wt===void 0?void 0:Wt.replace(at,"")),Ae=Rt.lastChild,Ae&&Ae.type===3&&(Ae.value=(Rn=Ae.value)===null||Rn===void 0?void 0:Rn.replace(kt,"")))};if(n.isValidChild(de.name,we.toLowerCase())){for(;Ae;){const Rt=Ae.next;U(We,Ae)?(Se||(Se=new Cc(we,1),Se.attr(c.forced_root_block_attrs),de.insert(Se,Ae)),Se.append(Ae)):(je(Se),Se=null),Ae=Rt}je(Se)}},fe={schema:n,addAttributeFilter:D,getAttributeFilters:N,removeAttributeFilter:G,addNodeFilter:v,getNodeFilters:C,removeNodeFilter:O,parse:(de,we={})=>{var We;const at=c.validate,kt=(We=we.context)!==null&&We!==void 0?We:c.root_name,Ae=b(de,kt,we.format);Qh(n,Ae);const Se=new Cc(kt,11);Dk(Se,Ae,n.getSpecialElements(),m.sanitizeNamespaceElement),Ae.innerHTML="";const[je,Rt]=EI(Se,n,c,we),Wt=[],Rn=at?Js=>X(Js,Wt):Et,zn={nodes:{},attributes:{}},Fo=Js=>q4(C(),N(),Js,zn);if(Tc(Se,[je,Fo],[Rt,Rn]),Wt.reverse(),at&&Wt.length>0)if(we.context){const{pass:Js,fail:Ta}=Ve(Wt,No=>No.parent===Se);q2(Ta,n,Se,Fo),we.invalid=Js.length>0}else q2(Wt,n,Se,Fo);const Xo=hC(c,we);return Xo&&(Se.name==="body"||we.isRootContent)&&J(Se,Xo),we.invalid||G4(zn,we),Se}};return DR(fe,c),E3(fe,c,n),fe},eM=e=>J2(e)?Gg({validate:!1}).serialize(e):e,_i=(e,n,o)=>{const r=eM(e),c=n(r);if(c.isDefaultPrevented())return c;if(J2(e))if(c.content!==r){const u=Wu({validate:!1,forced_root_block:!1,...o}).parse(c.content,{context:e.name});return{...c,content:u}}else return{...c,content:e};else return c},Qg=(e,n)=>{if(n.no_events)return yc.value(n);{const o=YE(e,n);return o.isDefaultPrevented()?yc.error(Zn(e,{content:"",...o}).content):yc.value(o)}},V3=(e,n,o)=>o.no_events?n:_i(n,c=>Zn(e,{...o,content:c}),{sanitize:Cg(e),sandbox_iframes:F1(e)}).content,j3=(e,n)=>{if(n.no_events)return yc.value(n);{const o=_i(n.content,r=>wO(e,{...n,content:r}),{sanitize:Cg(e),sandbox_iframes:F1(e)});return o.isDefaultPrevented()?(u2(e,o),yc.error(void 0)):yc.value(o)}},bC=(e,n,o)=>{o.no_events||u2(e,{...o,content:n})},U3=(e,n,o)=>({element:e,width:n,rows:o}),W3=(e,n)=>({element:e,cells:n}),Rk=(e,n)=>({x:e,y:n}),yC=(e,n)=>al(e,n).bind(pu).getOr(1),zI=(e,n,o,r,c)=>{const u=yC(c,"rowspan"),m=yC(c,"colspan"),b=e.rows;for(let v=o;v<o+u;v++){b[v]||(b[v]=W3(_1(r),[]));for(let C=n;C<n+m;C++){const O=b[v].cells;O[C]=v===o&&C===n?c:jc(c)}}},tM=(e,n,o)=>{const r=e.rows;return!!(r[o]?r[o].cells:[])[n]},AI=(e,n,o)=>{for(;tM(e,n,o);)n++;return n},vC=e=>nn(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),wC=(e,n)=>{const o=e.rows;for(let r=0;r<o.length;r++){const c=o[r].cells;for(let u=0;u<c.length;u++)if(fo(c[u],n))return I.some(Rk(u,r))}return I.none()},nM=(e,n,o,r,c)=>{const u=[],m=e.rows;for(let b=o;b<=c;b++){const v=m[b].cells,C=n<r?v.slice(n,r+1):v.slice(r,n+1);u.push(W3(m[b].element,C))}return u},OI=(e,n,o)=>{const r=n.x,c=n.y,u=o.x,m=o.y,b=c<m?nM(e,r,c,u,m):nM(e,r,m,u,c);return U3(e.element,vC(b),b)},fm=(e,n)=>{const o=jc(e.element),r=ee.fromTag("tbody");return Ro(r,n),tr(o,r),o},Z3=e=>Pt(e.rows,n=>{const o=Pt(n.cells,c=>{const u=_1(c);return Is(u,"colspan"),Is(u,"rowspan"),u}),r=jc(n.element);return Ro(r,o),r}),DI=e=>{const n=U3(jc(e),0,[]);return ve(Tr(e,"tr"),(o,r)=>{ve(Tr(o,"td,th"),(c,u)=>{zI(n,AI(n,u,r),r,o,c)})}),U3(n.element,vC(n.rows),n.rows)},kC=e=>fm(e,Z3(e)),q3=(e,n,o)=>wC(e,n).bind(r=>wC(e,o).map(c=>OI(e,r,c))),oM=e=>go(e,n=>oo(n)==="ul"||oo(n)==="ol"),sM=(e,n)=>go(e,o=>oo(o)==="li"&&Bw(o,n)).fold(Ye([]),o=>oM(e).map(r=>{const c=ee.fromTag(oo(r)),u=ns(Lm(r),(m,b)=>Es(b,"list-style"));return ha(c,u),[ee.fromTag("li"),c]}).getOr([])),rM=(e,n)=>{const o=nn(n,(r,c)=>(tr(c,r),c),e);return n.length>0?Jw([o]):o},RI=e=>Nc(e)?pc(e).filter(Pa).fold(Ye([]),n=>[e,n]):Pa(e)?[e]:[],MI=(e,n,o)=>{const r=ee.fromDom(n.commonAncestorContainer),c=sm(r,e),u=Ie(c,v=>o.isWrapper(oo(v))),m=sM(c,n),b=u.concat(m.length?m:RI(r));return Pt(b,jc)},aM=()=>Jw([]),BI=(e,n,o)=>rM(ee.fromDom(n.cloneContents()),MI(e,n,o)),NI=(e,n)=>hd(n,"table",Ue(fo,e)),cM=(e,n)=>NI(e,n[0]).bind(o=>{const r=n[0],c=n[n.length-1],u=DI(o);return q3(u,r,c).map(m=>Jw([kC(m)]))}).getOrThunk(aM),PI=(e,n,o)=>n.length>0&&n[0].collapsed?aM():BI(e,n[0],o),$I=(e,n,o)=>{const r=LE(n,e);return r.length>0?cM(e,r):PI(e,n,o)},_C=(e,n)=>n>=0&&n<e.length&&Pg(e.charAt(n)),G3=e=>$(e.innerText),K3=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),Y3=e=>I.from(e.selection.getRng()).map(n=>{var o;const r=I.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),c=e.getBody(),u=K3(r),m=ee.fromDom(n.cloneContents());Cn(m),w4(m);const b=e.dom.add(c,u,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},m.dom),v=G3(b),C=$((o=b.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(b),_C(C,0)||_C(C,C.length-1)){const O=r.getOr(c),D=G3(O),N=D.indexOf(v);if(N===-1)return v;{const G=_C(D,N-1),X=_C(D,N+v.length);return(G?" ":"")+v+(X?" ":"")}}else return v}).getOr(""),iM=(e,n)=>{const o=e.selection.getRng(),r=e.dom.create("body"),c=e.selection.getSel(),u=v4(e,K1(c)),m=n.contextual?$I(ee.fromDom(e.getBody()),u,e.schema).dom:o.cloneContents();return m&&r.appendChild(m),e.selection.serializer.serialize(r,n)},X3=(e,n)=>{if(n.format==="text")return Y3(e);{const o=iM(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},lM=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),uM=(e,n,o={})=>{const r=lM(o,n);return Qg(e,r).fold(wo,c=>{const u=X3(e,c);return V3(e,u,c)})},Mk=0,J3=1,Q3=2,dM=(e,n)=>{const o=e.length+n.length+2,r=new Array(o),c=new Array(o),u=(O,D,N)=>({start:O,end:D,diag:N}),m=(O,D,N,G,X)=>{const U=v(O,D,N,G);if(U===null||U.start===D&&U.diag===D-G||U.end===O&&U.diag===O-N){let J=O,le=N;for(;J<D||le<G;)J<D&&le<G&&e[J]===n[le]?(X.push([Mk,e[J]]),++J,++le):D-O>G-N?(X.push([Q3,e[J]]),++J):(X.push([J3,n[le]]),++le)}else{m(O,U.start,N,U.start-U.diag,X);for(let J=U.start;J<U.end;++J)X.push([Mk,e[J]]);m(U.end,D,U.end-U.diag,G,X)}},b=(O,D,N,G)=>{let X=O;for(;X-D<G&&X<N&&e[X]===n[X-D];)++X;return u(O,X,D)},v=(O,D,N,G)=>{const X=D-O,U=G-N;if(X===0||U===0)return null;const J=X-U,le=U+X,fe=(le%2===0?le:le+1)/2;r[1+fe]=O,c[1+fe]=D+1;let de,we,We,at,kt;for(de=0;de<=fe;++de){for(we=-de;we<=de;we+=2){for(We=we+fe,we===-de||we!==de&&r[We-1]<r[We+1]?r[We]=r[We+1]:r[We]=r[We-1]+1,at=r[We],kt=at-O+N-we;at<D&&kt<G&&e[at]===n[kt];)r[We]=++at,++kt;if(J%2!==0&&J-de<=we&&we<=J+de&&c[We-J]<=r[We])return b(c[We-J],we+O-N,D,G)}for(we=J-de;we<=J+de;we+=2){for(We=we+fe-J,we===J-de||we!==J+de&&c[We+1]<=c[We-1]?c[We]=c[We+1]-1:c[We]=c[We-1],at=c[We]-1,kt=at-O+N-we;at>=O&&kt>=N&&e[at]===n[kt];)c[We]=at--,kt--;if(J%2===0&&-de<=we&&we<=de&&c[We]<=r[We+J])return b(c[We],we+O-N,D,G)}}return null},C=[];return m(0,e.length,0,n.length,C),C},fM=e=>Dt(e)?e.outerHTML:Je(e)?Pf.encodeRaw(e.data,!1):Fl(e)?"<!--"+e.data+"-->":"",ez=e=>{let n;const o=document.createElement("div"),r=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)r.appendChild(n);return r},II=(e,n,o)=>{const r=ez(n);if(e.hasChildNodes()&&o<e.childNodes.length){const c=e.childNodes[o];e.insertBefore(r,c)}else e.appendChild(r)},xC=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},FI=(e,n)=>{let o=0;ve(e,r=>{r[0]===Mk?o++:r[0]===J3?(II(n,r[1],o),o++):r[0]===Q3&&xC(n,o)})},LI=(e,n)=>Ie(Pt(js(e.childNodes),E($,fM)),o=>o.length>0),HI=(e,n)=>{const o=Pt(js(n.childNodes),fM);return FI(dM(o,e),n),n},mM=$i(()=>document.implementation.createHTMLDocument("undo")),pM=e=>e.querySelector("iframe")!==null,VI=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),jI=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),CC=e=>{const n=e.serializer.getTempAttrs(),o=ZO(e.getBody(),n);return pM(o)?VI(LI(o)):jI($(o.innerHTML))},tz=(e,n,o)=>{const r=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?HI(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:Re(r)&&Gx(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},nz=e=>e.type==="fragmented"?e.fragments.join(""):e.content,oz=e=>{const n=ee.fromTag("body",mM());return vd(n,nz(e)),ve(Tr(n,"*[data-mce-bogus]"),Na),Bn(n)},cq=(e,n)=>nz(e)===nz(n),UI=(e,n)=>oz(e)===oz(n),sz=(e,n)=>!e||!n?!1:cq(e,n)?!0:UI(e,n),rz=e=>e.get()===0,SC=(e,n,o)=>{rz(o)&&(e.typing=n)},gM=(e,n)=>{e.typing&&(SC(e,!1,n),e.add())},WI=e=>{e.typing&&(e.typing=!1,e.add())},ZI=(e,n,o)=>{rz(n)&&o.set(bg(e.selection))},hM=(e,n,o,r,c,u,m)=>{const b=CC(e),v=Xe.extend(u||{},b);if(!rz(r)||e.removed)return null;const C=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:v,lastLevel:C,originalEvent:m}).isDefaultPrevented()||C&&sz(C,v))return null;n.data[o.get()]&&c.get().each(N=>{n.data[o.get()].beforeBookmark=N});const O=wb(e);if(O&&n.data.length>O){for(let N=0;N<n.data.length-1;N++)n.data[N]=n.data[N+1];n.data.length--,o.set(n.data.length)}v.bookmark=bg(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(v),o.set(n.data.length-1);const D={level:v,lastLevel:C,originalEvent:m};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",D),e.dispatch("change",D)):e.dispatch("AddUndo",D),v},qI=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},GI=(e,n,o,r,c)=>{if(n.transact(r)){const u=n.data[o.get()].bookmark,m=n.data[o.get()-1];tz(e,m,!0),n.transact(c)&&(n.data[o.get()-1].beforeBookmark=u)}},KI=(e,n,o)=>{let r;return n.get()<o.length-1&&(n.set(n.get()+1),r=o[n.get()],tz(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},YI=(e,n,o,r)=>{let c;return n.typing&&(n.add(),n.typing=!1,SC(n,!1,o)),r.get()>0&&(r.set(r.get()-1),c=n.data[r.get()],tz(e,c,!0),e.setDirty(!0),e.dispatch("Undo",{level:c})),c},XI=e=>{e.clear(),e.add()},iq=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!sz(CC(e),n.data[0]),lq=(e,n)=>n.get()<e.data.length-1&&!e.typing,JI=(e,n,o)=>(gM(e,n),e.beforeChange(),e.ignore(o),e.add()),QI=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},uq=(e,n)=>{const o=e.dom,r=Re(n)?n:e.getBody();ve(o.select("table,a",r),c=>{switch(c.nodeName){case"TABLE":const u=fE(e),m=o.getAttrib(c,"border");(!m||m==="0")&&e.hasVisual?o.addClass(c,u):o.removeClass(c,u);break;case"A":if(!o.getAttrib(c,"href")){const b=o.getAttrib(c,"name")||c.id,v=Ax(e);b&&e.hasVisual?o.addClass(c,v):o.removeClass(c,v)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},bM=e=>({init:{bindEvents:Et},undoManager:{beforeChange:(n,o)=>ZI(e,n,o),add:(n,o,r,c,u,m)=>hM(e,n,o,r,c,u,m),undo:(n,o,r)=>YI(e,n,o,r),redo:(n,o)=>KI(e,n,o),clear:(n,o)=>qI(e,n,o),reset:n=>XI(n),hasUndo:(n,o)=>iq(e,n,o),hasRedo:(n,o)=>lq(n,o),transact:(n,o,r)=>JI(n,o,r),ignore:(n,o)=>QI(n,o),extra:(n,o,r,c)=>GI(e,n,o,r,c)},formatter:{match:(n,o,r,c)=>Q2(e,n,o,r,c),matchAll:(n,o)=>F$(e,n,o),matchNode:(n,o,r,c)=>am(e,n,o,r,c),canApply:n=>XD(e,n),closest:n=>ay(e,n),apply:(n,o,r)=>wR(e,n,o,r),remove:(n,o,r,c)=>hR(e,n,o,r,c),toggle:(n,o,r)=>sI(e,n,o,r),formatChanged:(n,o,r,c,u)=>oI(e,n,o,r,c,u)},editor:{getContent:n=>QZ(e,n),setContent:(n,o)=>GD(e,n,o),insertContent:(n,o)=>qD(e,n,o),addVisual:n=>uq(e,n)},selection:{getContent:(n,o)=>uM(e,n,o)},autocompleter:{addDecoration:n=>EP(e,n),removeDecoration:()=>AP(e,ee.fromDom(e.getBody()))},raw:{getModel:()=>I.none()}}),Xs=e=>{const n=C=>Ut(C)?C:{},{init:o,undoManager:r,formatter:c,editor:u,selection:m,autocompleter:b,raw:v}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(C,O,D)=>r.transact(D),ignore:(C,O)=>r.ignore(O),extra:(C,O,D,N)=>r.extra(D,N)},formatter:{match:(C,O,D,N)=>c.match(C,n(O),N),matchAll:c.matchAll,matchNode:c.matchNode,canApply:C=>c.canApply(C),closest:C=>c.closest(C),apply:(C,O,D)=>c.apply(C,n(O)),remove:(C,O,D,N)=>c.remove(C,n(O)),toggle:(C,O,D)=>c.toggle(C,n(O)),formatChanged:(C,O,D,N,G)=>c.formatChanged(O,D,N,G)},editor:{getContent:C=>u.getContent(C),setContent:(C,O)=>({content:u.setContent(C,O),html:""}),insertContent:(C,O)=>(u.insertContent(C),""),addVisual:u.addVisual},selection:{getContent:(C,O)=>m.getContent(O)},autocompleter:{addDecoration:b.addDecoration,removeDecoration:b.removeDecoration},raw:{getModel:()=>I.some(v.getRawModel())}}},az=()=>{const e=Ye(null),n=Ye("");return{init:{bindEvents:Et},undoManager:{beforeChange:Et,add:e,undo:e,redo:e,clear:Et,reset:Et,hasUndo:He,hasRedo:He,transact:e,ignore:Et,extra:Et},formatter:{match:He,matchAll:Ye([]),matchNode:Ye(void 0),canApply:He,closest:n,apply:Et,remove:Et,toggle:Et,formatChanged:Ye({unbind:Et})},editor:{getContent:n,setContent:Ye({content:"",html:""}),insertContent:Ye(""),addVisual:Et},selection:{getContent:n},autocompleter:{addDecoration:Et,removeDecoration:Et},raw:{getModel:Ye(I.none())}}},Tp=e=>Qt(e.plugins,"rtc"),eF=e=>Ho(e.plugins,"rtc").bind(n=>I.from(n.setup)),tF=e=>{const n=e;return eF(e).fold(()=>(n.rtcInstance=bM(e),I.none()),o=>(n.rtcInstance=az(),I.some(()=>o().then(r=>(n.rtcInstance=Xs(r),r.rtc.isRemote)))))},eh=e=>e.rtcInstance?e.rtcInstance:bM(e),Lr=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},dq=(e,n,o)=>{Lr(e).undoManager.beforeChange(n,o)},Za=(e,n,o,r,c,u,m)=>Lr(e).undoManager.add(n,o,r,c,u,m),yM=(e,n,o,r)=>Lr(e).undoManager.undo(n,o,r),vM=(e,n,o)=>Lr(e).undoManager.redo(n,o),wM=(e,n,o)=>{Lr(e).undoManager.clear(n,o)},nF=(e,n)=>{Lr(e).undoManager.reset(n)},oF=(e,n,o)=>Lr(e).undoManager.hasUndo(n,o),TC=(e,n,o)=>Lr(e).undoManager.hasRedo(n,o),sF=(e,n,o,r)=>Lr(e).undoManager.transact(n,o,r),cz=(e,n,o)=>{Lr(e).undoManager.ignore(n,o)},rF=(e,n,o,r,c)=>{Lr(e).undoManager.extra(n,o,r,c)},kM=(e,n,o,r,c)=>Lr(e).formatter.match(n,o,r,c),_M=(e,n,o)=>Lr(e).formatter.matchAll(n,o),iz=(e,n,o,r,c)=>Lr(e).formatter.matchNode(n,o,r,c),xM=(e,n)=>Lr(e).formatter.canApply(n),lz=(e,n)=>Lr(e).formatter.closest(n),aF=(e,n,o,r)=>{Lr(e).formatter.apply(n,o,r)},cF=(e,n,o,r,c)=>{Lr(e).formatter.remove(n,o,r,c)},iF=(e,n,o,r)=>{Lr(e).formatter.toggle(n,o,r)},ou=(e,n,o,r,c,u)=>Lr(e).formatter.formatChanged(n,o,r,c,u),lF=(e,n)=>eh(e).editor.getContent(n),uF=(e,n,o)=>eh(e).editor.setContent(n,o),dF=(e,n,o)=>eh(e).editor.insertContent(n,o),fF=(e,n,o)=>Lr(e).selection.getContent(n,o),mF=(e,n)=>Lr(e).editor.addVisual(n),uz=e=>Lr(e).init.bindEvents(),pF=(e,n)=>Lr(e).autocompleter.addDecoration(n),gF=e=>Lr(e).autocompleter.removeDecoration(),hF=(e,n={})=>{const o=n.format?n.format:"html";return fF(e,o,n)},Bk=e=>e.dom.length===0?(ro(e),I.none()):I.some(e),bF=(e,n)=>e.filter(o=>gp.isBookmarkNode(o.dom)).bind(n?$m:Mc),yF=(e,n,o,r,c)=>{const u=e.dom,m=n.dom,b=r?u.length:m.length;r?(Gr(u,m,c,!1,!r),o.setStart(m,b)):(Gr(m,u,c,!1,!r),o.setEnd(m,b))},CM=(e,n,o)=>{pc(e).each(r=>{const c=e.dom;n&&gv(r,_e(c,0),o)?ty(c,0,o):!n&&hv(r,_e(c,c.length),o)&&gD(c,c.length,o)})},EC=(e,n,o,r,c)=>{e.bind(u=>((r?gD:ty)(u.dom,r?u.dom.length:0,c),n.filter(Ur).map(b=>yF(u,b,o,r,c)))).orThunk(()=>bF(n,r).or(n).filter(Ur).map(m=>CM(m,r,c)))},vF=(e,n,o)=>{const r=I.from(n.firstChild).map(ee.fromDom),c=I.from(n.lastChild).map(ee.fromDom);e.deleteContents(),e.insertNode(n);const u=r.bind(Mc).filter(Ur).bind(Bk),m=c.bind($m).filter(Ur).bind(Bk);EC(u,r,e,!0,o),EC(m,c,e,!1,o),e.collapse(!1)},wF=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),fq=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),r=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),c=r?{context:r.nodeName.toLowerCase()}:{},u=e.parser.parse(n.content,{forced_root_block:!1,...c,...n});return Gg({validate:!1},e.schema).serialize(u)}else return n.content},kF=(e,n,o={})=>{const r=wF(o,n);j3(e,r).each(c=>{const u=fq(e,c),m=e.selection.getRng();vF(m,m.createContextualFragment(u),e.schema),e.selection.setRng(m),Xb(e,m),bC(e,u,c)})},SM=(e,n,o)=>{if(Qt(e,n)){const r=Ie(e[n],c=>c!==o);r.length===0?delete e[n]:e[n]=r}};var TM=(e,n)=>{let o,r;const c=(b,v)=>go(v,C=>e.is(C,b)),u=b=>e.getParents(b,void 0,e.getRoot()),m=()=>{o={},r={},n.on("NodeChange",b=>{const v=b.element,C=u(v),O={};dt(o,(D,N)=>{c(N,C).each(G=>{r[N]||(ve(D,X=>{X(!0,{node:G,selector:N,parents:C})}),r[N]=D),O[N]=D})}),dt(r,(D,N)=>{O[N]||(delete r[N],ve(D,G=>{G(!1,{node:v,selector:N,parents:C})}))})})};return{selectorChangedWithUnbind:(b,v)=>(o||m(),o[b]||(o[b]=[]),o[b].push(v),c(b,u(n.selection.getStart())).each(()=>{r[b]=o[b]}),{unbind:()=>{SM(o,b,v),SM(r,b,v)}})}};const dz=e=>!!(e&&e.ownerDocument)&&ea(ee.fromDom(e.ownerDocument),ee.fromDom(e)),_F=e=>e?dz(e.startContainer)&&dz(e.endContainer):!1,th=(e,n,o,r)=>{let c,u;const{selectorChangedWithUnbind:m}=TM(e,r),b=(mt,Ft)=>{const An=e.createRng();Re(mt)&&Re(Ft)?(An.setStart(mt,Ft),An.setEnd(mt,Ft),we(An),le(!1)):(Nw(e,An,r.getBody(),!0),we(An))},v=mt=>hF(r,mt),C=(mt,Ft)=>kF(r,mt,Ft),O=mt=>b4(r.getBody(),de(),mt),D=mt=>PO(r.getBody(),de(),mt),N=(mt,Ft)=>Ta.getBookmark(mt,Ft),G=mt=>Ta.moveToBookmark(mt),X=(mt,Ft)=>(vP(e,mt,Ft).each(we),mt),U=()=>{const mt=de(),Ft=fe();return!mt||mt.item?!1:mt.compareEndPoints?mt.compareEndPoints("StartToEnd",mt)===0:!Ft||mt.collapsed},J=()=>{const mt=de(),Ft=r.getBody().querySelectorAll('[data-mce-selected="1"]');return Ft.length>0?es(Ft,An=>e.isEditable(An.parentElement)):BO(e,mt)},le=mt=>{const Ft=de();Ft.collapse(!!mt),we(Ft)},fe=()=>n.getSelection?n.getSelection():n.document.selection,de=()=>{let mt;const Ft=(jn,Bt,fn)=>{try{return Bt.compareBoundaryPoints(jn,fn)}catch{return-1}},An=n.document;if(Re(r.bookmark)&&!qg(r)){const jn=m4(r);if(jn.isSome())return jn.map(Bt=>v4(r,[Bt])[0]).getOr(An.createRange())}try{const jn=fe();jn&&!fl(jn.anchorNode)&&(jn.rangeCount>0?mt=jn.getRangeAt(0):mt=An.createRange(),mt=v4(r,[mt])[0])}catch{}if(mt||(mt=An.createRange()),Wm(mt.startContainer)&&mt.collapsed){const jn=e.getRoot();mt.setStart(jn,0),mt.setEnd(jn,0)}return c&&u&&(Ft(mt.START_TO_START,mt,c)===0&&Ft(mt.END_TO_END,mt,c)===0?mt=u:(c=null,u=null)),mt},we=(mt,Ft)=>{if(!_F(mt))return;const An=fe();if(mt=r.dispatch("SetSelectionRange",{range:mt,forward:Ft}).range,An){u=mt;try{An.removeAllRanges(),An.addRange(mt)}catch{}Ft===!1&&An.extend&&(An.collapse(mt.endContainer,mt.endOffset),An.extend(mt.startContainer,mt.startOffset)),c=An.rangeCount>0?An.getRangeAt(0):null}if(!mt.collapsed&&mt.startContainer===mt.endContainer&&(An!=null&&An.setBaseAndExtent)&&mt.endOffset-mt.startOffset<2&&mt.startContainer.hasChildNodes()){const Bt=mt.startContainer.childNodes[mt.startOffset];Bt&&Bt.nodeName==="IMG"&&(An.setBaseAndExtent(mt.startContainer,mt.startOffset,mt.endContainer,mt.endOffset),(An.anchorNode!==mt.startContainer||An.focusNode!==mt.endContainer)&&An.setBaseAndExtent(Bt,0,Bt,1))}r.dispatch("AfterSetSelectionRange",{range:mt,forward:Ft})},We=mt=>(C(e.getOuterHTML(mt)),mt),at=()=>$O(r.getBody(),de()),kt=(mt,Ft)=>yP(e,de(),mt,Ft),Ae=()=>{const mt=fe(),Ft=mt==null?void 0:mt.anchorNode,An=mt==null?void 0:mt.focusNode;if(!mt||!Ft||!An||fl(Ft)||fl(An))return!0;const jn=e.createRng(),Bt=e.createRng();try{jn.setStart(Ft,mt.anchorOffset),jn.collapse(!0),Bt.setStart(An,mt.focusOffset),Bt.collapse(!0)}catch{return!0}return jn.compareBoundaryPoints(jn.START_TO_START,Bt)<=0},Js={dom:e,win:n,serializer:o,editor:r,expand:(mt={type:"word"})=>we(H(e).expand(de(),mt)),collapse:le,setCursorLocation:b,getContent:v,setContent:C,getBookmark:N,moveToBookmark:G,select:X,isCollapsed:U,isEditable:J,isForward:Ae,setNode:We,getNode:at,getSel:fe,setRng:we,getRng:de,getStart:O,getEnd:D,getSelectedBlocks:kt,normalize:()=>{const mt=de(),Ft=fe();if(!pp(Ft)&&X1(r)){const An=x(e,mt);return An.each(jn=>{we(jn,Ae())}),An.getOr(mt)}return mt},selectorChanged:(mt,Ft)=>(m(mt,Ft),Js),selectorChangedWithUnbind:m,getScrollContainer:()=>{let mt,Ft=e.getRoot();for(;Ft&&Ft.nodeName!=="BODY";){if(Ft.scrollHeight>Ft.clientHeight){mt=Ft;break}Ft=Ft.parentNode}return mt},scrollIntoView:(mt,Ft)=>{Re(mt)?Ca(r,mt,Ft):Xb(r,de(),Ft)},placeCaretAt:(mt,Ft)=>we(wi(mt,Ft,r.getDoc())),getBoundingClientRect:()=>{const mt=de();return mt.collapsed?_e.fromRangeStart(mt).getClientRects()[0]:mt.getBoundingClientRect()},destroy:()=>{n=c=u=null,No.destroy()}},Ta=gp(Js),No=_O(Js,r);return Js.bookmarkManager=Ta,Js.controlSelection=No,Js},Nv=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(r,c)=>{let u=r.length;for(;u--;){const m=r[u];m.attr("tabindex",m.attr("data-mce-tabindex")),m.attr(c,null)}}),e.addAttributeFilter("src,href,style",(r,c)=>{const u="data-mce-"+c,m=n.url_converter,b=n.url_converter_scope;let v=r.length;for(;v--;){const C=r[v];let O=C.attr(u);O!==void 0?(C.attr(c,O.length>0?O:null),C.attr(u,null)):(O=C.attr(c),c==="style"?O=o.serializeStyle(o.parseStyle(O),C.name):m&&(O=m.call(b,O,c,C.name)),C.attr(c,O.length>0?O:null))}}),e.addAttributeFilter("class",r=>{let c=r.length;for(;c--;){const u=r[c];let m=u.attr("class");m&&(m=m.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),u.attr("class",m.length>0?m:null))}}),e.addAttributeFilter("data-mce-type",(r,c,u)=>{let m=r.length;for(;m--;){const b=r[m];b.attr("data-mce-type")==="bookmark"&&!u.cleanup&&(I.from(b.firstChild).exists(C=>{var O;return!S((O=C.value)!==null&&O!==void 0?O:"")})?b.unwrap():b.remove())}}),e.addNodeFilter("noscript",r=>{var c;let u=r.length;for(;u--;){const m=r[u].firstChild;m&&(m.value=Pf.decode((c=m.value)!==null&&c!==void 0?c:""))}}),e.addNodeFilter("script,style",(r,c)=>{var u;const m=v=>v.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let b=r.length;for(;b--;){const v=r[b],C=v.firstChild,O=(u=C==null?void 0:C.value)!==null&&u!==void 0?u:"";if(c==="script"){const D=v.attr("type");D&&v.attr("type",D==="mce-no/type"?null:D.replace(/^mce\-/,"")),n.element_format==="xhtml"&&C&&O.length>0&&(C.value=`// <![CDATA[
`+m(O)+`
// ]]>`)}else n.element_format==="xhtml"&&C&&O.length>0&&(C.value=`<!--
`+m(O)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let c=r.length;for(;c--;){const u=r[c],m=u.value;n.preserve_cdata&&(m==null?void 0:m.indexOf("[CDATA["))===0?(u.name="#cdata",u.type=4,u.value=o.decode(m.replace(/^\[CDATA\[|\]\]$/g,""))):(m==null?void 0:m.indexOf("mce:protected "))===0&&(u.name="#text",u.type=3,u.raw=!0,u.value=unescape(m).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,c)=>{let u=r.length;for(;u--;){const m=r[u];m.type===7?m.remove():m.type===1&&c==="input"&&!m.attr("type")&&m.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{ve(r,c=>{c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,c)=>{let u=r.length;for(;u--;)r[u].attr(c,null)}),n.remove_trailing_brs&&z3(n,e,e.schema)},Nk=e=>{const n=r=>(r==null?void 0:r.name)==="br",o=e.lastChild;if(n(o)){const r=o.prev;n(r)&&(o.remove(),r.remove())}},EM=(e,n,o)=>{let r;const c=e.dom;let u=n.cloneNode(!0);const m=document.implementation;if(m.createHTMLDocument){const b=m.createHTMLDocument("");Xe.each(u.nodeName==="BODY"?u.childNodes:[u],v=>{b.body.appendChild(b.importNode(v,!0))}),u.nodeName!=="BODY"?u=b.body.firstChild:u=b.body,r=c.doc,c.doc=b}return Uw(e,{...o,node:u}),r&&(c.doc=r),u},zM=(e,n)=>Re(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,xF=(e,n,o)=>zM(e,o)?EM(e,n,o):n,AM=(e,n,o)=>{Xe.inArray(n,o)===-1&&(e.addAttributeFilter(o,(r,c)=>{let u=r.length;for(;u--;)r[u].attr(c,null)}),n.push(o))},CF=(e,n,o)=>!n.no_events&&e?qE(e,{...n,content:o}).content:o,SF=(e,n,o)=>{const r=$(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||ir(ee.fromDom(n))?r:Xe.trim(r)},TF=(e,n,o)=>{const r=o.selection?{forced_root_block:!1,...o}:o,c=e.parse(n,r);return Nk(c),c},EF=(e,n,o)=>Gg(e,n).serialize(o),OM=(e,n,o,r,c)=>{const u=EF(n,o,r);return CF(e,c,u)},zF=(e,n)=>{const o=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},c=n&&n.dom?n.dom:as.DOM,u=n&&n.schema?n.schema:Rd(r),m=Wu(r,u);Nv(m,r,c);const b=(v,C={})=>{const O={format:"html",...C},D=xF(n,v,O),N=SF(c,D,O),G=TF(m,N,O);return O.format==="tree"?G:OM(n,r,u,G,O)};return{schema:u,addNodeFilter:m.addNodeFilter,addAttributeFilter:m.addAttributeFilter,serialize:b,addRules:u.addValidElements,setRules:u.setValidElements,addTempAttr:Ue(AM,m,o),getTempAttrs:Ye(o),getNodeFilters:m.getNodeFilters,getAttributeFilters:m.getAttributeFilters,removeNodeFilter:m.removeNodeFilter,removeAttributeFilter:m.removeAttributeFilter}},DM=(e,n)=>{const o=zF(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},Pk="html",RM=(e,n)=>({...e,format:n,get:!0,getInner:!0}),MM=(e,n={})=>{const o=n.format?n.format:Pk,r=RM(n,o);return Qg(e,r).fold(wo,c=>{const u=lF(e,c);return V3(e,u,c)})},AF="html",OF=(e,n)=>({format:AF,...e,set:!0,content:n}),fz=(e,n,o={})=>{const r=OF(o,n);return j3(e,r).map(c=>{const u=uF(e,c.content,c);return bC(e,u.html,c),u.content}).getOr(n)},BM="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),DF="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),RF="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),NM=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],PM=(e,n)=>{const o=Ie(n,r=>Qt(e,r));return Jn(o)},mq=e=>{const n=PM(e,BM),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),Jn(n)},Qd=e=>PM(e,DF),zC=(e,n)=>{const o=Xe.makeMap(e.plugins," "),c=Ie(n,u=>Qt(o,u));return Jn(c)},MF=e=>zC(e,RF),BF=e=>zC(e,NM.map(n=>n.name)),NF=(e,n)=>{const o=mq(e),r=MF(n),c=r.length>0,u=o.length>0,m=n.theme==="mobile";if(c||u||m){const b=`
- `,v=m?`

Themes:${b}mobile`:"",C=c?`

Plugins:${b}${r.join(b)}`:"",O=u?`

Options:${b}${o.join(b)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+v+C+O)}},PF=e=>go(NM,n=>n.name===e).fold(()=>e,n=>n.replacedWith?`${e}, replaced by ${n.replacedWith}`:e),Eo=(e,n)=>{const o=Qd(e),r=BF(n),c=r.length>0,u=o.length>0;if(c||u){const m=`
- `,b=c?`

Plugins:${m}${r.map(PF).join(m)}`:"",v=u?`

Options:${m}${o.join(m)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+b+v)}},pq=(e,n)=>{NF(e,n),Eo(e,n)},AC=as.DOM,$F=e=>{AC.setStyle(e.id,"display",e.orgDisplay)},ys=e=>I.from(e).each(n=>n.destroy()),IF=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const r=o.dom;n.selection=o.win=o.dom=r.doc=null}},$k=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),AC.unbind(n,"submit reset",e.formEventDelegate))},FF=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,r=e.getBody(),c=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Re(c==null?void 0:c.nextSibling)&&AC.remove(c.nextSibling),Hg(e),e.editorManager.remove(e),!e.inline&&r&&$F(e),Vg(e),AC.remove(e.getContainer()),ys(n),ys(o),e.destroy()}},LF=(e,n)=>{const{selection:o,dom:r}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),ys(o),ys(r)),$k(e),IF(e),e.destroyed=!0}},Ik=(()=>{const e={};return{add:(c,u)=>{e[c]=u},get:c=>e[c]?e[c]:{icons:{}},has:c=>Qt(e,c)}})(),su=La.ModelManager,xi=(e,n)=>n.dom[e],Pv=(e,n)=>parseInt(Ws(n,e),10),nh=Ue(xi,"clientWidth"),mm=Ue(xi,"clientHeight"),Fk=Ue(Pv,"margin-top"),mz=Ue(Pv,"margin-left"),pz=e=>e.dom.getBoundingClientRect(),$M=(e,n,o)=>{const r=nh(e),c=mm(e);return n>=0&&o>=0&&n<=r&&o<=c},IM=(e,n,o,r)=>{const c=pz(n),u=e?c.left+n.dom.clientLeft+mz(n):0,m=e?c.top+n.dom.clientTop+Fk(n):0,b=o-u,v=r-m;return{x:b,y:v}},HF=(e,n,o)=>{const r=ee.fromDom(e.getBody()),c=e.inline?r:Ah(r),u=IM(e.inline,c,n,o);return $M(c,u.x,u.y)},VF=e=>I.from(e).map(ee.fromDom),FM=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return VF(n).map(Cf).getOr(!1)};var LM=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const gz=e=>{const n=[],o=()=>{const N=e.theme;return N&&N.getNotificationManagerImpl?N.getNotificationManagerImpl():LM()},r=()=>I.from(n[0]),c=(N,G)=>N.type===G.type&&N.text===G.text&&!N.progressBar&&!N.timeout&&!G.progressBar&&!G.timeout,u=()=>{ve(n,N=>{N.reposition()})},m=N=>{n.push(N)},b=N=>{Rs(n,G=>G===N).each(G=>{n.splice(G,1)})},v=(N,G=!0)=>e.removed||!FM(e)?{}:(G&&e.dispatch("BeforeOpenNotification",{notification:N}),go(n,X=>c(o().getArgs(X),N)).getOrThunk(()=>{e.editorManager.setActive(e);const X=o().open(N,()=>{b(X),u(),MO(e)&&r().fold(()=>e.focus(),U=>v2(ee.fromDom(U.getEl())))});return m(X),u(),e.dispatch("OpenNotification",{notification:{...X}}),X})),C=()=>{r().each(N=>{o().close(N),b(N),u()})},O=Ye(n);return(N=>{N.on("SkinLoaded",()=>{const G=cE(N);G&&v({text:G,type:"warning",timeout:0},!1),u()}),N.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(u)}),N.on("remove",()=>{ve(n.slice(),G=>{o().close(G)})})})(e),{open:v,close:C,getNotifications:O}},uy=La.PluginManager,Ep=La.ThemeManager;var hq=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const HM=e=>{let n=[];const o=()=>{const U=e.theme;return U&&U.getWindowManagerImpl?U.getWindowManagerImpl():hq()},r=(U,J)=>(...le)=>J?J.apply(U,le):void 0,c=U=>{e.dispatch("OpenWindow",{dialog:U})},u=U=>{e.dispatch("CloseWindow",{dialog:U})},m=U=>{n.push(U),c(U)},b=U=>{u(U),n=Ie(n,J=>J!==U),n.length===0&&e.focus()},v=()=>I.from(n[n.length-1]),C=U=>{e.editorManager.setActive(e),mv(e),e.ui.show();const J=U();return m(J),J},O=(U,J)=>C(()=>o().open(U,J,b)),D=U=>C(()=>o().openUrl(U,b)),N=(U,J,le)=>{const fe=o();fe.alert(U,r(le||fe,J))},G=(U,J,le)=>{const fe=o();fe.confirm(U,r(le||fe,J))},X=()=>{v().each(U=>{o().close(U),b(U)})};return e.on("remove",()=>{ve(n,U=>{o().close(U)})}),{open:O,openUrl:D,alert:N,confirm:G,close:X}},jF=(e,n)=>{e.notificationManager.open({type:"error",text:n})},OC=(e,n)=>{e._skinLoaded?jF(e,n):e.on("SkinLoaded",()=>{jF(e,n)})},UF=(e,n)=>{OC(e,wl.translate(["Failed to upload image: {0}",n]))},Ol=(e,n,o)=>{Zc(e,n,{message:o}),console.error(o)},DC=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,bq=(e,n,o)=>{Ol(e,"PluginLoadError",DC("plugin",n,o))},WF=(e,n,o)=>{Ol(e,"IconsLoadError",DC("icons",n,o))},Lk=(e,n,o)=>{Ol(e,"LanguageLoadError",DC("language",n,o))},ZF=(e,n,o)=>{Ol(e,"ThemeLoadError",DC("theme",n,o))},VM=(e,n,o)=>{Ol(e,"ModelLoadError",DC("model",n,o))},jM=(e,n,o)=>{const r=wl.translate(["Failed to initialize plugin: {0}",n]);Zc(e,"PluginLoadError",{message:r}),Hk(r,o),OC(e,r)},Hk=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},qF=e=>/^[a-z0-9\-]+$/i.test(e),hz=e=>"content/"+e+"/content.css",oh=e=>tinymce.Resource.has(hz(e)),GF=e=>UM(e,iw(e)),KF=e=>UM(e,_x(e)),UM=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",c=`content${e.editorManager.suffix}.css`;return Pt(n,u=>oh(u)?u:qF(u)&&!e.inline?`${o}/${u}/${c}`:e.documentBaseURI.toAbsolute(u))},YF=e=>{e.contentCSS=e.contentCSS.concat(GF(e),KF(e))},XF=e=>e?js(e.getElementsByTagName("img")):[],JF=(e,n)=>{const o={};return{findAll:(c,u=ut)=>{const m=Ie(XF(c),v=>{const C=v.src;return v.hasAttribute("data-mce-bogus")||v.hasAttribute("data-mce-placeholder")||!C||C===_t.transparentSrc?!1:Es(C,"blob:")?!e.isUploaded(C)&&u(v):Es(C,"data:")?u(v):!1}),b=Pt(m,v=>{const C=v.src;if(Qt(o,C))return o[C].then(O=>oe(O)?O:{image:v,blobInfo:O.blobInfo});{const O=fI(n,C).then(D=>(delete o[C],{image:v,blobInfo:D})).catch(D=>(delete o[C],D));return o[C]=O,O}});return Promise.all(b)}}},WM=()=>{let o={};const r=(N,G)=>({status:N,resultUri:G}),c=N=>N in o;return{hasBlobUri:c,getResultUri:N=>{const G=o[N];return G?G.resultUri:null},isPending:N=>c(N)?o[N].status===1:!1,isUploaded:N=>c(N)?o[N].status===2:!1,markPending:N=>{o[N]=r(1,null)},markUploaded:(N,G)=>{o[N]=r(2,G)},removeFailed:N=>{delete o[N]},destroy:()=>{o={}}}};let QF=0;const eL=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},RC=e=>e+QF+++eL(),tL=()=>{let e=[];const n=D=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[D.toLowerCase()]||"dat",o=(D,N,G,X,U)=>{if(oe(D))return r({id:D,name:X,filename:U,blob:N,base64:G});if(Ut(D))return r(D);throw new Error("Unknown input type")},r=D=>{if(!D.blob||!D.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const N=D.id||RC("blobid"),G=D.name||N,X=D.blob;return{id:Ye(N),name:Ye(G),filename:Ye(D.filename||G+"."+n(X.type)),blob:Ye(X),base64:Ye(D.base64),blobUri:Ye(D.blobUri||URL.createObjectURL(X)),uri:Ye(D.uri)}},c=D=>{m(D.id())||e.push(D)},u=D=>go(e,D).getOrUndefined(),m=D=>u(N=>N.id()===D);return{create:o,add:c,get:m,getByUri:D=>u(N=>N.blobUri()===D),getByData:(D,N)=>u(G=>G.base64()===D&&G.blob().type===N),findFirst:u,removeByUri:D=>{e=Ie(e,N=>N.blobUri()===D?(URL.revokeObjectURL(N.blobUri()),!1):!0)},destroy:()=>{ve(e,D=>{URL.revokeObjectURL(D.blobUri())}),e=[]}}},nL=(e,n)=>{const o={},r=(U,J)=>U?U.replace(/\/$/,"")+"/"+J.replace(/^\//,""):J,c=(U,J)=>new Promise((le,fe)=>{const de=new XMLHttpRequest;de.open("POST",n.url),de.withCredentials=n.credentials,de.upload.onprogress=We=>{J(We.loaded/We.total*100)},de.onerror=()=>{fe("Image upload failed due to a XHR Transport error. Code: "+de.status)},de.onload=()=>{if(de.status<200||de.status>=300){fe("HTTP Error: "+de.status);return}const We=JSON.parse(de.responseText);if(!We||!oe(We.location)){fe("Invalid JSON: "+de.responseText);return}le(r(n.basePath,We.location))};const we=new FormData;we.append("file",U.blob(),U.filename()),de.send(we)}),u=ce(n.handler)?n.handler:c,m=()=>new Promise(U=>{U([])}),b=(U,J)=>({url:J,blobInfo:U,status:!0}),v=(U,J)=>({url:"",blobInfo:U,status:!1,error:J}),C=(U,J)=>{Xe.each(o[U],le=>{le(J)}),delete o[U]},O=(U,J,le)=>(e.markPending(U.blobUri()),new Promise(fe=>{let de,we;try{const We=()=>{de&&(de.close(),we=Et)},at=Ae=>{We(),e.markUploaded(U.blobUri(),Ae),C(U.blobUri(),b(U,Ae)),fe(b(U,Ae))},kt=Ae=>{We(),e.removeFailed(U.blobUri()),C(U.blobUri(),v(U,Ae)),fe(v(U,Ae))};we=Ae=>{Ae<0||Ae>100||I.from(de).orThunk(()=>I.from(le).map(Xn)).each(Se=>{de=Se,Se.progressBar.value(Ae)})},J(U,we).then(at,Ae=>{kt(oe(Ae)?{message:Ae}:Ae)})}catch(We){fe(v(U,We))}})),D=U=>U===c,N=U=>{const J=U.blobUri();return new Promise(le=>{o[J]=o[J]||[],o[J].push(le)})},G=(U,J)=>(U=Xe.grep(U,le=>!e.isUploaded(le.blobUri())),Promise.all(Xe.map(U,le=>e.isPending(le.blobUri())?N(le):O(le,u,J))));return{upload:(U,J)=>!n.url&&D(u)?m():G(U,J)}},oL=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),$v=(e,n)=>nL(n,{url:nE(e),basePath:oE(e),credentials:rw(e),handler:sE(e)}),sL=e=>{const n=WM(),o=$v(e,n);return{upload:(r,c=!0)=>o.upload(r,c?oL(e):void 0)}},bz=(e,n)=>e.dom.isEmpty(n.dom)&&Re(e.schema.getTextBlockElements()[oo(n)]),rL=e=>n=>{bz(e,n)&&tr(n,ee.fromHtml('<br data-mce-bogus="1" />'))},aL=e=>{const n=tL();let o,r;const c=WM(),u=[],m=de=>we=>e.selection?de(we):[],b=de=>de+(de.indexOf("?")===-1?"?":"&")+new Date().getTime(),v=(de,we,We)=>{let at=0;do at=de.indexOf(we,at),at!==-1&&(de=de.substring(0,at)+We+de.substr(at+we.length),at+=We.length-we.length+1);while(at!==-1);return de},C=(de,we,We)=>{const at=`src="${We}"${We===_t.transparentSrc?' data-mce-placeholder="1"':""}`;return de=v(de,`src="${we}"`,at),de=v(de,'data-mce-src="'+we+'"','data-mce-src="'+We+'"'),de},O=(de,we)=>{ve(e.undoManager.data,We=>{We.type==="fragmented"?We.fragments=Pt(We.fragments,at=>C(at,de,we)):We.content=C(We.content,de,we)})},D=(de,we)=>{const We=e.convertURL(we,"src");O(de.src,we),ai(ee.fromDom(de),{src:yb(e)?b(we):we,"data-mce-src":We})},N=()=>(o||(o=$v(e,c)),J().then(m(de=>{const we=Pt(de,We=>We.blobInfo);return o.upload(we,oL(e)).then(m(We=>{const at=[];let kt=!1;const Ae=Pt(We,(Se,je)=>{const{blobInfo:Rt,image:Wt}=de[je];let Rn=!1;return Se.status&&kx(e)?(Se.url&&!ls(Wt.src,Se.url)&&(kt=!0),n.removeByUri(Wt.src),Tp(e)||D(Wt,Se.url)):Se.error&&(Se.error.remove&&(O(Wt.src,_t.transparentSrc),at.push(Wt),Rn=!0),UF(e,Se.error.message)),{element:Wt,status:Se.status,uploadUri:Se.url,blobInfo:Rt,removed:Rn}});return at.length>0&&!Tp(e)?e.undoManager.transact(()=>{ve(wu(at),Se=>{const je=pc(Se);ro(Se),je.each(rL(e)),n.removeByUri(Se.dom.src)})}):kt&&e.undoManager.dispatchChange(),Ae}))}))),G=()=>wx(e)?N():Promise.resolve([]),X=de=>es(u,we=>we(de)),U=de=>{u.push(de)},J=()=>(r||(r=JF(c,n)),r.findAll(e.getBody(),X).then(m(de=>{const we=Ie(de,We=>oe(We)?(OC(e,We),!1):We.uriType!=="blob");return Tp(e)||ve(we,We=>{O(We.image.src,We.blobInfo.blobUri()),We.image.src=We.blobInfo.blobUri(),We.image.removeAttribute("data-mce-src")}),we}))),le=()=>{n.destroy(),c.destroy(),r=o=null},fe=de=>de.replace(/src="(blob:[^"]+)"/g,(we,We)=>{const at=c.getResultUri(We);if(at)return'src="'+at+'"';let kt=n.getByUri(We);return kt||(kt=nn(e.editorManager.get(),(Ae,Se)=>Ae||Se.editorUpload&&Se.editorUpload.blobCache.getByUri(We),void 0)),kt?'src="data:'+kt.blob().type+";base64,"+kt.base64()+'"':we});return e.on("SetContent",()=>{wx(e)?G():J()}),e.on("RawSaveContent",de=>{de.content=fe(de.content)}),e.on("GetContent",de=>{de.source_view||de.format==="raw"||de.format==="tree"||(de.content=fe(de.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",de=>{ve(de,we=>{const We=we.attr("src");if(!We||n.getByUri(We))return;const at=c.getResultUri(We);at&&we.attr("src",at)})})}),{blobCache:n,addFilter:U,uploadImages:N,uploadImagesAuto:G,scanForImages:J,destroy:le}},cL=e=>{const n=e.dom,o=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const c={inline:"span",styles:{textDecoration:"line-through"},exact:!0},u={inline:"strike",remove:"all",preserve_attributes:["class","style"]},m={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[m,c,u]:[c,m,u]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(c,u,m)=>Dt(c)&&c.hasAttribute("href"),onformat:(c,u,m)=>{Xe.each(m,(b,v)=>{n.setAttrib(c,v,b)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":c=>{var u;return(u=c==null?void 0:c.customValue)!==null&&u!==void 0?u:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Xe.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),c=>{r[c]={block:c,remove:"all"}}),r},ZM={remove_similar:!0,inherit:!1},Zu={selector:"td,th",...ZM},dy={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Zu},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Zu},tablecellbordercolor:{styles:{borderColor:"%value"},...Zu},tablecellclass:{classes:["%value"],...Zu},tableclass:{selector:"table",classes:["%value"],...ZM},tablecellborderstyle:{styles:{borderStyle:"%value"},...Zu},tablecellborderwidth:{styles:{borderWidth:"%value"},...Zu}},MC=Ye(dy),BC=e=>{const n={},o=m=>Re(m)?n[m]:n,r=m=>Qt(n,m),c=(m,b)=>{m&&(oe(m)?(Gt(b)||(b=[b]),ve(b,v=>{$n(v.deep)&&(v.deep=!ca(v)),$n(v.split)&&(v.split=!ca(v)||lr(v)),$n(v.remove)&&ca(v)&&!lr(v)&&(v.remove="none"),ca(v)&&lr(v)&&(v.mixed=!0,v.block_expand=!0),oe(v.classes)&&(v.classes=v.classes.split(/\s+/))}),n[m]=b):dt(m,(v,C)=>{c(C,v)}))},u=m=>(m&&n[m]&&delete n[m],n);return c(cL(e)),c(MC()),c(lE(e)),{get:o,has:r,register:c,unregister:u}},pm=Xe.each,ic=as.DOM,Iv=e=>Re(e)&&Ut(e),Vk=(e,n)=>{const o=n&&n.schema||Rd({}),r=(v,C)=>{C.classes.length>0&&ic.addClass(v,C.classes.join(" ")),ic.setAttribs(v,C.attrs)},c=v=>{const C=oe(v)?{name:v,classes:[],attrs:{}}:v,O=ic.create(C.name);return r(O,C),O},u=(v,C)=>{const O=o.getElementRule(v.nodeName.toLowerCase()),D=O==null?void 0:O.parentsRequired;return D&&D.length?C&&Ke(D,C)?C:D[0]:!1},m=(v,C,O)=>{let D;const N=C[0],G=Iv(N)?N.name:void 0,X=u(v,G);if(X)G===X?(D=N,C=C.slice(1)):D=X;else if(N)D=N,C=C.slice(1);else if(!O)return v;const U=D?c(D):ic.create("div");U.appendChild(v),O&&Xe.each(O,le=>{const fe=c(le);U.insertBefore(fe,v)});const J=Iv(D)?D.siblings:void 0;return m(U,C,J)},b=ic.create("div");if(e.length>0){const v=e[0],C=c(v),O=Iv(v)?v.siblings:void 0;b.appendChild(m(C,e.slice(1),O))}return b},qM=e=>{e=Xe.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,c,u,m,b)=>{switch(c){case"#":o.attrs.id=u;break;case".":o.classes.push(u);break;case":":Xe.inArray("checked disabled enabled read-only required".split(" "),u)!==-1&&(o.attrs[u]=u);break}if(m==="["){const v=b.match(/([\w\-]+)(?:\=\"([^\"]+))?/);v&&(o.attrs[v[1]]=v[2])}return""})),o.name=n||"div",o},yz=e=>oe(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Xe.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=Xe.map(n.split(/(?:~\+|~|\+)/),qM),r=o.pop();return o.length&&(r.siblings=o),r}).reverse()):[],vz=(e,n)=>{let o="",r=Sx(e);if(r==="")return"";const c=N=>oe(N)?N.replace(/%(\w+)/g,""):"",u=(N,G)=>ic.getStyle(G??e.getBody(),N,!0);if(oe(n)){const N=e.formatter.get(n);if(!N)return"";n=N[0]}if("preview"in n){const N=n.preview;if(N===!1)return"";r=N||r}let m=n.block||n.inline||"span",b;const v=yz(n.selector);v.length>0?(v[0].name||(v[0].name=m),m=n.selector,b=Vk(v,e)):b=Vk([m],e);const C=ic.select(m,b)[0]||b.firstChild;pm(n.styles,(N,G)=>{const X=c(N);X&&ic.setStyle(C,G,X)}),pm(n.attributes,(N,G)=>{const X=c(N);X&&ic.setAttrib(C,G,X)}),pm(n.classes,N=>{const G=c(N);ic.hasClass(C,G)||ic.addClass(C,G)}),e.dispatch("PreviewFormats"),ic.setStyles(b,{position:"absolute",left:-65535}),e.getBody().appendChild(b);const O=u("fontSize"),D=/px$/.test(O)?parseInt(O,10):0;return pm(r.split(" "),N=>{let G=u(N,C);if(!(N==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(G)&&(G=u(N),tg(G).toLowerCase()==="#ffffff"))&&!(N==="color"&&tg(G).toLowerCase()==="#000000")){if(N==="font-size"&&/em|%$/.test(G)){if(D===0)return;G=parseFloat(G)/(/%$/.test(G)?100:1)*D+"px"}N==="border"&&G&&(o+="padding:0 2px;"),o+=N+":"+G+";"}}),e.dispatch("AfterPreviewFormats"),ic.remove(b),o},GM=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},wz=e=>{const n=BC(e),o=As({});return GM(e),V$(e),Tp(e)||eI(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(r,c,u)=>{aF(e,r,c,u)},remove:(r,c,u,m)=>{cF(e,r,c,u,m)},toggle:(r,c,u)=>{iF(e,r,c,u)},match:(r,c,u,m)=>kM(e,r,c,u,m),closest:r=>lz(e,r),matchAll:(r,c)=>_M(e,r,c),matchNode:(r,c,u,m)=>iz(e,r,c,u,m),canApply:r=>xM(e,r),formatChanged:(r,c,u,m)=>ou(e,o,r,c,u,m),getCssText:Ue(vz,e)}},fy=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},KM=(e,n,o)=>{const r=As(!1),c=v=>{SC(n,!1,o),n.add({},v)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",v=>{const C=v.command;fy(C)||(gM(n,o),n.beforeChange())}),e.on("ExecCommand",v=>{const C=v.command;fy(C)||c(v)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",v=>{const C=v.keyCode;if(v.isDefaultPrevented())return;const O=_t.os.isMacOS()&&v.key==="Meta";(C>=33&&C<=36||C>=37&&C<=40||C===45||v.ctrlKey||O)&&(c(),e.nodeChanged()),(C===46||C===8)&&e.nodeChanged(),r.get()&&n.typing&&!sz(CC(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",v=>{const C=v.keyCode;if(v.isDefaultPrevented())return;if(C>=33&&C<=36||C>=37&&C<=40||C===45){n.typing&&c(v);return}const O=v.ctrlKey&&!v.altKey||v.metaKey;if((C<16||C>20)&&C!==224&&C!==91&&!n.typing&&!O){n.beforeChange(),SC(n,!0,o),n.add({},v),r.set(!0);return}(_t.os.isMacOS()?v.metaKey:v.ctrlKey&&!v.altKey)&&n.beforeChange()}),e.on("mousedown",v=>{n.typing&&c(v)});const u=v=>v.inputType==="insertReplacementText",m=v=>v.inputType==="insertText"&&v.data===null,b=v=>v.inputType==="insertFromPaste"||v.inputType==="insertFromDrop";e.on("input",v=>{v.inputType&&(u(v)||m(v)||b(v))&&c(v)}),e.on("AddUndo Undo Redo ClearUndos",v=>{v.isDefaultPrevented()||e.nodeChanged()})},YM=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},kz=e=>{const n=Ff(),o=As(0),r=As(0),c={data:[],typing:!1,beforeChange:()=>{dq(e,o,n)},add:(u,m)=>Za(e,c,r,o,n,u,m),dispatchChange:()=>{e.setDirty(!0);const u=CC(e);u.bookmark=bg(e.selection),e.dispatch("change",{level:u,lastLevel:Ya(c.data,r.get()).getOrUndefined()})},undo:()=>yM(e,c,o,r),redo:()=>vM(e,r,c.data),clear:()=>{wM(e,c,r)},reset:()=>{nF(e,c)},hasUndo:()=>oF(e,c,r),hasRedo:()=>TC(e,c,r),transact:u=>sF(e,c,o,u),ignore:u=>{cz(e,o,u)},extra:(u,m)=>{rF(e,c,r,u,m)}};return Tp(e)||KM(e,c,o),YM(e),c},NC=[9,27,zt.HOME,zt.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,zt.DOWN,zt.UP,zt.LEFT,zt.RIGHT].concat(_t.browser.isFirefox()?[224]:[]),_z="data-mce-placeholder",xz=e=>e.type==="keydown"||e.type==="keyup",Cz=e=>{const n=e.keyCode;return n===zt.BACKSPACE||n===zt.DELETE},XM=e=>{if(xz(e)){const n=e.keyCode;return!Cz(e)&&(zt.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||Ke(NC,n))}else return!1},zp=e=>xz(e)&&!(Cz(e)||e.type==="keyup"&&e.keyCode===229),sh=(e,n,o)=>{if(Ns(ee.fromDom(n),!1)){const r=n.firstElementChild;return r?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===r.nodeName.toLowerCase():!0}else return!1},qu=e=>{var n;const o=e.dom,r=Va(e),c=(n=pO(e))!==null&&n!==void 0?n:"",u=(m,b)=>{if(XM(m))return;const v=e.getBody(),C=zp(m)?!1:sh(o,v,r);(o.getAttrib(v,_z)!==""!==C||b)&&(o.setAttrib(v,_z,C?c:null),o.setAttrib(v,"aria-placeholder",C?c:null),KE(e,C),e.on(C?"keydown":"keyup",u),e.off(C?"keyup":"keydown",u))};So(c)&&e.on("init",m=>{u(m,!0),e.on("change SetContent ExecCommand",u),e.on("paste",b=>Tl.setEditorTimeout(e,()=>u(b)))})},iL=(e,n)=>({block:e,position:n}),lL=(e,n)=>({from:e,to:n}),Sz=(e,n)=>{const o=ee.fromDom(e),r=ee.fromDom(n.container());return lk(o,r).map(c=>iL(c,n))},uL=e=>!fo(e.from.block,e.to.block),JM=(e,n)=>ec(n,c=>$a(c)||ta(c.dom),c=>fo(c,e)).filter(pa).getOr(e),dL=(e,n)=>{const o=ee.fromDom(e);return fo(JM(o,n.from.block),JM(o,n.to.block))},fL=e=>Wn(e.from.block.dom)===!1&&Wn(e.to.block.dom)===!1,mL=e=>{const n=o=>be(o)||s1(o.dom);return n(e.from.block)&&n(e.to.block)},pL=(e,n,o)=>Mo(o.position.getNode())&&!Ns(o.block)?Bg(!1,o.block.dom).bind(r=>r.isEqual(o.position)?qr(n,e,r).bind(c=>Sz(e,c)):I.some(o)).getOr(o):o,gL=(e,n,o)=>{const r=Sz(e,_e.fromRangeStart(o)),c=r.bind(u=>qr(n,e,u.position).bind(m=>Sz(e,m).map(b=>pL(e,n,b))));return ar(r,c,lL).filter(u=>uL(u)&&dL(e,u)&&fL(u)&&mL(u))},hL=(e,n,o)=>o.collapsed?gL(e,n,o):I.none(),bL=(e,n)=>{const o=Sr(e);return Rs(o,r=>n.isBlock(oo(r))).fold(Ye(o),r=>o.slice(0,r))},PC=(e,n)=>{const o=bL(e,n);return ve(o,ro),o},$C=(e,n)=>{const o=sm(n,e);return go(o.reverse(),r=>Ns(r)).each(ro)},QM=e=>Ie(Dh(e),n=>!Ns(n)).length===0,yL=(e,n,o,r,c)=>{if(Ns(o))return hl(o),ac(o.dom);QM(c)&&Ns(n)&&gr(c,ee.fromTag("br"));const u=kc(o.dom,_e.before(c.dom));return ve(PC(n,r),m=>{gr(c,m)}),$C(e,n),u},vL=(e,n)=>e.isInline(oo(n)),e6=(e,n,o,r)=>{if(Ns(o)){if(Ns(n)){const m=Mn((b=>{const v=(C,O)=>xf(C).fold(()=>O,D=>vL(r,D)?v(D,O.concat(jc(D))):O);return v(b,[])})(o),(b,v)=>($h(b,v),v),Ia());dl(n),tr(n,m)}return ro(o),ac(n.dom)}const c=xl(o.dom);return ve(PC(n,r),u=>{tr(o,u)}),$C(e,n),c},t6=(e,n)=>{const o=sm(n,e);return I.from(o[o.length-1])},Tz=(e,n)=>ea(n,e)?t6(n,e):I.none(),Ez=(e,n)=>{Bg(e,n.dom).bind(o=>I.from(o.getNode())).map(ee.fromDom).filter(_u).each(ro)},zz=(e,n,o,r)=>(Ez(!0,n),Ez(!1,o),Tz(n,o).fold(Ue(e6,e,n,o,r),Ue(yL,e,n,o,r))),IC=(e,n,o,r,c)=>n?zz(e,r,o,c):zz(e,o,r,c),Az=(e,n)=>{const o=ee.fromDom(e.getBody());return hL(o.dom,n,e.selection.getRng()).map(c=>()=>{IC(o,n,c.from.block,c.to.block,e.schema).each(u=>{e.selection.setRng(u.toRange())})})},wL=(e,n,o)=>{const r=n.getRng();return ar(lk(e,ee.fromDom(r.startContainer)),lk(e,ee.fromDom(r.endContainer)),(c,u)=>fo(c,u)?I.none():I.some(()=>{r.deleteContents(),IC(e,!0,c,u,o).each(m=>{n.setRng(m.toRange())})})).getOr(I.none())},ef=(e,n)=>{const o=ee.fromDom(n),r=Ue(fo,e);return Ms(o,$a,r).isSome()},Gu=(e,n)=>ef(e,n.startContainer)||ef(e,n.endContainer),FC=(e,n)=>{const o=kc(e.dom,_e.fromRangeStart(n)).isNone(),r=Ua(e.dom,_e.fromRangeEnd(n)).isNone();return!Gu(e,n)&&o&&r},n6=e=>I.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),LC=e=>{const n=ee.fromDom(e.getBody()),o=e.selection.getRng();return FC(n,o)?n6(e):wL(n,e.selection,e.schema)},HC=(e,n)=>e.selection.isCollapsed()?I.none():LC(e),gm=(e,n,o,r,c)=>I.from(n._selectionOverrides.showCaret(e,o,r,c)),o6=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},Fv=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?I.none():I.some(o6(n)),s6=(e,n,o)=>{const r=Ew(1,e.getBody(),n),c=_e.fromRangeStart(r),u=c.getNode();if(L1(u))return gm(1,e,u,!c.isAtEnd(),!1);const m=c.getNode(!0);if(L1(m))return gm(1,e,m,!1,!1);const b=ry(e.dom.getRoot(),c.getNode());return L1(b)?gm(1,e,b,!1,o):I.none()},VC=(e,n,o)=>n.collapsed?s6(e,n,o).getOr(n):n,jC=e=>wp(e)||ok(e),Oz=e=>Kd(e)||pv(e),kL=(e,n)=>{Je(n)&&n.data.length===0&&e.remove(n)},r6=(e,n,o,r,c,u)=>{gm(r,e,u.getNode(!c),c,!0).each(m=>{if(n.collapsed){const b=n.cloneRange();c?b.setEnd(m.startContainer,m.startOffset):b.setStart(m.endContainer,m.endOffset),b.deleteContents()}else n.deleteContents();e.selection.setRng(m)}),kL(e.dom,o)},_L=(e,n)=>{const o=e.selection.getRng();if(!Je(o.commonAncestorContainer))return I.none();const r=n?Ys.Forwards:Ys.Backwards,c=Kl(e.getBody()),u=Ue(Wx,n?c.next:c.prev),m=n?jC:Oz,b=Yf(r,e.getBody(),o),v=u(b),C=v&&eo(n,v);if(!C||!zw(b,C))return I.none();if(m(C))return I.some(()=>r6(e,o,b.getNode(),r,n,C));const O=u(C);return O&&m(O)&&zw(C,O)?I.some(()=>r6(e,o,b.getNode(),r,n,O)):I.none()},Dz=(e,n)=>_L(e,n),UC=(e,n)=>{const o=e.getBody();return n?ac(o).filter(wp):xl(o).filter(Kd)},Rz=e=>{const n=e.selection.getRng();return!n.collapsed&&(UC(e,!0).exists(o=>o.isEqual(_e.fromRangeStart(n)))||UC(e,!1).exists(o=>o.isEqual(_e.fromRangeEnd(n))))},xL=e=>Re(e)&&($a(ee.fromDom(e))||Nc(ee.fromDom(e))),Ci=ql.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),CL=(e,n)=>{const o=n.getNode(!e),r=e?"after":"before";return Dt(o)&&o.getAttribute("data-mce-caret")===r},SL=(e,n,o,r,c)=>{const u=m=>c.isInline(m.nodeName.toLowerCase())&&!Gl(o,r,e);return Ux(!n,o).fold(()=>Ux(n,r).fold(He,u),u)},a6=(e,n,o,r)=>{const c=r.getNode(!n);return lk(ee.fromDom(e),ee.fromDom(o.getNode())).map(u=>Ns(u)?Ci.remove(u.dom):Ci.moveToElement(c)).orThunk(()=>I.some(Ci.moveToElement(c)))},c6=(e,n,o,r)=>qr(n,e,o).bind(c=>xL(c.getNode())||SL(e,n,o,c,r)?I.none():n&&Wn(c.getNode())||!n&&Wn(c.getNode(!0))?a6(e,n,o,c):n&&Kd(o)||!n&&wp(o)?I.some(Ci.moveToPosition(c)):I.none()),TL=(e,n)=>yn(n)?I.none():e&&Wn(n.nextSibling)?I.some(Ci.moveToElement(n.nextSibling)):!e&&Wn(n.previousSibling)?I.some(Ci.moveToElement(n.previousSibling)):I.none(),EL=(e,n,o)=>o.fold(r=>I.some(Ci.remove(r)),r=>I.some(Ci.moveToElement(r)),r=>Gl(n,r,e)?I.none():I.some(Ci.moveToPosition(r))),zL=(e,n,o,r)=>CL(n,o)?TL(n,o.getNode(!n)).orThunk(()=>c6(e,n,o,r)):c6(e,n,o,r).bind(c=>EL(e,o,c)),WC=(e,n,o,r)=>{const c=Ew(n?1:-1,e,o),u=_e.fromRangeStart(c),m=ee.fromDom(e);return!n&&Kd(u)?I.some(Ci.remove(u.getNode(!0))):n&&wp(u)?I.some(Ci.remove(u.getNode())):!n&&wp(u)&&rk(m,u,r)?KP(m,u,r).map(b=>Ci.remove(b.getNode())):n&&Kd(u)&&sk(m,u,r)?YP(m,u,r).map(b=>Ci.remove(b.getNode())):zL(e,n,u,r)},Mz=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),_p(e,n,ee.fromDom(o)),!0),AL=(e,n)=>o=>{const r=n?_e.before(o):_e.after(o);return e.selection.setRng(r.toRange()),!0},OL=e=>n=>(e.selection.setRng(n.toRange()),!0),i6=(e,n)=>I.from(ry(e.getBody(),n)),DL=(e,n)=>{const o=e.selection.getNode();return i6(e,o).filter(Wn).fold(()=>WC(e.getBody(),n,e.selection.getRng(),e.schema).map(r=>()=>r.fold(Mz(e,n),AL(e,n),OL(e))),()=>I.some(Et))},l6=e=>{ve(Tr(e,".mce-offscreen-selection"),ro)},RL=(e,n)=>{const o=e.selection.getNode();return Wn(o)&&!zf(o)?i6(e,o.parentNode).filter(Wn).fold(()=>I.some(()=>{l6(ee.fromDom(e.getBody())),_p(e,n,ee.fromDom(e.selection.getNode())),$2(e)}),()=>I.some(Et)):Rz(e)?I.some(()=>{uk(e,e.selection.getRng(),ee.fromDom(e.getBody()))}):I.none()},u6=e=>{const n=e.dom,o=e.selection,r=ry(e.getBody(),o.getNode());if(ta(r)&&n.isBlock(r)&&n.isEmpty(r)){const c=n.create("br",{"data-mce-bogus":"1"});n.setHTML(r,""),r.appendChild(c),o.setRng(_e.before(c).toRange())}return!0},jk=(e,n)=>e.selection.isCollapsed()?DL(e,n):RL(e,n),ML=(e,n)=>{const o=_e.fromRangeStart(e.selection.getRng());return qr(n,e.getBody(),o).filter(r=>n?jP(r):UP(r)).bind(r=>Eb(n?0:-1,r)).map(r=>()=>e.selection.select(r))},Bz=(e,n)=>e.selection.isCollapsed()?ML(e,n):I.none(),Lv=Je,d6=e=>Lv(e)&&e.data[0]===k,f6=e=>Lv(e)&&e.data[e.data.length-1]===k,m6=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(k)},BL=e=>{var n;if(Lv(e.previousSibling))return f6(e.previousSibling)||e.previousSibling.appendData(k),e.previousSibling;if(Lv(e))return d6(e)||e.insertData(0,k),e;{const o=m6(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},ZC=e=>{var n,o;if(Lv(e.nextSibling))return d6(e.nextSibling)||e.nextSibling.insertData(0,k),e.nextSibling;if(Lv(e))return f6(e)||e.appendData(k),e;{const r=m6(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(r,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(r),r}},my=(e,n)=>e?BL(n):ZC(n),NL=Ue(my,!0),PL=Ue(my,!1),Uk=(e,n)=>Je(e.container())?my(n,e.container()):my(n,e.getNode()),p6=(e,n)=>{const o=n.get();return o&&e.container()===o&&bt(o)},Nz=(e,n)=>n.fold(o=>{Mr(e.get());const r=NL(o);return e.set(r),I.some(_e(r,r.length-1))},o=>ac(o).map(r=>{if(p6(r,e)){const c=e.get();return _e(c,1)}else{Mr(e.get());const c=Uk(r,!0);return e.set(c),_e(c,1)}}),o=>xl(o).map(r=>{if(p6(r,e)){const c=e.get();return _e(c,c.length-1)}else{Mr(e.get());const c=Uk(r,!1);return e.set(c),_e(c,c.length-1)}}),o=>{Mr(e.get());const r=PL(o);return e.set(r),I.some(_e(r,1))}),g6=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o].apply(null,n);if(r.isSome())return r}return I.none()},Gc=ql.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),h6=(e,n)=>{const o=Id(n,e);return o||e},$L=(e,n,o)=>{const r=oy(o),c=h6(n,r.container());return Lu(e,c,r).fold(()=>Ua(c,r).bind(Ue(Lu,e,c)).map(u=>Gc.before(u)),I.none)},IL=(e,n)=>fp(e,n)===null,b6=(e,n,o)=>Lu(e,n,o).filter(Ue(IL,n)),FL=(e,n,o)=>{const r=ck(o);return b6(e,n,r).bind(c=>kc(c,r).isNone()?I.some(Gc.start(c)):I.none())},LL=(e,n,o)=>{const r=oy(o);return b6(e,n,r).bind(c=>Ua(c,r).isNone()?I.some(Gc.end(c)):I.none())},HL=(e,n,o)=>{const r=ck(o),c=h6(n,r.container());return Lu(e,c,r).fold(()=>kc(c,r).bind(Ue(Lu,e,c)).map(u=>Gc.after(u)),I.none)},VL=e=>!hD(Wk(e)),Sa=(e,n,o)=>g6([$L,FL,LL,HL],[e,n,o]).filter(VL),Wk=e=>e.fold(wo,wo,wo,wo),Pz=e=>e.fold(Ye("before"),Ye("start"),Ye("end"),Ye("after")),Zk=e=>e.fold(Gc.before,Gc.before,Gc.after,Gc.after),$z=e=>e.fold(Gc.start,Gc.start,Gc.end,Gc.end),y6=(e,n)=>Pz(e)===Pz(n)&&Wk(e)===Wk(n),jL=(e,n,o,r,c,u)=>ar(Lu(n,o,r),Lu(n,o,c),(m,b)=>m!==b&&Hu(o,m,b)?Gc.after(e?m:b):u).getOr(u),v6=(e,n)=>e.fold(ut,o=>!y6(o,n)),UL=(e,n,o,r,c)=>{const u=eo(e,c);return qr(e,o,u).map(Ue(eo,e)).fold(()=>r.map(Zk),v=>Sa(n,o,v).map(Ue(jL,e,n,o,u,v)).filter(Ue(v6,r))).filter(VL)},WL=(e,n)=>e?n.fold(E(I.some,Gc.start),I.none,E(I.some,Gc.after),I.none):n.fold(I.none,E(I.some,Gc.before),I.none,E(I.some,Gc.end)),ZL=(e,n,o,r)=>{const c=eo(e,r),u=Sa(n,o,c);return Sa(n,o,c).bind(Ue(WL,e)).orThunk(()=>UL(e,n,o,u,r))},Hv=e=>ce(e.selection.getSel().modify),Iz=(e,n,o)=>{const r=e?1:-1;return n.setRng(_e(o.container(),o.offset()+r).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},w6=(e,n)=>{const o=n.selection.getRng(),r=e?_e.fromRangeEnd(o):_e.fromRangeStart(o);return Hv(n)?e&&bo(r)?Iz(!0,n.selection,r):!e&&rs(r)?Iz(!1,n.selection,r):!1:!1};var tf;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(tf||(tf={}));const Vv=(e,n)=>e===Ys.Backwards?ko(n):n,qL=(e,n,o)=>e===Ys.Forwards?n.next(o):n.prev(o),GL=(e,n,o,r)=>Mo(r.getNode(n===Ys.Forwards))?tf.Br:Gl(o,r)===!1?tf.Block:tf.Wrap,k6=(e,n,o,r)=>{const c=Kl(o);let u=r;const m=[];for(;u;){const b=qL(n,c,u);if(!b)break;if(Mo(b.getNode(!1)))return n===Ys.Forwards?{positions:Vv(n,m).concat([b]),breakType:tf.Br,breakAt:I.some(b)}:{positions:Vv(n,m),breakType:tf.Br,breakAt:I.some(b)};if(!b.isVisible()){u=b;continue}if(e(u,b)){const v=GL(o,n,u,b);return{positions:Vv(n,m),breakType:v,breakAt:I.some(b)}}m.push(b),u=b}return{positions:Vv(n,m),breakType:tf.Eol,breakAt:I.none()}},KL=(e,n,o,r)=>n(o,r).breakAt.map(c=>{const u=n(o,c).positions;return e===Ys.Backwards?u.concat(c):[c].concat(u)}).getOr([]),_6=(e,n)=>nn(e,(o,r)=>o.fold(()=>I.some(r),c=>ar(In(c.getClientRects()),In(r.getClientRects()),(u,m)=>{const b=Math.abs(n-u.left);return Math.abs(n-m.left)<=b?r:c}).or(o)),I.none()),Fz=(e,n)=>In(n.getClientRects()).bind(o=>_6(e,o.left)),Si=Ue(k6,_e.isAbove,-1),qk=Ue(k6,_e.isBelow,1),x6=Ue(KL,-1,Si),rh=Ue(KL,1,qk),Lz=(e,n)=>Si(e,n).breakAt.isNone(),C6=(e,n)=>qk(e,n).breakAt.isNone(),qC=e=>ac(e).map(n=>[n].concat(qk(e,n).positions)).getOr([]),YL=e=>xl(e).map(n=>Si(e,n).positions.concat(n)).getOr([]),XL=(e,n)=>Fz(x6(e,n),n),JL=(e,n)=>Fz(rh(e,n),n),QL=Wn,S6=(e,n)=>Math.abs(e.left-n),T6=(e,n)=>Math.abs(e.right-n),Ap=e=>kr(e,"node"),E6=(e,n)=>fa(e,(o,r)=>{const c=Math.min(S6(o,n),T6(o,n)),u=Math.min(S6(r,n),T6(r,n));return u===c&&Ap(r)&&QL(r.node)||u<c?r:o}),eH=e=>{const n=o=>Pt(o,r=>{const c=rp(r);return c.node=e,c});if(Dt(e))return n(e.getClientRects());if(Je(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},z6=e=>cs(e,eH);var Gk;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Gk||(Gk={}));const tH=(e,n,o,r)=>{let c=r;for(;c=zg(c,e,Td,n);)if(o(c))return},GC=(e,n,o,r,c,u)=>{let m=0;const b=[],v=D=>{let N=z6([D]);e===-1&&(N=N.reverse());for(let G=0;G<N.length;G++){const X=N[G];if(!o(X,C)){if(b.length>0&&n(X,$r(b))&&m++,X.line=m,c(X))return!0;b.push(X)}}return!1},C=$r(u.getClientRects());if(!C)return b;const O=u.getNode();return O&&(v(O),tH(e,r,v,O)),b},Hz=(e,n)=>n.line>e,Vz=(e,n)=>n.line===e,A6=Ue(GC,Gk.Up,Hf,cp),O6=Ue(GC,Gk.Down,cp,Hf),jz=e=>$r(e.getClientRects()),nH=(e,n,o,r)=>{const c=Kl(n);let u,m,b,v;const C=[];let O=0;e===1?(u=c.next,m=cp,b=Hf,v=_e.after(r)):(u=c.prev,m=Hf,b=cp,v=_e.before(r));const D=jz(v);do{if(!v.isVisible())continue;const N=jz(v);if(b(N,D))continue;C.length>0&&m(N,$r(C))&&O++;const G=rp(N);if(G.position=v,G.line=O,o(G))return C;C.push(G)}while(v=u(v));return C},jv=e=>n=>Hz(e,n),Uv=e=>n=>Vz(e,n),hm=(e,n)=>{e.selection.setRng(n),Xb(e,e.selection.getRng())},KC=(e,n,o)=>I.some(VC(e,n,o)),Uz=(e,n,o,r,c,u)=>{const m=n===Ys.Forwards,b=Kl(e.getBody()),v=Ue(Wx,m?b.next:b.prev),C=m?r:c;if(!o.collapsed){const X=I0(o);if(u(X))return gm(n,e,X,n===Ys.Backwards,!1);if(Rz(e)){const U=o.cloneRange();return U.collapse(n===Ys.Backwards),I.from(U)}}const O=Yf(n,e.getBody(),o);if(C(O))return Fv(e,O.getNode(!m));let D=v(O);const N=qm(o);if(D)D=eo(m,D);else return N?I.some(o):I.none();if(C(D))return gm(n,e,D.getNode(!m),m,!1);const G=v(D);return G&&C(G)&&zw(D,G)?gm(n,e,G.getNode(!m),m,!1):N?KC(e,D.toRange(),!1):I.none()},Wz=(e,n,o,r,c,u)=>{const m=Yf(n,e.getBody(),o),b=$r(m.getClientRects()),v=n===Gk.Down,C=e.getBody();if(!b)return I.none();if(Rz(e)){const J=v?_e.fromRangeEnd(o):_e.fromRangeStart(o);return(v?JL:XL)(C,J).orThunk(()=>I.from(J)).map(fe=>fe.toRange())}const D=(v?O6:A6)(C,jv(1),m),N=Ie(D,Uv(1)),G=b.left,X=E6(N,G);if(X&&u(X.node)){const J=Math.abs(G-X.left),le=Math.abs(G-X.right);return gm(n,e,X.node,J<le,!1)}let U;if(r(m)?U=m.getNode():c(m)?U=m.getNode(!0):U=I0(o),U){const J=nH(n,C,jv(1),U);let le=E6(Ie(J,Uv(1)),G);if(le||(le=$r(Ie(J,Uv(0))),le))return KC(e,le.position.toRange(),!1)}return N.length===0?Wv(e,v).filter(v?c:r).map(J=>VC(e,J.toRange(),!1)):I.none()},Wv=(e,n)=>{const o=e.selection.getRng(),r=n?_e.fromRangeEnd(o):_e.fromRangeStart(o),c=Sw(r.container(),e.getBody());if(n){const u=qk(c,r);return fs(u.positions)}else{const u=Si(c,r);return In(u.positions)}},YC=(e,n,o)=>Wv(e,n).filter(o).exists(r=>(e.selection.setRng(r.toRange()),!0)),ah=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},D6=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},Zz=(e,n,o)=>Nz(n,o).map(r=>(ah(e,r),o)),oH=(e,n,o)=>{const r=_e.fromRangeStart(e);if(e.collapsed)return r;{const c=_e.fromRangeEnd(e);return o?kc(n,c).getOr(c):Ua(n,r).getOr(r)}},sH=(e,n,o)=>{const r=e.getBody(),c=oH(e.selection.getRng(),r,o),u=Ue(ny,e);return ZL(o,u,r,c).bind(b=>Zz(e,n,b))},R6=(e,n,o)=>{const r=Pt(Tr(ee.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),m=>m.dom),c=Ie(r,e),u=Ie(o,e);ve(Xr(c,u),Ue(D6,!1)),ve(Xr(u,c),Ue(D6,!0))},rH=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const r=_e.fromRangeStart(e.selection.getRng());_e.isTextPosition(r)&&!g$(r)&&(ah(e,Fx(o,r)),n.set(null))}},M6=(e,n,o,r)=>{if(n.selection.isCollapsed()){const c=Ie(r,e);ve(c,u=>{const m=_e.fromRangeStart(n.selection.getRng());Sa(e,n.getBody(),m).bind(b=>Zz(n,o,b))})}},aH=(e,n,o)=>lp(e)?sH(e,n,o).isSome():!1,B6=(e,n,o)=>lp(n)?w6(e,n):!1,cH=e=>{const n=As(null),o=Ue(ny,e);return e.on("NodeChange",r=>{lp(e)&&(R6(o,e.dom,r.parents),rH(e,n),M6(o,e,n,r.parents))}),n},iH=Ue(B6,!0),lH=Ue(B6,!1),XC=(e,n,o)=>{if(lp(e)){const r=Wv(e,n).getOrThunk(()=>{const c=e.selection.getRng();return n?_e.fromRangeEnd(c):_e.fromRangeStart(c)});return Sa(Ue(ny,e),e.getBody(),r).exists(c=>{const u=Zk(c);return Nz(o,u).exists(m=>(ah(e,m),!0))})}else return!1},uH=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},dH=e=>ar(ac(e),xl(e),(n,o)=>{const r=eo(!0,n),c=eo(!1,o);return Ua(e,r).forall(u=>u.isEqual(c))}).getOr(!0),N6=(e,n)=>o=>Nz(n,o).map(r=>()=>ah(e,r)),qz=(e,n,o,r)=>{const c=e.getBody(),u=Ue(ny,e);e.undoManager.ignore(()=>{e.selection.setRng(uH(o,r)),ik(e),Sa(u,c,_e.fromRangeStart(e.selection.getRng())).map($z).bind(N6(e,n)).each(Vs)}),e.nodeChanged()},fH=(e,n)=>{const o=Id(n,e);return o||e},py=(e,n,o,r)=>{const c=fH(e.getBody(),r.container()),u=Ue(ny,e),m=Sa(u,c,r);return m.bind(v=>o?v.fold(Ye(I.some($z(v))),I.none,Ye(I.some(Zk(v))),I.none):v.fold(I.none,Ye(I.some(Zk(v))),I.none,Ye(I.some($z(v))))).map(N6(e,n)).getOrThunk(()=>{const v=Ld(o,c,r),C=v.bind(O=>Sa(u,c,O));return ar(m,C,()=>Lu(u,c,r).bind(O=>dH(O)?I.some(()=>{_p(e,o,ee.fromDom(O))}):I.none())).getOrThunk(()=>C.bind(()=>v.map(O=>()=>{o?qz(e,n,r,O):qz(e,n,O,r)})))})},JC=(e,n,o)=>{if(e.selection.isCollapsed()&&lp(e)){const r=_e.fromRangeStart(e.selection.getRng());return py(e,n,o,r)}return I.none()},Gz=e=>Qa(e)>1,Kz=(e,n)=>{const o=ee.fromDom(e.getBody()),r=ee.fromDom(e.selection.getStart()),c=sm(r,o);return Rs(c,n).fold(Ye(c),u=>c.slice(0,u))},Yz=e=>Qa(e)===1,ch=e=>Kz(e,n=>e.schema.isBlock(oo(n))||Gz(n)),P6=e=>Kz(e,n=>e.schema.isBlock(oo(n))),Dl=(e,n)=>{const o=Ue(cm,e);return cs(n,r=>o(r)?[r.dom]:[])},ih=e=>{const n=P6(e);return Dl(e,n)},Xz=(e,n,o,r)=>{const c=Dl(n,r);if(c.length===0)_p(n,e,o);else{const u=oR(o.dom,c);n.selection.setRng(u.toRange())}},mH=(e,n)=>{const o=Ie(ch(e),Yz);return fs(o).bind(r=>{const c=_e.fromRangeStart(e.selection.getRng());return I2(n,c,r.dom)&&!Lb(r)?I.some(()=>Xz(n,e,r,o)):I.none()})},$6=(e,n)=>{const o=n.parentElement;return Mo(n)&&!Y(o)&&e.dom.isEmpty(o)},pH=e=>Lb(ee.fromDom(e)),I6=(e,n)=>{const o=e.selection.getStart(),r=$6(e,o)||pH(o)?oR(o,n):oC(e.selection.getRng(),n);e.selection.setRng(r.toRange())},gH=(e,n)=>{const o=Xr(n,ih(e));o.length>0&&I6(e,o)},F6=e=>Je(e.startContainer),hH=e=>e.startOffset===0&&F6(e),L6=(e,n)=>{const o=n.startContainer.parentElement;return!Y(o)&&cm(e,ee.fromDom(o))},bH=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!Y(n)&&!Y(o)&&n.isEqualNode(o)},yH=e=>{const n=e.endContainer;return e.endOffset===(Je(n)?n.length:n.childNodes.length)},Zv=e=>bH(e)&&yH(e),Jz=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),H6=e=>Zv(e)||Jz(e),V6=e=>{const n=e.selection.getRng();return hH(n)&&L6(e,n)&&H6(n)},Qz=e=>{if(V6(e)){const n=ih(e);return I.some(()=>{ik(e),gH(e,n)})}else return I.none()},e5=(e,n)=>e.selection.isCollapsed()?mH(e,n):Qz(e),vH=(e,n)=>y$(e,o=>bi(o.dom),o=>n.isBlock(oo(o))),wH=e=>vH(ee.fromDom(e.selection.getStart()),e.schema),kH=e=>{const n=e.selection.getRng();return n.collapsed&&(F6(n)||e.dom.isEmpty(n.startContainer))&&!wH(e)},Kk=e=>(kH(e)&&I6(e,[]),!0),t5=(e,n,o)=>Re(o)?I.some(()=>{e._selectionOverrides.hideFakeCaret(),_p(e,n,ee.fromDom(o))}):I.none(),_H=(e,n)=>{const o=n?ok:pv,r=n?Ys.Forwards:Ys.Backwards,c=Yf(r,e.getBody(),e.selection.getRng());return o(c)?t5(e,n,c.getNode(!n)):I.from(eo(n,c)).filter(u=>o(u)&&zw(c,u)).bind(u=>t5(e,n,u.getNode(!n)))},j6=(e,n)=>{const o=e.selection.getNode();return Bs(o)?t5(e,n,o):I.none()},n5=(e,n)=>e.selection.isCollapsed()?_H(e,n):j6(e,n),xH=e=>ec(e,n=>ta(n.dom)||Wn(n.dom)).exists(n=>ta(n.dom)),Ti=e=>pu(e??"").getOr(0),U6=(e,n)=>{const o=e||ya(n)?"margin":"padding",r=Ws(n,"direction")==="rtl"?"-right":"-left";return o+r},o5=(e,n,o,r,c,u)=>{const m=U6(o,ee.fromDom(u)),b=Ti(e.getStyle(u,m));if(n==="outdent"){const v=Math.max(0,b-r);e.setStyle(u,m,v?v+c:"")}else{const v=b+r+c;e.setStyle(u,m,v)}},W6=(e,n)=>es(n,o=>{const r=U6(R1(e),o),c=cr(o,r).map(Ti).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&c>0}),QC=e=>{const n=q6(e);return!e.mode.isReadOnly()&&(n.length>1||W6(e,n))},Z6=e=>Pa(e)||Nc(e),CH=e=>pc(e).exists(Z6),q6=e=>Ie(wu(e.selection.getSelectedBlocks()),n=>!Z6(n)&&!CH(n)&&xH(n)),G6=(e,n)=>{var o,r;const{dom:c}=e,u=cw(e),m=(r=(o=/[a-z%]+$/i.exec(u))===null||o===void 0?void 0:o[0])!==null&&r!==void 0?r:"px",b=Ti(u),v=R1(e);ve(q6(e),C=>{o5(c,n,v,b,m,C.dom)})},SH=e=>G6(e,"indent"),s5=e=>G6(e,"outdent"),K6=e=>{if(e.selection.isCollapsed()&&QC(e)){const n=e.dom,o=e.selection.getRng(),r=_e.fromRangeStart(o),c=n.getParent(o.startContainer,n.isBlock);if(c!==null&&S4(ee.fromDom(c),r,e.schema))return I.some(()=>s5(e))}return I.none()},Y6=(e,n,o)=>Jc([K6,jk,Dz,(r,c)=>JC(r,n,c),Az,bk,Bz,n5,HC,e5],r=>r(e,o)).filter(r=>e.selection.isEditable()),Yk=(e,n)=>{Y6(e,n,!1).fold(()=>{e.selection.isEditable()&&(ik(e),$2(e))},Vs)},Op=(e,n)=>{Y6(e,n,!0).fold(()=>{e.selection.isEditable()&&h$(e)},Vs)},gy=(e,n)=>{e.addCommand("delete",()=>{Yk(e,n)}),e.addCommand("forwardDelete",()=>{Op(e,n)})},Xk=5,r5=400,eS=e=>e.touches===void 0||e.touches.length!==1?I.none():I.some(e.touches[0]),X6=(e,n)=>{const o=Math.abs(e.clientX-n.x),r=Math.abs(e.clientY-n.y);return o>Xk||r>Xk},TH=e=>{const n=Ff(),o=As(!1),r=y1(c=>{e.dispatch("longpress",{...c,type:"longpress"}),o.set(!0)},r5);e.on("touchstart",c=>{eS(c).each(u=>{r.cancel();const m={x:u.clientX,y:u.clientY,target:c.target};r.throttle(c),o.set(!1),n.set(m)})},!0),e.on("touchmove",c=>{r.cancel(),eS(c).each(u=>{n.on(m=>{X6(u,m)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",c=>{r.cancel(),c.type!=="touchcancel"&&n.get().filter(u=>u.target.isEqualNode(c.target)).each(()=>{o.get()?c.preventDefault():e.dispatch("tap",{...c,type:"tap"})})},!0)},tS=(e,n)=>Qt(e,n.nodeName),J6=(e,n)=>Je(n)?!0:Dt(n)?!tS(e.getBlockElements(),n)&&!yi(n)&&!Gn(e,n)&&!v0(n):!1,EH=(e,n,o)=>hn(x4(ee.fromDom(o),ee.fromDom(n)),r=>tS(e,r.dom)),zH=(e,n)=>{if(Je(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data))return!n.nextSibling||tS(e,n.nextSibling)||v0(n.nextSibling)}return!1},Q6=e=>e.dom.create(Va(e),bb(e)),AH=e=>{const n=e.dom,o=e.selection,r=e.schema,c=r.getBlockElements(),u=o.getStart(),m=e.getBody();let b,v,C=!1;const O=Va(e);if(!u||!Dt(u))return;const D=m.nodeName.toLowerCase();if(!r.isValidChild(D,O.toLowerCase())||EH(c,m,u))return;const N=o.getRng(),{startContainer:G,startOffset:X,endContainer:U,endOffset:J}=N,le=qg(e);let fe=m.firstChild;for(;fe;)if(Dt(fe)&&o1(r,fe),J6(r,fe)){if(zH(c,fe)){v=fe,fe=fe.nextSibling,n.remove(v);continue}b||(b=Q6(e),m.insertBefore(b,fe),C=!0),v=fe,fe=fe.nextSibling,b.appendChild(v)}else b=null,fe=fe.nextSibling;C&&le&&(N.setStart(G,X),N.setEnd(U,J),o.setRng(N),e.nodeChanged())},eB=(e,n,o)=>{const r=ee.fromDom(Q6(e)),c=Ia();tr(r,c),o(n,r);const u=document.createRange();return u.setStartBefore(c.dom),u.setEndBefore(c.dom),u},OH=e=>{e.on("NodeChange",Ue(AH,e))},a5=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,tB=(e,n,o)=>function(r){const c=arguments,u=c[c.length-2],m=u>0?n.charAt(u-1):"";if(m==='"')return r;if(m===">"){const b=n.lastIndexOf("<",u);if(b!==-1&&n.substring(b,u).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(c[0])+'">'+e.dom.encode(typeof c[1]=="string"?c[1]:c[0])+"</span>"},yq=(e,n,o)=>{let r=n.length,c=o.content;if(o.format!=="raw"){for(;r--;)c=c.replace(n[r],tB(e,c,hw(e)));o.content=c}},vq=e=>{const n="contenteditable",o=" "+Xe.trim(Bx(e))+" ",r=" "+Xe.trim(hw(e))+" ",c=a5(o),u=a5(r),m=kE(e);m.length>0&&e.on("BeforeSetContent",b=>{yq(e,m,b)}),e.parser.addAttributeFilter("class",b=>{let v=b.length;for(;v--;){const C=b[v];c(C)?C.attr(n,"true"):u(C)&&C.attr(n,"false")}}),e.serializer.addAttributeFilter(n,b=>{let v=b.length;for(;v--;){const C=b[v];!c(C)&&!u(C)||(m.length>0&&C.attr("data-mce-content")?(C.name="#text",C.type=3,C.raw=!0,C.value=C.attr("data-mce-content")):C.attr(n,null))}})},wq=e=>Ba(ee.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),nB=(e,n)=>{n.hasAttribute("data-mce-caret")&&(Zi(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},kq=(e,n)=>{const o=wq(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),nB(e,o);return}kn(o)&&(nB(e,o),e.undoManager.add())}},_q=e=>{e.on("keyup compositionstart",Ue(kq,e))},oB=Wn,DH=(e,n,o)=>Uz(n,e,o,wp,Kd,oB),xq=(e,n,o)=>Wz(n,e,o,u=>wp(u)||JO(u),u=>Kd(u)||Dn(u),oB),RH=e=>{const n=e.dom.create(Va(e));return n.innerHTML='<br data-mce-bogus="1">',n},Ei=(e,n,o)=>{const r=Kl(e.getBody()),c=Ue(Wx,n===1?r.next:r.prev);if(o.collapsed){const u=e.dom.getParent(o.startContainer,"PRE");if(!u)return;if(!c(_e.fromRangeStart(o))){const b=ee.fromDom(RH(e));n===1?Hi(ee.fromDom(u),b):gr(ee.fromDom(u),b),e.selection.select(b.dom,!0),e.selection.collapse()}}},sB=(e,n)=>{const o=n?Ys.Forwards:Ys.Backwards,r=e.selection.getRng();return DH(o,e,r).orThunk(()=>(Ei(e,o,r),I.none()))},Jk=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return xq(o,e,r).orThunk(()=>(Ei(e,o,r),I.none()))},MH=(e,n)=>{const o=n?e.getEnd(!0):e.getStart(!0);return hD(o)?!n:n},c5=(e,n)=>sB(e,MH(e.selection,n)).exists(o=>(hm(e,o),!0)),i5=(e,n)=>Jk(e,n).exists(o=>(hm(e,o),!0)),nS=(e,n)=>YC(e,n,n?Kd:wp),oS=(e,n)=>UC(e,!n).map(o=>{const r=o.toRange(),c=e.selection.getRng();return n?r.setStart(c.startContainer,c.startOffset):r.setEnd(c.endContainer,c.endOffset),r}).exists(o=>(hm(e,o),!0)),BH=e=>Ke(["figcaption"],oo(e)),rB=(e,n,o)=>{const r=Ue(fo,n);return ec(ee.fromDom(e.container()),c=>o.isBlock(oo(c)),r).filter(BH)},NH=(e,n,o)=>n?C6(e.dom,o):Lz(e.dom,o),PH=(e,n)=>{const o=ee.fromDom(e.getBody()),r=_e.fromRangeStart(e.selection.getRng());return rB(r,o,e.schema).exists(()=>{if(NH(o,n,r)){const u=eB(e,o,n?tr:bd);return e.selection.setRng(u),!0}else return!1})},aB=(e,n)=>e.selection.isCollapsed()?PH(e,n):!1,l5=(e,n,o)=>{const r=e.selection.getRng(),c=_e.fromRangeStart(r);return e.getBody().firstChild===n&&Lz(o,c)?(e.execCommand("InsertNewBlockBefore"),!0):!1},$H=(e,n)=>{const o=e.selection.getRng(),r=_e.fromRangeStart(o);return e.getBody().lastChild===n&&C6(n,r)?(e.execCommand("InsertNewBlockAfter"),!0):!1},IH=(e,n)=>n?I.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>$H(e,o)).getOr(!1):I.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>I.from(e.dom.getParent(o,"details")).map(r=>l5(e,r,o))).getOr(!1),FH=(e,n)=>IH(e,n),cB={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},iB=e=>Pt(e,n=>({...cB,...n})),Cq=e=>Pt(e,n=>({...cB,...n})),lB=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,LH=(e,n)=>cs(iB(e),o=>lB(o,n)?[o]:[]),HH=(e,n)=>cs(Cq(e),o=>lB(o,n)?[o]:[]),cn=(e,...n)=>()=>e.apply(null,n),lh=(e,n)=>go(LH(e,n),o=>o.action()),u5=(e,n)=>Jc(HH(e,n),o=>o.action()),d5=(e,n)=>{const o=n?Ys.Forwards:Ys.Backwards,r=e.selection.getRng();return Uz(e,o,r,ok,pv,Bs).exists(c=>(hm(e,c),!0))},uB=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return Wz(e,o,r,ok,pv,Bs).exists(c=>(hm(e,c),!0))},dB=(e,n)=>YC(e,n,n?pv:ok),sS=ql.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Qk={...sS,none:e=>sS.none(e)},VH=(e,n)=>fB(e,n,ut),fB=(e,n,o)=>cs(Sr(e),r=>ii(r,n)?o(r)?[r]:[]:fB(r,n,o)),Ku=(e,n,o=He)=>{if(o(n))return I.none();if(Ke(e,oo(n)))return I.some(n);const r=c=>ii(c,"table")||o(c);return hd(n,e.join(","),r)},mB=(e,n)=>Ku(["td","th"],e,n),pB=e=>VH(e,"th,td"),jH=(e,n)=>ul(e,"table",n),gB=(e,n,o,r,c=ut)=>{const u=r===1;if(!u&&o<=0)return Qk.first(e[0]);if(u&&o>=e.length-1)return Qk.last(e[e.length-1]);{const m=o+r,b=e[m];return c(b)?Qk.middle(n,b):gB(e,n,m,r,c)}},UH=(e,n)=>jH(e,n).bind(o=>{const r=pB(o);return Rs(r,u=>fo(e,u)).map(u=>({index:u,all:r}))}),Tq=(e,n,o)=>UH(e,o).fold(()=>Qk.none(e),c=>gB(c.all,e,c.index,1,n)),WH=(e,n,o)=>UH(e,o).fold(()=>Qk.none(),c=>gB(c.all,e,c.index,-1,n)),rS=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),ZH=(e,n)=>cs(n,o=>{const r=rS(rp(o.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:o},{x:r.right,y:e(r),cell:o}]}),f5=(e,n,o)=>nn(e,(r,c)=>r.fold(()=>I.some(c),u=>{const m=Math.sqrt(Math.abs(u.x-n)+Math.abs(u.y-o)),b=Math.sqrt(Math.abs(c.x-n)+Math.abs(c.y-o));return I.some(b<m?c:u)}),I.none()),m5=(e,n,o,r,c)=>{const u=Tr(ee.fromDom(o),"td,th,caption").map(b=>b.dom),m=Ie(ZH(e,u),b=>n(b,c));return f5(m,r,c).map(b=>b.cell)},hB=e=>e.bottom,bB=e=>e.top,qH=(e,n)=>e.y<n,GH=(e,n)=>e.y>n,KH=Ue(m5,hB,qH),YH=Ue(m5,bB,GH),aS=(e,n)=>In(n.getClientRects()).bind(o=>KH(e,o.left,o.top)).bind(o=>Fz(YL(o),n)),XH=(e,n)=>fs(n.getClientRects()).bind(o=>YH(e,o.left,o.top)).bind(o=>Fz(qC(o),n)),JH=(e,n,o)=>o.breakAt.exists(r=>e(n,r).breakAt.isSome()),QH=e=>e.breakType===tf.Wrap&&e.positions.length===0,p5=e=>e.breakType===tf.Br&&e.positions.length===1,yB=(e,n,o)=>{const r=e(n,o);return QH(r)||!Mo(o.getNode())&&p5(r)?!JH(e,n,r):r.breakAt.isNone()},e9=Ue(yB,Si),vB=Ue(yB,qk),t9=(e,n,o)=>{const r=_e.fromRangeStart(n);return Bg(!e,o).exists(c=>c.isEqual(r))},n9=(e,n,o,r)=>{const c=e.selection.getRng(),u=n?1:-1;return Sb()&&t9(n,c,o)?(gm(u,e,o,!n,!1).each(m=>{hm(e,m)}),!0):!1},o9=(e,n,o)=>aS(n,o).orThunk(()=>In(o.getClientRects()).bind(r=>_6(x6(e,_e.before(n)),r.left))).getOr(_e.before(n)),s9=(e,n,o)=>XH(n,o).orThunk(()=>In(o.getClientRects()).bind(r=>_6(rh(e,_e.after(n)),r.left))).getOr(_e.after(n)),wB=(e,n)=>{const o=n.getNode(e);return pl(o)?I.some(o):I.none()},r9=(e,n,o)=>{n.undoManager.transact(()=>{const r=e?Hi:gr,c=eB(n,ee.fromDom(o),r);hm(n,c)})},cS=(e,n,o)=>{const r=wB(!!n,o),c=n===!1;r.fold(()=>hm(e,o.toRange()),u=>Bg(c,e.getBody()).filter(m=>m.isEqual(o)).fold(()=>hm(e,o.toRange()),m=>r9(n,e,u)))},a9=(e,n,o,r)=>{const c=e.selection.getRng(),u=_e.fromRangeStart(c),m=e.getBody();if(!n&&e9(r,u)){const b=o9(m,o,u);return cS(e,n,b),!0}else if(n&&vB(r,u)){const b=s9(m,o,u);return cS(e,n,b),!0}else return!1},g5=(e,n,o)=>I.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>I.from(e.dom.getParent(r,"table")).map(c=>o(e,n,c,r))).getOr(!1),kB=(e,n)=>g5(e,n,n9),h5=(e,n)=>g5(e,n,a9),c9=e=>{const n=qd.exact(e,0,e,0);return u4(n)},_B=(e,n,o)=>o.fold(I.none,I.none,(r,c)=>CP(c).map(u=>c9(u)),r=>(e.execCommand("mceTableInsertRowAfter"),xB(e,n,r))),xB=(e,n,o)=>_B(e,n,Tq(o,xn)),i9=(e,n,o)=>_B(e,n,WH(o,xn)),Pr=(e,n)=>{const o=["table","li","dl"],r=ee.fromDom(e.getBody()),c=b=>{const v=oo(b);return fo(b,r)||Ke(o,v)},u=e.selection.getRng(),m=ee.fromDom(n?u.endContainer:u.startContainer);return mB(m,c).map(b=>(jH(b,c).each(O=>{e.model.table.clearSelectedCells(O.dom)}),e.selection.collapse(!n),(n?xB:i9)(e,c,b).each(O=>{e.selection.setRng(O)}),!0)).getOr(!1)},l9=(e,n,o)=>{const r=_t.os.isMacOS()||_t.os.isiOS();lh([{keyCode:zt.RIGHT,action:cn(c5,e,!0)},{keyCode:zt.LEFT,action:cn(c5,e,!1)},{keyCode:zt.UP,action:cn(i5,e,!1)},{keyCode:zt.DOWN,action:cn(i5,e,!0)},...r?[{keyCode:zt.UP,action:cn(oS,e,!1),metaKey:!0,shiftKey:!0},{keyCode:zt.DOWN,action:cn(oS,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:zt.RIGHT,action:cn(kB,e,!0)},{keyCode:zt.LEFT,action:cn(kB,e,!1)},{keyCode:zt.UP,action:cn(h5,e,!1)},{keyCode:zt.DOWN,action:cn(h5,e,!0)},{keyCode:zt.UP,action:cn(h5,e,!1)},{keyCode:zt.UP,action:cn(FH,e,!1)},{keyCode:zt.DOWN,action:cn(FH,e,!0)},{keyCode:zt.RIGHT,action:cn(d5,e,!0)},{keyCode:zt.LEFT,action:cn(d5,e,!1)},{keyCode:zt.UP,action:cn(uB,e,!1)},{keyCode:zt.DOWN,action:cn(uB,e,!0)},{keyCode:zt.RIGHT,action:cn(aH,e,n,!0)},{keyCode:zt.LEFT,action:cn(aH,e,n,!1)},{keyCode:zt.RIGHT,ctrlKey:!r,altKey:r,action:cn(iH,e,n)},{keyCode:zt.LEFT,ctrlKey:!r,altKey:r,action:cn(lH,e,n)},{keyCode:zt.UP,action:cn(aB,e,!1)},{keyCode:zt.DOWN,action:cn(aB,e,!0)}],o).each(c=>{o.preventDefault()})},u9=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||l9(e,n,o)})},nf=(e,n)=>({container:e,offset:n}),e_=as.DOM,qv=e=>n=>e===n?-1:0,CB=e=>n=>e.isBlock(n)||Ke(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",bm=(e,n,o)=>{if(Je(e)&&n>=0)return I.some(nf(e,n));{const r=Lf(e_);return I.from(r.backwards(e,n,qv(e),o)).map(c=>nf(c.container,c.container.data.length))}},b5=(e,n,o)=>{if(Je(e)&&n>=e.length)return I.some(nf(e,n));{const r=Lf(e_);return I.from(r.forwards(e,n,qv(e),o)).map(c=>nf(c.container,0))}},iS=(e,n,o)=>{if(!Je(e))return I.none();const r=e.data;if(n>=0&&n<=r.length)return I.some(nf(e,n));{const c=Lf(e_);return I.from(c.backwards(e,n,qv(e),o)).bind(u=>{const m=u.container.data;return iS(u.container,n+m.length,o)})}},lS=(e,n,o)=>{if(!Je(e))return I.none();const r=e.data;if(n<=r.length)return I.some(nf(e,n));{const c=Lf(e_);return I.from(c.forwards(e,n,qv(e),o)).bind(u=>lS(u.container,n-r.length,o))}},t_=(e,n,o,r,c)=>{const u=Lf(e,CB(e));return I.from(u.backwards(n,o,r,c))},y5=e=>e.collapsed&&Je(e.startContainer),v5=e=>$(e.toString().replace(/\u00A0/g," ")),n_=e=>e!==""&&`  \f
\r	\v`.indexOf(e)!==-1,Gv=(e,n)=>e.substring(n.length),o_=(e,n,o)=>{let r;const c=o.charAt(0);for(r=n-1;r>=0;r--){const u=e.charAt(r);if(n_(u))return I.none();if(c===u&&ls(e,o,r,n))break}return I.some(r)},s_=(e,n,o,r=0)=>{if(!y5(n))return I.none();const c={text:"",offset:0},u=(b,v,C)=>(c.text=C+c.text,c.offset+=v,o_(c.text,c.offset,o).getOr(v)),m=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return t_(e,n.startContainer,n.startOffset,u,m).bind(b=>{const v=n.cloneRange();if(v.setStart(b.container,b.offset),v.setEnd(n.endContainer,n.endOffset),v.collapsed)return I.none();const C=v5(v);return C.lastIndexOf(o)!==0||Gv(C,o).length<r?I.none():I.some({text:Gv(C,o),range:v,trigger:o})})},ru=(e,n,o,r=0)=>zP(ee.fromDom(n.startContainer)).fold(()=>s_(e,n,o,r),c=>{const u=e.createRng();u.selectNode(c.dom);const m=v5(u);return I.some({range:u,text:Gv(m,o),trigger:o})}),r_=e=>e.nodeType===Rm,SB=e=>e.nodeType===Pl,w5=e=>{if(r_(e))return nf(e,e.data.length);{const n=e.childNodes;return n.length>0?w5(n[n.length-1]):nf(e,n.length)}},TB=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?TB(o[n],0):o.length>0&&SB(e)&&o.length===n?w5(o[o.length-1]):nf(e,n)},EB=(e,n)=>{var o;const r=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return t_(e,n.container,n.offset,(c,u)=>u===0?-1:u,r).filter(c=>{const u=c.container.data.charAt(c.offset-1);return!n_(u)}).isSome()},d9=e=>n=>{const o=TB(n.startContainer,n.startOffset);return!EB(e,o)},f9=(e,n,o)=>Jc(o.triggers,r=>ru(e,n,r)),a_=(e,n)=>{const o=n(),r=e.selection.getRng();return f9(e.dom,r,o).bind(c=>zB(e,n,c))},zB=(e,n,o,r={})=>{var c;const u=n(),b=(c=e.selection.getRng().startContainer.nodeValue)!==null&&c!==void 0?c:"",v=Ie(u.lookupByTrigger(o.trigger),O=>o.text.length>=O.minChars&&O.matches.getOrThunk(()=>d9(e.dom))(o.range,b,o.text));if(v.length===0)return I.none();const C=Promise.all(Pt(v,O=>O.fetch(o.text,O.maxResults,r).then(N=>({matchText:o.text,items:N,columns:O.columns,onAction:O.onAction,highlightOn:O.highlightOn}))));return I.some({lookupData:C,context:o})};var of;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(of||(of={}));const k5=(e,n,o)=>e.stype===of.Error?n(e.serror):o(e.svalue),m9=e=>{const n=[],o=[];return ve(e,r=>{k5(r,c=>o.push(c),c=>n.push(c))}),{values:n,errors:o}},p9=(e,n)=>e.stype===of.Error?{stype:of.Error,serror:n(e.serror)}:e,g9=(e,n)=>e.stype===of.Value?{stype:of.Value,svalue:n(e.svalue)}:e,h9=(e,n)=>e.stype===of.Value?n(e.svalue):e,b9=(e,n)=>e.stype===of.Error?n(e.serror):e,AB=e=>({stype:of.Value,svalue:e}),OB=e=>({stype:of.Error,serror:e}),qa={fromResult:e=>e.fold(OB,AB),toResult:e=>k5(e,yc.error,yc.value),svalue:AB,partition:m9,serror:OB,bind:h9,bindError:b9,map:g9,mapError:p9,fold:k5},_5=e=>Ut(e)&&ts(e).length>100?" removed due to size":JSON.stringify(e,null,2),DB=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:Ye("... (only showing first ten failures)")}]):e;return Pt(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},c_=(e,n)=>qa.serror([{path:e,getErrorInfo:n}]),RB=(e,n,o)=>c_(e,()=>'Could not find valid *required* value for "'+n+'" in '+_5(o)),y9=(e,n)=>c_(e,()=>'Choice schema did not contain choice key: "'+n+'"'),v9=(e,n,o)=>c_(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+_5(n)),w9=(e,n)=>c_(e,Ye(n)),k9=(e,n,o,r)=>Ho(o,r).fold(()=>v9(e,o,r),u=>u.extract(e.concat(["branch: "+r]),n)),MB=(e,n)=>({extract:(c,u)=>Ho(u,e).fold(()=>y9(c,e),b=>k9(c,u,n,b)),toString:()=>"chooseOn("+e+"). Possible values: "+ts(n)}),_9=(e,n)=>n,BB=(e,n)=>St(e)&&St(n)?i_(e,n):n,NB=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let r=0;r<n.length;r++){const c=n[r];for(const u in c)Qt(c,u)&&(o[u]=e(o[u],c[u]))}return o},i_=NB(BB),PB=NB(_9),$B=()=>({tag:"required",process:{}}),x9=e=>({tag:"defaultedThunk",process:e}),IB=e=>x9(Ye(e)),FB=()=>({tag:"option",process:{}}),C9=(e,n)=>e.length>0?qa.svalue(i_(n,PB.apply(void 0,e))):qa.svalue(n),LB=e=>E(qa.serror,Xc)(e),T9={consolidateObj:(e,n)=>{const o=qa.partition(e);return o.errors.length>0?LB(o.errors):C9(o.values,n)},consolidateArr:e=>{const n=qa.partition(e);return n.errors.length>0?LB(n.errors):qa.svalue(n.values)}},HB=(e,n,o,r)=>({tag:"field",key:e,newKey:n,presence:o,prop:r}),E9=(e,n)=>({tag:"custom",newKey:e,instantiator:n}),VB=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},x5=e=>{const n=(r,c)=>qa.bindError(e(c),u=>w9(r,u)),o=Ye("val");return{extract:n,toString:o}},jB=x5(qa.svalue),UB=(e,n,o,r)=>Ho(n,o).fold(()=>RB(e,o,n),r),WB=(e,n,o,r)=>{const c=Ho(e,n).getOrThunk(()=>o(e));return r(c)},z9=(e,n,o)=>o(Ho(e,n)),A9=(e,n,o,r)=>{const c=Ho(e,n).map(u=>u===!0?o(e):u);return r(c)},O9=(e,n,o,r,c)=>{const u=b=>c.extract(n.concat([r]),b),m=b=>b.fold(()=>qa.svalue(I.none()),v=>{const C=c.extract(n.concat([r]),v);return qa.map(C,I.some)});switch(e.tag){case"required":return UB(n,o,r,u);case"defaultedThunk":return WB(o,r,e.process,u);case"option":return z9(o,r,m);case"defaultedOptionThunk":return A9(o,r,e.process,m);case"mergeWithThunk":return WB(o,r,Ye({}),b=>{const v=i_(e.process(o),b);return u(v)})}},D9=(e,n,o)=>{const r={},c=[];for(const u of o)VB(u,(m,b,v,C)=>{const O=O9(v,e,n,m,C);qa.fold(O,D=>{c.push(...D)},D=>{r[b]=D})},(m,b)=>{r[m]=b(n)});return c.length>0?qa.serror(c):qa.svalue(r)},C5=e=>({extract:(r,c)=>D9(r,c,e),toString:()=>`obj{
`+Pt(e,c=>VB(c,(u,m,b,v)=>u+" -> "+v.toString(),(u,m)=>"state("+u+")")).join(`
`)+"}"}),ZB=e=>({extract:(r,c)=>{const u=Pt(c,(m,b)=>e.extract(r.concat(["["+b+"]"]),m));return T9.consolidateArr(u)},toString:()=>"array("+e.toString()+")"}),R9=e=>x5(n=>e(n).fold(qa.serror,qa.svalue)),Oq=(e,n,o)=>{const r=n.extract([e],o);return qa.mapError(r,c=>({input:o,errors:c}))},M9=(e,n,o)=>qa.toResult(Oq(e,n,o)),uS=e=>`Errors: 
`+DB(e.errors).join(`
`)+`

Input object: `+_5(e.input),S5=(e,n)=>MB(e,ho(n,C5)),qB=Ye(jB),dS=(e,n)=>x5(o=>{const r=typeof o;return e(o)?qa.svalue(o):qa.serror(`Expected type: ${n} but got: ${r}`)}),GB=dS(Qo,"number"),l_=dS(oe,"string"),B9=dS(tn,"boolean"),T5=dS(ce,"function"),u_=HB,E5=E9,N9=e=>R9(n=>Ke(e,n)?yc.value(n):yc.error(`Unsupported value: "${n}", choose one of "${e.join(", ")}".`)),fS=(e,n)=>u_(e,e,$B(),n),KB=e=>fS(e,l_),YB=e=>fS(e,T5),P9=(e,n)=>u_(e,e,$B(),ZB(n)),mS=(e,n)=>u_(e,e,FB(),n),pS=e=>mS(e,l_),$9=e=>mS(e,T5),I9=(e,n)=>u_(e,e,IB(n),qB()),Kv=(e,n,o)=>u_(e,e,IB(n),o),XB=(e,n)=>Kv(e,n,GB),Kr=(e,n)=>Kv(e,n,l_),sf=(e,n,o)=>Kv(e,n,N9(o)),z5=(e,n)=>Kv(e,n,B9),JB=(e,n)=>Kv(e,n,T5),F9=(e,n,o)=>Kv(e,n,ZB(o)),L9=KB("type"),H9=YB("fetch"),A5=YB("onAction"),QB=JB("onSetup",()=>Et),Yv=pS("text"),Dq=pS("icon"),V9=pS("tooltip"),j9=pS("label"),rf=z5("active",!1),U9=z5("enabled",!0),eN=z5("primary",!1),tN=e=>I9("columns",e),d_=e=>Kr("type",e),O5=C5([L9,KB("trigger"),XB("minChars",1),tN(1),XB("maxResults",10),$9("matches"),H9,A5,F9("highlightOn",[],l_)]),nN=e=>M9("Autocompleter",O5,{trigger:e.ch,...e}),D5=[U9,V9,Dq,Yv,QB],oN=[rf].concat(D5),W9=[JB("predicate",He),sf("scope","node",["node","editor"]),sf("position","selection",["node","selection","line"])],sN=D5.concat([d_("contextformbutton"),eN,A5,E5("original",wo)]),rN=oN.concat([d_("contextformbutton"),eN,A5,E5("original",wo)]),R5=D5.concat([d_("contextformbutton")]),M5=oN.concat([d_("contextformtogglebutton")]),B5=S5("type",{contextformbutton:sN,contextformtogglebutton:rN});C5([d_("contextform"),JB("initValue",Ye("")),j9,P9("commands",B5),mS("launch",S5("type",{contextformbutton:R5,contextformtogglebutton:M5}))].concat(W9));const Z9=e=>{const n=e.ui.registry.getAll().popups,o=ho(n,m=>nN(m).fold(b=>{throw new Error(uS(b))},wo)),r=df(Bi(o,m=>m.trigger)),c=Ni(o);return{dataset:o,triggers:r,lookupByTrigger:m=>Ie(c,b=>b.trigger===m)}},q9=(e,n)=>{const o=y1(n.load,50);e.on("keypress compositionend",r=>{r.which!==27&&o.throttle()}),e.on("keydown",r=>{const c=r.which;c===8?o.throttle():c===27&&n.cancelIfNecessary()}),e.on("remove",o.cancel)},G9=e=>{const n=Ff(),o=As(!1),r=n.isSet,c=()=>{r()&&(gF(e),Gw(e),o.set(!1),n.clear())},u=C=>{r()||(pF(e,C.range),n.set({trigger:C.trigger,matchLength:C.text.length}))},m=$i(()=>Z9(e)),b=C=>n.get().map(O=>ru(e.dom,e.selection.getRng(),O.trigger).bind(D=>zB(e,m,D,C))).getOrThunk(()=>a_(e,m)),v=C=>{b(C).fold(c,O=>{u(O.context),O.lookupData.then(D=>{n.get().map(N=>{const G=O.context;N.trigger===G.trigger&&(G.text.length-N.matchLength>=10?c():(n.set({...N,matchLength:G.text.length}),o.get()?d2(e,{lookupData:D}):(o.set(!0),qw(e,{lookupData:D}))))})})})};e.addCommand("mceAutocompleterReload",(C,O)=>{const D=Ut(O)?O.fetchOptions:{};v(D)}),e.addCommand("mceAutocompleterClose",c),q9(e,{cancelIfNecessary:c,load:v})},N5=fc().browser.isSafari(),P5=e=>hl(ee.fromDom(e)),aN=(e,n)=>{var o;return e.startOffset===0&&e.endOffset===((o=n.textContent)===null||o===void 0?void 0:o.length)},f_=(e,n)=>I.from(e.getParent(n.container(),"details")),cN=(e,n)=>f_(e,n).isSome(),$5=(e,n)=>{const o=I.from(e.getParent(n.startContainer,"details")),r=I.from(e.getParent(n.endContainer,"details"));if(o.isSome()||r.isSome()){const c=o.bind(u=>I.from(e.select("summary",u)[0]));return I.some({startSummary:c,startDetails:o,endDetails:r})}else return I.none()},K9=(e,n)=>ac(n).exists(o=>o.isEqual(e)),Y9=(e,n)=>xl(n).exists(o=>Mo(o.getNode())&&kc(n,o).exists(r=>r.isEqual(e))||o.isEqual(e)),X9=(e,n)=>n.startSummary.exists(o=>K9(e,o)),J9=(e,n)=>n.startSummary.exists(o=>Y9(e,o)),Q9=(e,n)=>n.startDetails.exists(o=>kc(o,e).forall(r=>n.startSummary.exists(c=>!c.contains(e.container())&&c.contains(r.container())))),iN=(e,n,o)=>o.startDetails.exists(r=>Ua(e,n).forall(c=>!r.contains(c.container()))),gS=(e,n)=>{const o=n.getNode();$n(o)||e.selection.setCursorLocation(o,n.offset())},I5=(e,n,o)=>{const r=e.dom.getParent(n.container(),"details");if(r&&!r.open){const c=e.dom.select("summary",r)[0];c&&(o?ac(c):xl(c)).each(m=>gS(e,m))}else gS(e,n)},lN=(e,n)=>{const o=v=>v.contains(e.startContainer),r=v=>v.contains(e.endContainer),c=n.startSummary.exists(o),u=n.startSummary.exists(r),m=n.startDetails.forall(v=>n.endDetails.forall(C=>v!==C));return(c||u)&&!(c&&u)||m},uN=(e,n,o)=>{const{dom:r,selection:c}=e,u=e.getBody();if(o==="character"){const m=_e.fromRangeStart(c.getRng()),b=r.getParent(m.container(),r.isBlock),v=f_(r,m),C=b&&r.isEmpty(b),O=Y(b==null?void 0:b.previousSibling),D=Y(b==null?void 0:b.nextSibling);return C&&(n?D:O)&&Ld(!n,u,m).exists(X=>cN(r,X)&&!ma(v,f_(r,X)))?!0:Ld(n,u,m).fold(He,N=>{const G=f_(r,N);if(cN(r,N)&&!ma(v,G)){if(n||I5(e,N,!1),b&&C){if(n&&O)return!0;if(!n&&D)return!0;I5(e,N,n),e.dom.remove(b)}return!0}else return!1})}else return!1},eV=(e,n,o,r)=>{const u=e.selection.getRng(),m=_e.fromRangeStart(u),b=e.getBody();return r==="selection"?lN(u,n):o?J9(m,n)||iN(b,m,n):X9(m,n)||Q9(m,n)},tV=(e,n,o)=>$5(e.dom,e.selection.getRng()).fold(()=>uN(e,n,o),r=>eV(e,r,n,o)||uN(e,n,o)),hS=(e,n,o)=>{const r=e.selection,c=r.getNode(),u=r.getRng(),m=_e.fromRangeStart(u);return nc(c)?(o==="selection"&&aN(u,c)||I2(n,m,c)?P5(c):e.undoManager.transact(()=>{const b=r.getSel();let{anchorNode:v,anchorOffset:C,focusNode:O,focusOffset:D}=b??{};const N=()=>{Re(v)&&Re(C)&&Re(O)&&Re(D)&&(b==null||b.setBaseAndExtent(v,C,O,D))},G=()=>{v=b==null?void 0:b.anchorNode,C=b==null?void 0:b.anchorOffset,O=b==null?void 0:b.focusNode,D=b==null?void 0:b.focusOffset},X=(J,le)=>{ve(J.childNodes,fe=>{Bb(fe)&&le.appendChild(fe)})},U=e.dom.create("span",{"data-mce-bogus":"1"});X(c,U),c.appendChild(U),N(),(o==="word"||o==="line")&&(b==null||b.modify("extend",n?"right":"left",o)),!r.isCollapsed()&&aN(r.getRng(),U)?P5(c):(e.execCommand(n?"ForwardDelete":"Delete"),G(),X(U,c),N()),e.dom.remove(U)}),!0):!1},uh=(e,n,o)=>tV(e,n,o)||N5&&hS(e,n,o)?I.some(Et):I.none(),F5=e=>(n,o,r={})=>{const c=n.getBody(),u={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:c,currentTarget:c,eventPhase:Event.AT_TARGET,originalTarget:c,explicitOriginalTarget:c,isTrusted:!1,srcElement:c,cancelable:!1,preventDefault:Et,inputType:o},m=ng(new InputEvent(e));return n.dispatch(e,{...m,...u,...r})},m_=F5("input"),bS=F5("beforeinput"),nV=fc(),oV=nV.os,sV=oV.isMacOS()||oV.isiOS(),Bq=nV.browser.isFirefox(),rV=(e,n,o)=>{const r=o.keyCode===zt.BACKSPACE?"deleteContentBackward":"deleteContentForward",c=e.selection.isCollapsed(),u=c?"character":"selection",m=b=>c?b?"word":"line":"selection";u5([{keyCode:zt.BACKSPACE,action:cn(K6,e)},{keyCode:zt.BACKSPACE,action:cn(jk,e,!1)},{keyCode:zt.DELETE,action:cn(jk,e,!0)},{keyCode:zt.BACKSPACE,action:cn(Dz,e,!1)},{keyCode:zt.DELETE,action:cn(Dz,e,!0)},{keyCode:zt.BACKSPACE,action:cn(JC,e,n,!1)},{keyCode:zt.DELETE,action:cn(JC,e,n,!0)},{keyCode:zt.BACKSPACE,action:cn(bk,e,!1)},{keyCode:zt.DELETE,action:cn(bk,e,!0)},{keyCode:zt.BACKSPACE,action:cn(uh,e,!1,u)},{keyCode:zt.DELETE,action:cn(uh,e,!0,u)},...sV?[{keyCode:zt.BACKSPACE,altKey:!0,action:cn(uh,e,!1,m(!0))},{keyCode:zt.DELETE,altKey:!0,action:cn(uh,e,!0,m(!0))},{keyCode:zt.BACKSPACE,metaKey:!0,action:cn(uh,e,!1,m(!1))}]:[{keyCode:zt.BACKSPACE,ctrlKey:!0,action:cn(uh,e,!1,m(!0))},{keyCode:zt.DELETE,ctrlKey:!0,action:cn(uh,e,!0,m(!0))}],{keyCode:zt.BACKSPACE,action:cn(Bz,e,!1)},{keyCode:zt.DELETE,action:cn(Bz,e,!0)},{keyCode:zt.BACKSPACE,action:cn(n5,e,!1)},{keyCode:zt.DELETE,action:cn(n5,e,!0)},{keyCode:zt.BACKSPACE,action:cn(HC,e,!1)},{keyCode:zt.DELETE,action:cn(HC,e,!0)},{keyCode:zt.BACKSPACE,action:cn(Az,e,!1)},{keyCode:zt.DELETE,action:cn(Az,e,!0)},{keyCode:zt.BACKSPACE,action:cn(e5,e,!1)},{keyCode:zt.DELETE,action:cn(e5,e,!0)}],o).filter(b=>e.selection.isEditable()).each(b=>{o.preventDefault(),bS(e,r).isDefaultPrevented()||(b(),m_(e,r))})},aV=(e,n,o)=>lh([{keyCode:zt.BACKSPACE,action:cn(u6,e)},{keyCode:zt.DELETE,action:cn(u6,e)},...sV?[{keyCode:zt.BACKSPACE,altKey:!0,action:cn(Kk,e)},{keyCode:zt.DELETE,altKey:!0,action:cn(Kk,e)},...o?[{keyCode:Bq?224:91,action:cn(Kk,e)}]:[]]:[{keyCode:zt.BACKSPACE,ctrlKey:!0,action:cn(Kk,e)},{keyCode:zt.DELETE,ctrlKey:!0,action:cn(Kk,e)}]],n),Nq=(e,n)=>{let o=!1;e.on("keydown",r=>{o=r.keyCode===zt.BACKSPACE,r.isDefaultPrevented()||rV(e,n,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||aV(e,r,o),o=!1})},cV=e=>{for(;e;){if(Dt(e)||Je(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},Cs=(e,n)=>{const o=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const u=cV(n.firstChild);u&&/^(UL|OL|DL)$/.test(u.nodeName)&&n.insertBefore(o.doc.createTextNode(uo),n.firstChild)}const c=o.createRng();if(n.normalize(),n.hasChildNodes()){const u=new qo(n,n);let m=n,b;for(;b=u.current();){if(Je(b)){c.setStart(b,0),c.setEnd(b,0);break}if(r[b.nodeName.toLowerCase()]){c.setStartBefore(b),c.setEndBefore(b);break}m=b,b=u.next()}b||(c.setStart(m,0),c.setEnd(m,0))}else Mo(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)):(c.setStart(n,0),c.setEnd(n,0));e.selection.setRng(c),Xb(e,c)},hy=(e,n)=>{const o=e.getRoot();let r,c=n;for(;c!==o&&c&&e.getContentEditable(c)!=="false";){if(e.getContentEditable(c)==="true"){r=c;break}c=c.parentNode}return c!==o?r:o},Yu=e=>I.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),dN=e=>Yu(e).fold(Ye(""),n=>n.nodeName.toUpperCase()),fN=e=>Yu(e).filter(n=>Nc(ee.fromDom(n))).isSome(),L5=e=>{e.innerHTML='<br data-mce-bogus="1">'},yS=(e,n,o)=>{const r=e.dom;I.from(o.style).map(r.parseStyle).each(v=>{const O={...Lm(ee.fromDom(n)),...v};r.setStyles(n,O)});const c=I.from(o.class).map(v=>v.split(/\s+/)),u=I.from(n.className).map(v=>Ie(v.split(/\s+/),C=>C!==""));ar(c,u,(v,C)=>{const O=Ie(C,N=>!Ke(v,N)),D=[...v,...O];r.setAttrib(n,"class",D.join(" "))});const m=["style","class"],b=ns(o,(v,C)=>!Ke(m,C));r.setAttribs(n,b)},by=(e,n)=>{if(Va(e).toLowerCase()===n.tagName.toLowerCase()){const r=bb(e);yS(e,n,r)}},H5=(e,n,o,r,c=!0,u,m)=>{const b=e.dom,v=e.schema,C=Va(e),O=o?o.nodeName.toUpperCase():"";let D=n;const N=v.getTextInlineElements();let G;u||O==="TABLE"||O==="HR"?G=b.create(u||C,m||{}):G=o.cloneNode(!1);let X=G;if(!c)b.setAttrib(G,"style",null),b.setAttrib(G,"class",null);else do if(N[D.nodeName]){if(bi(D)||yi(D))continue;const U=D.cloneNode(!1);b.setAttrib(U,"id",""),G.hasChildNodes()?(U.appendChild(G.firstChild),G.appendChild(U)):(X=U,G.appendChild(U))}while((D=D.parentNode)&&D!==r);return by(e,G),L5(X),G},mN=(e,n)=>e.dom.getParent(n,Le),iV=(e,n,o)=>{let r=n;for(;r&&r!==e&&Y(r.nextSibling);){const c=r.parentElement;if(!c||!o(c))return Le(c);r=c}return!1},lV=(e,n,o)=>!n&&o.nodeName.toLowerCase()===Va(e)&&e.dom.isEmpty(o)&&iV(e.getBody(),o,r=>Qt(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),uV=(e,n,o)=>{var r,c,u;const m=n(Va(e)),b=mN(e,o);b&&(e.dom.insertAfter(m,b),Cs(e,m),((u=(c=(r=o.parentElement)===null||r===void 0?void 0:r.childNodes)===null||c===void 0?void 0:c.length)!==null&&u!==void 0?u:0)>1&&e.dom.remove(o))},dV=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,fV=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},V5=(e,n)=>{const o=e==null?void 0:e.parentNode;return Re(o)&&o.nodeName===n},pN=e=>Re(e)&&/^(OL|UL|LI)$/.test(e.nodeName),j5=e=>Re(e)&&/^(LI|DT|DD)$/.test(e.nodeName),mV=e=>pN(e)&&pN(e.parentNode),vS=e=>{const n=e.parentNode;return j5(n)?n:e},wS=(e,n,o)=>{let r=e[o?"firstChild":"lastChild"];for(;r&&!Dt(r);)r=r[o?"nextSibling":"previousSibling"];return r===n},U5=e=>nn(Bi(Lm(ee.fromDom(e)),(n,o)=>`${o}: ${n};`),(n,o)=>n+o,""),gN=(e,n,o,r,c)=>{const u=e.dom,m=e.selection.getRng(),b=o.parentNode;if(o===e.getBody()||!b)return;mV(o)&&(c="LI");const v=j5(r)?U5(r):void 0;let C=j5(r)&&v?n(c,{style:U5(r)}):n(c);if(wS(o,r,!0)&&wS(o,r,!1))if(V5(o,"LI")){const O=vS(o);u.insertAfter(C,O),fV(o)?u.remove(O):u.remove(o)}else u.replace(C,o);else if(wS(o,r,!0))V5(o,"LI")?(u.insertAfter(C,vS(o)),C.appendChild(u.doc.createTextNode(" ")),C.appendChild(o)):b.insertBefore(C,o),u.remove(r);else if(wS(o,r,!1))u.insertAfter(C,vS(o)),u.remove(r);else{o=vS(o);const O=m.cloneRange();O.setStartAfter(r),O.setEndAfter(o);const D=O.extractContents();if(c==="LI"&&dV(D,"LI")){const N=Ie(Pt(C.children,ee.fromDom),Po(ri("br")));C=D.firstChild,u.insertAfter(D,o),ve(N,G=>bd(ee.fromDom(C),G)),v&&C.setAttribute("style",v)}else u.insertAfter(D,o),u.insertAfter(C,o);u.remove(r)}Cs(e,C)},pV=e=>{ve(Zh(ee.fromDom(e),Ur),n=>{const o=n.dom;o.nodeValue=$(o.data)})},gV=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},Pq=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),p_=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,W5=(e,n)=>Re(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",hV=(e,n,o)=>{var r;const c=[];if(!o)return;let u=o;for(;u=u.firstChild;){if(e.isBlock(u))return;Dt(u)&&!n[u.nodeName.toLowerCase()]&&c.push(u)}let m=c.length;for(;m--;)u=c[m],(!u.hasChildNodes()||u.firstChild===u.lastChild&&((r=u.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||Pq(e,u))&&e.remove(u)},Z5=(e,n,o)=>Je(n)?e?o===1&&n.data.charAt(o-1)===k?0:o:o===n.data.length-1&&n.data.charAt(o)===k?n.data.length:o:o,hN=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,Z5(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,Z5(!1,e.endContainer,e.endOffset)),n},bV=e=>{let n=e;do Je(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},bN=(e,n,o,r,c)=>{var u,m;const b=e.dom,v=(u=hy(b,r))!==null&&u!==void 0?u:b.getRoot();let C=b.getParent(r,b.isBlock);if(!C||!W5(b,C)){if(C=C||v,!C.hasChildNodes()){const G=b.create(n);return by(e,G),C.appendChild(G),o.setStart(G,0),o.setEnd(G,0),G}let O=r;for(;O&&O.parentNode!==C;)O=O.parentNode;let D;for(;O&&!b.isBlock(O);)D=O,O=O.previousSibling;const N=(m=D==null?void 0:D.parentElement)===null||m===void 0?void 0:m.nodeName;if(D&&N&&e.schema.isValidChild(N,n.toLowerCase())){const G=D.parentNode,X=b.create(n);for(by(e,X),G.insertBefore(X,D),O=D;O&&!b.isBlock(O);){const U=O.nextSibling;X.appendChild(O),O=U}o.setStart(r,c),o.setEnd(r,c)}}return r},yV=(e,n)=>{n.normalize();const o=n.lastChild;(!o||Dt(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},vV=(e,n)=>{const o=vx(e);return yn(n)?!1:oe(o)?Ke(Xe.explode(o),n.nodeName.toLowerCase()):o},yN={insert:(e,n)=>{let o,r,c,u,m=!1;const b=e.dom,v=e.schema,C=v.getNonEmptyElements(),O=e.selection.getRng(),D=Va(e),N=ee.fromDom(O.startContainer),G=yu(N,O.startOffset),X=G.exists(je=>_s(je)&&!xn(je)),U=O.collapsed&&X,J=(je,Rt)=>H5(e,o,at,We,tE(e),je,Rt),le=je=>{const Rt=Z5(je,o,r);if(Je(o)&&(je?Rt>0:Rt<o.data.length))return!1;if(o.parentNode===at&&m&&!je||je&&Dt(o)&&o===at.firstChild)return!0;if(p_(o,"TABLE")||p_(o,"HR"))return m&&!je||!m&&je;const Wt=new qo(o,at);Je(o)&&(je&&Rt===0?Wt.prev():!je&&Rt===o.data.length&&Wt.next());let Rn;for(;Rn=Wt.current();){if(Dt(Rn)){if(!Rn.getAttribute("data-mce-bogus")){const zn=Rn.nodeName.toLowerCase();if(C[zn]&&zn!=="br")return!1}}else if(Je(Rn)&&!Df(Rn.data))return!1;je?Wt.prev():Wt.next()}return!0},fe=()=>{let je;return/^(H[1-6]|PRE|FIGURE)$/.test(c)&&kt!=="HGROUP"?je=J(D):je=J(),vV(e,u)&&W5(b,u)&&b.isEmpty(at,void 0,{includeZwsp:!0})?je=b.split(u,at):b.insertAfter(je,at),Cs(e,je),je};x(b,O).each(je=>{O.setStart(je.startContainer,je.startOffset),O.setEnd(je.endContainer,je.endOffset)}),o=O.startContainer,r=O.startOffset;const de=!!(n&&n.shiftKey),we=!!(n&&n.ctrlKey);Dt(o)&&o.hasChildNodes()&&!U&&(m=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,m&&Je(o)?r=o.data.length:r=0);const We=hy(b,o);if(!We||gV(e,o))return;de||(o=bN(e,D,O,o,r));let at=b.getParent(o,b.isBlock)||b.getRoot();u=Re(at==null?void 0:at.parentNode)?b.getParent(at.parentNode,b.isBlock):null,c=at?at.nodeName.toUpperCase():"";const kt=u?u.nodeName.toUpperCase():"";if(kt==="LI"&&!we){const je=u;at=je,u=je.parentNode,c=kt}if(Dt(u)&&lV(e,de,at))return uV(e,J,at);if(/^(LI|DT|DD)$/.test(c)&&Dt(u)&&b.isEmpty(at)){gN(e,J,u,at,D);return}if(!U&&(at===e.getBody()||!W5(b,at)))return;const Ae=at.parentNode;let Se;if(U)Se=J(D),G.fold(()=>{tr(N,ee.fromDom(Se))},je=>{gr(je,ee.fromDom(Se))}),e.selection.setCursorLocation(Se,0);else if(nt(at))Se=Zi(at),b.isEmpty(at)&&L5(at),by(e,Se),Cs(e,Se);else if(le(!1))Se=fe();else if(le(!0)&&Ae){Se=Ae.insertBefore(J(),at);const je=Rh(ee.fromDom(O.startContainer))&&O.collapsed;Cs(e,p_(at,"HR")||je?Se:at)}else{const je=hN(O).cloneRange();je.setEndAfter(at);const Rt=je.extractContents();pV(Rt),bV(Rt),Se=Rt.firstChild,b.insertAfter(Rt,at),hV(b,C,Se),yV(b,at),b.isEmpty(at)&&L5(at),Se.normalize(),b.isEmpty(Se)?(b.remove(Se),fe()):(by(e,Se),Cs(e,Se))}b.setAttrib(Se,"id",""),e.dispatch("NewBlock",{newBlock:Se})},fakeEventName:"insertParagraph"},wV=(e,n,o)=>{const r=new qo(n,o);let c;const u=e.getNonEmptyElements();for(;c=r.next();)if(u[c.nodeName.toLowerCase()]||Je(c)&&c.length>0)return!0;return!1},vN=(e,n,o)=>{const r=e.dom.createRng();o?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),e.selection.setRng(r),Xb(e,r)},kV=(e,n)=>{const o=e.selection,r=e.dom,c=o.getRng();let u,m=!1;x(r,c).each(G=>{c.setStart(G.startContainer,G.startOffset),c.setEnd(G.endContainer,G.endOffset)});let b=c.startOffset,v=c.startContainer;if(Dt(v)&&v.hasChildNodes()){const G=b>v.childNodes.length-1;v=v.childNodes[Math.min(b,v.childNodes.length-1)]||v,G&&Je(v)?b=v.data.length:b=0}let C=r.getParent(v,r.isBlock);const O=C&&C.parentNode?r.getParent(C.parentNode,r.isBlock):null,D=O?O.nodeName.toUpperCase():"",N=!!(n&&n.ctrlKey);D==="LI"&&!N&&(C=O),Je(v)&&b>=v.data.length&&(wV(e.schema,v,C||r.getRoot())||(u=r.create("br"),c.insertNode(u),c.setStartAfter(u),c.setEndAfter(u),m=!0)),u=r.create("br"),j0(r,c,u),vN(e,u,m),e.undoManager.add()},_V=(e,n)=>{const o=ee.fromTag("br");gr(ee.fromDom(n),o),e.undoManager.add()},xV=(e,n)=>{kS(e.getBody(),n)||Hi(ee.fromDom(n),ee.fromTag("br"));const o=ee.fromTag("br");Hi(ee.fromDom(n),o),vN(e,o.dom,!1),e.undoManager.add()},CV=e=>Mo(e.getNode()),kS=(e,n)=>CV(_e.after(n))?!0:Ua(e,_e.after(n)).map(o=>Mo(o.getNode())).getOr(!1),wN=e=>e&&e.nodeName==="A"&&"href"in e,SV=e=>e.fold(He,wN,wN,He),q5=e=>{const n=Ue(ny,e),o=_e.fromRangeStart(e.selection.getRng());return Sa(n,e.getBody(),o).filter(SV)},G5=(e,n)=>{n.fold(Et,Ue(_V,e),Ue(xV,e),Et)},TV={insert:(e,n)=>{const o=q5(e);o.isSome()?o.each(Ue(G5,e)):kV(e,n)},fakeEventName:"insertLineBreak"},EV=(e,n)=>Yu(e).filter(o=>n.length>0&&ii(ee.fromDom(o),n)).isSome(),zV=e=>EV(e,eE(e)),AV=e=>EV(e,ow(e)),au=ql.generate([{br:[]},{block:[]},{none:[]}]),OV=(e,n)=>AV(e),Xu=e=>(n,o)=>fN(n)===e,kN=(e,n)=>(o,r)=>dN(o)===e.toUpperCase()===n,_N=e=>{const n=hy(e.dom,e.selection.getStart());return yn(n)},g_=e=>kN("pre",e),DV=()=>kN("summary",!0),_S=e=>(n,o)=>JT(n)===e,RV=(e,n)=>zV(e),xS=(e,n)=>n,MV=e=>{const n=Va(e),o=hy(e.dom,e.selection.getStart());return Re(o)&&e.schema.isValidChild(o.nodeName,n)},BV=e=>{const n=e.selection.getRng(),o=ee.fromDom(n.startContainer),c=yu(o,n.startOffset).map(u=>_s(u)&&!xn(u));return n.collapsed&&c.getOr(!0)},Qi=(e,n)=>(o,r)=>nn(e,(u,m)=>u&&m(o,r),!0)?I.some(n):I.none(),xN=(e,n)=>g6([Qi([OV],au.none()),Qi([g_(!0),_N],au.none()),Qi([DV()],au.br()),Qi([g_(!0),_S(!1),xS],au.br()),Qi([g_(!0),_S(!1)],au.block()),Qi([g_(!0),_S(!0),xS],au.block()),Qi([g_(!0),_S(!0)],au.br()),Qi([Xu(!0),xS],au.br()),Qi([Xu(!0)],au.block()),Qi([RV],au.br()),Qi([xS],au.br()),Qi([MV],au.block()),Qi([BV],au.block())],[e,!!(n&&n.shiftKey)]).getOr(au.none()),yy=(e,n,o)=>{n.selection.isCollapsed()||D4(n),!(Re(o)&&bS(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),Re(o)&&m_(n,e.fakeEventName))},CN=(e,n)=>{const o=()=>yy(TV,e,n),r=()=>yy(yN,e,n),c=xN(e,n);switch(QT(e)){case"linebreak":c.fold(o,o,Et);break;case"block":c.fold(r,r,Et);break;case"invert":c.fold(r,o,Et);break;default:c.fold(o,r,Et);break}},SN=fc(),NV=SN.os.isiOS()&&SN.browser.isSafari(),TN=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),WI(e.undoManager),e.undoManager.transact(()=>{CN(e,n)}))},PV=e=>{if(!e.collapsed)return!1;const n=e.startContainer;if(Je(n)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=n.data.charAt(e.startOffset-1);return o.test(r)}else return!1},EN=e=>{let n=I.none();const o=c=>{n=I.some(c.selection.getBookmark()),c.undoManager.add()},r=(c,u)=>{c.undoManager.undo(),n.fold(Et,m=>c.selection.moveToBookmark(m)),TN(c,u),n=I.none()};e.on("keydown",c=>{c.keyCode===zt.ENTER&&(NV&&PV(e.selection.getRng())?o(e):TN(e,c))}),e.on("keyup",c=>{c.keyCode===zt.ENTER&&n.each(()=>r(e,c))})},$V=(e,n,o)=>{const r=_t.os.isMacOS()||_t.os.isiOS();lh([{keyCode:zt.END,action:cn(nS,e,!0)},{keyCode:zt.HOME,action:cn(nS,e,!1)},...r?[]:[{keyCode:zt.HOME,action:cn(oS,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:zt.END,action:cn(oS,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:zt.END,action:cn(dB,e,!0)},{keyCode:zt.HOME,action:cn(dB,e,!1)},{keyCode:zt.END,action:cn(XC,e,!0,n)},{keyCode:zt.HOME,action:cn(XC,e,!1,n)}],o).each(c=>{o.preventDefault()})},zN=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||$V(e,n,o)})},AN=e=>{e.on("input",n=>{n.isComposing||r$(e)})},IV=fc(),FV=(e,n,o)=>{lh([{keyCode:zt.PAGE_UP,action:cn(XC,e,!1,n)},{keyCode:zt.PAGE_DOWN,action:cn(XC,e,!0,n)}],o)},CS=e=>e.stopImmediatePropagation(),ON=e=>e.keyCode===zt.PAGE_UP||e.keyCode===zt.PAGE_DOWN,DN=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",CS,!0):!o&&e.get()&&n.off("NodeChange",CS),e.set(o)},SS=(e,n)=>{if(IV.os.isMacOS())return;const o=As(!1);e.on("keydown",r=>{ON(r)&&DN(o,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||FV(e,n,r),ON(r)&&o.get()&&(DN(o,e,!1),e.nodeChanged())})},LV=e=>{e.on("beforeinput",n=>{(!e.selection.isEditable()||hn(n.getTargetRanges(),o=>!BO(e.dom,o)))&&n.preventDefault()})},TS=(e,n)=>{const o=n.container(),r=n.offset();return Je(o)?(o.insertData(r,e),I.some(_e(o,r+e.length))):V1(n).map(c=>{const u=ee.fromText(e);return n.isAtEnd()?Hi(c,u):gr(c,u),_e(u.dom,e.length)})},ES=Ue(TS,uo),K5=Ue(TS," "),HV=(e,n,o)=>dD(e,n,o)?ES(n):K5(n),Iq=e=>n=>n.fold(o=>kc(e.dom,_e.before(o)),o=>ac(o),o=>xl(o),o=>Ua(e.dom,_e.after(o))),dh=(e,n,o)=>r=>dD(e,r,o)?ES(n):K5(n),RN=e=>n=>{e.selection.setRng(n.toRange()),e.nodeChanged()},VV=(e,n)=>e.isEditable(e.getParent(n,"summary")),jV=e=>{const n=_e.fromRangeStart(e.selection.getRng()),o=ee.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=Ue(ny,e),c=_e.fromRangeStart(e.selection.getRng());return Sa(r,e.getBody(),c).bind(Iq(o)).map(u=>()=>dh(o,n,e.schema)(u).each(RN(e)))}else return I.none()},zS=e=>{const n=()=>{const o=ee.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const r=_e.fromRangeStart(e.selection.getRng());HV(o,r,e.schema).each(RN(e))};return no(_t.browser.isFirefox()&&e.selection.isEditable()&&VV(e.dom,e.selection.getRng().startContainer),n)},MN=(e,n)=>{u5([{keyCode:zt.SPACEBAR,action:cn(jV,e)},{keyCode:zt.SPACEBAR,action:cn(zS,e)}],n).each(o=>{n.preventDefault(),bS(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),m_(e,"insertText",{data:" "}))})},BN=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||MN(e,n)})},UV=e=>EE(e)?[{keyCode:zt.TAB,action:cn(Pr,e,!0)},{keyCode:zt.TAB,shiftKey:!0,action:cn(Pr,e,!1)}]:[],NN=(e,n)=>{lh([...UV(e)],n).each(o=>{n.preventDefault()})},WV=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||NN(e,n)})},ZV=e=>{if(e.addShortcut("Meta+P","","mcePrint"),G9(e),Tp(e))return As(null);{const n=cH(e);return LV(e),_q(e),u9(e,n),Nq(e,n),EN(e),BN(e),AN(e),WV(e),zN(e,n),SS(e,n),n}};class qV{constructor(n){this.lastPath=[],this.editor=n;let o;const r=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",c=>{const u=n.selection.getRng(),m={startContainer:u.startContainer,startOffset:u.startOffset,endContainer:u.endContainer,endOffset:u.endOffset};(c.type==="nodechange"||!Gd(m,o))&&n.dispatch("SelectionChange"),o=m}),n.on("contextmenu",()=>{n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const c=n.selection.getStart(!0);c&&X1(n)&&!r.isSameElementPath(c)&&n.dom.isChildOf(c,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",c=>{!c.isDefaultPrevented()&&X1(n)&&(n.selection.getNode().nodeName==="IMG"?Tl.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor.selection;let r;if(this.editor.initialized&&o&&!B1(this.editor)&&!this.editor.mode.isReadOnly()){const c=this.editor.getBody();r=o.getStart(!0)||c,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,c))&&(r=c);const u=[];this.editor.dom.getParent(r,m=>m===c?!0:(u.push(m),!1)),this.editor.dispatch("NodeChange",{...n,element:r,parents:u})}}isSameElementPath(n){let o;const r=this.editor,c=ko(r.dom.getParents(n,ut,r.getBody()));if(c.length===this.lastPath.length){for(o=c.length;o>=0&&c[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=c,!0}return this.lastPath=c,!1}}const Y5=op("image"),X5=e=>{const n=e;return I.from(n[Y5])},GV=(e,n)=>{const o=e;o[Y5]=n},h_=op("event"),PN=e=>{const n=e;return I.from(n[h_])},vy=e=>n=>{const o=n;o[h_]=e},$N=(e,n)=>vy(n)(e),J5=vy(0),KV=vy(2),YV=vy(1),IN=(e=>n=>{const o=n;return I.from(o[h_]).exists(r=>r===e)})(0),XV=()=>Object.freeze({length:0,item:e=>null}),eA=op("mode"),FN=e=>{const n=e;return I.from(n[eA])},AS=e=>n=>{const o=n;o[eA]=e},LN=(e,n)=>AS(n)(e),HN=AS(0),tA=AS(2),JV=AS(1),nA=e=>n=>{const o=n;return I.from(o[eA]).exists(r=>r===e)},Xv=nA(0),oA=nA(1),QV=(e,n)=>({...n,get length(){return n.length},add:(o,r)=>{if(Xv(e))if(oe(o)){if(!$n(r))return n.add(o,r)}else return n.add(o);return null},remove:o=>{Xv(e)&&n.remove(o)},clear:()=>{Xv(e)&&n.clear()}}),ej=["none","copy","link","move"],tj=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],sA=()=>{const e=new window.DataTransfer;let n="move",o="all";const r={get dropEffect(){return n},set dropEffect(c){Ke(ej,c)&&(n=c)},get effectAllowed(){return o},set effectAllowed(c){IN(r)&&Ke(tj,c)&&(o=c)},get items(){return QV(r,e.items)},get files(){return oA(r)?XV():e.files},get types(){return e.types},setDragImage:(c,u,m)=>{Xv(r)&&(GV(r,{image:c,x:u,y:m}),e.setDragImage(c,u,m))},getData:c=>oA(r)?"":e.getData(c),setData:(c,u)=>{Xv(r)&&e.setData(c,u)},clearData:c=>{Xv(r)&&e.clearData(c)}};return HN(r),r},nj=e=>{const n=sA(),o=FN(e);return tA(e),J5(n),n.dropEffect=e.dropEffect,n.effectAllowed=e.effectAllowed,X5(e).each(r=>n.setDragImage(r.image,r.x,r.y)),ve(e.types,r=>{r!=="Files"&&n.setData(r,e.getData(r))}),ve(e.files,r=>n.items.add(r)),PN(e).each(r=>{$N(n,r)}),o.each(r=>{LN(e,r),LN(n,r)}),n},Jv=e=>{const n=e.getData("text/html");return n===""?I.none():I.some(n)},VN=(e,n)=>e.setData("text/html",n),jN="x-tinymce/html",b_=Ye(jN),rA="<!-- "+jN+" -->",oj=e=>rA+e,sj=e=>e.replace(rA,""),aA=e=>e.indexOf(rA)!==-1,rj=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),aj=(e,n)=>{let o="<"+e;const r=Bi(n,(c,u)=>u+'="'+Pf.encodeAllRaw(c)+'"');return r.length&&(o+=" "+r.join(" ")),o+">"},Fq=(e,n,o)=>{const r=e.split(/\n\n/),c=aj(n,o),u="</"+n+">",m=Pt(r,v=>v.split(/\n/).join("<br />")),b=v=>c+v+u;return m.length===1?m[0]:Pt(m,b).join("")},y_="%MCEPASTEBIN%",cj=(e,n)=>{const{dom:o,selection:r}=e,c=e.getBody();n.set(r.getRng());const u=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},y_);_t.browser.isFirefox()&&o.setStyle(u,"left",o.getStyle(c,"direction",!0)==="rtl"?65535:-65535),o.bind(u,"beforedeactivate focusin focusout",m=>{m.stopPropagation()}),u.focus(),r.select(u,!0)},ij=(e,n)=>{const o=e.dom;if(cA(e)){let r;const c=n.get();for(;r=cA(e);)o.remove(r),o.unbind(r);c&&e.selection.setRng(c)}n.set(null)},cA=e=>e.dom.get("mcepastebin"),lj=e=>Re(e)&&e.id==="mcepastebin",uj=e=>{const n=e.dom,o=(m,b)=>{m.appendChild(b),n.remove(b,!0)},[r,...c]=Ie(e.getBody().childNodes,lj);ve(c,m=>{o(r,m)});const u=n.select("div[id=mcepastebin]",r);for(let m=u.length-1;m>=0;m--){const b=n.create("div");r.insertBefore(b,u[m]),o(b,u[m])}return r?r.innerHTML:""},UN=e=>e===y_,dj=e=>{const n=As(null);return{create:()=>cj(e,n),remove:()=>ij(e,n),getEl:()=>cA(e),getHtml:()=>uj(e),getLastRng:n.get}},WN=(e,n)=>(Xe.each(n,o=>{Ao(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),fj=e=>{const n=Rd(),o=Wu({},n);let r="";const c=n.getVoidElements(),u=Xe.makeMap("script noscript style textarea video audio iframe object"," "),m=n.getBlockElements(),b=v=>{const C=v.name,O=v;if(C==="br"){r+=`
`;return}if(C!=="wbr"){if(c[C]&&(r+=" "),u[C]){r+=" ";return}if(v.type===3&&(r+=v.value),!(v.name in n.getVoidElements())){let D=v.firstChild;if(D)do b(D);while(D=D.next)}m[C]&&O.next&&(r+=`
`,C==="p"&&(r+=`
`))}};return e=WN(e,[/<!\[[^\]]+\]>/g]),b(o.parse(e)),r},ZN=e=>(e=WN(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,c)=>!r&&!c?" ":uo],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),mj=e=>{let n=0;return()=>e+n++},pj=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Xe.hasOwn(o,n)?"image/"+o[n]:"image/"+n},gj=(e,n)=>{const o=Wu({sanitize:Cg(e),sandbox_iframes:F1(e)},e.schema);o.addNodeFilter("meta",c=>{Xe.each(c,u=>{u.remove()})});const r=o.parse(n,{forced_root_block:!1,isRootContent:!0});return Gg({validate:!0},e.schema).serialize(r)},Yo=(e,n)=>({content:e,cancelled:n}),hj=(e,n,o)=>{const r=e.dom.create("div",{style:"display:none"},n),c=JE(e,r,o);return Yo(c.node.innerHTML,c.isDefaultPrevented())},qN=(e,n,o)=>{const r=XE(e,n,o),c=gj(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?hj(e,c,o):Yo(c,r.isDefaultPrevented())},bj=(e,n,o)=>qN(e,n,o),v_=(e,n)=>(e.insertContent(n,{merge:pw(e),paste:!0}),!0),OS=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),yj=(e,n)=>OS(n)&&hn(Nx(e),o=>Fi(n.toLowerCase(),`.${o.toLowerCase()}`)),vj=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),GN=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),iA=(e,n,o)=>!e.selection.isCollapsed()&&OS(n)?GN(e,n,o):!1,wj=(e,n,o)=>yj(e,n)?vj(e,n,o):!1,kj=(e,n)=>{Xe.each([iA,wj,v_],o=>!o(e,n,v_))},_j=(e,n,o)=>{o||!Mx(e)?v_(e,n):kj(e,n)},KN=mj("mceclip"),xj=e=>{const n=sA();return VN(n,e),tA(n),n},YN=(e,n,o,r,c)=>{const u=bj(e,n,o);if(!u.cancelled){const m=u.content,b=()=>_j(e,m,r);c?bS(e,"insertFromPaste",{dataTransfer:xj(m)}).isDefaultPrevented()||(b(),m_(e,"insertFromPaste")):b()}},Dp=(e,n,o,r)=>{const c=o||aA(n);YN(e,sj(n),c,!1,r)},lA=(e,n,o)=>{const r=e.dom.encode(n).replace(/\r\n/g,`
`),c=Ym(r,vE(e)),u=Fq(c,Va(e),bb(e));YN(e,u,!1,!0,o)},wy=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{n[r]=e.getData(r)}catch{n[r]=""}}return n},Ju=(e,n)=>n in e&&e[n].length>0,XN=e=>Ju(e,"text/html")||Ju(e,"text/plain"),Cj=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Re(o)?e.dom.encode(o[1]):void 0},Qv=(e,n,o,r)=>{const c=KN(),u=yb(e)&&Re(o.name),m=u?Cj(e,o.name):c,b=u?o.name:void 0,v=n.create(c,o,r,m,b);return n.add(v),v},Sj=(e,n)=>{uC(n.uri).each(({data:o,type:r,base64Encoded:c})=>{const u=c?o:btoa(o),m=n.file,b=e.editorUpload.blobCache,v=b.getByData(u,r),C=v??Qv(e,b,m,u);Dp(e,`<img src="${C.blobUri()}">`,!1,!0)})},uA=e=>e.type==="paste",Tj=e=>Promise.all(Pt(e,n=>lI(n).then(o=>({file:n,uri:o})))),JN=e=>{const n=Nx(e);return o=>Es(o.type,"image/")&&hn(n,r=>pj(r)===o.type)},QN=(e,n)=>{const o=n.items?cs(js(n.items),c=>c.kind==="file"?[c.getAsFile()]:[]):[],r=n.files?js(n.files):[];return Ie(o.length>0?o:r,JN(e))},DS=(e,n,o)=>{const r=uA(n)?n.clipboardData:n.dataTransfer;if(P1(e)&&r){const c=QN(e,r);if(c.length>0)return n.preventDefault(),Tj(c).then(u=>{o&&e.selection.setRng(o),ve(u,m=>{Sj(e,m)})}),!0}return!1},e8=e=>{var n,o;return _t.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},Ej=e=>zt.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,dA=(e,n,o,r,c)=>{let u=ZN(o);const m=Ju(n,b_())||aA(o),b=!m&&rj(u),v=OS(u);(UN(u)||!u.length||b&&!v)&&(r=!0),(r||v)&&(Ju(n,"text/plain")&&b?u=n["text/plain"]:u=fj(u)),!UN(u)&&(r?lA(e,u,c):Dp(e,u,m,c))},t8=(e,n,o)=>{let r;const c=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",u=>{Ej(u)&&!u.isDefaultPrevented()&&(r=u.shiftKey&&u.keyCode===86)}),e.on("paste",u=>{if(u.isDefaultPrevented()||e8(u))return;const m=o.get()==="text"||r;r=!1;const b=wy(u.clipboardData);!XN(b)&&DS(e,u,c())||(Ju(b,"text/html")?(u.preventDefault(),dA(e,b,b["text/html"],m,!0)):Ju(b,"text/plain")&&Ju(b,"text/uri-list")?(u.preventDefault(),dA(e,b,b["text/plain"],m,!0)):(n.create(),Tl.setEditorTimeout(e,()=>{const v=n.getHtml();n.remove(),dA(e,b,v,m,!1)},0)))})},zj=e=>{const n=c=>Es(c,"webkit-fake-url"),o=c=>Es(c,"data:"),r=c=>{var u;return((u=c.data)===null||u===void 0?void 0:u.paste)===!0};e.parser.addNodeFilter("img",(c,u,m)=>{if(!P1(e)&&r(m))for(const b of c){const v=b.attr("src");oe(v)&&!b.attr("data-mce-object")&&v!==_t.transparentSrc&&(n(v)||!$1(e)&&o(v))&&b.remove()}})},n8=(e,n,o)=>{t8(e,n,o),zj(e)},fA=(e,n)=>{n.get()==="text"?(n.set("html"),f2(e,!1)):(n.set("text"),f2(e,!0)),e.focus()},o8=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{fA(e,n)}),e.addCommand("mceInsertClipboardContent",(o,r)=>{r.html&&Dp(e,r.html,r.internal,!1),r.text&&lA(e,r.text,!1)})},Aj=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(b_(),n),!0}catch{return!1}else return!1},s8=(e,n,o,r)=>{Aj(e.clipboardData,n.html,n.text)?(e.preventDefault(),r()):o(n.html,r)},r8=e=>(n,o)=>{const{dom:r,selection:c}=e,u=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),m=r.create("div",{contenteditable:"true"},n);r.setStyles(u,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),u.appendChild(m),r.add(e.getBody(),u);const b=c.getRng();m.focus();const v=r.createRng();v.selectNodeContents(m),c.setRng(v),Tl.setEditorTimeout(e,()=>{c.setRng(b),r.remove(u),o()},0)},mA=e=>({html:oj(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),pA=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),a8=e=>!e.selection.isCollapsed()||pA(e),c8=e=>n=>{!n.isDefaultPrevented()&&a8(e)&&e.selection.isEditable()&&s8(n,mA(e),r8(e),()=>{if(_t.browser.isChromium()||_t.browser.isFirefox()){const o=e.selection.getRng();Tl.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},i8=e=>n=>{!n.isDefaultPrevented()&&a8(e)&&s8(n,mA(e),r8(e),Et)},Oj=e=>{e.on("cut",c8(e)),e.on("copy",i8(e))},gA=(e,n)=>{var o,r;return H.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(r=n.clientY)!==null&&r!==void 0?r:0,e.getDoc())},Dj=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},l8=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},Rj=e=>hn(e.files,n=>/^image\//.test(n.type)),Mj=(e,n,o,r)=>{const c=e.getParent(o,m=>Gn(n,m));if(!Y(e.getParent(o,"summary")))return!0;if(c&&Qt(r,"text/html")){const m=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!Y(m.querySelector(c.nodeName.toLowerCase()))}else return!1},Bj=e=>{e.on("input",n=>{const o=r=>Y(r.querySelector("summary"));if(n.inputType==="deleteByDrag"){const r=Ie(e.dom.select("details"),o);ve(r,c=>{Mo(c.firstChild)&&c.firstChild.remove();const u=e.dom.create("summary");u.appendChild(Ia().dom),c.prepend(u)})}})},RS=(e,n)=>{bE(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),P1(e)||e.on("drop",o=>{const r=o.dataTransfer;r&&Rj(r)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const r=gA(e,o);if(yn(r))return;const c=wy(o.dataTransfer),u=Ju(c,b_());if((!XN(c)||Dj(c))&&DS(e,o,r))return;const m=c[b_()],b=m||c["text/html"]||c["text/plain"],v=Mj(e.dom,e.schema,r.startContainer,c),C=n.get();C&&!v||b&&(o.preventDefault(),Tl.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(m||C&&v)&&e.execCommand("Delete"),l8(e,r);const O=ZN(b);c["text/html"]?Dp(e,O,u,!0):lA(e,O,!0)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{P1(e)&&!n.get()&&(o.preventDefault(),l8(e,gA(e,o))),o.type==="dragend"&&n.set(!1)}),Bj(e)},Nj=e=>{const n=c=>u=>{c(e,u)},o=yE(e);ce(o)&&e.on("PastePreProcess",n(o));const r=Rx(e);ce(r)&&e.on("PastePostProcess",n(r))},u8=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},Pj=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,d8=e=>Xe.trim(e).replace(Pj,tg).toLowerCase(),f8=(e,n,o)=>{const r=fw(e);if(o||r==="all"||!mw(e))return n;const c=r?r.split(/[, ]/):[];if(c&&r!=="none"){const u=e.dom,m=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(b,v,C,O)=>{const D=u.parseStyle(u.decode(C)),N={};for(let X=0;X<c.length;X++){const U=D[c[X]];let J=U,le=u.getStyle(m,c[X],!0);/color/.test(c[X])&&(J=d8(J),le=d8(le)),le!==J&&(N[c[X]]=U)}const G=u.serializeStyle(N,"span");return G?v+' style="'+G+'"'+O:v+O})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(u,m,b,v)=>m+' style="'+b+'"'+v),n},m8=e=>{(_t.browser.isChromium()||_t.browser.isSafari())&&u8(e,f8)},$j=e=>{const n=As(!1),o=As(gw(e)?"text":"html"),r=dj(e);m8(e),o8(e,o),Nj(e),e.on("PreInit",()=>{Oj(e),RS(e,n),n8(e,r,o)})},Ij=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},Fj=e=>{e.parser.addNodeFilter("details",n=>{const o=Zr(e);ve(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",n=>{const o=gO(e);ve(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})})},Lj=e=>{Ij(e),Fj(e)},Hj=Mo,hA=Je,Vj=e=>Wn(e.dom),jj=e=>ta(e.dom),p8=e=>n=>fo(ee.fromDom(e),n),Uj=(e,n,o)=>ec(ee.fromDom(e),r=>jj(r)||o.isBlock(oo(r)),p8(n)).getOr(ee.fromDom(n)).dom,g8=(e,n)=>ec(ee.fromDom(e),Vj,p8(n)),h8=(e,n,o)=>{const r=new qo(e,n),c=o?r.next.bind(r):r.prev.bind(r);let u=e;for(let m=o?e:c();m&&!Hj(m);m=c())Vn(m)&&(u=m);return u},Wj=(e,n,o)=>{const c=_e.fromRangeStart(e).getNode(),u=Uj(c,n,o),m=h8(c,u,!1),b=h8(c,u,!0),v=document.createRange();return g8(m,u).fold(()=>{hA(m)?v.setStart(m,0):v.setStartBefore(m)},C=>v.setStartBefore(C.dom)),g8(b,u).fold(()=>{hA(b)?v.setEnd(b,b.data.length):v.setEndAfter(b)},C=>v.setEndAfter(C.dom)),v},Zj=e=>{const n=Wj(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(kv(n))},b8=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),Zj(e))})};var ky;(function(e){e.Before="before",e.After="after"})(ky||(ky={}));const qj=(e,n)=>Math.abs(e.left-n),Gj=(e,n)=>Math.abs(e.right-n),Kj=(e,n)=>e>=n.top&&e<=n.bottom,Yj=(e,n)=>e.top<n.bottom&&e.bottom>n.top,Xj=(e,n)=>{const o=jT(e,n)/Math.min(e.height,n.height);return Yj(e,n)&&o>.5},Jj=(e,n)=>{const o=Ie(e,r=>Kj(n,r));return VT(o).fold(()=>[[],e],r=>{const{pass:c,fail:u}=Ve(e,m=>Xj(m,r));return[c,u]})},Qj=(e,n)=>({node:e.node,position:qj(e,n)<Gj(e,n)?ky.Before:ky.After}),MS=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),BS=(e,n,o,r)=>{const c=D=>Vn(D.node)?I.some(D):Dt(D.node)?BS(js(D.node.childNodes),n,o,!1):I.none(),u=(D,N,G)=>c(N).filter(X=>Math.abs(G(D,n,o)-G(X,n,o))<2&&Je(X.node)),m=(D,N)=>{const G=Jn(D,(X,U)=>N(X,n,o)-N(U,n,o));return Jc(G,c).map(X=>r&&!Je(X.node)&&G.length>1?u(X,G[1],N).getOr(X):X)},[b,v]=Jj(z6(e),o),{pass:C,fail:O}=Ve(v,D=>D.top<o);return m(b,MS).orThunk(()=>m(O,$0)).orThunk(()=>m(C,$0))},eU=(e,n,o,r)=>{const c=(u,m)=>{const b=C=>Dt(C)&&C.classList.contains("mce-drag-container"),v=Ie(u.dom.childNodes,Po(b));return m.fold(()=>BS(v,o,r,!0),C=>{const O=Ie(v,D=>D!==C.dom);return BS(O,o,r,!0)}).orThunk(()=>(fo(u,e)?I.none():_f(u)).bind(O=>c(O,I.some(u))))};return c(n,I.none())},y8=(e,n,o)=>{const r=ee.fromDom(e),c=Rc(r),m=ee.fromPoint(c,n,o).filter(b=>ea(r,b)).getOr(r);return eU(r,m,n,o)},bA=(e,n,o)=>y8(e,n,o).filter(r=>Eg(r.node)).map(r=>Qj(r,n)),NS=e=>{var n,o;const r=e.getBoundingClientRect(),c=e.ownerDocument,u=c.documentElement,m=c.defaultView;return{top:r.top+((n=m==null?void 0:m.scrollY)!==null&&n!==void 0?n:0)-u.clientTop,left:r.left+((o=m==null?void 0:m.scrollX)!==null&&o!==void 0?o:0)-u.clientLeft}},tU=e=>e.inline?NS(e.getBody()):{left:0,top:0},v8=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},nU=e=>{const n=e.getBody(),o=e.getDoc().documentElement,r={left:n.scrollLeft,top:n.scrollTop},c={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?r:c},w8=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=NS(e.getContentAreaContainer()),r=nU(e);return{left:n.pageX-o.left+r.left,top:n.pageY-o.top+r.top}}return{left:n.pageX,top:n.pageY}},oU=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),k8=(e,n)=>oU(tU(e),v8(e),w8(e,n)),_8=e=>({target:e,srcElement:e}),sU=(e,n,o,r)=>({...n,dataTransfer:r,type:e,..._8(o)}),rU=(e,n,o)=>{const r=Ps("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:Et,stopImmediatePropagation:Et,stopPropagation:Et,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:o,..._8(n)}},w_=(e,n)=>{const o=nj(e);return n==="dragstart"?(J5(o),HN(o)):n==="drop"?(KV(o),tA(o)):(YV(o),JV(o)),o},aU=(e,n,o,r)=>{const c=w_(o,e);return $n(r)?rU(e,n,c):sU(e,r,n,c)},PS=32,x8=100,$S=8,IS=16,C8=Wn,cU=UT(C8,ta),iU=(e,n,o)=>C8(o)&&o!==n&&e.isEditable(o.parentElement),FS=(e,n,o)=>yn(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),S8=(e,n,o,r)=>{const c=e.dom,u=n.cloneNode(!0);c.setStyles(u,{width:o,height:r}),c.setAttrib(u,"data-mce-selected",null);const m=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(m,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),c.setStyles(u,{margin:0,boxSizing:"border-box"}),m.appendChild(u),m},T8=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},LS=(e,n)=>o=>()=>{const r=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:r+n,behavior:"smooth"})},E8=LS("left",-PS),z8=LS("left",PS),lU=LS("top",-PS),A8=LS("top",PS),yA=(e,n,o,r,c,u,m,b,v,C,O,D)=>{let N=0,G=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>c&&(N=n.pageX+o-c),n.pageY+r>u&&(G=n.pageY+r-u),e.style.width=o-N+"px",e.style.height=r-G+"px";const X=v.clientHeight,U=v.clientWidth,J=m+v.getBoundingClientRect().top,le=b+v.getBoundingClientRect().left;O.on(fe=>{fe.intervalId.clear(),fe.dragging&&D&&(m+$S>=X?fe.intervalId.set(A8(C)):m-$S<=0?fe.intervalId.set(lU(C)):b+$S>=U?fe.intervalId.set(z8(C)):b-$S<=0?fe.intervalId.set(E8(C)):J+IS>=window.innerHeight?fe.intervalId.set(A8(window)):J-IS<=0?fe.intervalId.set(lU(window)):le+IS>=window.innerWidth?fe.intervalId.set(z8(window)):le-IS<=0&&fe.intervalId.set(E8(window)))})},HS=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},VS=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);HS(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&hl(ee.fromDom(o))},uU=e=>e.button===0,dU=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),O8=(e,n)=>o=>{if(uU(o)){const r=go(n.dom.getParents(o.target),cU).getOr(null);if(Re(r)&&iU(n.dom,n.getBody(),r)){const c=n.dom.getPos(r),u=n.getBody(),m=n.getDoc().documentElement;e.set({element:r,dataTransfer:sA(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?u.scrollWidth:m.offsetWidth)-2,maxY:(n.inline?u.scrollHeight:m.offsetHeight)-2,relX:o.pageX-c.x,relY:o.pageY-c.y,width:r.offsetWidth,height:r.offsetHeight,ghost:S8(n,r,r.offsetWidth,r.offsetHeight),intervalId:LT(x8)})}}},fU=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),bA(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),r=>{const c=e._selectionOverrides.showCaret(1,r.node,r.position===ky.Before,!1);c?e.selection.setRng(c):e.selection.placeCaretAt(n,o)})},_y=(e,n,o,r,c)=>{n==="dragstart"&&VN(r,e.dom.getOuterHTML(o));const u=aU(n,o,r,c);return e.dispatch(n,u)},D8=(e,n)=>{const o=ib((c,u)=>fU(n,c,u),0);n.on("remove",o.cancel);const r=e;return c=>e.on(u=>{const m=Math.max(Math.abs(c.screenX-u.screenX),Math.abs(c.screenY-u.screenY));if(!u.dragging&&m>10){const b=_y(n,"dragstart",u.element,u.dataTransfer,c);if(Re(b.dataTransfer)&&(u.dataTransfer=b.dataTransfer),b.isDefaultPrevented())return;u.dragging=!0,n.focus()}if(u.dragging){const b=c.currentTarget===n.getDoc().documentElement,v=dU(u,k8(n,c));T8(u.ghost,n.getBody()),yA(u.ghost,v,u.width,u.height,u.maxX,u.maxY,c.clientY,c.clientX,n.getContentAreaContainer(),n.getWin(),r,b),o.throttle(c.clientX,c.clientY)}})},mU=e=>{const n=e.getSel();if(Re(n)){const r=n.getRangeAt(0).startContainer;return Je(r)?r.parentNode:r}else return null},pU=(e,n)=>o=>{e.on(r=>{var c;if(r.intervalId.clear(),r.dragging){if(FS(n,mU(n.selection),r.element)){const u=(c=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&c!==void 0?c:n.getBody();_y(n,"drop",u,r.dataTransfer,o).isDefaultPrevented()||n.undoManager.transact(()=>{VS(n.dom,r.element),Jv(r.dataTransfer).each(b=>n.insertContent(b)),n._selectionOverrides.hideFakeCaret()})}_y(n,"dragend",n.getBody(),r.dataTransfer,o)}}),hU(e)},vA=(e,n,o)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&o.fold(()=>_y(n,"dragend",r.element,r.dataTransfer),c=>_y(n,"dragend",r.element,r.dataTransfer,c))}),hU(e)},gU=(e,n)=>o=>vA(e,n,I.some(o)),hU=e=>{e.on(n=>{n.intervalId.clear(),HS(n.ghost)}),e.clear()},bU=e=>{const n=Ff(),o=as.DOM,r=document,c=O8(n,e),u=D8(n,e),m=pU(n,e),b=gU(n,e);e.on("mousedown",c),e.on("mousemove",u),e.on("mouseup",m),o.bind(r,"mousemove",u),o.bind(r,"mouseup",b),e.on("remove",()=>{o.unbind(r,"mousemove",u),o.unbind(r,"mouseup",b)}),e.on("keydown",v=>{v.keyCode===zt.ESC&&vA(n,e,I.none())})},yU=e=>{const n=c=>{if(!c.isDefaultPrevented()){const u=c.dataTransfer;u&&(Ke(u.types,"Files")||u.files.length>0)&&(c.preventDefault(),c.type==="drop"&&OC(e,"Dropped file type is not supported"))}},o=c=>{T2(e,c.target)&&n(c)},r=()=>{const c=as.DOM,u=e.dom,m=document,b=e.inline?e.getBody():e.getDoc(),v=["drop","dragover"];ve(v,C=>{c.bind(m,C,o),u.bind(b,C,n)}),e.on("remove",()=>{ve(v,C=>{c.unbind(m,C,o),u.unbind(b,C,n)})})};e.on("init",()=>{Tl.setEditorTimeout(e,r,0)})},vU=e=>{bU(e),N1(e)&&yU(e)},R8=e=>{const n=ib(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const r=VC(e,o,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},wU=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(Bs(o)){const r=ry(e.getBody(),o),c=Wn(r)?r:o;e.selection.getNode()!==c&&Fv(e,c).each(u=>e.selection.setRng(u))}})})},e0=Wn,M8=(e,n)=>ry(e.getBody(),n),kU=e=>{const n=e.selection,o=e.dom,r=e.getBody(),c=_w(e,r,o.isBlock,()=>qg(e)),u="sel-"+o.uniqueId(),m="data-mce-selected";let b;const v=kt=>Re(kt)&&o.hasClass(kt,"mce-offscreen-selection"),C=kt=>kt!==r&&(e0(kt)||Bs(kt))&&o.isChildOf(kt,r)&&o.isEditable(kt.parentNode),O=kt=>{kt&&n.setRng(kt)},D=(kt,Ae,Se,je=!0)=>e.dispatch("ShowCaret",{target:Ae,direction:kt,before:Se}).isDefaultPrevented()?null:(je&&n.scrollIntoView(Ae,kt===-1),c.show(Se,Ae)),N=kt=>{kt.hasAttribute("data-mce-caret")&&(Zi(kt),n.scrollIntoView(kt))},G=()=>{e.on("click",Ae=>{o.isEditable(Ae.target)||(Ae.preventDefault(),e.focus())}),e.on("blur NewBlock",we),e.on("ResizeWindow FullscreenStateChanged",c.reposition),e.on("tap",Ae=>{const Se=Ae.target,je=M8(e,Se);e0(je)?(Ae.preventDefault(),Fv(e,je).each(de)):C(Se)&&Fv(e,Se).each(de)},!0),e.on("mousedown",Ae=>{const Se=Ae.target;if(Se!==r&&Se.nodeName!=="HTML"&&!o.isChildOf(Se,r)||!HF(e,Ae.clientX,Ae.clientY))return;we(),at();const je=M8(e,Se);e0(je)?(Ae.preventDefault(),Fv(e,je).each(de)):bA(r,Ae.clientX,Ae.clientY).each(Rt=>{Ae.preventDefault();const Wt=D(1,Rt.node,Rt.position===ky.Before,!1);O(Wt),Vi(je)?je.focus():e.getBody().focus()})}),e.on("keypress",Ae=>{zt.modifierPressed(Ae)||e0(n.getNode())&&Ae.preventDefault()}),e.on("GetSelectionRange",Ae=>{let Se=Ae.range;if(b){if(!b.parentNode){b=null;return}Se=Se.cloneRange(),Se.selectNode(b),Ae.range=Se}}),e.on("SetSelectionRange",Ae=>{Ae.range=J(Ae.range);const Se=de(Ae.range,Ae.forward);Se&&(Ae.range=Se)});const kt=Ae=>Dt(Ae)&&Ae.id==="mcepastebin";e.on("AfterSetSelectionRange",Ae=>{const Se=Ae.range,je=Se.startContainer.parentElement;!U(Se)&&!kt(je)&&at(),v(je)||we()}),vU(e),R8(e),wU(e)},X=kt=>Vt(kt)||Fa(kt)||$c(kt),U=kt=>X(kt.startContainer)||X(kt.endContainer),J=kt=>{const Ae=e.schema.getVoidElements(),Se=o.createRng(),je=kt.startContainer,Rt=kt.startOffset,Wt=kt.endContainer,Rn=kt.endOffset;return Qt(Ae,je.nodeName.toLowerCase())?Rt===0?Se.setStartBefore(je):Se.setStartAfter(je):Se.setStart(je,Rt),Qt(Ae,Wt.nodeName.toLowerCase())?Rn===0?Se.setEndBefore(Wt):Se.setEndAfter(Wt):Se.setEnd(Wt,Rn),Se},le=(kt,Ae)=>{const Se=ee.fromDom(e.getBody()),je=e.getDoc(),Rt=Ba(Se,"#"+u).getOrThunk(()=>{const zn=ee.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',je);return ss(zn,"id",u),tr(Se,zn),zn}),Wt=o.createRng();dl(Rt),Ro(Rt,[ee.fromText(uo,je),ee.fromDom(Ae),ee.fromText(uo,je)]),Wt.setStart(Rt.dom.firstChild,1),Wt.setEnd(Rt.dom.lastChild,0),ha(Rt,{top:o.getPos(kt,e.getBody()).y+"px"}),v2(Rt);const Rn=n.getSel();return Rn&&(Rn.removeAllRanges(),Rn.addRange(Wt)),Wt},fe=kt=>{const Ae=kt.cloneNode(!0),Se=e.dispatch("ObjectSelected",{target:kt,targetClone:Ae});if(Se.isDefaultPrevented())return null;const je=le(kt,Se.targetClone),Rt=ee.fromDom(kt);return ve(Tr(ee.fromDom(e.getBody()),`*[${m}]`),Wt=>{fo(Rt,Wt)||Is(Wt,m)}),o.getAttrib(kt,m)||kt.setAttribute(m,"1"),b=kt,at(),je},de=(kt,Ae)=>{if(!kt)return null;if(kt.collapsed){if(!U(kt)){const Wt=Ae?1:-1,Rn=Yf(Wt,r,kt),zn=Rn.getNode(!Ae);if(Re(zn)){if(Eg(zn))return D(Wt,zn,Ae?!Rn.isAtEnd():!1,!1);if(bt(zn)&&Wn(zn.nextSibling)){const Xo=o.createRng();return Xo.setStart(zn,0),Xo.setEnd(zn,0),Xo}}const Fo=Rn.getNode(Ae);if(Re(Fo)){if(Eg(Fo))return D(Wt,Fo,Ae?!1:!Rn.isAtEnd(),!1);if(bt(Fo)&&Wn(Fo.previousSibling)){const Xo=o.createRng();return Xo.setStart(Fo,1),Xo.setEnd(Fo,1),Xo}}}return null}let Se=kt.startContainer,je=kt.startOffset;const Rt=kt.endOffset;if(Je(Se)&&je===0&&e0(Se.parentNode)&&(Se=Se.parentNode,je=o.nodeIndex(Se),Se=Se.parentNode),!Dt(Se))return null;if(Rt===je+1&&Se===kt.endContainer){const Wt=Se.childNodes[je];if(C(Wt))return fe(Wt)}return null},we=()=>{b&&b.removeAttribute(m),Ba(ee.fromDom(e.getBody()),"#"+u).each(ro),b=null},We=()=>{c.destroy(),b=null},at=()=>{c.hide()};return Tp(e)||G(),{showCaret:D,showBlockCaretContainer:N,hideFakeCaret:at,destroy:We}},_U=(e,n)=>{let o=n;for(let r=e.previousSibling;Je(r);r=r.previousSibling)o+=r.data.length;return o},B8=(e,n,o,r,c)=>{if(Je(o)&&(r<0||r>o.data.length))return[];const u=c&&Je(o)?[_U(o,r)]:[r];let m=o;for(;m!==n&&m.parentNode;)u.push(e.nodeIndex(m,c)),m=m.parentNode;return m===n?u.reverse():[]},wA=(e,n,o,r,c,u,m=!1)=>{const b=B8(e,n,o,r,m),v=B8(e,n,c,u,m);return{start:b,end:v}},kA=(e,n)=>{const o=n.slice(),r=o.pop();return Qo(r)?nn(o,(u,m)=>u.bind(b=>I.from(b.childNodes[m])),I.some(e)).bind(u=>Je(u)&&(r<0||r>u.data.length)?I.none():I.some({node:u,offset:r})):I.none()},xU=(e,n)=>kA(e,n.start).bind(({node:o,offset:r})=>kA(e,n.end).map(({node:c,offset:u})=>{const m=document.createRange();return m.setStart(o,r),m.setEnd(c,u),m})),CU=(e,n,o,r=!1)=>wA(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r),xy=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const r=n.parentNode;e.remove(n,Je(n.firstChild)&&Df(n.firstChild.data)),xy(e,r,o)}},jS=(e,n,o,r=!0)=>{const c=n.startContainer.parentNode,u=n.endContainer.parentNode;n.deleteContents(),r&&!o(n.startContainer)&&(Je(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),Je(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),xy(e,c,o),c!==u&&xy(e,u,o))},k_=(e,n)=>I.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),N8=(e,n,o)=>{const r=e.dynamicPatternsLookup({text:o,block:n});return{...e,blockPatterns:D1(r).concat(e.blockPatterns),inlinePatterns:J0(r).concat(e.inlinePatterns)}},P8=(e,n,o,r)=>{const c=e.createRng();return c.setStart(n,0),c.setEnd(o,r),c.toString()},SU=e=>/^\s[^\s]/.test(e),_A=(e,n,o)=>{b5(n,0,n).each(c=>{const u=c.container;lS(u,o.start.length,n).each(v=>{const C=e.createRng();C.setStart(u,0),C.setEnd(v.container,v.offset),jS(e,C,O=>O===n)});const m=ee.fromDom(u),b=di(m);SU(b)&&bc(m,b.slice(1))})},US=(e,n)=>{const o=e.dom,r=n.pattern,c=xU(o.getRoot(),n.range).getOrDie("Unable to resolve path range"),u=(m,b)=>{const v=b.get(m);return Gt(v)&&In(v).exists(C=>Qt(C,"block"))};return k_(e,c).each(m=>{r.type==="block-format"?u(r.format,e.formatter)&&e.undoManager.transact(()=>{_A(e.dom,m,r),e.formatter.apply(r.format)}):r.type==="block-command"&&e.undoManager.transact(()=>{_A(e.dom,m,r),e.execCommand(r.cmd,!1,r.value)})}),!0},$8=e=>Jn(e,(n,o)=>o.start.length-n.start.length),I8=(e,n)=>{const o=$8(e),r=n.replace(uo," ");return go(o,c=>n.indexOf(c.start)===0||r.indexOf(c.start)===0)},TU=(e,n,o,r)=>{var c;const u=e.dom,m=Va(e);if(!u.is(n,m))return[];const b=(c=n.textContent)!==null&&c!==void 0?c:"";return I8(o.blockPatterns,b).map(v=>Xe.trim(b).length===v.start.length?[]:[{pattern:v,range:wA(u,u.getRoot(),n,0,n,0,r)}]).getOr([])},EU=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();ve(n,r=>US(e,r)),e.selection.moveToBookmark(o)},xA=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),WS=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},F8=(e,n,o)=>{const r=xU(e.getRoot(),o).getOrDie("Unable to resolve path range"),c=r.startContainer,u=r.endContainer,m=r.endOffset===0?u:u.splitText(r.endOffset),b=r.startOffset===0?c:c.splitText(r.startOffset),v=b.parentNode,C=m.parentNode;return{prefix:n,end:C.insertBefore(xA(e,n+"-end"),m),start:v.insertBefore(xA(e,n+"-start"),b)}},L8=(e,n,o)=>{xy(e,e.get(n.prefix+"-end"),o),xy(e,e.get(n.prefix+"-start"),o)},__=e=>e.start.length===0,zU=e=>(n,o)=>{const c=n.data.substring(0,o),u=c.lastIndexOf(e.charAt(e.length-1)),m=c.lastIndexOf(e);return m!==-1?m+e.length:u!==-1?u+1:-1},H8=(e,n,o,r)=>{const c=n.start;return t_(e,r.container,r.offset,zU(c),o).bind(m=>{var b,v;const C=(v=(b=o.textContent)===null||b===void 0?void 0:b.indexOf(c))!==null&&v!==void 0?v:-1;if(C!==-1&&m.offset>=C+c.length){const D=e.createRng();return D.setStart(m.container,m.offset-c.length),D.setEnd(m.container,m.offset),I.some(D)}else{const D=m.offset-c.length;return iS(m.container,D,o).map(N=>{const G=e.createRng();return G.setStart(N.container,N.offset),G.setEnd(m.container,m.offset),G}).filter(N=>N.toString()===c).orThunk(()=>H8(e,n,o,nf(m.container,0)))}})},AU=(e,n,o,r,c,u=!1)=>{if(n.start.length===0&&!u){const m=e.createRng();return m.setStart(o,r),m.setEnd(o,r),I.some(m)}return bm(o,r,c).bind(m=>H8(e,n,c,m).bind(v=>{var C;if(u){if(v.endContainer===m.container&&v.endOffset===m.offset)return I.none();if(m.offset===0&&((C=v.endContainer.textContent)===null||C===void 0?void 0:C.length)===v.endOffset)return I.none()}return I.some(v)}))},OU=(e,n,o,r)=>{const c=e.dom,u=c.getRoot(),m=o.pattern,b=o.position.container,v=o.position.offset;return iS(b,v-o.pattern.end.length,n).bind(C=>{const O=wA(c,u,C.container,C.offset,b,v,r);if(__(m))return I.some({matches:[{pattern:m,startRng:O,endRng:O}],position:C});{const D=ZS(e,o.remainingPatterns,C.container,C.offset,n,r),N=D.getOr({matches:[],position:C}),G=N.position;return AU(c,m,G.container,G.offset,n,D.isNone()).map(U=>{const J=CU(c,u,U,r);return{matches:N.matches.concat([{pattern:m,startRng:J,endRng:O}]),position:nf(U.startContainer,U.startOffset)}})}})},ZS=(e,n,o,r,c,u)=>{const m=e.dom;return bm(o,r,m.getRoot()).bind(b=>{const v=P8(m,c,o,r);for(let C=0;C<n.length;C++){const O=n[C];if(!Fi(v,O.end))continue;const D=n.slice();D.splice(C,1);const N=OU(e,c,{pattern:O,remainingPatterns:D,position:b},u);if(N.isNone()&&r>0)return ZS(e,n,o,r-1,c,u);if(N.isSome())return N}return I.none()})},V8=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?ve(n.format,r=>{e.formatter.apply(r)}):e.execCommand(n.cmd,!1,n.value)},j8=(e,n,o,r)=>{const c=WS(e.dom,o);jS(e.dom,c,r),V8(e,n,c)},U8=(e,n,o,r,c)=>{const u=e.dom,m=WS(u,r),b=WS(u,o);jS(u,b,c),jS(u,m,c);const v={prefix:o.prefix,start:o.end,end:r.start},C=WS(u,v);V8(e,n,C)},CA=(e,n)=>{const o=op("mce_textpattern"),r=Mn(n,(c,u)=>{const m=F8(e,o+`_end${c.length}`,u.endRng);return c.concat([{...u,endMarker:m}])},[]);return Mn(r,(c,u)=>{const m=r.length-c.length-1,b=__(u.pattern)?u.endMarker:F8(e,o+`_start${m}`,u.startRng);return c.concat([{...u,startMarker:b}])},[])},SA=e=>Jn(e,(n,o)=>o.end.length-n.end.length),DU=(e,n)=>{const o=es(e,r=>hn(n,c=>r.pattern.start===c.pattern.start&&r.pattern.end===c.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},qS=(e,n,o,r,c,u)=>{const m=ZS(e,c.inlinePatterns,o,r,n,u).fold(()=>[],v=>v.matches),b=ZS(e,SA(c.inlinePatterns),o,r,n,u).fold(()=>[],v=>v.matches);return DU(m,b)},W8=(e,n)=>{if(n.length===0)return;const o=e.dom,r=e.selection.getBookmark(),c=CA(o,n);ve(c,u=>{const m=o.getParent(u.startMarker.start,o.isBlock),b=v=>v===m;__(u.pattern)?j8(e,u.pattern,u.endMarker,b):U8(e,u.pattern,u.startMarker,u.endMarker,b),L8(o,u.endMarker,b),L8(o,u.startMarker,b)}),e.selection.moveToBookmark(r)},RU=(e,n)=>{const o=e.selection.getRng();return k_(e,o).map(r=>{var c;const u=Math.max(0,o.startOffset),m=N8(n,r,(c=r.textContent)!==null&&c!==void 0?c:""),b=qS(e,r,o.startContainer,u,m,!0),v=TU(e,r,m,!0);return v.length>0||b.length>0?(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{W(e),W8(e,b),EU(e,v);const C=e.selection.getRng(),O=bm(C.startContainer,C.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),O.each(D=>{const N=D.container;N.data.charAt(D.offset-1)===Zm&&(N.deleteData(D.offset-1,1),xy(e.dom,N.parentNode,G=>G===e.dom.getRoot()))})}),!0):!1}).getOr(!1)},Z8=(e,n)=>{const o=e.selection.getRng();k_(e,o).map(r=>{const c=Math.max(0,o.startOffset-1),u=P8(e.dom,r,o.startContainer,c),m=N8(n,r,u),b=qS(e,r,o.startContainer,c,m,!1);b.length>0&&e.undoManager.transact(()=>{W8(e,b)})})},q8=(e,n,o)=>{for(let r=0;r<e.length;r++)if(o(e[r],n))return!0;return!1},MU=(e,n)=>q8(e,n,(o,r)=>o===r.keyCode&&!zt.modifierPressed(r)),BU=(e,n)=>q8(e,n,(o,r)=>o.charCodeAt(0)===r.charCode),NU=e=>{const n=[",",".",";",":","!","?"],o=[32],r=()=>vc(I1(e),wE(e)),c=()=>yw(e);e.on("keydown",m=>{if(m.keyCode===13&&!zt.modifierPressed(m)&&e.selection.isCollapsed()){const b=r();(b.inlinePatterns.length>0||b.blockPatterns.length>0||c())&&RU(e,b)&&m.preventDefault()}},!0);const u=()=>{if(e.selection.isCollapsed()){const m=r();(m.inlinePatterns.length>0||c())&&Z8(e,m)}};e.on("keyup",m=>{MU(o,m)&&u()}),e.on("keypress",m=>{BU(n,m)&&Tl.setEditorTimeout(e,u)})},PU=e=>{NU(e)},$U=e=>{const n=Xe.each,o=zt.BACKSPACE,r=zt.DELETE,c=e.dom,u=e.selection,m=e.parser,b=_t.browser,v=b.isFirefox(),C=b.isChromium()||b.isSafari(),O=_t.deviceType.isiPhone()||_t.deviceType.isiPad(),D=_t.os.isMacOS()||_t.os.isiOS(),N=(Bt,fn)=>{try{e.getDoc().execCommand(Bt,!1,String(fn))}catch{}},G=Bt=>Bt.isDefaultPrevented(),X=()=>{const Bt=lt=>{const mn=c.create("body"),to=lt.cloneContents();return mn.appendChild(to),u.serializer.serialize(mn,{format:"html"})},fn=lt=>{const mn=Bt(lt),to=c.createRng();to.selectNode(e.getBody());const Wo=Bt(to);return mn===Wo};e.on("keydown",lt=>{const mn=lt.keyCode;if(!G(lt)&&(mn===r||mn===o)&&e.selection.isEditable()){const to=e.selection.isCollapsed(),Wo=e.getBody();if(to&&!Ns(ee.fromDom(Wo))||!to&&!fn(e.selection.getRng()))return;lt.preventDefault(),e.setContent(""),Wo.firstChild&&c.isBlock(Wo.firstChild)?e.selection.setCursorLocation(Wo.firstChild,0):e.selection.setCursorLocation(Wo,0),e.nodeChanged()}})},U=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},J=()=>{e.inline||c.bind(e.getDoc(),"mousedown mouseup",Bt=>{let fn;if(Bt.target===e.getDoc().documentElement)if(fn=u.getRng(),e.getBody().focus(),Bt.type==="mousedown"){if(Vt(fn.startContainer))return;u.placeCaretAt(Bt.clientX,Bt.clientY)}else u.setRng(fn)})},le=()=>{e.on("keydown",Bt=>{if(!G(Bt)&&Bt.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(u.isCollapsed()&&u.getRng().startOffset===0){const fn=u.getNode(),lt=fn.previousSibling;if(fn.nodeName==="HR"){c.remove(fn),Bt.preventDefault();return}lt&&lt.nodeName&&lt.nodeName.toLowerCase()==="hr"&&(c.remove(lt),Bt.preventDefault())}}})},fe=()=>{Range.prototype.getClientRects||e.on("mousedown",Bt=>{if(!G(Bt)&&Bt.target.nodeName==="HTML"){const fn=e.getBody();fn.blur(),Tl.setEditorTimeout(e,()=>{fn.focus()})}})},de=()=>{const Bt=Ax(e);e.on("click",fn=>{const lt=fn.target;/^(IMG|HR)$/.test(lt.nodeName)&&c.isEditable(lt)&&(fn.preventDefault(),e.selection.select(lt),e.nodeChanged()),lt.nodeName==="A"&&c.hasClass(lt,Bt)&&lt.childNodes.length===0&&c.isEditable(lt.parentNode)&&(fn.preventDefault(),u.select(lt))})},we=()=>{const Bt=()=>{const lt=c.getAttribs(u.getStart().cloneNode(!1));return()=>{const mn=u.getStart();mn!==e.getBody()&&(c.setAttrib(mn,"style",null),n(lt,to=>{mn.setAttributeNode(to.cloneNode(!0))}))}},fn=()=>!u.isCollapsed()&&c.getParent(u.getStart(),c.isBlock)!==c.getParent(u.getEnd(),c.isBlock);e.on("keypress",lt=>{let mn;return!G(lt)&&(lt.keyCode===8||lt.keyCode===46)&&fn()?(mn=Bt(),e.getDoc().execCommand("delete",!1),mn(),lt.preventDefault(),!1):!0}),c.bind(e.getDoc(),"cut",lt=>{if(!G(lt)&&fn()){const mn=Bt();Tl.setEditorTimeout(e,()=>{mn()})}})},We=()=>{e.on("keydown",Bt=>{if(!G(Bt)&&Bt.keyCode===o&&u.isCollapsed()&&u.getRng().startOffset===0){const fn=u.getNode().previousSibling;if(fn&&fn.nodeName&&fn.nodeName.toLowerCase()==="table")return Bt.preventDefault(),!1}return!0})},at=()=>{e.on("keydown",Bt=>{if(G(Bt)||Bt.keyCode!==zt.BACKSPACE)return;let fn=u.getRng();const lt=fn.startContainer,mn=fn.startOffset,to=c.getRoot();let Wo=lt;if(!(!fn.collapsed||mn!==0)){for(;Wo.parentNode&&Wo.parentNode.firstChild===Wo&&Wo.parentNode!==to;)Wo=Wo.parentNode;Wo.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Wo),fn=c.createRng(),fn.setStart(lt,0),fn.setEnd(lt,0),u.setRng(fn))}})},kt=()=>{const Bt=()=>{N("StyleWithCSS",!1),N("enableInlineTableEditing",!1),vg(e)||N("enableObjectResizing",!1)};kb(e)||e.on("BeforeExecCommand mousedown",Bt)},Ae=()=>{const Bt=()=>{n(c.select("a:not([data-mce-block])"),fn=>{var lt;let mn=fn.parentNode;const to=c.getRoot();if((mn==null?void 0:mn.lastChild)===fn){for(;mn&&!c.isBlock(mn);){if(((lt=mn.parentNode)===null||lt===void 0?void 0:lt.lastChild)!==mn||mn===to)return;mn=mn.parentNode}c.add(mn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",fn=>{(fn.type==="setcontent"||fn.command==="mceInsertLink")&&Bt()})},Se=()=>{e.on("init",()=>{N("DefaultParagraphSeparator",Va(e))})},je=Bt=>{const fn=Bt.getBody(),lt=Bt.selection.getRng();return lt.startContainer===lt.endContainer&&lt.startContainer===fn&&lt.startOffset===0&&lt.endOffset===fn.childNodes.length},Rt=()=>{e.on("keyup focusin mouseup",Bt=>{!zt.modifierPressed(Bt)&&!je(e)&&u.normalize()},!0)},Wt=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Rn=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},zn=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",Bt=>{let fn;Bt.target.nodeName==="HTML"&&(fn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(fn),e.selection.normalize(),e.nodeChanged())}))},Fo=()=>{D&&e.on("keydown",Bt=>{zt.metaKeyPressed(Bt)&&!Bt.shiftKey&&(Bt.keyCode===37||Bt.keyCode===39)&&(Bt.preventDefault(),e.selection.getSel().modify("move",Bt.keyCode===37?"backward":"forward","lineboundary"))})},Xo=()=>{e.on("click",Bt=>{let fn=Bt.target;do if(fn.tagName==="A"){Bt.preventDefault();return}while(fn=fn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Js=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",Bt=>{Bt.preventDefault()})})},Ta=()=>{m.addNodeFilter("br",Bt=>{let fn=Bt.length;for(;fn--;)Bt[fn].attr("class")==="Apple-interchange-newline"&&Bt[fn].remove()})},No=Et,mt=()=>{if(!v||e.removed)return!1;const Bt=e.selection.getSel();return!Bt||!Bt.rangeCount||Bt.rangeCount===0},Ft=()=>{C&&(J(),de(),Js(),U(),O&&(Rn(),zn(),Xo())),v&&(fe(),kt(),Wt(),Fo())},An=()=>{e.on("drop",Bt=>{var fn;const lt=(fn=Bt.dataTransfer)===null||fn===void 0?void 0:fn.getData("text/html");oe(lt)&&/^<img[^>]*>$/.test(lt)&&e.dispatch("dragend",new window.DragEvent("dragend",Bt))})},jn=()=>{at(),X(),_t.windowsPhone||Rt(),C&&(J(),de(),Se(),Js(),We(),Ta(),O?(Rn(),zn(),Xo()):U()),v&&(le(),fe(),we(),kt(),Ae(),Wt(),Fo(),We(),An())};return Tp(e)?Ft():jn(),{refreshContentEditable:No,isHidden:mt}},TA=as.DOM,G8=(e,n)=>{const o=ee.fromDom(e.getBody()),r=Vy(ll(o)),c=ee.fromTag("style");ss(c,"type","text/css"),tr(c,ee.fromText(n)),tr(r,c),e.on("remove",()=>{ro(c)})},IU=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,x_=e=>ns(e,n=>$n(n)===!1),K8=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return x_({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_unsafe_embeds:n("convert_unsafe_embeds"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),inline_styles:n("inline_styles"),root_name:IU(e),sandbox_iframes:n("sandbox_iframes"),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},Y8=e=>{const n=e.options.get;return x_({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},FU=e=>{const n=e.options.get;return{...K8(e),...Y8(e),...x_({remove_trailing_brs:n("remove_trailing_brs"),pad_empty_with_br:n("pad_empty_with_br"),url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},LU=e=>{const n=Wu(K8(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,r)=>{const c=e.dom,u="data-mce-"+r;let m=o.length;for(;m--;){const b=o[m];let v=b.attr(r);if(v&&!b.attr(u)){if(v.indexOf("data:")===0||v.indexOf("blob:")===0)continue;r==="style"?(v=c.serializeStyle(c.parseStyle(v),b.name),v.length||(v=null),b.attr(u,v),b.attr(r,v)):r==="tabindex"?(b.attr(u,v),b.attr(r,null)):b.attr(u,e.convertURL(v,r,b.name))}}}),n.addNodeFilter("script",o=>{let r=o.length;for(;r--;){const c=o[r],u=c.attr("type")||"no/type";u.indexOf("mce-")!==0&&c.attr("type","mce-"+u)}}),bw(e)&&n.addNodeFilter("#cdata",o=>{var r;let c=o.length;for(;c--;){const u=o[c];u.type=8,u.name="#comment",u.value="[CDATA["+e.dom.encode((r=u.value)!==null&&r!==void 0?r:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let r=o.length;const c=e.schema.getNonEmptyElements();for(;r--;){const u=o[r];u.isEmpty(c)&&u.getAll("br").length===0&&u.append(new Cc("br",1))}}),n},HU=e=>{const n=Ox(e);n&&Tl.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},VU=e=>{const n=e.dom.getRoot();!e.inline&&(!X1(e)||e.selection.getStart(!0)===n)&&ac(n).each(o=>{const r=o.getNode(),c=pl(r)?ac(r).getOr(o):o;e.selection.setRng(c.toRange())})},GS=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Wb(e),e.focus(!0),VU(e),e.nodeChanged({initial:!0});const n=pE(e);ce(n)&&n.call(e,e),HU(e)},EA=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,jU=(e,n,o)=>{const{pass:r,fail:c}=Ve(n,b=>tinymce.Resource.has(hz(b))),m=[...r.map(b=>{const v=tinymce.Resource.get(hz(b));return oe(v)?Promise.resolve(EA(e).loadRawCss(b,v)):Promise.resolve()}),EA(e).loadAll(c)];return e.inline?m:m.concat([e.ui.styleSheetLoader.loadAll(o)])},X8=e=>{const n=EA(e),o=_x(e),r=e.contentCSS,c=()=>{n.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(o)},u=()=>{e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){let v="";Xe.each(e.contentStyles,C=>{v+=C+`\r
`}),e.dom.addStyle(v)}const m=Promise.all(jU(e,r,o)).then(u).catch(u),b=M1(e);return b&&G8(e,b),m},UU=e=>{const n=e.getDoc(),o=e.getBody();tm(e),hE(e)||(n.body.spellcheck=!1,TA.setAttrib(o,"spellcheck","false")),e.quirks=$U(e),GE(e);const r=rE(e);r!==void 0&&(o.dir=r);const c=Dx(e);c&&e.on("BeforeSetContent",u=>{Xe.each(c,m=>{u.content=u.content.replace(m,b=>"<!--mce:protected "+escape(b)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",u=>{e.composing=u.type==="compositionstart"})},WU=e=>{Tp(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},zA=e=>{e.removed!==!0&&(WU(e),GS(e))},ZU=e=>{let n=!1;const o=setTimeout(()=>{n||e.setProgressState(!0)},500);return()=>{clearTimeout(o),n=!0,e.setProgressState(!1)}},J8=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(TA.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const r=e.getBody();r.disabled=!0,e.readonly=kb(e),e._editableRoot=Gi(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&TA.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=aL(e),e.schema=Rd(Y8(e)),e.dom=as(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:$d(e),referrerPolicy:Fn(e),onSetAttrib:m=>{e.dispatch("SetAttrib",m)},force_hex_color:Sg(e)}),e.parser=LU(e),e.serializer=DM(FU(e),e),e.selection=th(e.dom,e.getWin(),e.serializer,e),e.annotator=Vw(e),e.formatter=wz(e),e.undoManager=kz(e),e._nodeChangeDispatcher=new qV(e),e._selectionOverrides=kU(e),TH(e),Lj(e),vq(e),Tp(e)||(b8(e),PU(e));const c=ZV(e);gy(e,c),OH(e),qu(e),$j(e);const u=tF(e);UU(e),u.fold(()=>{const m=ZU(e);X8(e).then(()=>{zA(e),m()})},m=>{e.setProgressState(!0),X8(e).then(()=>{m().then(b=>{e.setProgressState(!1),zA(e),uz(e)},b=>{e.notificationManager.open({type:"error",text:String(b)}),zA(e),uz(e)})})})},qU=ut,Q8=(e,n,o)=>Lh(e,n,qU,o),AA=as.DOM,e7=(e,n,o,r)=>{const c=ee.fromTag("iframe");return r.each(u=>ss(c,"tabindex",u)),ai(c,o),ai(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),fd(c,"tox-edit-area__iframe"),c},GU=e=>{let n=yx(e)+"<html><head>";ew(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=tw(e),r=XT(e),c=e.translate(mE(e));return nw(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+nw(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${c}"><br></body></html>`,n},KU=(e,n)=>{const o=e.translate("Rich Text Area"),r=al(ee.fromDom(e.getElement()),"tabindex").bind(pu),c=e7(e.id,o,Q0(e),r).dom;c.onload=()=>{c.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=c,e.iframeHTML=GU(e),AA.add(n.iframeContainer,c)},t7=e=>{const n=e.iframeElement,o=()=>{e.contentDocument=n.contentDocument,J8(e)};if(xE(e)||_t.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),o()}else{const r=Q8(ee.fromDom(n),"load",()=>{r.unbind(),o()});n.srcdoc=e.iframeHTML}},C_=(e,n)=>{KU(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=AA.isHidden(n.editorContainer)),e.getElement().style.display="none",AA.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,t7(e)},n7=as.DOM,o7=(e,n,o)=>{const r=uy.get(o),c=uy.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=Xe.trim(o),r&&Xe.inArray(n,o)===-1){if(e.plugins[o])return;try{const u=r(e,c)||{};e.plugins[o]=u,ce(u.init)&&(u.init(e,c),n.push(o))}catch(u){jM(e,o,u)}}},YU=e=>e.replace(/^\-/,""),XU=e=>{const n=[];ve(_b(e),o=>{o7(e,n,YU(o))})},JU=e=>{const n=Xe.trim(sw(e)),o=e.ui.registry.getAll().icons,r={...Ik.get("default").icons,...Ik.get(n).icons};dt(r,(c,u)=>{Qt(o,u)||e.ui.registry.addIcon(u,c)})},QU=e=>{const n=wg(e);if(oe(n)){const o=Ep.get(n);e.theme=o(e,Ep.urls[n])||{},ce(e.theme.init)&&e.theme.init(e,Ep.urls[n]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},s7=e=>{const n=lw(e),o=su.get(n);e.model=o(e,su.urls[n])},eW=e=>{const n=e.theme.renderUI;return n?n():c7(e)},r7=e=>{const n=e.getElement(),r=wg(e)(e,n);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:n.offsetHeight,r},a7=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),tW=e=>{const n=n7.create("div");return n7.insertAfter(n,e),a7(n,n)},c7=e=>{const n=e.getElement();return e.inline?a7(null):tW(n)},nW=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,oe(wg(e))?eW(e):ce(wg(e))?r7(e):c7(e)},oW=(e,n)=>{const o={show:I.from(n.show).getOr(Et),hide:I.from(n.hide).getOr(Et),isEnabled:I.from(n.isEnabled).getOr(ut),setEnabled:r=>{e.mode.isReadOnly()||I.from(n.setEnabled).each(c=>c(r))}};e.ui={...e.ui,...o}},sW=async e=>{e.dispatch("ScriptsLoaded"),JU(e),QU(e),s7(e),XU(e);const n=await nW(e);oW(e,I.from(n.api).getOr({})),e.editorContainer=n.editorContainer,YF(e),e.inline?J8(e):C_(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},Cy=as.DOM,i7=e=>e.charAt(0)==="-",rW=(e,n)=>{const o=aw(n),r=ja(n);if(!wl.hasCode(o)&&o!=="en"){const c=So(r)?r:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(c).catch(()=>{Lk(n,c,o)})}},l7=(e,n)=>{const o=wg(e);if(oe(o)&&!i7(o)&&!Qt(Ep.urls,o)){const r=iE(e),c=r?e.documentBaseURI.toAbsolute(r):`themes/${o}/theme${n}.js`;Ep.load(o,c).catch(()=>{ZF(e,c,o)})}},OA=(e,n)=>{const o=lw(e);if(o!=="plugin"&&!Qt(su.urls,o)){const r=Cx(e),c=oe(r)?e.documentBaseURI.toAbsolute(r):`models/${o}/model${n}.js`;su.load(o,c).catch(()=>{VM(e,c,o)})}},u7=e=>I.from(ip(e)).filter(So).map(n=>({url:n,name:I.none()})),DA=(e,n,o)=>I.from(n).filter(r=>So(r)&&!Ik.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${o}.js`,name:I.some(r)})),aW=(e,n,o)=>{const r=DA(n,"default",o),c=u7(n).orThunk(()=>DA(n,sw(n),""));ve($s([r,c]),u=>{e.add(u.url).catch(()=>{WF(n,u.url,u.name.getOrUndefined())})})},cW=(e,n)=>{const o=(r,c)=>{uy.load(r,c).catch(()=>{bq(e,c,r)})};dt(Wf(e),(r,c)=>{o(c,r),e.options.set("plugins",_b(e).concat(c))}),ve(_b(e),r=>{r=Xe.trim(r),r&&!uy.urls[r]&&!i7(r)&&o(r,`plugins/${r}/plugin${n}.js`)})},iW=e=>{const n=wg(e);return!oe(n)||Re(Ep.get(n))},d7=e=>{const n=lw(e);return Re(su.get(n))},f7=(e,n)=>{const o=br.ScriptLoader,r=()=>{!e.removed&&iW(e)&&d7(e)&&sW(e)};l7(e,n),OA(e,n),rW(o,e),aW(o,e,n),cW(e,n),o.loadQueue().then(r,r)},lW=(e,n)=>x0.forElement(e,{contentCssCors:_g(n),referrerPolicy:Fn(n)}),uW=e=>{const n=e.id;wl.setCode(aw(e));const o=()=>{Cy.unbind(window,"ready",o),e.render()};if(!Vc.Event.domLoaded){Cy.bind(window,"ready",o);return}if(!e.getElement())return;const r=ee.fromDom(e.getElement()),c=wf(r);e.on("remove",()=>{tt(r.dom.attributes,m=>Is(r,m.name)),ai(r,c)}),e.ui.styleSheetLoader=lW(r,e),uw(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const u=e.getElement().form||Cy.getParent(n,"form");u&&(e.formElement=u,uE(e)&&!Um(e.getElement())&&(Cy.insertAfter(Cy.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=m=>{e.dispatch(m.type,m)},Cy.bind(u,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),zx(e)&&!u.submit.nodeType&&!u.submit.length&&!u._mceOldSubmit&&(u._mceOldSubmit=u.submit,u.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),u._mceOldSubmit(u)))),e.windowManager=HM(e),e.notificationManager=gz(e),TE(e)&&e.on("GetContent",m=>{m.save&&(m.content=Cy.encode(m.content))}),Bu(e)&&e.on("submit",()=>{e.initialized&&e.save()}),vb(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),f7(e,e.suffix)},RA=(e,n)=>{e._editableRoot!==n&&(e._editableRoot=n,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),QE(e,n))},KS=e=>e._editableRoot,YS=(e,n)=>({sections:Ye(e),options:Ye(n)}),ym=fc().deviceType,S_=ym.isPhone(),t0=ym.isTablet(),n0=e=>{if(yn(e))return[];{const n=Gt(e)?e:e.split(/[ ,]/),o=Pt(n,el);return Ie(o,So)}},dW=(e,n)=>{const o=ei(n,(r,c)=>Ke(e,c));return YS(o.t,o.f)},fW=(e,n,o={})=>{const r=e.sections(),c=Ho(r,n).getOr({});return Xe.extend({},o,c)},XS=(e,n)=>Qt(e.sections(),n),mW=(e,n)=>XS(e,n)?e.sections()[n]:{},MA=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Ho(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),JS=(e,n)=>{var o;const r=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?Xe.extend({},e.external_plugins,r):r},fh=(e,n)=>[...n0(e),...n0(n)],Sy=(e,n,o,r)=>e&&XS(n,"mobile")?r:o,m7=(e,n,o,r)=>{const c=n0(o.forced_plugins),u=n0(r.plugins),m=mW(n,"mobile"),b=m.plugins?n0(m.plugins):u,v=Sy(e,n,u,b),C=fh(c,v);return Xe.extend(r,{forced_plugins:c,plugins:C})},pW=(e,n)=>e&&XS(n,"mobile"),gW=(e,n,o,r,c)=>{var u;const m=e?{mobile:MA((u=c.mobile)!==null&&u!==void 0?u:{},n)}:{},b=dW(["mobile"],i_(m,c)),v=Xe.extend(o,r,b.options(),pW(e,b)?fW(b,"mobile"):{},{external_plugins:JS(r,b.options())});return m7(e,b,r,v)},hW=(e,n)=>gW(S_||t0,S_,n,e,n),bW=(e,n)=>mF(e,n),yW=e=>{const n=(r,c)=>{e.formatter.toggle(r,c),e.nodeChanged()},o=r=>()=>{ve("left,center,right,justify".split(","),c=>{r!==c&&e.formatter.remove("align"+c)}),r!=="none"&&n("align"+r)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},vW=e=>{const n=o=>()=>{const r=e.selection,c=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return hn(c,u=>Re(e.formatter.matchNode(u,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},p7=e=>{yW(e),vW(e)},wW=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let r;try{o.execCommand(n)}catch{r=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(r=!0),r||!o.queryCommandSupported(n)){let c=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(_t.os.isMacOS()||_t.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:c,type:"error"})}}})},kW=(e,n,o,r)=>{const c=ee.fromDom(e.getRoot());return gv(c,_e.fromRangeStart(n),r)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),hv(c,_e.fromRangeEnd(n),r)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},_W=e=>{if(typeof e!="string"){const n=Xe.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},Lq=(e,n)=>{const o=e.selection,r=e.dom;return/^ | $/.test(n)?kW(r,o.getRng(),n,e.schema):n},QS=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:r}=_W(n);j3(e,{...r,content:Lq(e,o),format:"html",set:!1,selection:!0}).each(c=>{const u=dF(e,c.content,r);bC(e,u,c),e.addVisual()})}},BA=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,r)=>{QS(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,r)=>{QS(e,e.dom.encode(r))},insertHTML:(n,o,r)=>{QS(e,r)},mceInsertContent:(n,o,r)=>{QS(e,r)},mceSetContent:(n,o,r)=>{e.setContent(r)},mceReplaceContent:(n,o,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(xg(e))}})},xW={"font-size":"size","font-family":"face"},CW=ri("font"),g7=(e,n,o)=>{const r=u=>cr(u,e).orThunk(()=>CW(u)?Ho(xW,e).bind(m=>al(u,m)):I.none()),c=u=>fo(ee.fromDom(n),u);return xp(ee.fromDom(o),u=>r(u),c)},SW=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),h7=(e,n)=>I.from(as.DOM.getStyle(n,e,!0)),b7=e=>(n,o)=>I.from(o).map(ee.fromDom).filter(pa).bind(r=>g7(e,n,r.dom).or(h7(e,r.dom))).getOr(""),NA=b7("font-size"),TW=E(SW,b7("font-family")),EW=e=>ac(e.getBody()).bind(n=>{const o=n.container();return I.from(Je(o)?o.parentNode:o)}),zW=e=>I.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?I.none():I.from(e.selection.getStart(!0))}),AW=(e,n)=>zW(e).orThunk(Ue(EW,e)).map(ee.fromDom).filter(pa).bind(n),eT=(e,n)=>AW(e,lo(I.some,n)),tT=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const r=CE(e),c=SE(e);return c.length>0?c[o-1]||n:r[o-1]||n}else return n}else return n},y7=e=>{const n=e.split(/\s*,\s*/);return Pt(n,o=>o.indexOf(" ")!==-1&&!(Es(o,'"')||Es(o,"'"))?`'${o}'`:o).join(",")},PA=(e,n)=>{const o=tT(e,n);e.formatter.toggle("fontname",{value:y7(o)}),e.nodeChanged()},OW=e=>eT(e,n=>TW(e.getBody(),n.dom)).getOr(""),Hq=(e,n)=>{e.formatter.toggle("fontsize",{value:tT(e,n)}),e.nodeChanged()},Vq=e=>eT(e,n=>NA(e.getBody(),n.dom)).getOr(""),DW=e=>eT(e,n=>{const o=ee.fromDom(e.getBody()),r=xp(n,u=>cr(u,"line-height"),Ue(fo,o)),c=()=>{const u=parseFloat(Ws(n,"line-height")),m=parseFloat(Ws(n,"font-size"));return String(u/m)};return r.getOrThunk(c)}).getOr(""),v7=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},RW=e=>{const n=(o,r)=>{e.formatter.toggle(o,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,r,c)=>{n(o,{value:c})},BackColor:(o,r,c)=>{n("hilitecolor",{value:c})},FontName:(o,r,c)=>{PA(e,c)},FontSize:(o,r,c)=>{Hq(e,c)},LineHeight:(o,r,c)=>{v7(e,c)},Lang:(o,r,c)=>{var u;n(o,{value:c.code,customValue:(u=c.customCode)!==null&&u!==void 0?u:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,r,c)=>{n(oe(c)?c:"p")},mceToggleFormat:(o,r,c)=>{n(c)}})},MW=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>OW(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>Vq(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>DW(e))},BW=e=>{RW(e),MW(e)},jq=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},Uq=e=>{e.editorCommands.addCommands({Indent:()=>{SH(e)},Outdent:()=>{s5(e)}}),e.editorCommands.addCommands({Outdent:()=>QC(e)},"state")},w7=e=>{const n=(o,r,c)=>{const u=oe(c)?{href:c}:c,m=e.dom.getParent(e.selection.getNode(),"a");Ut(u)&&oe(u.href)&&(u.href=u.href.replace(/ /g,"%20"),(!m||!u.href)&&e.formatter.remove("link"),u.href&&e.formatter.apply("link",u,m))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:n,createLink:n})},k7=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{e.getDoc().execCommand(n);const o=e.dom.getParent(e.selection.getNode(),"ol,ul");if(o){const r=o.parentNode;if(r&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)){const c=e.selection.getBookmark();e.dom.split(r,o),e.selection.moveToBookmark(c)}}}})},NW=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{const o=e.dom.getParent(e.selection.getNode(),"ul,ol");return o&&(n==="insertunorderedlist"&&o.tagName==="UL"||n==="insertorderedlist"&&o.tagName==="OL")}},"state")},PW=e=>{k7(e),NW(e)},$W=(e,n,o,r)=>{const c=e.dom,u=b=>c.isBlock(b)&&b.parentElement===o,m=u(n)?n:c.getParent(r,u,o);return I.from(m).map(ee.fromDom)},IW=(e,n)=>{const o=e.dom,r=e.selection.getRng(),c=n?e.selection.getStart():e.selection.getEnd(),u=n?r.startContainer:r.endContainer,m=hy(o,u);if(!m||!m.isContentEditable)return;const b=n?gr:Hi,v=Va(e);$W(e,c,m,u).each(C=>{const O=H5(e,u,C.dom,m,!1,v);b(C,ee.fromDom(O)),e.selection.setCursorLocation(O,0),e.dispatch("NewBlock",{newBlock:O}),m_(e,"insertParagraph")})},Wq=e=>IW(e,!0),Zq=e=>IW(e,!1),FW=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{Wq(e)},InsertNewBlockAfter:()=>{Zq(e)}})},qq=e=>{e.editorCommands.addCommands({insertParagraph:()=>{yy(yN,e)},mceInsertNewLine:(n,o,r)=>{CN(e,r)},InsertLineBreak:(n,o,r)=>{yy(TV,e)}})},LW=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,r)=>{let c=0;e.dom.getParent(e.selection.getNode(),u=>Dt(u)&&c++===r?(e.selection.select(u),!1):!0,e.getBody())},mceSelectNode:(n,o,r)=>{e.selection.select(r)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),ta);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},Ty=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,r)=>{const c=r??e.selection.getNode();if(c!==e.getBody()){const u=e.selection.getBookmark();e.dom.remove(c,!0),e.selection.moveToBookmark(u)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,r)=>{bP(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},$A=e=>{p7(e),wW(e),jq(e),LW(e),BA(e),w7(e),Uq(e),FW(e),qq(e),PW(e),BW(e),Ty(e)},nT=["toggleview"],IA=e=>Ke(nT,e.toLowerCase());class FA{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,r,c){const u=this.editor,m=n.toLowerCase(),b=c==null?void 0:c.skip_focus;if(u.removed||(m!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(m)&&!b?u.focus():oP(u)),u.dispatch("BeforeExecCommand",{command:n,ui:o,value:r}).isDefaultPrevented()))return!1;const C=this.commands.exec[m];return ce(C)?(C(m,o,r),u.dispatch("ExecCommand",{command:n,ui:o,value:r}),!0):!1}queryCommandState(n){if(!IA(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),r=this.commands.state[o];return ce(r)?r(o):!1}queryCommandValue(n){if(!IA(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),r=this.commands.value[o];return ce(r)?r(o):""}addCommands(n,o="exec"){const r=this.commands;dt(n,(c,u)=>{ve(u.toLowerCase().split(","),m=>{r[o][m]=c})})}addCommand(n,o,r){const c=n.toLowerCase();this.commands.exec[c]=(u,m,b)=>o.call(r??this.editor,m,b)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,r){this.commands.state[n.toLowerCase()]=()=>o.call(r??this.editor)}addQueryValueHandler(n,o,r){this.commands.value[n.toLowerCase()]=()=>o.call(r??this.editor)}}const mh="data-mce-contenteditable",HW=(e,n,o)=>{$l(e,n)&&!o?md(e,n):o&&fd(e,n)},LA=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch{}},oT=(e,n)=>{e.dom.contentEditable=n?"true":"false"},VW=e=>{ve(Tr(e,'*[contenteditable="true"]'),n=>{ss(n,mh,"true"),oT(n,!1)})},ph=e=>{ve(Tr(e,`*[${mh}="true"]`),n=>{Is(n,mh),oT(n,!0)})},jW=e=>{I.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},_7=e=>{e.selection.setRng(e.selection.getRng())},UW=(e,n)=>{const o=ee.fromDom(e.getBody());HW(o,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),jW(e),e.readonly=!0,oT(o,!1),VW(o)):(e.readonly=!1,e.hasEditableRoot()&&oT(o,!0),ph(o),LA(e,"StyleWithCSS",!1),LA(e,"enableInlineTableEditing",!1),LA(e,"enableObjectResizing",!1),MO(e)&&e.focus(),_7(e),e.nodeChanged())},vm=e=>e.readonly,x7=e=>{e.parser.addAttributeFilter("contenteditable",n=>{vm(e)&&ve(n,o=>{o.attr(mh,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(mh,n=>{vm(e)&&ve(n,o=>{o.attr("contenteditable",o.attr(mh))})}),e.serializer.addTempAttr(mh)},WW=e=>{e.serializer?x7(e):e.on("PreInit",()=>{x7(e)})},ZW=e=>e.type==="click",C7=["copy"],qW=e=>Ke(C7,e.type),GW=(e,n)=>ul(n,"a",r=>fo(r,ee.fromDom(e.getBody()))).bind(r=>al(r,"href")),KW=(e,n)=>{if(ZW(n)&&!zt.metaKeyPressed(n)){const o=ee.fromDom(n.target);GW(e,o).each(r=>{if(n.preventDefault(),/^#/.test(r)){const c=e.dom.select(`${r},[name="${du(r,"#")}"]`);c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else qW(n)&&e.dispatch(n.type,n)},HA=e=>{e.on("ShowCaret",n=>{vm(e)&&n.preventDefault()}),e.on("ObjectSelected",n=>{vm(e)&&n.preventDefault()})},YW=Xe.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class VA{static isNative(n){return!!YW[n.toLowerCase()]}constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||He}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const r=n.toLowerCase(),c=og(r,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);const u=this.bindings[r];if(u)for(let m=0,b=u.length;m<b;m++){const v=u[m];if(!v.removed){if(v.once&&this.off(r,v.func),c.isImmediatePropagationStopped())return c;if(v.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c}on(n,o,r,c){if(o===!1&&(o=He),o){const u={func:o,removed:!1};c&&Xe.extend(u,c);const m=n.toLowerCase().split(" ");let b=m.length;for(;b--;){const v=m[b];let C=this.bindings[v];C||(C=[],this.toggleEvent(v,!0)),r?C=[u,...C]:C=[...C,u],this.bindings[v]=C}}return this}off(n,o){if(n){const r=n.toLowerCase().split(" ");let c=r.length;for(;c--;){const u=r[c];let m=this.bindings[u];if(!u)return dt(this.bindings,(b,v)=>{this.toggleEvent(v,!1),delete this.bindings[v]}),this;if(m){if(!o)m.length=0;else{const b=Ve(m,v=>v.func===o);m=b.fail,this.bindings[u]=m,ve(b.pass,v=>{v.removed=!0})}m.length||(this.toggleEvent(n,!1),delete this.bindings[u])}}}else dt(this.bindings,(r,c)=>{this.toggleEvent(c,!1)}),this.bindings={};return this}once(n,o,r){return this.on(n,o,r,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const sr=e=>(e._eventDispatcher||(e._eventDispatcher=new VA({scope:e,toggleEvent:(n,o)=>{VA.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),jA={fire(e,n,o){return this.dispatch(e,n,o)},dispatch(e,n,o){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return og(e.toLowerCase(),n??{},r);const c=sr(r).dispatch(e,n);if(o!==!1&&r.parent){let u=r.parent();for(;u&&!c.isPropagationStopped();)u.dispatch(e,c,!1),u=u.parent?u.parent():void 0}return c},on(e,n,o){return sr(this).on(e,n,o)},off(e,n){return sr(this).off(e,n)},once(e,n){return sr(this).once(e,n)},hasEventListeners(e){return sr(this).has(e)}},sT=as.DOM;let Rp;const T_=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=Uf(e);return o?(e.eventRoot||(e.eventRoot=sT.select(o)[0]),e.eventRoot):e.getBody()},UA=e=>!e.hidden&&!vm(e),S7=(e,n,o)=>{UA(e)?e.dispatch(n,o):vm(e)&&KW(e,o)},T7=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=T_(e,n);if(Uf(e)){if(Rp||(Rp={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||Rp&&(dt(Rp,(c,u)=>{e.dom.unbind(T_(e,u))}),Rp=null)})),Rp[n])return;const r=c=>{const u=c.target,m=e.editorManager.get();let b=m.length;for(;b--;){const v=m[b].getBody();(v===u||sT.isChildOf(u,v))&&S7(m[b],n,c)}};Rp[n]=r,sT.bind(o,n,r)}else{const r=c=>{S7(e,n,c)};sT.bind(o,n,r),e.delegates[n]=r}},E7={...jA,bindPendingEventDelegates(){const e=this;Xe.each(e._pendingNativeEvents,n=>{T7(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?T7(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(T_(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(dt(e.delegates,(r,c)=>{e.dom.unbind(T_(e,c),c,r)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}},XW=e=>oe(e)?{value:e.split(/[ ,]/),valid:!0}:Nn(e,oe)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},JW=e=>{const n=(()=>{switch(e){case"array":return Gt;case"boolean":return tn;case"function":return ce;case"number":return Qo;case"object":return Ut;case"string":return oe;case"string[]":return XW;case"object[]":return o=>Nn(o,Ut);case"regexp":return o=>Ao(o,RegExp);default:return ut}})();return o=>gh(o,n,`The value must be a ${e}.`)},QW=e=>oe(e.processor),z7=(e,n)=>{const o=Aa(n.message)?"":`. ${n.message}`;return e+o},A7=e=>e.valid,gh=(e,n,o="")=>{const r=n(e);return tn(r)?r?{value:e,valid:!0}:{valid:!1,message:o}:r},af=(e,n,o)=>{if(!$n(n)){const r=gh(n,o);if(A7(r))return r.value;console.error(z7(`Invalid default value passed for the "${e}" option`,r))}},eZ=(e,n)=>{const o={},r={},c=(D,N,G)=>{const X=gh(N,G);return A7(X)?(r[D]=X.value,!0):(console.warn(z7(`Invalid value passed for the ${D} option`,X)),!1)},u=(D,N)=>{const G=QW(N)?JW(N.processor):N.processor,X=af(D,N.default,G);o[D]={...N,default:X,processor:G},Ho(r,D).orThunk(()=>Ho(n,D)).each(J=>c(D,J,G))},m=D=>Qt(o,D);return{register:u,isRegistered:m,get:D=>Ho(r,D).orThunk(()=>Ho(o,D).map(N=>N.default)).getOrUndefined(),set:(D,N)=>{if(m(D)){const G=o[D];return G.immutable?(console.error(`"${D}" is an immutable option and cannot be updated`),!1):c(D,N,G.processor)}else return console.warn(`"${D}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:D=>{const N=m(D);return N&&delete r[D],N},isSet:D=>Qt(r,D)}},tZ=["design","readonly"],O7=(e,n,o,r)=>{const c=o[n.get()],u=o[r];try{u.activate()}catch(m){console.error(`problem while activating editor mode ${r}:`,m);return}c.deactivate(),c.editorReadOnly!==u.editorReadOnly&&UW(e,u.editorReadOnly),n.set(r),Ww(e,r)},nZ=(e,n,o,r)=>{if(r!==o.get()){if(!Qt(n,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?O7(e,o,n,r):e.on("init",()=>O7(e,o,n,r))}},oZ=(e,n,o)=>{if(Ke(tZ,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${n}:`,r)}}}}},sZ=e=>{const n=As("design"),o=As({design:{activate:Et,deactivate:Et,editorReadOnly:!1},readonly:{activate:Et,deactivate:Et,editorReadOnly:!0}});return WW(e),HA(e),{isReadOnly:()=>vm(e),set:r=>nZ(e,o.get(),n,r),get:()=>n.get(),register:(r,c)=>{o.set(oZ(o.get(),r,c))}}},WA=Xe.each,ZA=Xe.explode,rZ={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},aZ=Xe.makeMap("alt,ctrl,shift,meta,access"),cZ=e=>e in aZ,iZ=e=>{const n={},o=_t.os.isMacOS()||_t.os.isiOS();WA(ZA(e.toLowerCase(),"+"),u=>{cZ(u)?n[u]=!0:/^[0-9]{2,}$/.test(u)?n.keyCode=parseInt(u,10):(n.charCode=u.charCodeAt(0),n.keyCode=rZ[u]||u.toUpperCase().charCodeAt(0))});const r=[n.keyCode];let c;for(c in aZ)n[c]?r.push(c):n[c]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class D7{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",r=>{(o.hasModifier(r)||o.isFunctionKey(r))&&!r.isDefaultPrevented()&&(WA(o.shortcuts,c=>{o.matchShortcut(r,c)&&(o.pendingPatterns=c.subpatterns.slice(0),r.type==="keydown"&&o.executeShortcutAction(c))}),o.matchShortcut(r,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&r.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,r,c){const u=this,m=u.normalizeCommandFunc(r);return WA(ZA(Xe.trim(n)),b=>{const v=u.createShortcut(b,o,m,c);u.shortcuts[v.id]=v}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,r=n;return typeof r=="string"?()=>{o.editor.execCommand(r,!1,null)}:Xe.isArray(r)?()=>{o.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(n,o,r,c){const u=Xe.map(ZA(n,">"),iZ);return u[u.length-1]=Xe.extend(u[u.length-1],{func:r,scope:c||this.editor}),Xe.extend(u[0],{desc:this.editor.translate(o),subpatterns:u.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const lZ=()=>{const e={},n={},o={},r={},c={},u={},m={},b={},v=(O,D)=>(N,G)=>{O[N.toLowerCase()]={...G,type:D}},C=(O,D)=>r[O.toLowerCase()]=D;return{addButton:v(e,"button"),addGroupToolbarButton:v(e,"grouptoolbarbutton"),addToggleButton:v(e,"togglebutton"),addMenuButton:v(e,"menubutton"),addSplitButton:v(e,"splitbutton"),addMenuItem:v(n,"menuitem"),addNestedMenuItem:v(n,"nestedmenuitem"),addToggleMenuItem:v(n,"togglemenuitem"),addAutocompleter:v(o,"autocompleter"),addContextMenu:v(c,"contextmenu"),addContextToolbar:v(u,"contexttoolbar"),addContextForm:v(u,"contextform"),addSidebar:v(m,"sidebar"),addView:v(b,"views"),addIcon:C,getAll:()=>({buttons:e,menuItems:n,icons:r,popups:o,contextMenus:c,contextToolbars:u,sidebars:m,views:b})}},uZ=()=>{const e=lZ();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},Ey=as.DOM,dZ=Xe.extend,fZ=Xe.each;class rT{constructor(n,o,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,dZ(this,E7);const c=this;this.id=n,this.hidden=!1;const u=hW(r.defaultOptions,o);this.options=eZ(c,u),bx(c);const m=this.options.get;m("deprecation_warnings")&&pq(o,u);const b=m("suffix");b&&(r.suffix=b),this.suffix=r.suffix;const v=m("base_url");v&&r._setBaseUrl(v),this.baseUri=r.baseURI;const C=Fn(c);C&&(br.ScriptLoader._setReferrerPolicy(C),as.DOM.styleSheetLoader._setReferrerPolicy(C));const O=_g(c);Re(O)&&as.DOM.styleSheetLoader._setContentCssCors(O),La.languageLoad=m("language_load"),La.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new nu(ew(c),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=uw(c),this.hasVisual=dE(c),this.shortcuts=new D7(this),this.editorCommands=new FA(this),$A(this);const D=m("cache_suffix");D&&(_t.cacheSuffix=D.replace(/^[\?\&]+/,"")),this.ui={registry:uZ(),styleSheetLoader:void 0,show:Et,hide:Et,setEnabled:Et,isEnabled:ut},this.mode=sZ(c),r.dispatch("SetupEditor",{editor:this});const N=dw(c);ce(N)&&N.call(c,c)}render(){uW(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return qg(this)}translate(n){return wl.translate(n)}getParam(n,o,r){const c=this.options;return c.isRegistered(n)||(Re(r)?c.register(n,{processor:r,default:o}):c.register(n,{processor:ut,default:o})),!c.isSet(n)&&!$n(o)?o:c.get(n)}hasPlugin(n,o){return Ke(_b(this),n)?o?uy.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,r){this.editorCommands.addCommand(n,o,r)}addQueryStateHandler(n,o,r){this.editorCommands.addQueryStateHandler(n,o,r)}addQueryValueHandler(n,o,r){this.editorCommands.addQueryValueHandler(n,o,r)}addShortcut(n,o,r,c){this.shortcuts.add(n,o,r,c)}execCommand(n,o,r,c){return this.editorCommands.execCommand(n,o,r,c)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(Ey.show(n.getContainer()),Ey.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(Ey.hide(n.getContainer()),Ey.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,r=o.getElement();if(o.removed)return"";if(r){const c={...n,load:!0},u=Um(r)?r.value:r.innerHTML,m=o.setContent(u,c);return c.no_events||o.dispatch("LoadContent",{...c,element:r}),m}else return""}save(n={}){const o=this;let r=o.getElement();if(!r||!o.initialized||o.removed)return"";const c={...n,save:!0,element:r};let u=o.getContent(c);const m={...c,content:u};if(m.no_events||o.dispatch("SaveContent",m),m.format==="raw"&&o.dispatch("RawSaveContent",m),u=m.content,Um(r))r.value=u;else{(n.is_removing||!o.inline)&&(r.innerHTML=u);const b=Ey.getParent(o.id,"form");b&&fZ(b.elements,v=>v.name===o.id?(v.value=u,!1):!0)}return m.element=c.element=r=null,m.set_dirty!==!1&&o.setDirty(!1),u}setContent(n,o){return fz(this,n,o)}getContent(n){return MM(this,n)}insertContent(n,o){o&&(n=dZ({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?fz(this,this.startContent,{format:"raw"}):fz(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||Ey.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Ey.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const r=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:r==null?void 0:r.body)!==null&&o!==void 0?o:null}convertURL(n,o,r){const c=this,u=c.options.get,m=gE(c);if(ce(m))return m.call(c,n,r,!0,o);if(!u("convert_urls")||r==="link"||Ut(r)&&r.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0)return n;const b=new nu(n);return b.protocol!=="http"&&b.protocol!=="https"&&b.protocol!==""?n:u("relative_urls")?c.documentBaseURI.toRelative(n):(n=c.documentBaseURI.toAbsolute(n,u("remove_script_host")),n)}addVisual(n){bW(this,n)}setEditableRoot(n){RA(this,n)}hasEditableRoot(){return KS(this)}remove(){FF(this)}destroy(n){LF(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const o0=as.DOM,aT=Xe.each;let R7=!1,cT,zi=[];const iT=e=>{const n=e.type;aT(hh.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},M7=e=>{if(e!==R7){const n=as.DOM;e?(n.bind(window,"resize",iT),n.bind(window,"scroll",iT)):(n.unbind(window,"resize",iT),n.unbind(window,"scroll",iT)),R7=e}},B7=e=>{const n=zi;return zi=Ie(zi,o=>e!==o),hh.activeEditor===e&&(hh.activeEditor=zi.length>0?zi[0]:null),hh.focusedEditor===e&&(hh.focusedEditor=null),n.length!==zi.length},mZ=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(B7(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},pZ=document.compatMode!=="CSS1Compat",hh={...jA,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"8.3",releaseDate:"2024-02-08",i18n:wl,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",r=nu.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const c=window.tinymce||window.tinyMCEPreInit;if(c)n=c.base||c.baseURL,o=c.suffix;else{const u=document.getElementsByTagName("script");for(let m=0;m<u.length;m++){const b=u[m].src||"";if(b==="")continue;const v=b.substring(b.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(b)){v.indexOf(".min")!==-1&&(o=".min"),n=b.substring(0,b.lastIndexOf("/"));break}}if(!n&&document.currentScript){const m=document.currentScript.src;m.indexOf(".min")!==-1&&(o=".min"),n=m.substring(0,m.lastIndexOf("/"))}}e.baseURL=new nu(r).toAbsolute(n),e.documentBaseURL=r,e.baseURI=new nu(e.baseURL),e.suffix=o,uP(e)},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&dt(r,(c,u)=>{La.PluginManager.urls[u]=c})},init(e){const n=this;let o;const r=Xe.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=(O,D)=>O.inline&&D.tagName.toLowerCase()in r,u=O=>{let D=O.id;return D||(D=Ho(O,"name").filter(N=>!o0.get(N)).getOrThunk(o0.uniqueId),O.setAttribute("id",D)),D},m=O=>{const D=e[O];if(D)return D.apply(n,[])},b=O=>_t.browser.isIE()||_t.browser.isEdge()?(Hk("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):pZ?(Hk("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):oe(O.selector)?o0.select(O.selector):Re(O.target)?[O.target]:[];let v=O=>{o=O};const C=()=>{let O=0;const D=[];let N;const G=(X,U,J)=>{const le=new rT(X,U,n);D.push(le),le.on("init",()=>{++O===N.length&&v(D)}),le.targetElm=le.targetElm||J,le.render()};o0.unbind(window,"ready",C),m("onpageload"),N=rd(b(e)),Xe.each(N,X=>{mZ(n.get(X.id))}),N=Xe.grep(N,X=>!n.get(X.id)),N.length===0?v([]):aT(N,X=>{c(e,X)?Hk("Could not initialize inline editor on invalid inline target element",X):G(u(X),e,X)})};return o0.bind(window,"ready",C),new Promise(O=>{o?O(o):v=D=>{O(D)}})},get(e){return arguments.length===0?zi.slice(0):oe(e)?go(zi,n=>n.id===e).getOr(null):Qo(e)&&zi[e]?zi[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&zi.push(e),M7(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),cT||(cT=r=>{const c=n.dispatch("BeforeUnload");if(c.returnValue)return r.preventDefault(),r.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",cT))),e},createEditor(e,n){return this.add(new rT(e,n,this))},remove(e){const n=this;let o;if(!e){for(let r=zi.length-1;r>=0;r--)n.remove(zi[r]);return}if(oe(e)){aT(o0.select(e),r=>{o=n.get(r.id),o&&n.remove(o)});return}return o=e,Y(n.get(o.id))?null:(B7(o)&&n.dispatch("RemoveEditor",{editor:o}),zi.length===0&&window.removeEventListener("beforeunload",cT),o.remove(),M7(zi.length>0),o)},execCommand(e,n,o){var r;const c=this,u=Ut(o)?(r=o.id)!==null&&r!==void 0?r:o.index:o;switch(e){case"mceAddEditor":{if(!c.get(u)){const m=o.options;new rT(u,m,c).render()}return!0}case"mceRemoveEditor":{const m=c.get(u);return m&&m.remove(),!0}case"mceToggleEditor":{const m=c.get(u);return m?(m.isHidden()?m.show():m.hide(),!0):(c.execCommand("mceAddEditor",!1,o),!0)}}return c.activeEditor?c.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{aT(zi,e=>{e.save()})},addI18n:(e,n)=>{wl.add(e,n)},translate:e=>wl.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new nu(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new nu(this.baseURL)}};hh.setup();const gZ=(()=>{const e=Ff(),n=u=>({items:u,types:ts(u),getType:m=>Ho(u,m).getOrUndefined()}),o=u=>{e.set(u)},r=()=>e.get().getOrUndefined(),c=e.clear;return{FakeClipboardItem:n,write:o,read:r,clear:c}})(),N7=Math.min,zy=Math.max,lT=Math.round,P7=(e,n,o)=>{let r=n.x,c=n.y;const u=e.w,m=e.h,b=n.w,v=n.h,C=(o||"").split("");return C[0]==="b"&&(c+=v),C[1]==="r"&&(r+=b),C[0]==="c"&&(c+=lT(v/2)),C[1]==="c"&&(r+=lT(b/2)),C[3]==="b"&&(c-=m),C[4]==="r"&&(r-=u),C[3]==="c"&&(c-=lT(m/2)),C[4]==="c"&&(r-=lT(u/2)),s0(r,c,u,m)},hZ=(e,n,o,r)=>{for(let c=0;c<r.length;c++){const u=P7(e,n,r[c]);if(u.x>=o.x&&u.x+u.w<=o.w+o.x&&u.y>=o.y&&u.y+u.h<=o.h+o.y)return r[c]}return null},bZ=(e,n,o)=>s0(e.x-n,e.y-o,e.w+n*2,e.h+o*2),yZ=(e,n)=>{const o=zy(e.x,n.x),r=zy(e.y,n.y),c=N7(e.x+e.w,n.x+n.w),u=N7(e.y+e.h,n.y+n.h);return c-o<0||u-r<0?null:s0(o,r,c-o,u-r)},vZ=(e,n,o)=>{let r=e.x,c=e.y,u=e.x+e.w,m=e.y+e.h;const b=n.x+n.w,v=n.y+n.h,C=zy(0,n.x-r),O=zy(0,n.y-c),D=zy(0,u-b),N=zy(0,m-v);return r+=C,c+=O,o&&(u+=C,m+=O,r-=D,c-=N),u-=D,m-=N,s0(r,c,u-r,m-c)},s0=(e,n,o,r)=>({x:e,y:n,w:o,h:r}),$7={inflate:bZ,relativePosition:P7,findBestRelativePosition:hZ,intersect:yZ,clamp:vZ,create:s0,fromClientRect:e=>s0(e.left,e.top,e.width,e.height)},wZ=(e,n,o=1e3)=>{let r=!1,c=null;const u=C=>(...O)=>{r||(r=!0,c!==null&&(clearTimeout(c),c=null),C.apply(null,O))},m=u(e),b=u(n);return{start:(...C)=>{!r&&c===null&&(c=setTimeout(()=>b.apply(null,C),o))},resolve:m,reject:b}},kZ=(()=>{const e={},n={},o={};return{load:(v,C)=>{const O=`Script at URL "${C}" failed to load`,D=`Script at URL "${C}" did not call \`tinymce.Resource.add('${v}', data)\` within 1 second`;if(e[v]!==void 0)return e[v];{const N=new Promise((G,X)=>{const U=wZ(G,X);n[v]=U.resolve,br.ScriptLoader.loadScript(C).then(()=>U.start(D),()=>U.reject(O))});return e[v]=N,N}},add:(v,C)=>{n[v]!==void 0&&(n[v](C),delete n[v]),e[v]=Promise.resolve(C),o[v]=C},has:v=>v in o,get:v=>o[v],unload:v=>{delete e[v]}}})(),_Z=()=>(()=>{let e={},n=[];const o={getItem:r=>{const c=e[r];return c||null},setItem:(r,c)=>{n.push(r),e[r]=String(c)},key:r=>n[r],removeItem:r=>{n=n.filter(c=>c===r),delete e[r]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let E_;try{const e="__storage_test__";E_=window.localStorage,E_.setItem(e,e),E_.removeItem(e)}catch{E_=_Z()}var xZ=E_;const CZ={geom:{Rect:$7},util:{Delay:Tl,Tools:Xe,VK:zt,URI:nu,EventDispatcher:VA,Observable:jA,I18n:wl,LocalStorage:xZ,ImageUploader:sL},dom:{EventUtils:Vc,TreeWalker:qo,TextSeeker:Lf,DOMUtils:as,ScriptLoader:br,RangeUtils:H,Serializer:DM,StyleSheetLoader:k0,ControlSelection:_O,BookmarkManager:gp,Selection:th,Event:Vc.Event},html:{Styles:u1,Entities:Pf,Node:Cc,Schema:Rd,DomParser:Wu,Writer:qO,Serializer:Gg},Env:_t,AddOnManager:La,Annotator:Vw,Formatter:wz,UndoManager:kz,EditorCommands:FA,WindowManager:HM,NotificationManager:gz,EditorObservable:E7,Shortcuts:D7,Editor:rT,FocusManager:EO,EditorManager:hh,DOM:as.DOM,ScriptLoader:br.ScriptLoader,PluginManager:uy,ThemeManager:Ep,ModelManager:su,IconManager:Ik,Resource:kZ,FakeClipboard:gZ,trim:Xe.trim,isArray:Xe.isArray,is:Xe.is,toArray:Xe.toArray,makeMap:Xe.makeMap,each:Xe.each,map:Xe.map,grep:Xe.grep,inArray:Xe.inArray,extend:Xe.extend,walk:Xe.walk,resolve:Xe.resolve,explode:Xe.explode,_addCacheSuffix:Xe._addCacheSuffix},I7=Xe.extend(hh,CZ),F7=e=>{try{F.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(I7),F7(I7)})()})(gY);(function(){var F=tinymce.util.Tools.resolve("tinymce.ModelManager");const V=(l,f,g)=>{var y;return g(l,f.prototype)?!0:((y=l.constructor)===null||y===void 0?void 0:y.name)===f.name},j=l=>{const f=typeof l;return l===null?"null":f==="object"&&Array.isArray(l)?"array":f==="object"&&V(l,String,(g,y)=>y.isPrototypeOf(g))?"string":f},re=l=>f=>j(f)===l,se=l=>f=>typeof f===l,pe=l=>f=>l===f,ze=re("string"),Me=re("object"),Ge=re("array"),Fe=pe(null),Ze=se("boolean"),ht=pe(void 0),On=l=>l==null,_n=l=>!On(l),io=se("function"),Tn=se("number"),it=()=>{},zo=(l,f)=>(...g)=>l(f.apply(null,g)),Ao=(l,f)=>g=>l(f(g)),oe=l=>()=>l,Ut=l=>l,St=(l,f)=>l===f;function Gt(l,...f){return(...g)=>{const y=f.concat(g);return l.apply(null,y)}}const Y=l=>f=>!l(f),tn=l=>()=>{throw new Error(l)},$n=l=>l(),yn=oe(!1),Re=oe(!0);class ce{constructor(f,g){this.tag=f,this.value=g}static some(f){return new ce(!0,f)}static none(){return ce.singletonNone}fold(f,g){return this.tag?g(this.value):f()}isSome(){return this.tag}isNone(){return!this.tag}map(f){return this.tag?ce.some(f(this.value)):ce.none()}bind(f){return this.tag?f(this.value):ce.none()}exists(f){return this.tag&&f(this.value)}forall(f){return!this.tag||f(this.value)}filter(f){return!this.tag||f(this.value)?this:ce.none()}getOr(f){return this.tag?this.value:f}or(f){return this.tag?this:f}getOrThunk(f){return this.tag?this.value:f()}orThunk(f){return this.tag?this:f()}getOrDie(f){if(this.tag)return this.value;throw new Error(f??"Called getOrDie on None")}static from(f){return _n(f)?ce.some(f):ce.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(f){this.tag&&f(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ce.singletonNone=new ce(!1);const Qo=Array.prototype.slice,Nn=Array.prototype.indexOf,Et=Array.prototype.push,E=(l,f)=>Nn.call(l,f),lo=(l,f)=>E(l,f)>-1,Ye=(l,f)=>{for(let g=0,y=l.length;g<y;g++){const x=l[g];if(f(x,g))return!0}return!1},wo=(l,f)=>{const g=[];for(let y=0;y<l;y++)g.push(f(y));return g},Yt=(l,f)=>{const g=l.length,y=new Array(g);for(let x=0;x<g;x++){const z=l[x];y[x]=f(z,x)}return y},Ue=(l,f)=>{for(let g=0,y=l.length;g<y;g++){const x=l[g];f(x,g)}},Po=(l,f)=>{for(let g=l.length-1;g>=0;g--){const y=l[g];f(y,g)}},Ps=(l,f)=>{const g=[],y=[];for(let x=0,z=l.length;x<z;x++){const B=l[x];(f(B,x)?g:y).push(B)}return{pass:g,fail:y}},Xn=(l,f)=>{const g=[];for(let y=0,x=l.length;y<x;y++){const z=l[y];f(z,y)&&g.push(z)}return g},Vs=(l,f,g)=>(Po(l,(y,x)=>{g=f(g,y,x)}),g),He=(l,f,g)=>(Ue(l,(y,x)=>{g=f(g,y,x)}),g),ut=(l,f,g)=>{for(let y=0,x=l.length;y<x;y++){const z=l[y];if(f(z,y))return ce.some(z);if(g(z,y))break}return ce.none()},I=(l,f)=>ut(l,f,yn),Ka=(l,f)=>{for(let g=0,y=l.length;g<y;g++){const x=l[g];if(f(x,g))return ce.some(g)}return ce.none()},Hn=l=>{const f=[];for(let g=0,y=l.length;g<y;++g){if(!Ge(l[g]))throw new Error("Arr.flatten item "+g+" was not an array, input: "+l);Et.apply(f,l[g])}return f},ot=(l,f)=>Hn(Yt(l,f)),Qe=(l,f)=>{for(let g=0,y=l.length;g<y;++g){const x=l[g];if(f(x,g)!==!0)return!1}return!0},dn=l=>{const f=Qo.call(l,0);return f.reverse(),f},Ke=(l,f)=>{const g={};for(let y=0,x=l.length;y<x;y++){const z=l[y];g[String(z)]=f(z,y)}return g},hn=(l,f)=>{const g=Qo.call(l,0);return g.sort(f),g},Pt=(l,f)=>f>=0&&f<l.length?ce.some(l[f]):ce.none(),ve=l=>Pt(l,0),tt=l=>Pt(l,l.length-1),Ve=(l,f)=>{for(let g=0;g<l.length;g++){const y=f(l[g],g);if(y.isSome())return y}return ce.none()},Ie=Object.keys,Mn=Object.hasOwnProperty,nn=(l,f)=>{const g=Ie(l);for(let y=0,x=g.length;y<x;y++){const z=g[y],B=l[z];f(B,z)}},is=(l,f)=>go(l,(g,y)=>({k:y,v:f(g,y)})),go=(l,f)=>{const g={};return nn(l,(y,x)=>{const z=f(y,x);g[z.k]=z.v}),g},Rs=l=>(f,g)=>{l[g]=f},Xc=(l,f,g,y)=>{nn(l,(x,z)=>{(f(x,z)?g:y)(x,z)})},cs=(l,f)=>{const g={};return Xc(l,f,Rs(g),it),g},es=(l,f)=>{const g=[];return nn(l,(y,x)=>{g.push(f(y,x))}),g},ko=l=>es(l,Ut),Xr=(l,f)=>_o(l,f)?ce.from(l[f]):ce.none(),_o=(l,f)=>Mn.call(l,f),Jn=(l,f)=>_o(l,f)&&l[f]!==void 0&&l[f]!==null,Ya=l=>{for(const f in l)if(Mn.call(l,f))return!1;return!0},In=typeof window<"u"?window:Function("return this;")(),fs=(l,f)=>{let g=f??In;for(let y=0;y<l.length&&g!==void 0&&g!==null;++y)g=g[l[y]];return g},js=(l,f)=>{const g=l.split(".");return fs(g,f)},Jc=(l,f)=>js(l,f),rd=(l,f)=>{const g=Jc(l,f);if(g==null)throw new Error(l+" not available on this browser");return g},ts=Object.getPrototypeOf,uf=l=>rd("HTMLElement",l),dt=l=>{const f=js("ownerDocument.defaultView",l);return Me(l)&&(uf(f).prototype.isPrototypeOf(l)||/^HTML\w*Element$/.test(ts(l).constructor.name))},ho=8,Jr=9,za=11,Qc=1,ei=3,ns=l=>l.dom.nodeName.toLowerCase(),Bi=l=>l.dom.nodeType,Ni=l=>f=>Bi(f)===l,Ho=l=>Bi(l)===ho||ns(l)==="#comment",Qt=l=>kr(l)&&dt(l.dom),kr=Ni(Qc),Pi=Ni(ei),df=Ni(Jr),ad=Ni(za),_r=l=>f=>kr(f)&&ns(f)===l,xr=(l,f,g)=>{if(ze(g)||Ze(g)||Tn(g))l.setAttribute(f,g+"");else throw console.error("Invalid call to Attribute.set. Key ",f,":: Value ",g,":: Element ",l),new Error("Attribute value was not simple")},Us=(l,f,g)=>{xr(l.dom,f,g)},ti=(l,f)=>{const g=l.dom;nn(f,(y,x)=>{xr(g,x,y)})},cd=(l,f)=>{nn(f,(g,y)=>{g.fold(()=>{Ts(l,y)},x=>{xr(l.dom,y,x)})})},Cr=(l,f)=>{const g=l.dom.getAttribute(f);return g===null?void 0:g},fa=(l,f)=>ce.from(Cr(l,f)),Ts=(l,f)=>{l.dom.removeAttribute(f)},$r=l=>He(l.dom.attributes,(f,g)=>(f[g.name]=g.value,f),{}),$i=(l,f)=>{const y=(f||document).createElement("div");if(y.innerHTML=l,!y.hasChildNodes()||y.childNodes.length>1){const x="HTML does not have a single root node";throw console.error(x,l),new Error(x)}return ni(y.childNodes[0])},Rl=(l,f)=>{const y=(f||document).createElement(l);return ni(y)},ff=(l,f)=>{const y=(f||document).createTextNode(l);return ni(y)},ni=l=>{if(l==null)throw new Error("Node cannot be null or undefined");return{dom:l}},me={fromHtml:$i,fromTag:Rl,fromText:ff,fromDom:ni,fromPoint:(l,f,g)=>ce.from(l.dom.elementFromPoint(f,g)).map(ni)},Qr=(l,f)=>{const g=l.dom;if(g.nodeType!==Qc)return!1;{const y=g;if(y.matches!==void 0)return y.matches(f);if(y.msMatchesSelector!==void 0)return y.msMatchesSelector(f);if(y.webkitMatchesSelector!==void 0)return y.webkitMatchesSelector(f);if(y.mozMatchesSelector!==void 0)return y.mozMatchesSelector(f);throw new Error("Browser lacks native selectors")}},Ii=l=>l.nodeType!==Qc&&l.nodeType!==Jr&&l.nodeType!==za||l.childElementCount===0,Np=(l,f)=>{const g=f===void 0?document:f.dom;return Ii(g)?[]:Yt(g.querySelectorAll(l),me.fromDom)},Em=(l,f)=>{const g=f===void 0?document:f.dom;return Ii(g)?ce.none():ce.from(g.querySelector(l)).map(me.fromDom)},os=(l,f)=>l.dom===f.dom,Pp=(l,f)=>{const g=l.dom,y=f.dom;return g===y?!1:g.contains(y)},Ny=Qr,Oc=l=>me.fromDom(l.dom.ownerDocument),du=l=>df(l)?l:Oc(l),ls=l=>me.fromDom(du(l).dom.documentElement),Es=l=>me.fromDom(du(l).dom.defaultView),Fi=l=>ce.from(l.dom.parentNode).map(me.fromDom),Xa=l=>ce.from(l.dom.parentElement).map(me.fromDom),el=(l,f)=>{const g=io(f)?f:yn;let y=l.dom;const x=[];for(;y.parentNode!==null&&y.parentNode!==void 0;){const z=y.parentNode,B=me.fromDom(z);if(x.push(B),g(B)===!0)break;y=z}return x},fu=l=>ce.from(l.dom.previousSibling).map(me.fromDom),tl=l=>ce.from(l.dom.nextSibling).map(me.fromDom),So=l=>Yt(l.dom.childNodes,me.fromDom),Aa=(l,f)=>{const g=l.dom.childNodes;return ce.from(g[f]).map(me.fromDom)},mu=l=>Aa(l,0),pu=(l,f)=>{Fi(l).each(y=>{y.dom.insertBefore(f.dom,l.dom)})},Dc=(l,f)=>{tl(l).fold(()=>{Fi(l).each(x=>{ms(x,f)})},y=>{pu(y,f)})},jr=(l,f)=>{mu(l).fold(()=>{ms(l,f)},y=>{l.dom.insertBefore(f.dom,y.dom)})},ms=(l,f)=>{l.dom.appendChild(f.dom)},Py=(l,f,g)=>{Aa(l,g).fold(()=>{ms(l,f)},y=>{pu(y,f)})},pf=(l,f)=>{pu(l,f),ms(f,l)},Oo=(l,f)=>{Ue(f,(g,y)=>{const x=y===0?l:f[y-1];Dc(x,g)})},Oa=(l,f)=>{Ue(f,g=>{ms(l,g)})},Da=l=>{l.dom.textContent="",Ue(So(l),f=>{dr(f)})},dr=l=>{const f=l.dom;f.parentNode!==null&&f.parentNode.removeChild(f)},id=l=>{const f=So(l);f.length>0&&Oo(l,f),dr(l)},Ml=(l,f)=>me.fromDom(l.dom.cloneNode(f)),lc=l=>Ml(l,!1),nl=l=>Ml(l,!0),oi=(l,f)=>{const g=me.fromTag(f),y=$r(l);return ti(g,y),g},$p=(l,f)=>{const g=oi(l,f),y=So(nl(l));return Oa(g,y),g},gf=(l,f)=>{const g=oi(l,f);Dc(l,g);const y=So(l);return Oa(g,y),dr(l),g},hf=["tfoot","thead","tbody","colgroup"],uc=l=>lo(hf,l),ol=(l,f)=>({rows:l,columns:f}),gu=(l,f)=>({row:l,column:f}),bf=(l,f,g)=>({element:l,rowspan:f,colspan:g}),zm=(l,f,g,y)=>({element:l,rowspan:f,colspan:g,isNew:y}),Am=(l,f,g,y,x,z)=>({element:l,rowspan:f,colspan:g,row:y,column:x,isLocked:z}),hu=(l,f,g)=>({element:l,cells:f,section:g}),Om=(l,f,g,y)=>({element:l,cells:f,section:g,isNew:y}),Do=(l,f,g)=>({element:l,isNew:f,isLocked:g}),dc=(l,f,g,y)=>({element:l,cells:f,section:g,isNew:y}),Dm=(l,f,g,y)=>({startRow:l,startCol:f,finishRow:g,finishCol:y}),yf=(l,f,g)=>({element:l,colspan:f,column:g}),fc=(l,f)=>({element:l,columns:f}),xh=l=>ad(l)&&_n(l.dom.host),bu=io(Element.prototype.attachShadow)&&io(Node.prototype.getRootNode),rr=oe(bu),fr=bu?l=>me.fromDom(l.dom.getRootNode()):du,sl=l=>{const f=fr(l);return xh(f)?ce.some(f):ce.none()},vf=l=>me.fromDom(l.dom.host),_t=l=>{if(rr()&&_n(l.target)){const f=me.fromDom(l.target);if(kr(f)&&ld(f)&&l.composed&&l.composedPath){const g=l.composedPath();if(g)return ve(g)}}return ce.from(l.target)},ld=l=>_n(l.dom.shadowRoot),ks=l=>{const f=Pi(l)?l.dom.parentNode:l.dom;if(f==null||f.ownerDocument===null)return!1;const g=f.ownerDocument;return sl(me.fromDom(f)).fold(()=>g.body.contains(f),Ao(ks,vf))},M=()=>Z(me.fromDom(document)),Z=l=>{const f=l.dom.body;if(f==null)throw new Error("Body is not available yet");return me.fromDom(f)},Q=(l,f,g)=>Xn(el(l,g),f),Ce=(l,f)=>Xn(So(l),f),xt=(l,f)=>{let g=[];return Ue(So(l),y=>{f(y)&&(g=g.concat([y])),g=g.concat(xt(y,f))}),g},Pn=(l,f,g)=>Q(l,y=>Qr(y,f),g),Mt=(l,f)=>Ce(l,g=>Qr(g,f)),us=(l,f)=>Np(f,l);var Xe=(l,f,g,y,x)=>l(g,y)?ce.some(g):io(x)&&x(g)?ce.none():f(g,y,x);const Vo=(l,f,g)=>{let y=l.dom;const x=io(g)?g:yn;for(;y.parentNode;){y=y.parentNode;const z=me.fromDom(y);if(f(z))return ce.some(z);if(x(z))break}return ce.none()},ma=(l,f,g)=>Xe((x,z)=>z(x),Vo,l,f,g),$s=(l,f)=>{const g=x=>f(me.fromDom(x));return I(l.dom.childNodes,g).map(me.fromDom)},ar=(l,f)=>{const g=y=>{for(let x=0;x<y.childNodes.length;x++){const z=me.fromDom(y.childNodes[x]);if(f(z))return ce.some(z);const B=g(y.childNodes[x]);if(B.isSome())return B}return ce.none()};return g(l.dom)},rl=(l,f,g)=>Vo(l,y=>Qr(y,f),g),no=(l,f)=>$s(l,g=>Qr(g,f)),si=(l,f)=>Em(f,l),ps=(l,f,g)=>Xe((x,z)=>Qr(x,z),rl,l,f,g),Bl=(l,f,g=St)=>l.exists(y=>g(y,f)),er=l=>{const f=[],g=y=>{f.push(y)};for(let y=0;y<l.length;y++)l[y].each(g);return f},ud=(l,f)=>l!=null?f(l):ce.none(),$y=(l,f)=>l?ce.some(f):ce.none(),Iy=(l,f,g)=>f===""||l.length>=f.length&&l.substr(g,g+f.length)===f,xo=(l,f,g=0,y)=>{const x=l.indexOf(f,g);return x!==-1?ht(y)?!0:x+f.length<=y:!1},Li=(l,f)=>Iy(l,f,0),Nl=(l,f)=>Iy(l,f,l.length-f.length),Pl=(l=>f=>f.replace(l,""))(/^\s+|\s+$/g),Rm=l=>l.length>0,oo=l=>{const f=parseFloat(l);return isNaN(f)?ce.none():ce.some(f)},mr=l=>l.style!==void 0&&io(l.style.getPropertyValue),mc=(l,f,g)=>{if(!ze(g))throw console.error("Invalid call to CSS.set. Property ",f,":: Value ",g,":: Element ",l),new Error("CSS value must be a string: "+g);mr(l)&&l.style.setProperty(f,g)},m0=(l,f)=>{mr(l)&&l.style.removeProperty(f)},_s=(l,f,g)=>{const y=l.dom;mc(y,f,g)},pa=(l,f)=>{const g=l.dom;nn(f,(y,x)=>{mc(g,x,y)})},Ur=(l,f)=>{const g=l.dom,x=window.getComputedStyle(g).getPropertyValue(f);return x===""&&!ks(l)?Fy(g,f):x},Fy=(l,f)=>mr(l)?l.style.getPropertyValue(f):"",Ch=(l,f)=>{const g=l.dom,y=Fy(g,f);return ce.from(y).filter(x=>x.length>0)},ri=(l,f)=>{const g=l.dom;m0(g,f),Bl(fa(l,"style").map(Pl),"")&&Ts(l,"style")},Ip=(l,f)=>{const g=l.dom,y=f.dom;mr(g)&&mr(y)&&(y.style.cssText=g.style.cssText)},ss=(l,f,g=0)=>fa(l,f).map(y=>parseInt(y,10)).getOr(g),ai=(l,f)=>ss(l,f,1),ga=l=>_r("col")(l)?ss(l,"span",1)>1:ai(l,"colspan")>1,al=l=>ai(l,"rowspan")>1,pr=(l,f)=>parseInt(Ur(l,f),10),Is=oe(10),ci=oe(10),wf=(l,f)=>dd(l,f,Re),dd=(l,f,g)=>ot(So(l),y=>Qr(y,f)?g(y)?[y]:[]:dd(y,f,g)),Fp=(l,f,g=yn)=>{if(g(f))return ce.none();if(lo(l,ns(f)))return ce.some(f);const y=x=>Qr(x,"table")||g(x);return rl(f,l.join(","),y)},Mm=(l,f)=>Fp(["td","th"],l,f),Ra=l=>wf(l,"th,td"),Bm=l=>Qr(l,"colgroup")?Mt(l,"col"):ot(Nm(l),f=>Mt(f,"col")),Ma=(l,f)=>ps(l,"table",f),cl=l=>wf(l,"tr"),Nm=l=>Ma(l).fold(oe([]),f=>Mt(f,"colgroup")),fd=(l,f)=>Yt(l,g=>{if(ns(g)==="colgroup"){const y=Yt(Bm(g),x=>{const z=ss(x,"span",1);return bf(x,1,z)});return hu(g,y,"colgroup")}else{const y=Yt(Ra(g),x=>{const z=ss(x,"rowspan",1),B=ss(x,"colspan",1);return bf(x,z,B)});return hu(g,y,f(g))}}),Pm=l=>Fi(l).map(f=>{const g=ns(f);return uc(g)?g:"tbody"}).getOr("tbody"),md=l=>{const f=cl(l),y=[...Nm(l),...f];return fd(y,Pm)},Sh=(l,f)=>fd(l,()=>f),$l=l=>{let f=!1,g;return(...y)=>(f||(f=!0,g=l.apply(null,y)),g)},Th=(l,f,g,y)=>{const x=l.isiOS()&&/ipad/i.test(g)===!0,z=l.isiOS()&&!x,B=l.isiOS()||l.isAndroid(),H=B||y("(pointer:coarse)"),K=x||!z&&B&&y("(min-device-width:768px)"),ne=z||B&&!K,ge=f.isSafari()&&l.isiOS()&&/safari/i.test(g)===!1,qe=!ne&&!K&&!ge;return{isiPad:oe(x),isiPhone:oe(z),isTablet:oe(K),isPhone:oe(ne),isTouch:oe(H),isAndroid:l.isAndroid,isiOS:l.isiOS,isWebView:oe(ge),isDesktop:oe(qe)}},Eh=(l,f)=>{for(let g=0;g<l.length;g++){const y=l[g];if(y.test(f))return y}},zh=(l,f)=>{const g=Eh(l,f);if(!g)return{major:0,minor:0};const y=x=>Number(f.replace(g,"$"+x));return ee(y(1),y(2))},pd=(l,f)=>{const g=String(f).toLowerCase();return l.length===0?Ly():zh(l,g)},Ly=()=>ee(0,0),ee=(l,f)=>({major:l,minor:f}),kf={nu:ee,detect:pd,unknown:Ly},ii=(l,f)=>Ve(f.brands,g=>{const y=g.brand.toLowerCase();return I(l,x=>{var z;return y===((z=x.brand)===null||z===void 0?void 0:z.toLowerCase())}).map(x=>({current:x.name,version:kf.nu(parseInt(g.version,10),0)}))}),Lp=(l,f)=>{const g=String(f).toLowerCase();return I(l,y=>y.search(g))},L_=(l,f)=>Lp(l,f).map(g=>{const y=kf.detect(g.versionRegexes,f);return{current:g.name,version:y}}),p0=(l,f)=>Lp(l,f).map(g=>{const y=kf.detect(g.versionRegexes,f);return{current:g.name,version:y}}),fo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ea=l=>f=>xo(f,l),il=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:l=>xo(l,"edge/")&&xo(l,"chrome")&&xo(l,"safari")&&xo(l,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,fo],search:l=>xo(l,"chrome")&&!xo(l,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:l=>xo(l,"msie")||xo(l,"trident")},{name:"Opera",versionRegexes:[fo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ea("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ea("firefox")},{name:"Safari",versionRegexes:[fo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:l=>(xo(l,"safari")||xo(l,"mobile/"))&&xo(l,"applewebkit")}],Rc=[{name:"Windows",search:ea("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:l=>xo(l,"iphone")||xo(l,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ea("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ea("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ea("linux"),versionRegexes:[]},{name:"Solaris",search:ea("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ea("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ea("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ah={browsers:oe(il),oses:oe(Rc)},gd="Edge",pc="Chromium",_f="IE",Oh="Opera",g0="Firefox",Mc="Safari",$m=()=>Dh({current:void 0,version:kf.unknown()}),Dh=l=>{const f=l.current,g=l.version,y=x=>()=>f===x;return{current:f,version:g,isEdge:y(gd),isChromium:y(pc),isIE:y(_f),isOpera:y(Oh),isFirefox:y(g0),isSafari:y(Mc)}},gc={unknown:$m,nu:Dh,edge:oe(gd),chromium:oe(pc),ie:oe(_f),opera:oe(Oh),firefox:oe(g0),safari:oe(Mc)},Sr="Windows",yu="iOS",xf="Android",li="Linux",Qa="macOS",Rh="Solaris",Hy="FreeBSD",Im="ChromeOS",Mh=()=>Hp({current:void 0,version:kf.unknown()}),Hp=l=>{const f=l.current,g=l.version,y=x=>()=>f===x;return{current:f,version:g,isWindows:y(Sr),isiOS:y(yu),isAndroid:y(xf),isMacOS:y(Qa),isLinux:y(li),isSolaris:y(Rh),isFreeBSD:y(Hy),isChromeOS:y(Im)}},ll={unknown:Mh,nu:Hp,windows:oe(Sr),ios:oe(yu),android:oe(xf),linux:oe(li),macos:oe(Qa),solaris:oe(Rh),freebsd:oe(Hy),chromeos:oe(Im)},H_={detect:(l,f,g)=>{const y=Ah.browsers(),x=Ah.oses(),z=f.bind(K=>ii(y,K)).orThunk(()=>L_(y,l)).fold(gc.unknown,gc.nu),B=p0(x,l).fold(ll.unknown,ll.nu),H=Th(B,z,l,g);return{browser:z,os:B,deviceType:H}}},jy=l=>window.matchMedia(l).matches;let Bh=$l(()=>H_.detect(navigator.userAgent,ce.from(navigator.userAgentData),jy));const Fm=()=>Bh(),Vp=(l,f)=>{const g=(H,K)=>{if(!Tn(K)&&!K.match(/^[0-9]+$/))throw new Error(l+".set accepts only positive integer values. Value was "+K);const ne=H.dom;mr(ne)&&(ne.style[l]=K+"px")},y=H=>{const K=f(H);if(K<=0||K===null){const ne=Ur(H,l);return parseFloat(ne)||0}return K},x=y,z=(H,K)=>He(K,(ne,ge)=>{const qe=Ur(H,ge),vt=qe===void 0?0:parseInt(qe,10);return isNaN(vt)?ne:ne+vt},0);return{set:g,get:y,getOuter:x,aggregate:z,max:(H,K,ne)=>{const ge=z(H,ne);return K>ge?K-ge:0}}},Cf=(l,f)=>oo(l).getOr(f),gs=(l,f,g)=>Cf(Ur(l,f),g),Ms=(l,f,g,y)=>{const x=gs(l,`padding-${g}`,0),z=gs(l,`padding-${y}`,0),B=gs(l,`border-${g}-width`,0),H=gs(l,`border-${y}-width`,0);return f-x-z-B-H},ec=(l,f)=>{const g=l.dom,y=g.getBoundingClientRect().width||g.offsetWidth;return f==="border-box"?y:Ms(l,y,"left","right")},Nh=l=>gs(l,"height",l.dom.offsetHeight),Uy=l=>gs(l,"width",l.dom.offsetWidth),Wr=l=>ec(l,"content-box"),hd=Vp("width",l=>l.dom.offsetWidth),Ba=l=>hd.get(l),ul=l=>hd.getOuter(l),jp=Wr,xn=Uy,tc=(l,f,g)=>{const y=l.cells,x=y.slice(0,f),z=y.slice(f),B=x.concat(g).concat(z);return Ph(l,B)},vu=(l,f,g)=>tc(l,f,[g]),Sf=(l,f,g)=>{const y=l.cells;y[f]=g},Ph=(l,f)=>dc(l.element,f,l.section,l.isNew),Wy=(l,f)=>{const g=l.cells,y=Yt(g,f);return dc(l.element,y,l.section,l.isNew)},ha=(l,f)=>l.cells[f],Ws=(l,f)=>ha(l,f).element,hc=l=>l.cells.length,cr=l=>{const f=Ps(l,g=>g.section==="colgroup");return{rows:f.fail,cols:f.pass}},Lm=(l,f,g)=>{const y=Yt(l.cells,g);return dc(f(l.element),y,l.section,!0)},Hm="data-snooker-locked-cols",Fs=l=>fa(l,Hm).bind(f=>ce.from(f.match(/\d+/g))).map(f=>Ke(f,Re)),gr=l=>{const f=He(cr(l).rows,(y,x)=>(Ue(x.cells,(z,B)=>{z.isLocked&&(y[B]=!0)}),y),{}),g=es(f,(y,x)=>parseInt(x,10));return hn(g)},Hi=(l,f)=>l+","+f,bd=(l,f,g)=>ce.from(l.access[Hi(f,g)]),tr=(l,f,g)=>{const y=$h(l,x=>g(f,x.element));return y.length>0?ce.some(y[0]):ce.none()},$h=(l,f)=>{const g=ot(l.all,y=>y.cells);return Xn(g,f)},Zy=l=>{const f={};let g=0;return Ue(l.cells,y=>{const x=y.colspan;wo(x,z=>{const B=g+z;f[B]=yf(y.element,x,B)}),g+=x}),f},Ro=l=>{const f={},g=[],x=ve(l).map(yt=>yt.element).bind(Ma).bind(Fs).getOr({});let z=0,B=0,H=0;const{pass:K,fail:ne}=Ps(l,yt=>yt.section==="colgroup");Ue(ne,yt=>{const $e=[];Ue(yt.cells,wt=>{let Be=0;for(;f[Hi(H,Be)]!==void 0;)Be++;const $t=Jn(x,Be.toString()),an=Am(wt.element,wt.rowspan,wt.colspan,H,Be,$t);for(let En=0;En<wt.colspan;En++)for(let ds=0;ds<wt.rowspan;ds++){const Br=H+ds,Hs=Be+En,xc=Hi(Br,Hs);f[xc]=an,B=Math.max(B,Hs+1)}$e.push(an)}),z++,g.push(hu(yt.element,$e,yt.section)),H++});const{columns:ge,colgroups:qe}=tt(K).map(yt=>{const $e=Zy(yt);return{colgroups:[fc(yt.element,ko($e))],columns:$e}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:ol(z,B),access:f,all:g,columns:ge,colgroups:qe}},Bn={fromTable:l=>{const f=md(l);return Ro(f)},generate:Ro,getAt:bd,findItem:tr,filterItems:$h,justCells:l=>ot(l.all,f=>f.cells),justColumns:l=>ko(l.columns),hasColumns:l=>Ie(l.columns).length>0,getColumnAt:(l,f)=>ce.from(l.columns[f])},vd=(l,f=Re)=>{const g=l.grid,y=wo(g.columns,Ut),x=wo(g.rows,Ut);return Yt(y,z=>Ih(()=>ot(x,ne=>Bn.getAt(l,ne,z).filter(ge=>ge.column===z).toArray()),ne=>ne.colspan===1&&f(ne.element),()=>Bn.getAt(l,0,z)))},Ih=(l,f,g)=>{const y=l();return I(y,f).orThunk(()=>ce.from(y[0]).orThunk(g)).map(B=>B.element)},Fh=l=>{const f=l.grid,g=wo(f.rows,Ut),y=wo(f.columns,Ut);return Yt(g,x=>Ih(()=>ot(y,K=>Bn.getAt(l,x,K).filter(ne=>ne.row===x).fold(oe([]),ne=>[ne])),K=>K.rowspan===1,()=>Bn.getAt(l,x,0)))},V_=(l,f)=>{if(f<0||f>=l.length-1)return ce.none();const g=l[f].fold(()=>{const x=dn(l.slice(0,f));return Ve(x,(z,B)=>z.map(H=>({value:H,delta:B+1})))},x=>ce.some({value:x,delta:0})),y=l[f+1].fold(()=>{const x=l.slice(f+1);return Ve(x,(z,B)=>z.map(H=>({value:H,delta:B+1})))},x=>ce.some({value:x,delta:1}));return g.bind(x=>y.map(z=>{const B=z.delta+x.delta;return Math.abs(z.value-x.value)/B}))},qy=(l,f)=>g=>Up(g)==="rtl"?f:l,Up=l=>Ur(l,"direction")==="rtl"?"rtl":"ltr",Lh=Vp("height",l=>{const f=l.dom;return ks(l)?f.getBoundingClientRect().height:f.offsetHeight}),Vm=l=>Lh.get(l),wd=l=>Lh.getOuter(l),Tf=Nh,Gy=(l,f)=>({left:l,top:f,translate:(y,x)=>Gy(l+y,f+x)}),ui=Gy,h0=l=>{const f=l.getBoundingClientRect();return ui(f.left,f.top)},Ef=(l,f)=>l!==void 0?l:f!==void 0?f:0,Bc=l=>{const f=l.dom.ownerDocument,g=f.body,y=f.defaultView,x=f.documentElement;if(g===l.dom)return ui(g.offsetLeft,g.offsetTop);const z=Ef(y==null?void 0:y.pageYOffset,x.scrollTop),B=Ef(y==null?void 0:y.pageXOffset,x.scrollLeft),H=Ef(x.clientTop,g.clientTop),K=Ef(x.clientLeft,g.clientLeft);return Hh(l).translate(B-K,z-H)},Hh=l=>{const f=l.dom,y=f.ownerDocument.body;return y===f?ui(y.offsetLeft,y.offsetTop):ks(l)?h0(f):ui(0,0)},Vh=(l,f)=>({row:l,y:f}),jh=(l,f)=>({col:l,x:f}),Wp=l=>Bc(l).left+ul(l),Uh=l=>Bc(l).left,Wh=(l,f)=>jh(l,Uh(f)),Zh=(l,f)=>jh(l,Wp(f)),Tr=l=>Bc(l).top,b0=(l,f)=>Vh(l,Tr(f)),qo=(l,f)=>Vh(l,Tr(f)+wd(f)),Ht=(l,f,g)=>{if(g.length===0)return[];const y=Yt(g.slice(1),(z,B)=>z.map(H=>l(B,H))),x=g[g.length-1].map(z=>f(g.length-1,z));return y.concat([x])},fl=l=>-l,Dt={delta:Ut,positions:l=>Ht(b0,qo,l),edge:Tr},ml=qy({delta:Ut,edge:Uh,positions:l=>Ht(Wh,Zh,l)},{delta:fl,edge:Wp,positions:l=>Ht(Zh,Wh,l)}),Zs={delta:(l,f)=>ml(f).delta(l,f),positions:(l,f)=>ml(f).positions(l,f),edge:l=>ml(l).edge(l)},Il={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},jm=(()=>{const l="[0-9]+",g="[eE]"+("[+-]?"+l),y="\\.",x=H=>`(?:${H})?`,B=`[+-]?(?:${["Infinity",l+y+x(l)+x(g),y+l+x(g),l+x(g)].join("|")})`;return new RegExp(`^(${B})(.*)$`)})(),Er=(l,f)=>Ye(f,g=>Ye(Il[g],y=>l===y)),ji=(l,f)=>ce.from(jm.exec(l)).bind(y=>{const x=Number(y[1]),z=y[2];return Er(z,f)?ce.some({value:x,unit:z}):ce.none()}),Zp=/(\d+(\.\d+)?)%/,pl=/(\d+(\.\d+)?)px|em/,Yy=_r("col"),Um=(l,f,g)=>{const y=Xa(l).getOrThunk(()=>Z(Oc(l)));return f(l)/g(y)*100},Je=(l,f)=>{_s(l,"width",f+"px")},Xy=(l,f)=>{_s(l,"width",f+"%")},ku=(l,f)=>{_s(l,"height",f+"px")},Fl=l=>Tf(l)+"px",Wm=(l,f,g,y)=>{const x=Ma(l).map(z=>{const B=g(z);return Math.floor(f/100*B)}).getOr(f);return y(l,x),x},hs=(l,f,g,y)=>{const x=parseFloat(l);return Nl(l,"%")&&ns(f)!=="table"?Wm(f,x,g,y):x},Mo=l=>{const f=Fl(l);return f?hs(f,l,Vm,ku):Vm(l)},ba=(l,f,g)=>{const y=g(l),x=ai(l,f);return y/x},ta=(l,f)=>Ch(l,f).orThunk(()=>fa(l,f).map(g=>g+"px")),Wn=l=>ta(l,"width"),zf=l=>ta(l,"height"),Ir=l=>Um(l,Ba,jp),Bs=l=>Yy(l)?Ba(l):xn(l),qp=l=>ba(l,"rowspan",Mo),Le=l=>Wn(l).bind(g=>ji(g,["fixed","relative","empty"])),nc=(l,f,g)=>{_s(l,"width",f+g)},Zm=l=>Ba(l)+"px",uo=l=>Um(l,Ba,jp)+"%",Ui=l=>Wn(l).exists(f=>Zp.test(f)),Jy=l=>Wn(l).exists(f=>pl.test(f)),Wi=l=>Wn(l).isNone(),qh=oe(Zp),di=_r("col"),Gh=l=>Wn(l).getOrThunk(()=>Bs(l)+"px"),bc=l=>zf(l).getOrThunk(()=>qp(l)+"px"),vo=l=>Yt(Bn.justColumns(l),f=>ce.from(f.element)),gl=l=>{const f=Fm().browser,g=f.isChromium()||f.isFirefox();return di(l)?g:!0},kd=(l,f,g,y,x,z)=>l.filter(y).fold(()=>z(V_(g,f)),B=>x(B)),Fr=(l,f,g,y)=>{const x=vd(l),z=Bn.hasColumns(l)?vo(l):x,B=[ce.some(Zs.edge(f))].concat(Yt(Zs.positions(x,f),K=>K.map(ne=>ne.x))),H=Y(ga);return Yt(z,(K,ne)=>kd(K,ne,B,H,ge=>{if(gl(ge))return g(ge);{const qe=ud(x[ne],Ut);return kd(qe,ne,B,H,vt=>y(ce.some(Ba(vt))),y)}},y))},Kh=l=>l.map(f=>f+"px").getOr(""),_d=(l,f)=>Fr(l,f,Gh,Kh),xd=(l,f,g)=>Fr(l,f,Ir,y=>y.fold(()=>g.minCellWidth(),x=>x/g.pixelWidth()*100)),ya=(l,f,g)=>Fr(l,f,Bs,y=>y.getOrThunk(g.minCellWidth)),_u=(l,f,g,y,x)=>{const z=Fh(l),B=[ce.some(g.edge(f))].concat(Yt(g.positions(z,f),H=>H.map(K=>K.y)));return Yt(z,(H,K)=>kd(H,K,B,Y(al),y,x))},be=(l,f,g)=>_u(l,f,g,qp,y=>y.getOrThunk(ci)),Pa=(l,f,g)=>_u(l,f,g,bc,Kh),Nc=(l,f)=>()=>ks(l)?f(l):parseFloat(Ch(l,"width").getOr("0")),Pc=l=>{const f=Nc(l,Ba),g=oe(0);return{width:f,pixelWidth:f,getWidths:(x,z)=>ya(x,l,z),getCellDelta:g,singleColumnWidth:oe([0]),minCellWidth:g,setElementWidth:it,adjustTableWidth:it,isRelative:!0,label:"none"}},$a=l=>{const f=Nc(l,K=>parseFloat(uo(K))),g=Nc(l,Ba);return{width:f,pixelWidth:g,getWidths:(K,ne)=>xd(K,l,ne),getCellDelta:K=>K/g()*100,singleColumnWidth:(K,ne)=>[100-K],minCellWidth:()=>Is()/g()*100,setElementWidth:Xy,adjustTableWidth:K=>{const ne=f(),ge=K/100*ne,qe=ne+ge;Xy(l,qe)},isRelative:!0,label:"percent"}},ir=l=>{const f=Nc(l,Ba);return{width:f,pixelWidth:f,getWidths:(B,H)=>ya(B,l,H),getCellDelta:Ut,singleColumnWidth:(B,H)=>[Math.max(Is(),B+H)-B],minCellWidth:Is,setElementWidth:Je,adjustTableWidth:B=>{const H=f()+B;Je(l,H)},isRelative:!1,label:"pixel"}},hr=(l,f)=>qh().exec(f)!==null?$a(l):ir(l),Ia={getTableSize:l=>Wn(l).fold(()=>Pc(l),g=>hr(l,g)),pixelSize:ir,percentageSize:$a,noneSize:Pc},hl=(l,f,g,y,x,z)=>({minRow:l,minCol:f,maxRow:g,maxCol:y,allCells:x,selectedCells:z}),Kt=(l,f)=>{const g=l.grid.columns;let x=l.grid.rows,z=g,B=0,H=0;const K=[],ne=[];return nn(l.access,ge=>{if(K.push(ge),f(ge)){ne.push(ge);const qe=ge.row,vt=qe+ge.rowspan-1,yt=ge.column,$e=yt+ge.colspan-1;qe<x?x=qe:vt>B&&(B=vt),yt<z?z=yt:$e>H&&(H=$e)}}),hl(x,z,B,H,K,ne)},k=(l,f,g)=>{const y=l[g].element,x=me.fromTag("td");ms(x,me.fromTag("br")),(f?ms:jr)(y,x)},S=(l,f,g,y)=>{const x=Xn(l,H=>H.section!=="colgroup"),z=f.grid.columns,B=f.grid.rows;for(let H=0;H<B;H++){let K=!1;for(let ne=0;ne<z;ne++)H<g.minRow||H>g.maxRow||ne<g.minCol||ne>g.maxCol||(Bn.getAt(f,H,ne).filter(y).isNone()?k(x,K,H):K=!0)}},$=(l,f,g,y)=>{nn(g.columns,B=>{(B.column<f.minCol||B.column>f.maxCol)&&dr(B.element)});const x=Xn(wf(l,"tr"),B=>B.dom.childElementCount===0);Ue(x,dr),(f.minCol===f.maxCol||f.minRow===f.maxRow)&&Ue(wf(l,"th,td"),B=>{Ts(B,"rowspan"),Ts(B,"colspan")}),Ts(l,Hm),Ts(l,"data-snooker-col-series"),Ia.getTableSize(l).adjustTableWidth(y)},W=(l,f,g,y)=>{if(y.minCol===0&&f.grid.columns===y.maxCol+1)return 0;const x=ya(f,l,g),z=He(x,(ne,ge)=>ne+ge,0),K=He(x.slice(y.minCol,y.maxCol+1),(ne,ge)=>ne+ge,0)/z*g.pixelWidth()-g.pixelWidth();return g.getCellDelta(K)},ie=(l,f)=>{const g=vt=>Qr(vt.element,f),y=nl(l),x=md(y),z=Ia.getTableSize(l),B=Bn.generate(x),H=Kt(B,g),K="th:not("+f+"),td:not("+f+")",ne=dd(y,"th,td",vt=>Qr(vt,K));Ue(ne,dr),S(x,B,H,g);const ge=Bn.fromTable(l),qe=W(l,ge,z,H);return $(y,H,B,qe),y},Oe=" ",bt=((l,f)=>{const g=z=>{if(!l(z))throw new Error("Can only get "+f+" value of a "+f+" node");return y(z).getOr("")},y=z=>l(z)?ce.from(z.dom.nodeValue):ce.none();return{get:g,getOption:y,set:(z,B)=>{if(!l(z))throw new Error("Can only set raw "+f+" value of a "+f+" node");z.dom.nodeValue=B}}})(Pi,"text"),Vt=l=>bt.get(l),kn=l=>bt.getOption(l),zs=(l,f)=>bt.set(l,f),bo=l=>ns(l)==="img"?1:kn(l).fold(()=>So(l).length,f=>f.length),rs=l=>kn(l).filter(f=>f.trim().length!==0||f.indexOf(Oe)>-1).isSome(),oc=l=>Qt(l)&&Cr(l,"contenteditable")==="false",Fa=["img","br"],$c=l=>rs(l)||lo(Fa,ns(l))||oc(l),xu=l=>ar(l,$c),Zi=l=>qm(l,$c),qm=(l,f)=>{const g=y=>{const x=So(y);for(let z=x.length-1;z>=0;z--){const B=x[z];if(f(B))return ce.some(B);const H=g(B);if(H.isSome())return H}return ce.none()};return g(l)},Af={scope:["row","col"]},Cd=l=>()=>{const f=me.fromTag("td",l.dom);return ms(f,me.fromTag("br",l.dom)),f},Gm=l=>()=>me.fromTag("col",l.dom),nr=l=>()=>me.fromTag("colgroup",l.dom),Ic=l=>()=>me.fromTag("tr",l.dom),Of=(l,f,g)=>{const y=$p(l,f);return nn(g,(x,z)=>{x===null?Ts(y,z):Us(y,z,x)}),y},Sd=l=>l,mo=(l,f,g)=>xu(l).map(x=>{const z=g.join(","),B=Pn(x,z,H=>os(H,l));return Vs(B,(H,K)=>{const ne=lc(K);return ms(H,ne),ne},f)}).getOr(f),Vn=(l,f)=>{nn(Af,(g,y)=>fa(l,y).filter(x=>lo(g,x)).each(x=>Us(f,y,x)))},zr=(l,f,g)=>{const y=(B,H)=>{Ip(B.element,H),ri(H,"height"),B.colspan!==1&&ri(H,"width")},x=B=>{const H=me.fromTag(ns(B.element),f.dom),K=g.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),ne=K.length>0?mo(B.element,H,K):H;return ms(ne,me.fromTag("br")),y(B,H),Vn(B.element,H),l(B.element,H),H};return{col:B=>{const H=me.fromTag(ns(B.element),f.dom);return y(B,H),l(B.element,H),H},colgroup:nr(f),row:Ic(f),cell:x,replace:Of,colGap:Gm(f),gap:Cd(f)}},na=l=>({col:Gm(l),colgroup:nr(l),row:Ic(l),cell:Cd(l),replace:Sd,colGap:Gm(l),gap:Cd(l)}),Yh=(l,f)=>{const y=document.createElement("div");return y.innerHTML=l,So(me.fromDom(y))},Ll=l=>Yt(l,me.fromDom),oa=l=>f=>f.options.get(l),Td="100%",bl=l=>{var f;const g=l.dom,y=(f=g.getParent(l.selection.getStart(),g.isBlock))!==null&&f!==void 0?f:l.getBody();return jp(me.fromDom(y))+"px"},Df=(l,f)=>Xm(l)||!Fc(l)?f:Rf(l)?{...f,width:bl(l)}:{...f,width:Td},Km=(l,f)=>Xm(l)||Fc(l)?f:Rf(l)?{...f,width:bl(l)}:{...f,width:Td},Gp=l=>{const f=l.options.register;f("table_clone_elements",{processor:"string[]"}),f("table_use_colgroups",{processor:"boolean",default:!0}),f("table_header_type",{processor:g=>{const y=lo(["section","cells","sectionCells","auto"],g);return y?{value:g,valid:y}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),f("table_sizing_mode",{processor:"string",default:"auto"}),f("table_default_attributes",{processor:"object",default:{border:"1"}}),f("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),f("table_column_resizing",{processor:g=>{const y=lo(["preservetable","resizetable"],g);return y?{value:g,valid:y}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),f("table_resize_bars",{processor:"boolean",default:!0}),f("table_style_by_css",{processor:"boolean",default:!0}),f("table_merge_content_on_paste",{processor:"boolean",default:!0})},Ed=l=>ce.from(l.options.get("table_clone_elements")),CT=l=>{const f=l.options.get("object_resizing");return lo(f.split(","),"table")},Ym=oa("table_header_type"),y0=oa("table_column_resizing"),j_=l=>y0(l)==="preservetable",qs=l=>y0(l)==="resizetable",Kp=oa("table_sizing_mode"),Hl=l=>Kp(l)==="relative",Rf=l=>Kp(l)==="fixed",Xm=l=>Kp(l)==="responsive",Jm=oa("table_resize_bars"),Fc=oa("table_style_by_css"),Ns=oa("table_merge_content_on_paste"),Vl=l=>{const f=l.options,g=f.get("table_default_attributes");return f.isSet("table_default_attributes")?g:Km(l,g)},v0=l=>{const f=l.options,g=f.get("table_default_styles");return f.isSet("table_default_styles")?g:Df(l,g)},Xh=oa("table_use_colgroups"),e1=l=>ps(l,"[contenteditable]"),Mf=(l,f=!1)=>ks(l)?l.dom.isContentEditable:e1(l).fold(oe(f),g=>Jh(g)==="true"),Jh=l=>l.dom.contentEditable,t1=l=>me.fromDom(l.getBody()),Cu=l=>f=>os(f,t1(l)),jl=l=>{Ts(l,"data-mce-style");const f=g=>Ts(g,"data-mce-style");Ue(Ra(l),f),Ue(Bm(l),f),Ue(cl(l),f)},fi=l=>me.fromDom(l.selection.getStart()),Bf=l=>l.getBoundingClientRect().width,Nf=l=>l.getBoundingClientRect().height,U_=(l,f)=>{const g=l.dom.getStyle(f,"width")||l.dom.getAttrib(f,"width");return ce.from(g).filter(Rm)},n1=l=>/^(\d+(\.\d+)?)%$/.test(l),Qh=l=>/^(\d+(\.\d+)?)px$/.test(l),o1=l=>ma(l,_r("table")).exists(Mf),W_=(l,f)=>{const g=f.column,y=f.column+f.colspan-1,x=f.row,z=f.row+f.rowspan-1;return g<=l.finishCol&&y>=l.startCol&&x<=l.finishRow&&z>=l.startRow},s1=(l,f)=>f.column>=l.startCol&&f.column+f.colspan-1<=l.finishCol&&f.row>=l.startRow&&f.row+f.rowspan-1<=l.finishRow,eb=(l,f)=>{let g=!0;const y=Gt(s1,f);for(let x=f.startRow;x<=f.finishRow;x++)for(let z=f.startCol;z<=f.finishCol;z++)g=g&&Bn.getAt(l,x,z).exists(y);return g?ce.some(f):ce.none()},tb=(l,f)=>Dm(Math.min(l.row,f.row),Math.min(l.column,f.column),Math.max(l.row+l.rowspan-1,f.row+f.rowspan-1),Math.max(l.column+l.colspan-1,f.column+f.colspan-1)),Gn=(l,f,g)=>{const y=Bn.findItem(l,f,os),x=Bn.findItem(l,g,os);return y.bind(z=>x.map(B=>tb(z,B)))},Zt=(l,f,g)=>Gn(l,f,g).bind(y=>eb(l,y)),zd=(l,f,g,y)=>Bn.findItem(l,f,os).bind(x=>{const z=g>0?x.row+x.rowspan-1:x.row,B=y>0?x.column+x.colspan-1:x.column;return Bn.getAt(l,z+g,B+y).map(K=>K.element)}),r1=(l,f,g)=>Gn(l,f,g).map(y=>{const x=Bn.filterItems(l,Gt(W_,y));return Yt(x,z=>z.element)}),nb=(l,f)=>{const g=(y,x)=>Pp(x,y);return Bn.findItem(l,f,g).map(y=>y.element)},ST=(l,f,g)=>Ma(l).bind(y=>{const x=_0(y);return zd(x,l,f,g)}),w0=(l,f,g)=>{const y=_0(l);return r1(y,f,g)},Go=(l,f,g,y,x)=>{const z=_0(l),B=os(l,g)?ce.some(f):nb(z,f),H=os(l,x)?ce.some(y):nb(z,y);return B.bind(K=>H.bind(ne=>r1(z,K,ne)))},k0=(l,f,g)=>{const y=_0(l);return Zt(y,f,g)},_0=Bn.fromTable;var x0=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Pe=()=>{const l=ne=>me.fromDom(ne.dom.cloneNode(!1)),f=ne=>du(ne).dom,g=ne=>kr(ne)?ns(ne)==="body"?!0:lo(x0,ns(ne)):!1,y=ne=>kr(ne)?lo(["br","img","hr","input"],ns(ne)):!1,x=ne=>kr(ne)&&Cr(ne,"contenteditable")==="false",z=(ne,ge)=>ne.dom.compareDocumentPosition(ge.dom),B=(ne,ge)=>{const qe=$r(ne);ti(ge,qe)},H=ne=>{const ge=ns(ne);return lo(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],ge)},K=ne=>kr(ne)?fa(ne,"lang"):ce.none();return{up:oe({selector:rl,closest:ps,predicate:Vo,all:el}),down:oe({selector:us,predicate:xt}),styles:oe({get:Ur,getRaw:Ch,set:_s,remove:ri}),attrs:oe({get:Cr,set:Us,remove:Ts,copyTo:B}),insert:oe({before:pu,after:Dc,afterAll:Oo,append:ms,appendAll:Oa,prepend:jr,wrap:pf}),remove:oe({unwrap:id,remove:dr}),create:oe({nu:me.fromTag,clone:l,text:me.fromText}),query:oe({comparePosition:z,prevSibling:fu,nextSibling:tl}),property:oe({children:So,name:ns,parent:Fi,document:f,isText:Pi,isComment:Ho,isElement:kr,isSpecial:H,getLanguage:K,getText:Vt,setText:zs,isBoundary:g,isEmptyTag:y,isNonEditable:x}),eq:os,is:Ny}};const a1=(l,f,g,y)=>{const x=g[0],z=g.slice(1);return y(l,f,x,z)},TT=(l,f,g)=>g.length>0?a1(l,f,g,ob):ce.none(),ob=(l,f,g,y)=>{const x=f(l,g);return Vs(y,(z,B)=>{const H=f(l,B);return ET(l,z,H)},x)},ET=(l,f,g)=>f.bind(y=>g.filter(Gt(l.eq,y))),Yp=(l,f)=>Gt(l.eq,f),C0=(l,f,g,y=yn)=>{const x=[f].concat(l.up().all(f)),z=[g].concat(l.up().all(g)),B=ge=>Ka(ge,y).fold(()=>ge,vt=>ge.slice(0,vt+1)),H=B(x),K=B(z),ne=I(H,ge=>Ye(K,Yp(l,ge)));return{firstpath:H,secondpath:K,shared:ne}},Ad=TT,zT=C0,Su=Pe(),jo=(l,f)=>Ad(Su,(g,y)=>l(y),f),Tu=(l,f,g)=>zT(Su,l,f,g),S0=l=>rl(l,"table"),yl=(l,f,g)=>{const y=x=>z=>g!==void 0&&g(z)||os(z,x);return os(l,f)?ce.some({boxes:ce.some([l]),start:l,finish:f}):S0(l).bind(x=>S0(f).bind(z=>{if(os(x,z))return ce.some({boxes:w0(x,l,f),start:l,finish:f});if(Pp(x,z)){const B=Pn(f,"td,th",y(x)),H=B.length>0?B[B.length-1]:f;return ce.some({boxes:Go(x,l,x,f,z),start:l,finish:H})}else if(Pp(z,x)){const B=Pn(l,"td,th",y(z)),H=B.length>0?B[B.length-1]:l;return ce.some({boxes:Go(z,l,x,f,z),start:l,finish:H})}else return Tu(l,f).shared.bind(B=>ps(B,"table",g).bind(H=>{const K=Pn(f,"td,th",y(H)),ne=K.length>0?K[K.length-1]:f,ge=Pn(l,"td,th",y(H)),qe=ge.length>0?ge[ge.length-1]:l;return ce.some({boxes:Go(H,l,x,f,z),start:qe,finish:ne})}))}))},Od=(l,f)=>{const g=us(l,f);return g.length>0?ce.some(g):ce.none()},T0=(l,f)=>I(l,g=>Qr(g,f)),Qm=(l,f,g)=>si(l,f).bind(y=>si(l,g).bind(x=>jo(S0,[y,x]).map(z=>({first:y,last:x,table:z})))),Z_=(l,f)=>rl(l,"table").bind(g=>si(g,f).bind(y=>yl(y,l).bind(x=>x.boxes.map(z=>({boxes:z,start:x.start,finish:x.finish}))))),c1=(l,f,g,y,x)=>T0(l,x).bind(z=>ST(z,f,g).bind(B=>Z_(B,y))),E0=(l,f)=>Od(l,f),AT=(l,f,g)=>Qm(l,f,g).bind(y=>{const x=K=>os(l,K),z="thead,tfoot,tbody,table",B=rl(y.first,z,x),H=rl(y.last,z,x);return B.bind(K=>H.bind(ne=>os(K,ne)?k0(y.table,y.first,y.last):ce.none()))}),z0=Ut,Eu=l=>{const f=(y,x)=>fa(y,x).exists(z=>parseInt(z,10)>1),g=y=>f(y,"rowspan")||f(y,"colspan");return l.length>0&&Qe(l,g)?ce.some(l):ce.none()},iO=(l,f,g)=>f.length<=1?ce.none():AT(l,g.firstSelectedSelector,g.lastSelectedSelector).map(y=>({bounds:y,cells:f})),A0="data-mce-selected",Pf="td["+A0+"],th["+A0+"]",sa="["+A0+"]",Ot="data-mce-first-selected",OT="td["+Ot+"],th["+Ot+"]",O0="data-mce-last-selected",DT="td["+O0+"],th["+O0+"]",q_=sa,ep={selected:A0,selectedSelector:Pf,firstSelected:Ot,firstSelectedSelector:OT,lastSelected:O0,lastSelectedSelector:DT},Xp=(l,f,g)=>({element:g,mergable:iO(f,l,ep),unmergable:Eu(l),selection:z0(l)}),sb=(l,f,g)=>({element:l,clipboard:f,generators:g}),Jp=(l,f,g,y)=>({selection:z0(l),clipboard:g,generators:y}),i1=l=>Ma(l).bind(f=>E0(f,ep.firstSelectedSelector)).fold(oe(l),f=>f[0]),Dd=l=>(f,g)=>{const y=ns(f),x=y==="col"||y==="colgroup"?i1(f):f;return ps(x,l,g)},Ul=Dd("th,td,caption"),rb=Dd("th,td"),qi=l=>Ll(l.model.table.getSelectedCells()),l1=l=>Xn(qi(l),f=>Qr(f,ep.selectedSelector)),G_=l=>Ma(l[0]).map(f=>{const g=ie(f,q_);return jl(g),[g]}),Qp=(l,f)=>Yt(f,g=>l.selection.serializer.serialize(g.dom,{})).join(""),Rd=l=>Yt(l,f=>f.dom.innerText).join(""),RT=(l,f)=>{l.on("BeforeGetContent",g=>{const y=x=>{g.preventDefault(),G_(x).each(z=>{g.content=g.format==="text"?Rd(z):Qp(l,z)})};if(g.selection===!0){const x=l1(l);x.length>=1&&y(x)}}),l.on("BeforeSetContent",g=>{if(g.selection===!0&&g.paste===!0){const y=qi(l);ve(y).each(x=>{Ma(x).each(z=>{const B=Xn(Yh(g.content),K=>ns(K)!=="meta"),H=_r("table");if(Ns(l)&&B.length===1&&H(B[0])){g.preventDefault();const K=me.fromDom(l.getDoc()),ne=na(K),ge=sb(x,B[0],ne);f.pasteCells(z,ge).each(()=>{l.focus()})}})})}})},eg=(l,f)=>({element:l,offset:f}),tp=(l,f,g)=>l.property().isText(f)&&l.property().getText(f).trim().length===0||l.property().isComment(f)?g(f).bind(y=>tp(l,y,g).orThunk(()=>ce.some(y))):ce.none(),vl=(l,f)=>l.property().isText(f)?l.property().getText(f).length:l.property().children(f).length,Lc=(l,f)=>{const g=tp(l,f,l.query().prevSibling).getOr(f);if(l.property().isText(g))return eg(g,vl(l,g));const y=l.property().children(g);return y.length>0?Lc(l,y[y.length-1]):eg(g,vl(l,g))},MT=Lc,K_=Pe(),Y_=l=>MT(K_,l),D0=(l,f)=>{ga(l)||Le(l).each(y=>{const x=y.value/2;nc(l,x,y.unit),nc(f,x,y.unit)})},Hc=l=>Yt(l,oe(0)),tg=(l,f,g,y,x)=>x(l.slice(0,f)).concat(y).concat(x(l.slice(g))),u1=l=>(f,g,y,x)=>{if(l(y)){const z=Math.max(x,f[g]-Math.abs(y)),B=Math.abs(z-f[g]);return y>=0?B:-B}else return y},d1=u1(l=>l<0),BT=u1(Re),X_=()=>{const l=(H,K,ne,ge,qe)=>{const vt=d1(H,K,ge,qe);return tg(H,K,ne+1,[vt,0],Hc)},f=(H,K,ne,ge)=>{const qe=(100+ne)/100,vt=Math.max(ge,(H[K]+ne)/qe);return Yt(H,(yt,$e)=>($e===K?vt:yt/qe)-yt)},g=(H,K,ne,ge,qe,vt)=>vt?f(H,K,ge,qe):l(H,K,ne,ge,qe);return{resizeTable:(H,K)=>H(K),clampTableDelta:d1,calcLeftEdgeDeltas:g,calcMiddleDeltas:(H,K,ne,ge,qe,vt,yt)=>g(H,ne,ge,qe,vt,yt),calcRightEdgeDeltas:(H,K,ne,ge,qe,vt)=>{if(vt)return f(H,ne,ge,qe);{const yt=d1(H,ne,ge,qe);return Hc(H.slice(0,ne)).concat([yt])}},calcRedestributedWidths:(H,K,ne,ge)=>{if(ge){const vt=(K+ne)/K,yt=Yt(H,$e=>$e/vt);return{delta:vt*100-100,newSizes:yt}}else return{delta:ne,newSizes:H}}}},R0=()=>{const l=(B,H,K,ne,ge)=>{const qe=ne>=0?K:H,vt=BT(B,qe,ne,ge);return tg(B,H,K+1,[vt,-vt],Hc)};return{resizeTable:(B,H,K)=>{K&&B(H)},clampTableDelta:(B,H,K,ne,ge)=>{if(ge){if(K>=0)return K;{const qe=He(B,(vt,yt)=>vt+yt-ne,0);return Math.max(-qe,K)}}else return d1(B,H,K,ne)},calcLeftEdgeDeltas:l,calcMiddleDeltas:(B,H,K,ne,ge,qe)=>l(B,K,ne,ge,qe),calcRightEdgeDeltas:(B,H,K,ne,ge,qe)=>{if(qe)return Hc(B);{const vt=ne/B.length;return Yt(B,oe(vt))}},calcRedestributedWidths:(B,H,K,ne)=>({delta:0,newSizes:B})}},ng=l=>Bn.fromTable(l).grid,og=_r("th"),f1=l=>Qe(l,f=>og(f.element)),NT=(l,f)=>l&&f?"sectionCells":l?"section":"cells",m1=l=>{const f=l.section==="thead",g=Bl(sg(l.cells),"th");return l.section==="tfoot"?{type:"footer"}:f||g?{type:"header",subType:NT(f,g)}:{type:"body"}},sg=l=>{const f=Xn(l,g=>og(g.element));return f.length===0?ce.some("td"):f.length===l.length?ce.some("th"):ce.none()},PT=l=>{const f=Yt(l,x=>m1(x).type),g=lo(f,"header"),y=lo(f,"footer");if(!g&&!y)return ce.some("body");{const x=lo(f,"body");return g&&!x&&!y?ce.some("header"):!g&&!x&&y?ce.some("footer"):ce.none()}},ab=l=>Ve(l.all,f=>{const g=m1(f);return g.type==="header"?ce.from(g.subType):ce.none()}),M0=(l,f,g)=>Do(g(l.element,f),!0,l.isLocked),Vc=(l,f)=>l.section!==f?dc(l.element,l.cells,f,l.isNew):l,p1=()=>({transformRow:Vc,transformCell:(l,f,g)=>{const y=g(l.element,f),x=ns(y)!=="td"?gf(y,"td"):y;return Do(x,l.isNew,l.isLocked)}}),J_=()=>({transformRow:Vc,transformCell:M0}),g1=()=>({transformRow:(l,f)=>Vc(l,f==="thead"?"tbody":f),transformCell:M0}),$f={getTableSectionType:(l,f)=>{const g=Bn.fromTable(l);switch(ab(g).getOr(f)){case"section":return p1();case"sectionCells":return J_();case"cells":return g1()}},section:p1,sectionCells:J_,cells:g1,fallback:()=>({transformRow:Ut,transformCell:M0})},zu=(l,f,g,y)=>{g===y?Ts(l,f):Us(l,f,g)},B0=(l,f,g)=>{tt(Mt(l,f)).fold(()=>jr(l,g),y=>Dc(y,g))},rg=(l,f)=>{const g=no(l,f).getOrThunk(()=>{const y=me.fromTag(f,Oc(l).dom);return f==="thead"?B0(l,"caption,colgroup",y):f==="colgroup"?B0(l,"caption",y):ms(l,y),y});return Da(g),g},b1=(l,f)=>{const g=[],y=[],x=yt=>Yt(yt,$e=>{$e.isNew&&g.push($e.element);const wt=$e.element;return Da(wt),Ue($e.cells,Be=>{Be.isNew&&y.push(Be.element),zu(Be.element,"colspan",Be.colspan,1),zu(Be.element,"rowspan",Be.rowspan,1),ms(wt,Be.element)}),wt}),z=yt=>ot(yt,$e=>Yt($e.cells,wt=>(zu(wt.element,"span",wt.colspan,1),wt.element))),B=(yt,$e)=>{const wt=rg(l,$e),$t=($e==="colgroup"?z:x)(yt);Oa(wt,$t)},H=yt=>{no(l,yt).each(dr)},K=(yt,$e)=>{yt.length>0?B(yt,$e):H($e)},ne=[],ge=[],qe=[],vt=[];return Ue(f,yt=>{switch(yt.section){case"thead":ne.push(yt);break;case"tbody":ge.push(yt);break;case"tfoot":qe.push(yt);break;case"colgroup":vt.push(yt);break}}),K(vt,"colgroup"),K(ne,"thead"),K(ge,"tbody"),K(qe,"tfoot"),{newRows:g,newCells:y}},Q_=l=>Yt(l,f=>{const g=lc(f.element);return Ue(f.cells,y=>{const x=nl(y.element);zu(x,"colspan",y.colspan,1),zu(x,"rowspan",y.rowspan,1),ms(g,x)}),g}),as=(l,f)=>Yt(l,g=>ha(g,f)),$T=(l,f)=>l[f],Gs=(l,f)=>{if(l.length===0)return 0;const g=l[0];return Ka(l,x=>!f(g.element,x.element)).getOr(l.length)},ex=(l,f,g,y)=>{const x=$T(l,f),z=x.section==="colgroup",B=Gs(x.cells.slice(g),y),H=z?1:Gs(as(l.slice(f),g),y);return{colspan:B,rowspan:H}},xs=(l,f)=>{const g=Yt(l,x=>Yt(x.cells,yn)),y=(x,z,B,H)=>{for(let K=x;K<x+B;K++)for(let ne=z;ne<z+H;ne++)g[K][ne]=!0};return Yt(l,(x,z)=>{const B=ot(x.cells,(H,K)=>{if(g[z][K]===!1){const ne=ex(l,z,K,f);return y(z,K,ne.rowspan,ne.colspan),[zm(H.element,ne.rowspan,ne.colspan,H.isNew)]}else return[]});return Om(x.element,B,x.section,x.isNew)})},ag=(l,f,g)=>{const y=[];Ue(l.colgroups,x=>{const z=[];for(let B=0;B<l.grid.columns;B++){const H=Bn.getColumnAt(l,B).map(K=>Do(K.element,g,!1)).getOrThunk(()=>Do(f.colGap(),!0,!1));z.push(H)}y.push(dc(x.element,z,"colgroup",g))});for(let x=0;x<l.grid.rows;x++){const z=[];for(let K=0;K<l.grid.columns;K++){const ne=Bn.getAt(l,x,K).map(ge=>Do(ge.element,g,ge.isLocked)).getOrThunk(()=>Do(f.gap(),!0,!1));z.push(ne)}const B=l.all[x],H=dc(B.element,z,B.section,g);y.push(H)}return y},br=(l,f)=>ag(l,f,!1),As=l=>xs(l,os),mi=(l,f)=>Ve(l.all,g=>I(g.cells,y=>os(f,y.element))),N0=(l,f,g)=>{const y=Yt(f.selection,z=>Mm(z).bind(B=>mi(l,B)).filter(g)),x=er(y);return $y(x.length>0,x)},ra=(l,f,g,y,x)=>(z,B,H,K)=>{const ne=Bn.fromTable(z),ge=ce.from(K==null?void 0:K.section).getOrThunk($f.fallback);return f(ne,B).map(vt=>{const yt=br(ne,H),$e=l(yt,vt,os,x(H),ge),wt=gr($e.grid),Be=As($e.grid);return{info:vt,grid:Be,cursor:$e.cursor,lockedColumns:wt}}).bind(vt=>{const yt=b1(z,vt.grid),$e=ce.from(K==null?void 0:K.sizing).getOrThunk(()=>Ia.getTableSize(z)),wt=ce.from(K==null?void 0:K.resize).getOrThunk(R0);return g(z,vt.grid,vt.info,{sizing:$e,resize:wt,section:ge}),y(z),Ts(z,Hm),vt.lockedColumns.length>0&&Us(z,Hm,vt.lockedColumns.join(",")),ce.some({cursor:vt.cursor,newRows:yt.newRows,newCells:yt.newCells})})},cb=(l,f)=>Mm(f.element).bind(g=>mi(l,g).map(y=>({...y,generators:f.generators,clipboard:f.clipboard}))),cg=(l,f)=>N0(l,f,Re).map(g=>({cells:g,generators:f.generators,clipboard:f.clipboard})),Au=(l,f)=>f.mergable,ig=(l,f)=>f.unmergable,If=(l,f)=>N0(l,f,Re),Md=(l,f)=>N0(l,f,g=>!g.isLocked),IT=(l,f)=>mi(l,f).exists(g=>!g.isLocked),tx=(l,f)=>Qe(f,g=>IT(l,g)),uO=(l,f)=>Au(l,f).filter(g=>tx(l,g.cells)),dO=(l,f)=>ig(l,f).filter(g=>tx(l,g)),wl=(l,f,g,y)=>{const x=cr(l).rows;if(x.length===0)return l;for(let z=f.startRow;z<=f.finishRow;z++)for(let B=f.startCol;B<=f.finishCol;B++){const H=x[z],K=ha(H,B).isLocked;Sf(H,B,Do(y(),!1,K))}return l},La=(l,f,g,y)=>{const x=cr(l).rows;let z=!0;for(let B=0;B<x.length;B++)for(let H=0;H<hc(x[0]);H++){const K=x[B],ne=ha(K,H),ge=ne.element,qe=g(ge,f);qe&&!z?Sf(K,H,Do(y(),!0,ne.isLocked)):qe&&(z=!1)}return l},FT=(l,f)=>He(l,(g,y)=>Ye(g,x=>f(x.element,y.element))?g:g.concat([y]),[]),LT=(l,f,g,y)=>(f>0&&f<l[0].cells.length&&Ue(l,x=>{const z=x.cells[f-1];let B=0;const H=y();for(;x.cells.length>f+B&&g(z.element,x.cells[f+B].element);)Sf(x,f+B,Do(H,!0,x.cells[f+B].isLocked)),B++}),l),Ff=(l,f,g,y)=>{const x=cr(l).rows;if(f>0&&f<x.length){const z=x[f-1].cells,B=FT(z,g);Ue(B,H=>{let K=ce.none();for(let ne=f;ne<x.length;ne++)for(let ge=0;ge<hc(x[0]);ge++){const qe=x[ne],vt=ha(qe,ge);g(vt.element,H.element)&&(K.isNone()&&(K=ce.some(y())),K.each($e=>{Sf(qe,ge,Do($e,!0,vt.isLocked))}))}})}return l},ib=l=>{const f=z=>z(l),g=oe(l),y=()=>x,x={tag:!0,inner:l,fold:(z,B)=>B(l),isValue:Re,isError:yn,map:z=>Ou.value(z(l)),mapError:y,bind:f,exists:f,forall:f,getOr:g,or:y,getOrThunk:g,orThunk:y,getOrDie:g,each:z=>{z(l)},toOptional:()=>ce.some(l)};return x},y1=l=>{const f=()=>g,g={tag:!1,inner:l,fold:(y,x)=>y(l),isValue:yn,isError:Re,map:f,mapError:y=>Ou.error(y(l)),bind:f,exists:yn,forall:Re,getOr:Ut,or:Ut,getOrThunk:$n,orThunk:$n,getOrDie:tn(String(l)),each:it,toOptional:ce.none};return g},Ou={value:ib,error:y1,fromOption:(l,f)=>l.fold(()=>y1(f),ib)},lg=(l,f,g)=>{if(l.row>=f.length||l.column>hc(f[0]))return Ou.error("invalid start address out of table bounds, row: "+l.row+", column: "+l.column);const y=f.slice(l.row),x=y[0].cells.slice(l.column),z=hc(g[0]),B=g.length;return Ou.value({rowDelta:y.length-B,colDelta:x.length-z})},ug=(l,f)=>{const g=hc(l[0]),y=hc(f[0]);return{rowDelta:0,colDelta:g-y}},dg=(l,f)=>{const g=l.length,y=f.length;return{rowDelta:g-y,colDelta:0}},np=(l,f,g,y)=>{const x=f.section==="colgroup"?g.col:g.cell;return wo(l,z=>Do(x(),!0,y(z)))},nx=(l,f,g,y)=>{const x=l[l.length-1];return l.concat(wo(f,()=>{const z=x.section==="colgroup"?g.colgroup:g.row,B=Lm(x,z,Ut),H=np(B.cells.length,B,g,K=>_o(y,K.toString()));return Ph(B,H)}))},Ls=(l,f,g,y)=>Yt(l,x=>{const z=np(f,x,g,yn);return tc(x,y,z)}),ox=(l,f,g)=>Yt(l,y=>He(g,(x,z)=>{const B=np(1,y,f,Re)[0];return vu(x,z,B)},y)),fg=(l,f,g)=>{const y=f.colDelta<0?Ls:Ut,x=f.rowDelta<0?nx:Ut,z=gr(l),B=hc(l[0]),H=Ye(z,ge=>ge===B-1),K=y(l,Math.abs(f.colDelta),g,H?B-1:B),ne=gr(K);return x(K,Math.abs(f.rowDelta),g,Ke(ne,Re))},sx=(l,f,g,y)=>{const x=ha(l[f],g),z=Gt(y,x.element),B=l[f];return l.length>1&&hc(B)>1&&(g>0&&z(Ws(B,g-1))||g<B.cells.length-1&&z(Ws(B,g+1))||f>0&&z(Ws(l[f-1],g))||f<l.length-1&&z(Ws(l[f+1],g)))},w1=(l,f,g,y,x,z)=>{const B=l.row,H=l.column,K=g.length,ne=hc(g[0]),ge=B+K,qe=H+ne+z.length,vt=Ke(z,Re);for(let yt=B;yt<ge;yt++){let $e=0;for(let wt=H;wt<qe;wt++){if(vt[wt]){$e++;continue}sx(f,yt,wt,x)&&La(f,Ws(f[yt],wt),x,y.cell);const Be=wt-H-$e,$t=ha(g[yt-B],Be),an=$t.element,En=y.replace(an);Sf(f[yt],wt,Do(En,!0,$t.isLocked))}}return f},va=(l,f,g)=>{const y=hc(f[0]),x=cr(f).cols.length+l.row,z=wo(y-l.column,H=>H+l.column),B=I(z,H=>Qe(g,K=>K!==H)).getOr(y-1);return{row:x,column:B}},pi=(l,f,g)=>Xn(g,y=>y>=l.column&&y<=hc(f[0])+l.column),rx=(l,f,g,y,x)=>{const z=gr(f),B=va(l,f,z),H=cr(g).rows,K=pi(B,H,z);return lg(B,f,H).map(ge=>{const qe={...ge,colDelta:ge.colDelta-K.length},vt=fg(f,qe,y),yt=gr(vt),$e=pi(B,H,yt);return w1(B,vt,H,y,x,$e)})},k1=(l,f,g,y,x)=>{LT(f,l,x,y.cell);const z=dg(g,f),B=fg(g,z,y),H=dg(f,B),K=fg(f,H,y);return Yt(K,(ne,ge)=>tc(ne,l,B[ge].cells))},op=(l,f,g,y,x)=>{Ff(f,l,x,y.cell);const z=gr(f),B=ug(f,g),H={...B,colDelta:B.colDelta-z.length},K=fg(f,H,y),{cols:ne,rows:ge}=cr(K),qe=gr(K),vt=ug(g,f),yt={...vt,colDelta:vt.colDelta+qe.length},$e=ox(g,y,qe),wt=fg($e,yt,y);return[...ne,...ge.slice(0,l),...wt,...ge.slice(l,ge.length)]},HT=(l,f,g,y)=>Lm(l,x=>y(x,g),f),ax=(l,f,g,y,x)=>{const{rows:z,cols:B}=cr(l),H=z.slice(0,f),K=z.slice(f),ne=HT(z[g],(ge,qe)=>f>0&&f<z.length&&y(Ws(z[f-1],qe),Ws(z[f],qe))?ha(z[f],qe):Do(x(ge.element,y),!0,ge.isLocked),y,x);return[...B,...H,ne,...K]},P0=(l,f,g,y,x,z,B)=>{if(g==="colgroup"||!y){const H=ha(l,x);return Do(B(H.element,z),!0,!1)}else return ha(l,f)},jc=(l,f,g,y,x)=>Yt(l,z=>{const B=f>0&&f<hc(z)&&y(Ws(z,f-1),Ws(z,f)),H=P0(z,f,z.section,B,g,y,x);return vu(z,f,H)}),_1=(l,f)=>ot(l,g=>{const y=g.cells,x=Vs(f,(z,B)=>B>=0&&B<z.length?z.slice(0,B).concat(z.slice(B+1)):z,y);return x.length>0?[dc(g.element,x,g.section,g.isNew)]:[]}),Ks=(l,f,g)=>{const{rows:y,cols:x}=cr(l);return[...x,...y.slice(0,f),...y.slice(g+1)]},Wl=(l,f,g,y)=>Ws(l[f],g)!==void 0&&f>0&&y(Ws(l[f-1],g),Ws(l[f],g)),mg=(l,f,g)=>f>0&&g(Ws(l,f-1),Ws(l,f)),Lf=(l,f,g,y)=>Wl(l,f,g,y)||mg(l[f],g,y),sp=(l,f)=>Qe(f,Ut)&&f1(l.cells)?Re:(y,x,z)=>!(ns(y.element)==="th"&&f[z]),rp=(l,f)=>Qe(f,Ut)&&f1(l)?Re:(y,x,z)=>!(ns(y.element)==="th"&&f[x]),Bd=(l,f,g,y)=>{const x=B=>B==="row"?al(f):ga(f),z=B=>x(B)?`${B}group`:B;return l?og(f)?z(g):null:y&&og(f)?z(g==="row"?"col":"row"):null},cx=(l,f)=>(g,y,x)=>ce.some(Bd(l,g.element,"col",f[x])),ap=(l,f)=>(g,y)=>ce.some(Bd(l,g.element,"row",f[y])),Hf=(l,f,g)=>Do(g(l.element,f),!0,l.isLocked),cp=(l,f,g,y,x,z,B)=>{const H=K=>Ye(f,ne=>g(K.element,ne.element));return Yt(l,(K,ne)=>Wy(K,(ge,qe)=>{if(H(ge)){const vt=B(ge,ne,qe)?x(ge,g,y):ge;return z(vt,ne,qe).each(yt=>{cd(vt.element,{scope:ce.from(yt)})}),vt}else return ge}))},ix=(l,f,g)=>ot(l,(y,x)=>Lf(l,x,f,g)?[]:[ha(y,f)]),VT=(l,f,g)=>{const y=l[f];return ot(y.cells,(x,z)=>Lf(l,f,z,g)?[]:[x])},$0=(l,f,g,y,x)=>{const z=cr(l).rows,B=ot(f,ge=>ix(z,ge,y)),H=Yt(z,ge=>f1(ge.cells)),K=rp(B,H),ne=ap(g,H);return cp(l,B,y,x,Hf,ne,K)},jT=(l,f,g,y,x,z,B)=>{const{cols:H,rows:K}=cr(l),ne=K[f[0]],ge=ot(f,Be=>VT(K,Be,x)),qe=Yt(ne.cells,(Be,$t)=>f1(ix(K,$t,x))),vt=[...K];Ue(f,Be=>{vt[Be]=B.transformRow(K[Be],g)});const yt=[...H,...vt],$e=sp(ne,qe),wt=cx(y,qe);return cp(yt,ge,x,z,B.transformCell,wt,$e)},x1=(l,f,g,y)=>{const x=cr(l).rows,z=Yt(f,B=>ha(x[B.row],B.column));return cp(l,z,g,y,Hf,ce.none,Re)},Uc={generate:l=>{if(!Ge(l))throw new Error("cases must be an array");if(l.length===0)throw new Error("there must be at least one case");const f=[],g={};return Ue(l,(y,x)=>{const z=Ie(y);if(z.length!==1)throw new Error("one and only one name per case");const B=z[0],H=y[B];if(g[B]!==void 0)throw new Error("duplicate key detected:"+B);if(B==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Ge(H))throw new Error("case arguments must be an array");f.push(B),g[B]=(...K)=>{const ne=K.length;if(ne!==H.length)throw new Error("Wrong number of arguments to case "+B+". Expected "+H.length+" ("+H+"), got "+ne);return{fold:(...qe)=>{if(qe.length!==l.length)throw new Error("Wrong number of arguments to fold. Expected "+l.length+", got "+qe.length);return qe[x].apply(null,K)},match:qe=>{const vt=Ie(qe);if(f.length!==vt.length)throw new Error("Wrong number of arguments to match. Expected: "+f.join(",")+`
Actual: `+vt.join(","));if(!Qe(f,$e=>lo(vt,$e)))throw new Error("Not all branches were specified when using match. Specified: "+vt.join(", ")+`
Required: `+f.join(", "));return qe[B].apply(null,K)},log:qe=>{console.log(qe,{constructors:f,constructor:B,params:K})}}}}),g}},pg={...Uc.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},ux=(l,f)=>l.length===0?pg.none():l.length===1?pg.only(0):f===0?pg.left(0,1):f===l.length-1?pg.right(f-1,f):f>0&&f<l.length-1?pg.middle(f-1,f,f+1):pg.none(),UT=(l,f,g,y,x)=>{const z=l.slice(0),B=ux(l,f),H=oe(Yt(z,oe(0))),K=vt=>y.singleColumnWidth(z[vt],g),ne=(vt,yt)=>x.calcLeftEdgeDeltas(z,vt,yt,g,y.minCellWidth(),y.isRelative),ge=(vt,yt,$e)=>x.calcMiddleDeltas(z,vt,yt,$e,g,y.minCellWidth(),y.isRelative),qe=(vt,yt)=>x.calcRightEdgeDeltas(z,vt,yt,g,y.minCellWidth(),y.isRelative);return B.fold(H,K,ne,ge,qe)},lb=(l,f,g)=>{let y=0;for(let x=l;x<f;x++)y+=g[x]!==void 0?g[x]:0;return y},Vf=(l,f)=>{const g=Bn.justCells(l);return Yt(g,y=>{const x=lb(y.column,y.column+y.colspan,f);return{element:y.element,width:x,colspan:y.colspan}})},C1=(l,f)=>{const g=Bn.justColumns(l);return Yt(g,(y,x)=>({element:y.element,width:f[x],colspan:y.colspan}))},Qn=(l,f)=>{const g=Bn.justCells(l);return Yt(g,y=>{const x=lb(y.row,y.row+y.rowspan,f);return{element:y.element,height:x,rowspan:y.rowspan}})},Wc=(l,f)=>Yt(l.all,(g,y)=>({element:g.element,height:f[y]})),Zl=l=>Vs(l,(f,g)=>f+g,0),F0=(l,f)=>Bn.hasColumns(l)?C1(l,f):Vf(l,f),Bo=(l,f,g)=>{const y=F0(l,f);Ue(y,x=>{g.setElementWidth(x.element,x.width)})},ub=(l,f,g,y,x)=>{const z=Bn.fromTable(l),B=x.getCellDelta(f),H=x.getWidths(z,x),K=g===z.grid.columns-1,ne=y.clampTableDelta(H,g,B,x.minCellWidth(),K),ge=UT(H,g,ne,x,y),qe=Yt(ge,(vt,yt)=>vt+H[yt]);Bo(z,qe,x),y.resizeTable(x.adjustTableWidth,ne,K)},L0=(l,f,g,y)=>{const x=Bn.fromTable(l),z=be(x,l,y),B=Yt(z,(ge,qe)=>g===qe?Math.max(f+ge,ci()):ge),H=Qn(x,B),K=Wc(x,B);Ue(K,ge=>{ku(ge.element,ge.height)}),Ue(H,ge=>{ku(ge.element,ge.height)});const ne=Zl(B);ku(l,ne)},Ar=(l,f,g,y,x)=>{const z=Bn.generate(f),B=y.getWidths(z,y),H=y.pixelWidth(),{newSizes:K,delta:ne}=x.calcRedestributedWidths(B,H,g.pixelDelta,y.isRelative);Bo(z,K,y),y.adjustTableWidth(ne)},Du=(l,f,g,y)=>{const x=Bn.generate(f),z=y.getWidths(x,y);Bo(x,z,y)},jf=l=>He(l,(g,y)=>Ye(g,z=>z.column===y.column)?g:g.concat([y]),[]).sort((g,y)=>g.column-y.column),H0=_r("col"),S1=_r("colgroup"),db=l=>ns(l)==="tr"||S1(l),V0=l=>{const f=ss(l,"colspan",1),g=ss(l,"rowspan",1);return{element:l,colspan:f,rowspan:g}},T1=(l,f=V0)=>{const g=H=>H0(H.element)?l.col(H):l.cell(H),y=H=>S1(H.element)?l.colgroup(H):l.row(H),x=H=>{if(db(H))return y({element:H});{const K=H,ne=g(f(K));return z=ce.some({item:K,replacement:ne}),ne}};let z=ce.none();return{getOrInit:(H,K)=>z.fold(()=>x(H),ne=>K(H,ne.item)?ne.replacement:x(H))}},Ru=l=>f=>{const g=[],y=(B,H)=>I(g,K=>H(K.item,B)),x=B=>{const H=l==="td"?{scope:null}:{},K=f.replace(B,l,H);return g.push({item:B,sub:K}),K};return{replaceOrInit:(B,H)=>{if(db(B)||H0(B))return B;{const K=B;return y(K,H).fold(()=>x(K),ne=>H(B,ne.item)?ne.sub:x(K))}}}},Nd=l=>fa(l,"scope").map(f=>f.substr(0,3)),_e={modification:T1,transform:Ru,merging:l=>({unmerge:y=>{const x=Nd(y);return x.each(z=>Us(y,"scope",z)),()=>{const z=l.cell({element:y,colspan:1,rowspan:1});return ri(z,"width"),ri(y,"width"),x.each(B=>Us(z,"scope",B)),z}},merge:y=>{const x=()=>{const z=er(Yt(y,Nd));if(z.length===0)return ce.none();{const B=z[0],H=["row","col"];return Ye(z,ne=>ne!==B&&lo(H,ne))?ce.none():ce.from(B)}};return ri(y[0],"width"),x().fold(()=>Ts(y[0],"scope"),z=>Us(y[0],"scope",z+"group")),oe(y[0])}})},fb=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],gg=(l,f)=>{const g=l.property().name(f);return lo(["ol","ul"],g)},gi=(l,f)=>{const g=l.property().name(f);return lo(fb,g)},j0=(l,f)=>lo(["br","img","hr","input"],l.property().name(f)),bs=Pe(),E1=l=>gi(bs,l),Pd=l=>gg(bs,l),U0=l=>j0(bs,l),z1=l=>{const f=_r("br"),g=K=>Qe(K,ne=>f(ne)||Pi(ne)&&Vt(ne).trim().length===0),y=K=>ns(K)==="li"||Vo(K,Pd).isSome(),x=K=>tl(K).map(ne=>E1(ne)?!0:U0(ne)?ns(ne)!=="img":!1).getOr(!1),z=K=>Zi(K).bind(ne=>{const ge=x(ne);return Fi(ne).map(qe=>ge===!0||y(qe)||f(ne)||E1(qe)&&!os(K,qe)?[]:[me.fromTag("br")])}).getOr([]),H=(()=>{const K=ot(l,ne=>{const ge=So(ne);return g(ge)?[]:ge.concat(z(ne))});return K.length===0?[me.fromTag("br")]:K})();Da(l[0]),Oa(l[0],H)},W0=l=>Mf(l,!0),mb=l=>{Ra(l).length===0&&dr(l)},hg=(l,f)=>({grid:l,cursor:f}),Z0=l=>Ve(l,f=>Ve(f.cells,g=>{const y=g.element;return $y(W0(y),y)})),ZT=(l,f,g)=>{var y,x;const z=cr(l).rows;return ce.from((x=(y=z[f])===null||y===void 0?void 0:y.cells[g])===null||x===void 0?void 0:x.element).filter(W0).orThunk(()=>Z0(z))},sc=(l,f,g)=>{const y=ZT(l,f,g);return hg(l,y)},Or=l=>He(l,(g,y)=>Ye(g,z=>z.row===y.row)?g:g.concat([y]),[]).sort((g,y)=>g.row-y.row),aa=(l,f,g,y)=>{const x=f[0].row,z=Or(f),B=Vs(z,(H,K)=>({grid:ax(H.grid,x,K.row+H.delta,g,y.getOrInit),delta:H.delta+1}),{grid:l,delta:0}).grid;return sc(B,x,f[0].column)},rc=(l,f,g,y)=>{const x=Or(f),z=x[x.length-1],B=z.row+z.rowspan,H=Vs(x,(K,ne)=>ax(K,B,ne.row,g,y.getOrInit),l);return sc(H,B,f[0].column)},wa=(l,f,g,y)=>{const x=f.details,z=jf(x),B=z[0].column,H=Vs(z,(K,ne)=>({grid:jc(K.grid,B,ne.column+K.delta,g,y.getOrInit),delta:K.delta+1}),{grid:l,delta:0}).grid;return sc(H,x[0].row,B)},Ha=(l,f,g,y)=>{const x=f.details,z=x[x.length-1],B=z.column+z.colspan,H=jf(x),K=Vs(H,(ne,ge)=>jc(ne,B,ge.column,g,y.getOrInit),l);return sc(K,x[0].row,B)},Dr=(l,f,g,y)=>{const x=jf(f),z=Yt(x,H=>H.column),B=$0(l,z,!0,g,y.replaceOrInit);return sc(B,f[0].row,f[0].column)},q0=(l,f,g,y)=>{const x=x1(l,f,g,y.replaceOrInit);return sc(x,f[0].row,f[0].column)},pb=(l,f,g,y)=>{const x=jf(f),z=Yt(x,H=>H.column),B=$0(l,z,!1,g,y.replaceOrInit);return sc(B,f[0].row,f[0].column)},G0=(l,f,g,y)=>{const x=x1(l,f,g,y.replaceOrInit);return sc(x,f[0].row,f[0].column)},gb=(l,f)=>(g,y,x,z,B)=>{const H=Or(y),K=Yt(H,ge=>ge.row),ne=jT(g,K,l,f,x,z.replaceOrInit,B);return sc(ne,y[0].row,y[0].column)},K0=gb("thead",!0),dx=gb("tbody",!1),A1=gb("tfoot",!1),Y0=(l,f,g,y)=>{const x=jf(f.details),z=_1(l,Yt(x,H=>H.column)),B=z.length>0?z[0].cells.length-1:0;return sc(z,x[0].row,Math.min(x[0].column,B))},qT=(l,f,g,y)=>{const x=Or(f),z=Ks(l,x[0].row,x[x.length-1].row),B=z.length>0?z.length-1:0;return sc(z,Math.min(f[0].row,B),f[0].column)},GT=(l,f,g,y)=>{const x=f.cells;z1(x);const z=wl(l,f.bounds,g,y.merge(x));return hg(z,ce.from(x[0]))},fx=(l,f,g,y)=>{const z=Vs(f,(B,H)=>La(B,H,g,y.unmerge(H)),l);return hg(z,ce.from(f[0]))},KT=(l,f,g,y)=>{const z=((K,ne)=>{const ge=Bn.fromTable(K);return ag(ge,ne,!0)})(f.clipboard,f.generators),B=gu(f.row,f.column);return rx(B,l,z,f.generators,g).fold(()=>hg(l,ce.some(f.element)),K=>sc(K,f.row,f.column))},bg=(l,f,g)=>{const y=Sh(l,g.section),x=Bn.generate(y);return ag(x,f,!0)},O1=(l,f,g,y)=>{const x=cr(l).rows,z=f.cells[0].column,B=x[f.cells[0].row],H=bg(f.clipboard,f.generators,B),K=k1(z,l,H,f.generators,g);return sc(K,f.cells[0].row,f.cells[0].column)},mx=(l,f,g,y)=>{const x=cr(l).rows,z=f.cells[f.cells.length-1].column+f.cells[f.cells.length-1].colspan,B=x[f.cells[0].row],H=bg(f.clipboard,f.generators,B),K=k1(z,l,H,f.generators,g);return sc(K,f.cells[0].row,f.cells[0].column)},fO=(l,f,g,y)=>{const x=cr(l).rows,z=f.cells[0].row,B=x[z],H=bg(f.clipboard,f.generators,B),K=op(z,l,H,f.generators,g);return sc(K,f.cells[0].row,f.cells[0].column)},yc=(l,f,g,y)=>{const x=cr(l).rows,z=f.cells[f.cells.length-1].row+f.cells[f.cells.length-1].rowspan,B=x[f.cells[0].row],H=bg(f.clipboard,f.generators,B),K=op(z,l,H,f.generators,g);return sc(K,f.cells[0].row,f.cells[0].column)},mO=(l,f)=>{const g=Bn.fromTable(l);return If(g,f).bind(x=>{const z=x[x.length-1],B=x[0].column,H=z.column+z.colspan,K=Hn(Yt(g.all,ne=>Xn(ne.cells,ge=>ge.column>=B&&ge.column<H)));return sg(K)}).getOr("")},ql=(l,f)=>{const g=Bn.fromTable(l);return If(g,f).bind(sg).getOr("")},ct=(l,f)=>{const g=Bn.fromTable(l);return If(g,f).bind(x=>{const z=x[x.length-1],B=x[0].row,H=z.row+z.rowspan,K=g.all.slice(B,H);return PT(K)}).getOr("")},X0=(l,f,g,y)=>Du(l,f,g,y.sizing),Rr=(l,f,g,y)=>Ar(l,f,g,y.sizing,y.resize),px=(l,f)=>Ye(f,g=>g.column===0&&g.isLocked),D1=(l,f)=>Ye(f,g=>g.column+g.colspan>=l.grid.columns&&g.isLocked),J0=(l,f)=>{const g=vd(l),y=jf(f);return He(y,(x,z)=>{const H=g[z.column].map(ul).getOr(0);return x+H},0)},vc=l=>(f,g)=>If(f,g).filter(y=>!(l?px:D1)(f,y)).map(y=>({details:y,pixelDelta:J0(f,y)})),YT=(l,f)=>Md(l,f).map(g=>({details:g,pixelDelta:-J0(l,g)})),gx=l=>(f,g)=>cg(f,g).filter(y=>!(l?px:D1)(f,y.cells)),wc=_e.transform("th"),yg=_e.transform("td"),hb=ra(aa,If,it,it,_e.modification),Mu=ra(rc,If,it,it,_e.modification),kl=ra(wa,vc(!0),Rr,it,_e.modification),Tt=ra(Ha,vc(!1),Rr,it,_e.modification),hi=ra(Y0,YT,Rr,mb,_e.modification),hx=ra(qT,If,it,mb,_e.modification),bx=ra(Dr,Md,it,it,wc),Q0=ra(pb,Md,it,it,yg),yx=ra(K0,Md,it,it,wc),ew=ra(dx,Md,it,it,yg),tw=ra(A1,Md,it,it,yg),XT=ra(q0,Md,it,it,wc),nw=ra(G0,Md,it,it,yg),JT=ra(GT,uO,X0,it,_e.merging),Va=ra(fx,dO,X0,it,_e.merging),bb=ra(KT,cb,X0,it,_e.modification),QT=ra(O1,gx(!0),it,it,_e.modification),eE=ra(mx,gx(!1),it,it,_e.modification),ow=ra(fO,cg,it,it,_e.modification),tE=ra(yc,cg,it,it,_e.modification),vx=mO,wx=ql,yb=ct,kx=(l,f)=>l.dispatch("NewRow",{node:f}),sw=(l,f)=>l.dispatch("NewCell",{node:f}),ip=(l,f,g)=>{l.dispatch("TableModified",{...g,table:f})},nE=(l,f,g,y,x)=>{l.dispatch("TableSelectionChange",{cells:f,start:g,finish:y,otherCells:x})},oE=l=>{l.dispatch("TableSelectionClear")},rw=(l,f,g,y,x)=>{l.dispatch("ObjectResizeStart",{target:f,width:g,height:y,origin:x})},sE=(l,f,g,y,x)=>{l.dispatch("ObjectResized",{target:f,width:g,height:y,origin:x})},$d={structure:!1,style:!0},Fn={structure:!0,style:!1},aw={structure:!0,style:!0},ja=(l,f)=>Hl(l)?Ia.percentageSize(f):Rf(l)?Ia.pixelSize(f):Ia.getTableSize(f),R1=(l,f,g)=>{const y=cc=>ns(t1(cc))==="table",x=cc=>!y(l)||ng(cc).rows>1,z=cc=>!y(l)||ng(cc).columns>1,B=Ed(l),H=qs(l)?it:D0,K=cc=>{switch(Ym(l)){case"section":return $f.section();case"sectionCells":return $f.sectionCells();case"cells":return $f.cells();default:return $f.getTableSectionType(cc,"section")}},ne=(cc,tk)=>tk.cursor.fold(()=>{const Yb=Ra(cc);return ve(Yb).filter(ks).map(Fu=>{g.clearSelectedCells(cc.dom);const Ca=l.dom.createRng();return Ca.selectNode(Fu.dom),l.selection.setRng(Ca),Us(Fu,"data-mce-selected","1"),Ca})},Yb=>{const Fu=Y_(Yb),Ca=l.dom.createRng();return Ca.setStart(Fu.element.dom,Fu.offset),Ca.setEnd(Fu.element.dom,Fu.offset),l.selection.setRng(Ca),g.clearSelectedCells(cc.dom),ce.some(Ca)}),ge=(cc,tk,Yb,Fu)=>(Ca,Xb,v2=!1)=>{jl(Ca);const w2=me.fromDom(l.getDoc()),Zg=zr(Yb,w2,B),k2={sizing:ja(l,Ca),resize:qs(l)?X_():R0(),section:K(Ca)};return tk(Ca)?cc(Ca,Xb,Zg,k2).bind(fv=>{f.refresh(Ca.dom),Ue(fv.newRows,vp=>{kx(l,vp.dom)}),Ue(fv.newCells,vp=>{sw(l,vp.dom)});const _2=ne(Ca,fv);return ks(Ca)&&(jl(Ca),v2||ip(l,Ca.dom,Fu)),_2.map(vp=>({rng:vp,effect:Fu}))}):ce.none()},qe=ge(hx,x,it,Fn),vt=ge(hi,z,it,Fn),yt=ge(hb,Re,it,Fn),$e=ge(Mu,Re,it,Fn),wt=ge(kl,Re,H,Fn),Be=ge(Tt,Re,H,Fn),$t=ge(JT,Re,it,Fn),an=ge(Va,Re,it,Fn),En=ge(QT,Re,it,Fn),ds=ge(eE,Re,it,Fn),Br=ge(ow,Re,it,Fn),Hs=ge(tE,Re,it,Fn),xc=ge(bb,Re,it,aw),bp=ge(XT,Re,it,Fn),yp=ge(nw,Re,it,Fn),ek=ge(bx,Re,it,Fn),dv=ge(Q0,Re,it,Fn),$o=ge(yx,Re,it,Fn),Wa=ge(ew,Re,it,Fn),ia=ge(tw,Re,it,Fn);return{deleteRow:qe,deleteColumn:vt,insertRowsBefore:yt,insertRowsAfter:$e,insertColumnsBefore:wt,insertColumnsAfter:Be,mergeCells:$t,unmergeCells:an,pasteColsBefore:En,pasteColsAfter:ds,pasteRowsBefore:Br,pasteRowsAfter:Hs,pasteCells:xc,makeCellsHeader:bp,unmakeCellsHeader:yp,makeColumnsHeader:ek,unmakeColumnsHeader:dv,makeRowsHeader:$o,makeRowsBody:Wa,makeRowsFooter:ia,getTableRowType:yb,getTableCellType:wx,getTableColType:vx}},cw=(l,f,g)=>{const y=ss(l,f,1);g===1||y<=1?Ts(l,f):Us(l,f,Math.min(g,y))},iw=(l,f)=>g=>{const y=g.column+g.colspan-1,x=g.column;return y>=l&&x<f},M1=(l,f,g)=>{if(Bn.hasColumns(l)){const y=Xn(Bn.justColumns(l),iw(f,g)),x=Yt(y,B=>{const H=nl(B.element);return cw(H,"span",g-f),H}),z=me.fromTag("colgroup");return Oa(z,x),[z]}else return[]},_x=(l,f,g)=>Yt(l.all,y=>{const x=Xn(y.cells,iw(f,g)),z=Yt(x,H=>{const K=nl(H.element);return cw(K,"colspan",g-f),K}),B=me.fromTag("tr");return Oa(B,z),B}),rE=(l,f)=>{const g=Bn.fromTable(l);return Md(g,f).map(x=>{const z=x[x.length-1],B=x[0].column,H=z.column+z.colspan,K=M1(g,B,H),ne=_x(g,B,H);return[...K,...ne]})},aE=(l,f,g)=>{const y=Bn.fromTable(l);return If(y,f).bind(z=>{const B=ag(y,g,!1),K=cr(B).rows.slice(z[0].row,z[z.length-1].row+z[z.length-1].rowspan),ne=ot(K,qe=>{const vt=Xn(qe.cells,yt=>!yt.isLocked);return vt.length>0?[{...qe,cells:vt}]:[]}),ge=As(ne);return $y(ge.length>0,ge)}).map(z=>Q_(z))},vg=Uc.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),xx=(l,f,g)=>{const y=g.substring(0,g.length-l.length),x=parseFloat(y);return y===x.toString()?f(x):vg.invalid(g)},Uf={...vg,from:l=>Nl(l,"%")?xx("%",vg.percent,l):Nl(l,"px")?xx("px",vg.pixels,l):vg.invalid(l)},cE=(l,f)=>Yt(l,g=>Uf.from(g).fold(()=>g,x=>x/f*100+"%",x=>x+"%")),wg=(l,f,g)=>{const y=g/f;return Yt(l,x=>Uf.from(x).fold(()=>x,B=>B*y+"px",B=>B/100*g+"px"))},iE=(l,f)=>{const g=l.fold(()=>oe(""),y=>{const x=y/f;return oe(x+"px")},()=>{const y=100/f;return oe(y+"%")});return wo(f,g)},lw=(l,f,g)=>l.fold(()=>f,y=>wg(f,g,y),y=>cE(f,g)),Cx=(l,f,g)=>{const y=Uf.from(g),x=Qe(l,z=>z==="0px")?iE(y,l.length):lw(y,l,f);return Tx(x)},lp=(l,f)=>l.length===0?f:Vs(l,(g,y)=>Uf.from(y).fold(oe(0),Ut,Ut)+g,0),lE=(l,f)=>{const g=Math.floor(l);return{value:g+f,remainder:l-g}},Sx=(l,f)=>Uf.from(l).fold(oe(l),g=>g+f+"px",g=>g+f+"%"),Tx=l=>{if(l.length===0)return l;const f=Vs(l,(y,x)=>{const z=Uf.from(x).fold(()=>({value:x,remainder:0}),B=>lE(B,"px"),B=>({value:B+"%",remainder:0}));return{output:[z.value].concat(y.output),remainder:y.remainder+z.remainder}},{output:[],remainder:0}),g=f.output;return g.slice(0,g.length-1).concat([Sx(g[g.length-1],Math.round(f.remainder))])},kg=Uf.from,Ex=(l,f,g)=>{Ue(f,y=>{const x=l.slice(y.column,y.colspan+y.column),z=lp(x,Is());_s(y.element,"width",z+g)})},uw=(l,f,g)=>{Ue(f,(y,x)=>{const z=lp([l[x]],Is());_s(y.element,"width",z+g)})},uE=(l,f,g,y)=>{Ue(g,x=>{const z=l.slice(x.row,x.rowspan+x.row),B=lp(z,ci());_s(x.element,"height",B+y)}),Ue(f,(x,z)=>{_s(x.element,"height",l[z])})},zx=l=>kg(l).fold(oe("px"),oe("px"),oe("%")),Bu=(l,f,g)=>{const y=Bn.fromTable(l),x=y.all,z=Bn.justCells(y),B=Bn.justColumns(y);f.each(H=>{const K=zx(H),ne=Ba(l),ge=_d(y,l),qe=Cx(ge,ne,H);Bn.hasColumns(y)?uw(qe,B,K):Ex(qe,z,K),_s(l,"width",H)}),g.each(H=>{const K=zx(H),ne=Vm(l),ge=Pa(y,l,Dt),qe=Cx(ge,ne,H);uE(qe,x,z,K),_s(l,"height",H)})},vb=Ui,wb=Jy,B1=Wi,kb=l=>{Ts(l,"width")},Gi=l=>{const f=uo(l);Bu(l,ce.some(f),ce.none()),kb(l)},_g=l=>{const f=Zm(l);Bu(l,ce.some(f),ce.none()),kb(l)},_b=l=>{ri(l,"width");const f=Bm(l),g=f.length>0?f:Ra(l);Ue(g,y=>{ri(y,"width"),kb(y)}),kb(l)},Wf={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},N1=()=>me.fromTag("th"),dE=()=>me.fromTag("td"),fE=()=>me.fromTag("col"),Ax=(l,f,g,y)=>{const x=me.fromTag("tr");for(let z=0;z<l;z++){const B=y<f||z<g?N1():dE();z<g&&Us(B,"scope","row"),y<f&&Us(B,"scope","col"),ms(B,me.fromTag("br")),ms(x,B)}return x},mE=l=>{const f=me.fromTag("colgroup");return wo(l,()=>ms(f,fE())),f},dw=(l,f,g,y)=>wo(l,x=>Ax(f,g,y,x)),pE=(l,f,g,y,x,z=Wf)=>{const B=me.fromTag("table"),H=x!=="cells";pa(B,z.styles),ti(B,z.attributes),z.colGroups&&ms(B,mE(f));const K=Math.min(l,g);if(H&&g>0){const yt=me.fromTag("thead");ms(B,yt);const wt=dw(g,f,x==="sectionCells"?K:0,y);Oa(yt,wt)}const ne=me.fromTag("tbody");ms(B,ne);const ge=H?l-K:l,vt=dw(ge,f,H?0:g,y);return Oa(ne,vt),B},gE=l=>l.dom.innerHTML,Ox=l=>{const f=me.fromTag("div"),g=me.fromDom(l.dom.cloneNode(!0));return ms(f,g),gE(f)},hE=(l,f)=>{l.selection.select(f.dom,!0),l.selection.collapse(!0)},Dx=(l,f)=>{si(f,"td,th").each(Gt(hE,l))},bE=(l,f)=>{Ue(us(f,"tr"),g=>{kx(l,g.dom),Ue(us(g,"th,td"),y=>{sw(l,y.dom)})})},P1=l=>ze(l)&&l.indexOf("%")!==-1,yE=(l,f,g,y,x)=>{const z=v0(l),B={styles:z,attributes:Vl(l),colGroups:Xh(l)};return l.undoManager.ignore(()=>{const H=pE(g,f,x,y,Ym(l),B);Us(H,"data-mce-id","__mce");const K=Ox(H);l.insertContent(K),l.addVisual()}),si(t1(l),'table[data-mce-id="__mce"]').map(H=>(Rf(l)?_g(H):Xm(l)?_b(H):(Hl(l)||P1(z.width))&&Gi(H),jl(H),Ts(H,"data-mce-id"),bE(l,H),Dx(l,H),H.dom)).getOrNull()},Rx=(l,f,g,y={})=>{const x=z=>Tn(z)&&z>0;if(x(f)&&x(g)){const z=y.headerRows||0,B=y.headerColumns||0;return yE(l,g,f,B,z)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var xg=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const fw="x-tinymce/dom-table-",mw=fw+"rows",pw=fw+"columns",Mx=l=>{const f=xg.FakeClipboardItem(l);xg.write([f])},gw=l=>{var f;const g=(f=xg.read())!==null&&f!==void 0?f:[];return Ve(g,y=>ce.from(y.getType(l)))},vE=l=>{gw(l).isSome()&&xg.clear()},$1=l=>{l.fold(wE,f=>Mx({[mw]:f}))},I1=()=>gw(mw),wE=()=>vE(mw),hw=l=>{l.fold(kE,f=>Mx({[pw]:f}))},Bx=()=>gw(pw),kE=()=>vE(pw),bw=l=>Ul(fi(l),Cu(l)).filter(o1),_E=l=>rb(fi(l),Cu(l)).filter(o1),Cg=(l,f)=>{const g=Cu(l),y=()=>bw(l).each(Be=>{Ma(Be,g).filter(Y(g)).each($t=>{const an=me.fromText("");if(Dc($t,an),dr($t),l.dom.isEmpty(l.getBody()))l.setContent(""),l.selection.setCursorLocation();else{const En=l.dom.createRng();En.setStart(an.dom,0),En.setEnd(an.dom,0),l.selection.setRng(En),l.nodeChanged()}})}),x=Be=>bw(l).each($t=>{Xm(l)||Rf(l)||Hl(l)||Ma($t,g).each(En=>{Be==="relative"&&!vb(En)?Gi(En):Be==="fixed"&&!wb(En)?_g(En):Be==="responsive"&&!B1(En)&&_b(En),jl(En),ip(l,En.dom,Fn)})}),z=Be=>Ma(Be,g),B=Be=>_E(l).bind($t=>z($t).map(an=>Be(an,$t))),H=(Be,$t)=>{B(an=>{l.formatter.toggle("tableclass",{value:$t},an.dom),ip(l,an.dom,$d)})},K=(Be,$t)=>{B(an=>{const En=qi(l),Br=Qe(En,Hs=>l.formatter.match("tablecellclass",{value:$t},Hs.dom))?l.formatter.remove:l.formatter.apply;Ue(En,Hs=>Br("tablecellclass",{value:$t},Hs.dom)),ip(l,an.dom,$d)})},ne=()=>{bw(l).each(Be=>{Ma(Be,g).each($t=>{no($t,"caption").fold(()=>{const an=me.fromTag("caption");ms(an,me.fromText("Caption")),Py($t,an,0),l.selection.setCursorLocation(an.dom,0)},an=>{_r("caption")(Be)&&Em("td",$t).each(En=>l.selection.setCursorLocation(En.dom,0)),dr(an)}),ip(l,$t.dom,Fn)})})},ge=Be=>{l.focus()},qe=(Be,$t=!1)=>B((an,En)=>{const ds=Xp(qi(l),an,En);Be(an,ds,$t).each(ge)}),vt=()=>B((Be,$t)=>{const an=Xp(qi(l),Be,$t),En=zr(it,me.fromDom(l.getDoc()),ce.none());return aE(Be,an,En)}),yt=()=>B((Be,$t)=>{const an=Xp(qi(l),Be,$t);return rE(Be,an)}),$e=(Be,$t)=>$t().each(an=>{const En=Yt(an,ds=>nl(ds));B((ds,Br)=>{const Hs=na(me.fromDom(l.getDoc())),xc=Jp(qi(l),Br,En,Hs);Be(ds,xc).each(ge)})}),wt=Be=>($t,an)=>Xr(an,"type").each(En=>{qe(Be(En),an.no_events)});nn({mceTableSplitCells:()=>qe(f.unmergeCells),mceTableMergeCells:()=>qe(f.mergeCells),mceTableInsertRowBefore:()=>qe(f.insertRowsBefore),mceTableInsertRowAfter:()=>qe(f.insertRowsAfter),mceTableInsertColBefore:()=>qe(f.insertColumnsBefore),mceTableInsertColAfter:()=>qe(f.insertColumnsAfter),mceTableDeleteCol:()=>qe(f.deleteColumn),mceTableDeleteRow:()=>qe(f.deleteRow),mceTableCutCol:()=>yt().each(Be=>{hw(Be),qe(f.deleteColumn)}),mceTableCutRow:()=>vt().each(Be=>{$1(Be),qe(f.deleteRow)}),mceTableCopyCol:()=>yt().each(Be=>hw(Be)),mceTableCopyRow:()=>vt().each(Be=>$1(Be)),mceTablePasteColBefore:()=>$e(f.pasteColsBefore,Bx),mceTablePasteColAfter:()=>$e(f.pasteColsAfter,Bx),mceTablePasteRowBefore:()=>$e(f.pasteRowsBefore,I1),mceTablePasteRowAfter:()=>$e(f.pasteRowsAfter,I1),mceTableDelete:y,mceTableCellToggleClass:K,mceTableToggleClass:H,mceTableToggleCaption:ne,mceTableSizingMode:(Be,$t)=>x($t),mceTableCellType:wt(Be=>Be==="th"?f.makeCellsHeader:f.unmakeCellsHeader),mceTableColType:wt(Be=>Be==="th"?f.makeColumnsHeader:f.unmakeColumnsHeader),mceTableRowType:wt(Be=>{switch(Be){case"header":return f.makeRowsHeader;case"footer":return f.makeRowsFooter;default:return f.makeRowsBody}})},(Be,$t)=>l.addCommand($t,Be)),l.addCommand("mceInsertTable",(Be,$t)=>{Rx(l,$t.rows,$t.columns,$t.options)}),l.addCommand("mceTableApplyCellStyle",(Be,$t)=>{const an=Br=>"tablecell"+Br.toLowerCase().replace("-","");if(!Me($t))return;const En=Xn(qi(l),o1);if(En.length===0)return;const ds=cs($t,(Br,Hs)=>l.formatter.has(an(Hs))&&ze(Br));Ya(ds)||(nn(ds,(Br,Hs)=>{const xc=an(Hs);Ue(En,bp=>{Br===""?l.formatter.remove(xc,{value:null},bp.dom,!0):l.formatter.apply(xc,{value:Br},bp.dom)})}),z(En[0]).each(Br=>ip(l,Br.dom,$d)))})},xE=(l,f)=>{const g=Cu(l),y=x=>rb(fi(l)).bind(z=>Ma(z,g).map(B=>{const H=Xp(qi(l),B,z);return x(B,H)})).getOr("");nn({mceTableRowType:()=>y(f.getTableRowType),mceTableCellType:()=>y(f.getTableCellType),mceTableColType:()=>y(f.getTableColType)},(x,z)=>l.addQueryValueHandler(z,x))},yw=Uc.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),CE=(l,f,g,y)=>l.fold(f,g,y),SE=l=>l.fold(Ut,Ut,Ut),TE=yw.before,Nx=yw.on,EE=yw.after,Zr={before:TE,on:Nx,after:EE,cata:CE,getStart:SE},Sg={create:(l,f)=>({selection:l,kill:f})},F1=(l,f)=>{const g=l.document.createRange();return g.selectNode(f.dom),g},Px=(l,f)=>{const g=l.document.createRange();return vw(g,f),g},vw=(l,f)=>l.selectNodeContents(f.dom),$x=(l,f)=>{f.fold(g=>{l.setStartBefore(g.dom)},(g,y)=>{l.setStart(g.dom,y)},g=>{l.setStartAfter(g.dom)})},Ix=(l,f)=>{f.fold(g=>{l.setEndBefore(g.dom)},(g,y)=>{l.setEnd(g.dom,y)},g=>{l.setEndAfter(g.dom)})},up=(l,f,g)=>{const y=l.document.createRange();return $x(y,f),Ix(y,g),y},xb=(l,f,g,y,x)=>{const z=l.document.createRange();return z.setStart(f.dom,g),z.setEnd(y.dom,x),z},zE=l=>({left:l.left,top:l.top,right:l.right,bottom:l.bottom,width:l.width,height:l.height}),AE=l=>{const f=l.getClientRects(),g=f.length>0?f[0]:l.getBoundingClientRect();return g.width>0||g.height>0?ce.some(g).map(zE):ce.none()},Cb=Uc.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),ww=(l,f,g)=>f(me.fromDom(g.startContainer),g.startOffset,me.fromDom(g.endContainer),g.endOffset),Fx=(l,f)=>f.match({domRange:g=>({ltr:oe(g),rtl:ce.none}),relative:(g,y)=>({ltr:$l(()=>up(l,g,y)),rtl:$l(()=>ce.some(up(l,y,g)))}),exact:(g,y,x,z)=>({ltr:$l(()=>xb(l,g,y,x,z)),rtl:$l(()=>ce.some(xb(l,x,z,g,y)))})}),Mr=(l,f)=>{const g=f.ltr();return g.collapsed?f.rtl().filter(x=>x.collapsed===!1).map(x=>Cb.rtl(me.fromDom(x.endContainer),x.endOffset,me.fromDom(x.startContainer),x.startOffset)).getOrThunk(()=>ww(l,Cb.ltr,g)):ww(l,Cb.ltr,g)},Lx=(l,f)=>{const g=Fx(l,f);return Mr(l,g)},kw=(l,f)=>Lx(l,f).match({ltr:(y,x,z,B)=>{const H=l.document.createRange();return H.setStart(y.dom,x),H.setEnd(z.dom,B),H},rtl:(y,x,z,B)=>{const H=l.document.createRange();return H.setStart(z.dom,B),H.setEnd(y.dom,x),H}});Cb.ltr,Cb.rtl;const Tg={create:(l,f,g,y)=>({start:l,soffset:f,finish:g,foffset:y})},Hx={create:(l,f,g,y)=>({start:Zr.on(l,f),finish:Zr.on(g,y)})},_w=(l,f)=>{const g=kw(l,f);return Tg.create(me.fromDom(g.startContainer),g.startOffset,me.fromDom(g.endContainer),g.endOffset)},Sb=Hx.create,L1=(l,f,g,y,x,z,B)=>os(g,x)&&y===z?ce.none():ps(g,"td,th",f).bind(H=>ps(x,"td,th",f).bind(K=>Eg(l,f,H,K,B))),Eg=(l,f,g,y,x)=>os(g,y)?ce.none():yl(g,y,f).bind(z=>{const B=z.boxes.getOr([]);return B.length>1?(x(l,B,z.start,z.finish),ce.some(Sg.create(ce.some(Sb(g,0,g,bo(g))),!0))):ce.none()}),DE=(l,f,g,y,x)=>{const z=B=>(x.clearBeforeUpdate(g),x.selectRange(g,B.boxes,B.start,B.finish),B.boxes);return c1(y,l,f,x.firstSelectedSelector,x.lastSelectedSelector).map(z)},Zf=(l,f)=>({item:l,mode:f}),Vx=(l,f,g,y=qf)=>l.property().parent(f).map(x=>Zf(x,y)),qf=(l,f,g,y=Gf)=>g.sibling(l,f).map(x=>Zf(x,y)),Gf=(l,f,g,y=Gf)=>{const x=l.property().children(f);return g.first(x).map(B=>Zf(B,y))},xw=[{current:Vx,next:qf,fallback:ce.none()},{current:qf,next:Gf,fallback:ce.some(Vx)},{current:Gf,next:Gf,fallback:ce.some(qf)}],jx=(l,f,g,y,x=xw)=>I(x,B=>B.current===g).bind(B=>B.current(l,f,y,B.next).orThunk(()=>B.fallback.bind(H=>jx(l,f,H,y)))),Kf={left:()=>({sibling:(g,y)=>g.query().prevSibling(y),first:g=>g.length>0?ce.some(g[g.length-1]):ce.none()}),right:()=>({sibling:(g,y)=>g.query().nextSibling(y),first:g=>g.length>0?ce.some(g[0]):ce.none()})},Nu=(l,f,g,y,x,z)=>jx(l,f,y,x).bind(H=>z(H.item)?ce.none():g(H.item)?ce.some(H.item):Nu(l,H.item,g,H.mode,x,z)),Tb=(l,f,g,y)=>Nu(l,f,g,qf,Kf.left(),y),zg=(l,f,g,y)=>Nu(l,f,g,qf,Kf.right(),y),Sw=l=>f=>l.property().children(f).length===0,Id=(l,f,g)=>Eb(l,f,Sw(l),g),Gl=(l,f,g)=>H1(l,f,Sw(l),g),Eb=Tb,H1=zg,zb=Pe(),Tw=(l,f)=>Id(zb,l,f),Ag=(l,f)=>Gl(zb,l,f),Ab=(l,f,g)=>Eb(zb,l,f,g),Ew=(l,f,g)=>H1(zb,l,f,g),Ux=(l,f,g)=>Vo(l,f,g).isSome(),Yf=Uc.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),V1=(l,f,g)=>{const y=l.getRect(f),x=l.getRect(g);return x.right>y.left&&x.left<y.right},RE=l=>ps(l,"tr"),Ys={...Yf,verify:(l,f,g,y,x,z,B)=>ps(y,"td,th",B).bind(H=>ps(f,"td,th",B).map(K=>os(H,K)?os(y,H)&&bo(H)===x?z(K):Yf.none("in same cell"):jo(RE,[H,K]).fold(()=>V1(l,K,H)?Yf.success():z(K),ne=>z(K)))).getOr(Yf.none("default")),cata:(l,f,g,y,x)=>l.fold(f,g,y,x)},yO=(l,f,g,y)=>({parent:l,children:f,element:g,index:y}),Fd=l=>Fi(l).bind(f=>{const g=So(f);return Zx(g,l).map(y=>yO(f,g,l,y))}),Zx=(l,f)=>Ka(l,Gt(os,f)),j1=_r("br"),Xf=(l,f,g)=>f(l,g).bind(y=>Pi(y)&&Vt(y).trim().length===0?Xf(y,f,g):ce.some(y)),ka=(l,f,g)=>g.traverse(f).orThunk(()=>Xf(f,g.gather,l)).map(g.relative),Og=(l,f)=>Aa(l,f).filter(j1).orThunk(()=>Aa(l,f-1).filter(j1)),Ob=(l,f,g,y)=>Og(f,g).bind(x=>y.traverse(x).fold(()=>Xf(x,y.gather,l).map(y.relative),z=>Fd(z).map(B=>Zr.on(B.parent,B.index)))),Dg=(l,f,g,y)=>(j1(f)?ka(l,f,y):Ob(l,f,g,y)).map(z=>({start:z,finish:z})),Aw=l=>Ys.cata(l,f=>ce.none(),()=>ce.none(),f=>ce.some(eg(f,0)),f=>ce.some(eg(f,bo(f)))),Rg=(l,f)=>({left:l.left,top:l.top+f,right:l.right,bottom:l.bottom+f}),dp=(l,f)=>({left:l.left,top:l.top-f,right:l.right,bottom:l.bottom-f}),Kl=(l,f,g)=>({left:l.left+f,top:l.top+g,right:l.right+f,bottom:l.bottom+g}),ME=l=>l.top,BE=l=>l.bottom,Jf=(l,f,g)=>g>=0&&g<bo(f)?l.getRangedRect(f,g,f,g+1):g>0?l.getRangedRect(f,g-1,f,g):ce.none(),Mg=l=>({left:l.left,top:l.top,right:l.right,bottom:l.bottom}),U1=(l,f)=>ce.some(l.getRect(f)),Pu=(l,f,g)=>kr(f)?U1(l,f).map(Mg):Pi(f)?Jf(l,f,g).map(Mg):ce.none(),Ow=(l,f)=>kr(f)?U1(l,f).map(Mg):Pi(f)?l.getRangedRect(f,0,f,bo(f)).map(Mg):ce.none(),qr=5,Ld=100,_l=Uc.generate([{none:[]},{retry:["caret"]}]),Bg=(l,f)=>l.left<f.left||Math.abs(f.right-l.left)<1||l.left>f.right,Ua=(l,f,g)=>ma(f,E1).fold(yn,y=>Ow(l,y).exists(x=>Bg(g,x))),kc=(l,f,g,y,x)=>{const z=Rg(x,qr);return Math.abs(g.bottom-y.bottom)<1||g.top>x.bottom?_l.retry(z):g.top===x.bottom?_l.retry(Rg(x,1)):Ua(l,f,x)?_l.retry(Kl(z,qr,0)):_l.none()},xl={point:ME,adjuster:(l,f,g,y,x)=>{const z=dp(x,qr);return Math.abs(g.top-y.top)<1||g.bottom<x.top?_l.retry(z):g.bottom===x.top?_l.retry(dp(x,1)):Ua(l,f,x)?_l.retry(Kl(z,qr,0)):_l.none()},move:dp,gather:Tw},W1={point:BE,adjuster:kc,move:Rg,gather:Ag},bi=(l,f,g)=>l.elementFromPoint(f,g).filter(y=>ns(y)==="table").isSome(),fp=(l,f,g,y,x)=>Dw(l,f,g,f.move(y,qr),x),Dw=(l,f,g,y,x)=>x===0?ce.some(y):bi(l,y.left,f.point(y))?fp(l,f,g,y,x-1):l.situsFromPoint(y.left,f.point(y)).bind(z=>z.start.fold(ce.none,B=>Ow(l,B).bind(H=>f.adjuster(l,B,H,g,y).fold(ce.none,K=>Dw(l,f,g,K,x-1))).orThunk(()=>ce.some(y)),ce.none)),NE=(l,f,g)=>l.point(f)>g.getInnerHeight()?ce.some(l.point(f)-g.getInnerHeight()):l.point(f)<0?ce.some(-l.point(f)):ce.none(),qx=(l,f,g)=>{const y=l.move(g,qr),x=Dw(f,l,g,y,Ld).getOr(y);return NE(l,x,f).fold(()=>f.situsFromPoint(x.left,l.point(x)),z=>(f.scrollBy(0,z),f.situsFromPoint(x.left,l.point(x)-z)))},Db={tryUp:Gt(qx,xl),tryDown:Gt(qx,W1),getJumpSize:oe(qr)},Gx=20,Rb=(l,f,g)=>l.getSelection().bind(y=>Dg(f,y.finish,y.foffset,g).fold(()=>ce.some(eg(y.finish,y.foffset)),x=>{const z=l.fromSitus(x),B=Ys.verify(l,y.finish,y.foffset,z.finish,z.foffset,g.failure,f);return Aw(B)})),Z1=(l,f,g,y,x,z)=>z===0?ce.none():$E(l,f,g,y,x).bind(B=>{const H=l.fromSitus(B),K=Ys.verify(l,g,y,H.finish,H.foffset,x.failure,f);return Ys.cata(K,()=>ce.none(),()=>ce.some(B),ne=>os(g,ne)&&y===0?PE(l,g,y,dp,x):Z1(l,f,ne,0,x,z-1),ne=>os(g,ne)&&y===bo(ne)?PE(l,g,y,Rg,x):Z1(l,f,ne,bo(ne),x,z-1))}),PE=(l,f,g,y,x)=>Pu(l,f,g).bind(z=>Kx(l,x,y(z,Db.getJumpSize()))),Kx=(l,f,g)=>{const y=Fm().browser;return y.isChromium()||y.isSafari()||y.isFirefox()?f.retry(l,g):ce.none()},$E=(l,f,g,y,x)=>Pu(l,g,y).bind(z=>Kx(l,x,z)),vO=(l,f,g)=>Rb(l,f,g).bind(y=>Z1(l,f,y.element,y.offset,g,Gx).map(l.fromSitus)),Yx=(l,f)=>Ux(l,g=>Fi(g).exists(y=>os(y,f))),Kn=(l,f,g,y,x)=>ps(y,"td,th",f).bind(z=>ps(z,"table",f).bind(B=>Yx(x,B)?vO(l,f,g).bind(H=>ps(H.finish,"td,th",f).map(K=>({start:z,finish:K,range:H}))):ce.none())),Yl=(l,f,g,y,x,z)=>z(y,f).orThunk(()=>Kn(l,f,g,y,x).map(B=>{const H=B.range;return Sg.create(ce.some(Sb(H.start,H.soffset,H.finish,H.foffset)),!0)})),mp=(l,f)=>ps(l,"tr",f).bind(g=>ps(g,"table",f).bind(y=>{const x=us(y,"tr");return os(g,x[0])?Ab(y,z=>Zi(z).isSome(),f).map(z=>{const B=bo(z);return Sg.create(ce.some(Sb(z,B,z,B)),!0)}):ce.none()})),Rw=(l,f)=>ps(l,"tr",f).bind(g=>ps(g,"table",f).bind(y=>{const x=us(y,"tr");return os(g,x[x.length-1])?Ew(y,z=>xu(z).isSome(),f).map(z=>Sg.create(ce.some(Sb(z,0,z,0)),!0)):ce.none()})),Xx=(l,f,g,y,x,z,B)=>Kn(l,g,y,x,z).bind(H=>Eg(f,g,H.start,H.finish,B)),Mb=l=>{let f=l;return{get:()=>f,set:x=>{f=x}}},IE=l=>{const f=Mb(ce.none()),g=()=>f.get().each(l);return{clear:()=>{g(),f.set(ce.none())},isSet:()=>f.get().isSome(),get:()=>f.get(),set:H=>{g(),f.set(ce.some(H))}}},Ng=()=>{const l=IE(it);return{...l,on:g=>l.get().each(g)}},q1=(l,f)=>ps(l,"td,th",f),yi=l=>Xa(l).exists(Mf),X7=(l,f,g,y)=>{const x=Ng(),z=x.clear,B=ge=>{x.on(qe=>{y.clearBeforeUpdate(f),q1(ge.target,g).each(vt=>{yl(qe,vt,g).each(yt=>{const $e=yt.boxes.getOr([]);if($e.length===1){const wt=$e[0],Be=Jh(wt)==="false",$t=Bl(e1(ge.target),wt,os);Be&&$t&&(y.selectRange(f,$e,wt,wt),l.selectContents(wt))}else $e.length>1&&(y.selectRange(f,$e,yt.start,yt.finish),l.selectContents(vt))})})})};return{clearstate:z,mousedown:ge=>{y.clear(f),q1(ge.target,g).filter(yi).each(x.set)},mouseover:ge=>{B(ge)},mouseup:ge=>{B(ge),z()}}},G1={traverse:tl,gather:Ag,relative:Zr.before,retry:Db.tryDown,failure:Ys.failedDown},Pg={traverse:fu,gather:Tw,relative:Zr.before,retry:Db.tryUp,failure:Ys.failedUp},Qf=l=>f=>f===l,K1=Qf(38),Y1=Qf(40),pp=l=>l>=37&&l<=40,FE={isBackward:Qf(37),isForward:Qf(39)},Jx={isBackward:Qf(39),isForward:Qf(37)},LE=l=>{const f=l!==void 0?l.dom:document,g=f.body.scrollLeft||f.documentElement.scrollLeft,y=f.body.scrollTop||f.documentElement.scrollTop;return ui(g,y)},$g=(l,f,g)=>{const x=(g!==void 0?g.dom:document).defaultView;x&&x.scrollBy(l,f)},Hd=Uc.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),HE=l=>Hd.exact(l.start,l.soffset,l.finish,l.foffset),VE=l=>l.match({domRange:f=>me.fromDom(f.startContainer),relative:(f,g)=>Zr.getStart(f),exact:(f,g,y,x)=>f}),Qx=Hd.domRange,Mw=Hd.relative,Bw=Hd.exact,Nw=l=>{const f=VE(l);return Es(f)},X1=Tg.create,em={domRange:Qx,relative:Mw,exact:Bw,exactFromRange:HE,getWin:Nw,range:X1},e2=(l,f,g)=>{var y,x;return ce.from((x=(y=l.dom).caretPositionFromPoint)===null||x===void 0?void 0:x.call(y,f,g)).bind(z=>{if(z.offsetNode===null)return ce.none();const B=l.dom.createRange();return B.setStart(z.offsetNode,z.offset),B.collapse(),ce.some(B)})},Bb=(l,f,g)=>{var y,x;return ce.from((x=(y=l.dom).caretRangeFromPoint)===null||x===void 0?void 0:x.call(y,f,g))},Pw=document.caretPositionFromPoint?e2:document.caretRangeFromPoint?Bb:ce.none,jE=(l,f,g)=>{const y=me.fromDom(l.document);return Pw(y,f,g).map(x=>Tg.create(me.fromDom(x.startContainer),x.startOffset,me.fromDom(x.endContainer),x.endOffset))},Nb=(l,f)=>{const g=ns(l);return g==="input"?Zr.after(l):lo(["br","img"],g)?f===0?Zr.before(l):Zr.after(l):Zr.on(l,f)},UE=(l,f)=>{const g=l.fold(Zr.before,Nb,Zr.after),y=f.fold(Zr.before,Nb,Zr.after);return em.relative(g,y)},Ct=(l,f,g,y)=>{const x=Nb(l,f),z=Nb(g,y);return em.relative(x,z)},yr=(l,f,g,y)=>{const z=Oc(l).dom.createRange();return z.setStart(l.dom,f),z.setEnd(g.dom,y),z},Vd=(l,f,g,y)=>{const x=yr(l,f,g,y),z=os(l,g)&&f===y;return x.collapsed&&!z},or=l=>ce.from(l.getSelection()),Ki=(l,f)=>{or(l).each(g=>{g.removeAllRanges(),g.addRange(f)})},J1=(l,f,g,y,x)=>{const z=xb(l,f,g,y,x);Ki(l,z)},Pb=(l,f,g,y,x,z)=>{f.collapse(g.dom,y),f.extend(x.dom,z)},Xl=(l,f)=>Lx(l,f).match({ltr:(g,y,x,z)=>{J1(l,g,y,x,z)},rtl:(g,y,x,z)=>{or(l).each(B=>{if(B.setBaseAndExtent)B.setBaseAndExtent(g.dom,y,x.dom,z);else if(B.extend)try{Pb(l,B,g,y,x,z)}catch{J1(l,x,z,g,y)}else J1(l,x,z,g,y)})}}),Q1=(l,f,g,y,x)=>{const z=Ct(f,g,y,x);Xl(l,z)},ev=(l,f,g)=>{const y=UE(f,g);Xl(l,y)},Ig=l=>{if(l.rangeCount>0){const f=l.getRangeAt(0),g=l.getRangeAt(l.rangeCount-1);return ce.some(Tg.create(me.fromDom(f.startContainer),f.startOffset,me.fromDom(g.endContainer),g.endOffset))}else return ce.none()},t2=l=>{if(l.anchorNode===null||l.focusNode===null)return Ig(l);{const f=me.fromDom(l.anchorNode),g=me.fromDom(l.focusNode);return Vd(f,l.anchorOffset,g,l.focusOffset)?ce.some(Tg.create(f,l.anchorOffset,g,l.focusOffset)):Ig(l)}},$b=(l,f,g=!0)=>{const x=(g?Px:F1)(l,f);Ki(l,x)},$w=l=>or(l).filter(f=>f.rangeCount>0).bind(t2),Iw=l=>$w(l).map(f=>em.exact(f.start,f.soffset,f.finish,f.foffset)),WE=(l,f)=>{const g=kw(l,f);return AE(g)},Jl=(l,f,g)=>jE(l,f,g),tv=l=>{or(l).each(f=>f.removeAllRanges())},Fg=l=>({elementFromPoint:(Be,$t)=>me.fromPoint(me.fromDom(l.document),Be,$t),getRect:Be=>Be.dom.getBoundingClientRect(),getRangedRect:(Be,$t,an,En)=>{const ds=em.exact(Be,$t,an,En);return WE(l,ds)},getSelection:()=>Iw(l).map(Be=>_w(l,Be)),fromSitus:Be=>{const $t=em.relative(Be.start,Be.finish);return _w(l,$t)},situsFromPoint:(Be,$t)=>Jl(l,Be,$t).map(an=>Hx.create(an.start,an.soffset,an.finish,an.foffset)),clearSelection:()=>{tv(l)},collapseSelection:(Be=!1)=>{Iw(l).each($t=>$t.fold(an=>an.collapse(Be),(an,En)=>{const ds=Be?an:En;ev(l,ds,ds)},(an,En,ds,Br)=>{const Hs=Be?an:ds,xc=Be?En:Br;Q1(l,Hs,xc,Hs,xc)}))},setSelection:Be=>{Q1(l,Be.start,Be.soffset,Be.finish,Be.foffset)},setRelativeSelection:(Be,$t)=>{ev(l,Be,$t)},selectNode:Be=>{$b(l,Be,!1)},selectContents:Be=>{$b(l,Be)},getInnerHeight:()=>l.innerHeight,getScrollY:()=>LE(me.fromDom(l.document)).top,scrollBy:(Be,$t)=>{$g(Be,$t,me.fromDom(l.document))}}),ca=(l,f)=>({rows:l,cols:f}),lr=(l,f,g,y)=>{const x=Fg(l),z=X7(x,f,g,y);return{clearstate:z.clearstate,mousedown:z.mousedown,mouseover:z.mouseover,mouseup:z.mouseup}},nv=l=>ma(l,Qt).exists(Mf),Ib=(l,f)=>nv(l)||nv(f),ov=(l,f,g,y)=>{const x=Fg(l),z=()=>(y.clear(f),ce.none());return{keydown:(K,ne,ge,qe,vt,yt)=>{const $e=K.raw,wt=$e.which,Be=$e.shiftKey===!0;return Od(f,y.selectedSelector).fold(()=>(pp(wt)&&!Be&&y.clearBeforeUpdate(f),pp(wt)&&Be&&!Ib(ne,qe)?ce.none:Y1(wt)&&Be?Gt(Xx,x,f,g,G1,qe,ne,y.selectRange):K1(wt)&&Be?Gt(Xx,x,f,g,Pg,qe,ne,y.selectRange):Y1(wt)?Gt(Yl,x,g,G1,qe,ne,Rw):K1(wt)?Gt(Yl,x,g,Pg,qe,ne,mp):ce.none),an=>{const En=ds=>()=>Ve(ds,Hs=>DE(Hs.rows,Hs.cols,f,an,y)).fold(()=>Qm(f,y.firstSelectedSelector,y.lastSelectedSelector).map(Hs=>{const xc=Y1(wt)||yt.isForward(wt)?Zr.after:Zr.before;return x.setRelativeSelection(Zr.on(Hs.first,0),xc(Hs.table)),y.clear(f),Sg.create(ce.none(),!0)}),Hs=>ce.some(Sg.create(ce.none(),!0)));return pp(wt)&&Be&&!Ib(ne,qe)?ce.none:Y1(wt)&&Be?En([ca(1,0)]):K1(wt)&&Be?En([ca(-1,0)]):yt.isBackward(wt)&&Be?En([ca(0,-1),ca(-1,0)]):yt.isForward(wt)&&Be?En([ca(0,1),ca(1,0)]):pp(wt)&&!Be?z:ce.none})()},keyup:(K,ne,ge,qe,vt)=>Od(f,y.selectedSelector).fold(()=>{const yt=K.raw,$e=yt.which;return yt.shiftKey===!0&&pp($e)&&Ib(ne,qe)?L1(f,g,ne,ge,qe,vt,y.selectRange):ce.none()},ce.none)}},Fb=(l,f,g,y)=>{const x=Fg(l);return(z,B)=>{y.clearBeforeUpdate(f),yl(z,B,g).each(H=>{const K=H.boxes.getOr([]);y.selectRange(f,K,H.start,H.finish),x.selectContents(B),x.collapseSelection()})}},Lb=(l,f)=>{const g=Cr(l,f);return g===void 0||g===""?[]:g.split(" ")},Lg=(l,f,g)=>{const x=Lb(l,f).concat([g]);return Us(l,f,x.join(" ")),!0},n2=(l,f,g)=>{const y=Xn(Lb(l,f),x=>x!==g);return y.length>0?Us(l,f,y.join(" ")):Ts(l,f),!1},Hb=l=>l.dom.classList!==void 0,o2=l=>Lb(l,"class"),s2=(l,f)=>Lg(l,"class",f),r2=(l,f)=>n2(l,"class",f),Yi=(l,f)=>{Hb(l)?l.dom.classList.add(f):s2(l,f)},_a=l=>{(Hb(l)?l.dom.classList:o2(l)).length===0&&Ts(l,"class")},Cl=(l,f)=>{Hb(l)?l.dom.classList.remove(f):r2(l,f),_a(l)},_c=(l,f)=>Hb(l)&&l.dom.classList.contains(f),Vb=(l,f)=>{Ue(f,g=>{Cl(l,g)})},sv=l=>f=>{Yi(f,l)},a2=l=>f=>{Vb(f,l)},jd={byClass:l=>{const f=sv(l.selected),g=a2([l.selected,l.lastSelected,l.firstSelected]),y=z=>{const B=us(z,l.selectedSelector);Ue(B,g)};return{clearBeforeUpdate:y,clear:y,selectRange:(z,B,H,K)=>{y(z),Ue(B,f),Yi(H,l.firstSelected),Yi(K,l.lastSelected)},selectedSelector:l.selectedSelector,firstSelectedSelector:l.firstSelectedSelector,lastSelectedSelector:l.lastSelectedSelector}},byAttr:(l,f,g)=>{const y=K=>{Ts(K,l.selected),Ts(K,l.firstSelected),Ts(K,l.lastSelected)},x=K=>{Us(K,l.selected,"1")},z=K=>{B(K),g()},B=K=>{const ne=us(K,`${l.selectedSelector},${l.firstSelectedSelector},${l.lastSelectedSelector}`);Ue(ne,y)};return{clearBeforeUpdate:B,clear:z,selectRange:(K,ne,ge,qe)=>{z(K),Ue(ne,x),Us(ge,l.firstSelected,"1"),Us(qe,l.lastSelected,"1"),f(ne,ge,qe)},selectedSelector:l.selectedSelector,firstSelectedSelector:l.firstSelectedSelector,lastSelectedSelector:l.lastSelectedSelector}}},Ub=(l,f,g,y)=>{switch(l.tag){case"none":return f();case"single":return y(l.element);case"multiple":return g(l.elements)}},Fw=()=>({tag:"none"}),c2=l=>({tag:"multiple",elements:l}),i2=l=>({tag:"single",element:l}),Lw=(l,f,g)=>({get:()=>E0(l(),g).fold(()=>f().fold(Fw,i2),c2)}),rv=(l,f)=>{const g=l.slice(0,f[f.length-1].row+1),y=As(g);return ot(y,x=>{const z=x.cells.slice(0,f[f.length-1].column+1);return Yt(z,B=>B.element)})},Uo=(l,f)=>{const g=l.slice(f[0].row+f[0].rowspan-1,l.length),y=As(g);return ot(y,x=>{const z=x.cells.slice(f[0].column+f[0].colspan-1,x.cells.length);return Yt(z,B=>B.element)})},Ud=(l,f,g)=>{const y=Bn.fromTable(l);return If(y,f).map(z=>{const B=ag(y,g,!1),{rows:H}=cr(B),K=rv(H,z),ne=Uo(H,z);return{upOrLeftCells:K,downOrRightCells:ne}})},l2=(l,f,g,y,x,z,B)=>({target:l,x:f,y:g,stop:y,prevent:x,kill:z,raw:B}),Hw=l=>{const f=me.fromDom(_t(l).getOr(l.target)),g=()=>l.stopPropagation(),y=()=>l.preventDefault(),x=zo(y,g);return l2(f,l.clientX,l.clientY,g,y,x,l)},Vw=(l,f)=>g=>{l(g)&&f(Hw(g))},gp=(l,f,g,y,x)=>{const z=Vw(g,y);return l.dom.addEventListener(f,z,x),{unbind:Gt(Uw,l,f,z,x)}},jw=(l,f,g,y)=>gp(l,f,g,y,!1),Uw=(l,f,g,y)=>{l.dom.removeEventListener(f,g,y)},qE=Re,Hg=(l,f,g)=>jw(l,f,qE,g),Vg=Hw,Ww=l=>!_c(me.fromDom(l.target),"ephox-snooker-resizer-bar"),Zw=(l,f)=>{const g=Lw(()=>me.fromDom(l.getBody()),()=>rb(fi(l),Cu(l)),ep.selectedSelector),y=(K,ne,ge)=>{Ma(ne).each(vt=>{const yt=Ed(l),$e=zr(it,me.fromDom(l.getDoc()),yt),wt=qi(l),Be=Ud(vt,{selection:wt},$e);nE(l,K,ne,ge,Be)})},x=()=>oE(l),z=jd.byAttr(ep,y,x);return l.on("init",K=>{const ne=l.getWin(),ge=t1(l),qe=Cu(l),vt=()=>{const $o=l.selection,Wa=me.fromDom($o.getStart()),ia=me.fromDom($o.getEnd());jo(Ma,[Wa,ia]).fold(()=>z.clear(ge),it)},yt=lr(ne,ge,qe,z),$e=ov(ne,ge,qe,z),wt=Fb(ne,ge,qe,z),Be=$o=>$o.raw.shiftKey===!0;l.on("TableSelectorChange",$o=>wt($o.start,$o.finish));const $t=($o,Wa)=>{Be($o)&&(Wa.kill&&$o.kill(),Wa.selection.each(ia=>{const ki=em.relative(ia.start,ia.finish),qc=kw(ne,ki);l.selection.setRng(qc)}))},an=$o=>{const Wa=Vg($o);if(Wa.raw.shiftKey&&pp(Wa.raw.which)){const ia=l.selection.getRng(),ki=me.fromDom(ia.startContainer),qc=me.fromDom(ia.endContainer);$e.keyup(Wa,ki,ia.startOffset,qc,ia.endOffset).each(om=>{$t(Wa,om)})}},En=$o=>{const Wa=Vg($o);f.hide();const ia=l.selection.getRng(),ki=me.fromDom(ia.startContainer),qc=me.fromDom(ia.endContainer),om=qy(FE,Jx)(me.fromDom(l.selection.getStart()));$e.keydown(Wa,ki,ia.startOffset,qc,ia.endOffset,om).each(cc=>{$t(Wa,cc)}),f.show()},ds=$o=>$o.button===0,Br=$o=>$o.buttons===void 0?!0:($o.buttons&1)!==0,Hs=$o=>{yt.clearstate()},xc=$o=>{ds($o)&&Ww($o)&&yt.mousedown(Vg($o))},bp=$o=>{Br($o)&&Ww($o)&&yt.mouseover(Vg($o))},yp=$o=>{ds($o)&&Ww($o)&&yt.mouseup(Vg($o))},dv=(()=>{const $o=Mb(me.fromDom(ge)),Wa=Mb(0);return{touchEnd:ki=>{const qc=me.fromDom(ki.target);if(_r("td")(qc)||_r("th")(qc)){const om=$o.get(),cc=Wa.get();os(om,qc)&&ki.timeStamp-cc<300&&(ki.preventDefault(),wt(qc,qc))}$o.set(qc),Wa.set(ki.timeStamp)}}})();l.on("dragstart",Hs),l.on("mousedown",xc),l.on("mouseover",bp),l.on("mouseup",yp),l.on("touchend",dv.touchEnd),l.on("keyup",an),l.on("keydown",En),l.on("NodeChange",vt)}),l.on("PreInit",()=>{l.serializer.addTempAttr(ep.firstSelected),l.serializer.addTempAttr(ep.lastSelected)}),{getSelectedCells:()=>Ub(g.get(),oe([]),K=>Yt(K,ne=>ne.dom),K=>[K.dom]),clearSelectedCells:K=>z.clear(me.fromDom(K))}},Sl=l=>{let f=[];return{bind:z=>{if(z===void 0)throw new Error("Event bind error: undefined handler");f.push(z)},unbind:z=>{f=Xn(f,B=>B!==z)},trigger:(...z)=>{const B={};Ue(l,(H,K)=>{B[H]=z[K]}),Ue(f,H=>{H(B)})}}},tm=l=>{const f=is(l,y=>({bind:y.bind,unbind:y.unbind})),g=is(l,y=>y.trigger);return{registry:f,trigger:g}},GE=(l,f)=>{let g=null;const y=()=>{Fe(g)||(clearTimeout(g),g=null)};return{cancel:y,throttle:(...z)=>{y(),g=setTimeout(()=>{g=null,l.apply(null,z)},f)}}},Wb=l=>l.slice(0).sort(),KE=(l,f)=>{throw new Error("All required keys ("+Wb(l).join(", ")+") were not specified. Specified keys were: "+Wb(f).join(", ")+".")},Zc=l=>{throw new Error("Unsupported keys for object: "+Wb(l).join(", "))},xa=(l,f)=>{if(!Ge(f))throw new Error("The "+l+" fields must be an array. Was: "+f+".");Ue(f,g=>{if(!ze(g))throw new Error("The value "+g+" in the "+l+" fields was not a string.")})},hp=(l,f)=>{throw new Error("All values need to be of type: "+f+". Keys ("+Wb(l).join(", ")+") were not.")},wO=l=>{const f=Wb(l);I(f,(y,x)=>x<f.length-1&&y===f[x+1]).each(y=>{throw new Error("The field: "+y+" occurs more than once in the combined fields: ["+f.join(", ")+"].")})},u2=(l,f)=>YE(l,f,{validate:io,label:"function"}),YE=(l,f,g)=>{if(f.length===0)throw new Error("You must specify at least one required field.");return xa("required",f),wO(f),y=>{const x=Ie(y);Qe(f,H=>lo(x,H))||KE(f,x),l(f,x);const B=Xn(f,H=>!g.validate(y[H],H));return B.length>0&&hp(B,g.label),y}},Zn=(l,f)=>{const g=Xn(f,y=>!lo(l,y));g.length>0&&Zc(g)},qw=l=>u2(Zn,l),d2=qw(["compare","extract","mutate","sink"]),Gw=qw(["element","start","stop","destroy"]),XE=qw(["forceDrop","drop","move","delayDrop"]),JE=()=>{let l=ce.none();const f=()=>{l=ce.none()},g=(z,B)=>{const H=l.map(K=>z.compare(K,B));return l=ce.some(B),H},y=(z,B)=>{B.extract(z).each(K=>{g(B,K).each(ge=>{x.trigger.move(ge)})})},x=tm({move:Sl(["info"])});return{onEvent:y,reset:f,events:x.registry}},f2=()=>{const l=tm({move:Sl(["info"])});return{onEvent:it,reset:it,events:l.registry}},QE=()=>{const l=f2(),f=JE();let g=l;return{on:()=>{g.reset(),g=f},off:()=>{g.reset(),g=l},isOn:()=>g===f,onEvent:(H,K)=>{g.onEvent(H,K)},events:f.events}},zt=(l,f,g)=>{let y=!1;const x=tm({start:Sl([]),stop:Sl([])}),z=QE(),B=()=>{$e.stop(),z.isOn()&&(z.off(),x.trigger.stop())},H=GE(B,200),K=Be=>{$e.start(Be),z.on(),x.trigger.start()},ne=Be=>{H.cancel(),z.onEvent(Be,f)};z.events.move.bind(Be=>{f.mutate(l,Be.info)});const ge=()=>{y=!0},qe=()=>{y=!1},vt=()=>y,yt=Be=>(...$t)=>{y&&Be.apply(null,$t)},$e=f.sink(XE({forceDrop:B,drop:yt(B),move:yt(ne),delayDrop:yt(H.throttle)}),g),wt=()=>{$e.destroy()};return{element:$e.element,go:K,on:ge,off:qe,isActive:vt,destroy:wt,events:x.registry}},nm=l=>{const f=l.replace(/\./g,"-");return{resolve:y=>f+"-"+y}},Zb=nm("ephox-dragster").resolve,qb=l=>{const f={layerClass:Zb("blocker"),...l},g=me.fromTag("div");return Us(g,"role","presentation"),pa(g,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Yi(g,Zb("blocker")),Yi(g,f.layerClass),{element:oe(g),destroy:()=>{dr(g)}}};var t4=d2({compare:(l,f)=>ui(f.left-l.left,f.top-l.top),extract:l=>ce.some(ui(l.x,l.y)),sink:(l,f)=>{const g=qb(f),y=Hg(g.element(),"mousedown",l.forceDrop),x=Hg(g.element(),"mouseup",l.drop),z=Hg(g.element(),"mousemove",l.move),B=Hg(g.element(),"mouseout",l.delayDrop),H=()=>{g.destroy(),x.unbind(),z.unbind(),B.unbind(),y.unbind()},K=ge=>{ms(ge,g.element())},ne=()=>{dr(g.element())};return Gw({element:g.element,start:K,stop:ne,destroy:H})},mutate:(l,f)=>{l.mutate(f.left,f.top)}});const p2=(l,f={})=>{var g;const y=(g=f.mode)!==null&&g!==void 0?g:t4;return zt(l,y,f)},Wd=nm("ephox-snooker").resolve,g2=()=>{const l=tm({drag:Sl(["xDelta","yDelta"])});return{mutate:(g,y)=>{l.trigger.drag(g,y)},events:l.registry}},n4=()=>{const l=tm({drag:Sl(["xDelta","yDelta","target"])});let f=ce.none();const g=g2();return g.events.drag.bind(z=>{f.each(B=>{l.trigger.drag(z.xDelta,z.yDelta,B)})}),{assign:z=>{f=ce.some(z)},get:()=>f,mutate:g.mutate,events:l.registry}},Gb=(l,f,g,y,x)=>{const z=me.fromTag("div");return pa(z,{position:"absolute",left:f-y/2+"px",top:g+"px",height:x+"px",width:y+"px"}),ti(z,{"data-column":l,role:"presentation"}),z},o4=(l,f,g,y,x)=>{const z=me.fromTag("div");return pa(z,{position:"absolute",left:f+"px",top:g-x/2+"px",height:x+"px",width:y+"px"}),ti(z,{"data-row":l,role:"presentation"}),z},h2=Wd("resizer-bar"),Kw=Wd("resizer-rows"),b2=Wd("resizer-cols"),av=7,s4=(l,f)=>ot(l.all,(g,y)=>f(g.element)?[y]:[]),r4=(l,f)=>{const g=[];return wo(l.grid.columns,y=>{Bn.getColumnAt(l,y).map(z=>z.element).forall(f)&&g.push(y)}),Xn(g,y=>{const x=Bn.filterItems(l,z=>z.column===y);return Qe(x,z=>f(z.element))})},jg=l=>{const f=us(l.parent(),"."+h2);Ue(f,dr)},Yw=(l,f,g)=>{const y=l.origin();Ue(f,x=>{x.each(z=>{const B=g(y,z);Yi(B,h2),ms(l.parent(),B)})})},y2=(l,f,g,y)=>{Yw(l,f,(x,z)=>{const B=Gb(z.col,z.x-x.left,g.top-x.top,av,y);return Yi(B,b2),B})},a4=(l,f,g,y)=>{Yw(l,f,(x,z)=>{const B=o4(z.row,g.left-x.left,z.y-x.top,y,av);return Yi(B,Kw),B})},c4=(l,f,g,y,x)=>{const z=Bc(g),B=f.isResizable,H=y.length>0?Dt.positions(y,g):[],K=H.length>0?s4(l,B):[],ne=Xn(H,(yt,$e)=>Ye(K,wt=>$e===wt));a4(f,ne,z,ul(g));const ge=x.length>0?Zs.positions(x,g):[],qe=ge.length>0?r4(l,B):[],vt=Xn(ge,(yt,$e)=>Ye(qe,wt=>$e===wt));y2(f,vt,z,wd(g))},cv=(l,f)=>{if(jg(l),l.isResizable(f)){const g=Bn.fromTable(f),y=Fh(g),x=vd(g);c4(g,l,f,y,x)}},$u=(l,f)=>{const g=us(l.parent(),"."+h2);Ue(g,f)},iv=l=>{$u(l,f=>{_s(f,"display","none")})},yo=l=>{$u(l,f=>{_s(f,"display","block")})},i4=l=>_c(l,Kw),Zd=l=>_c(l,b2),Iu=Wd("resizer-bar-dragging"),lv=l=>{const f=n4(),g=p2(f,{});let y=ce.none();const x=($e,wt)=>ce.from(Cr($e,wt));f.events.drag.bind($e=>{x($e.target,"data-row").each(wt=>{const Be=pr($e.target,"top");_s($e.target,"top",Be+$e.yDelta+"px")}),x($e.target,"data-column").each(wt=>{const Be=pr($e.target,"left");_s($e.target,"left",Be+$e.xDelta+"px")})});const z=($e,wt)=>{const Be=pr($e,wt),$t=ss($e,"data-initial-"+wt,0);return Be-$t};g.events.stop.bind(()=>{f.get().each($e=>{y.each(wt=>{x($e,"data-row").each(Be=>{const $t=z($e,"top");Ts($e,"data-initial-top"),yt.trigger.adjustHeight(wt,$t,parseInt(Be,10))}),x($e,"data-column").each(Be=>{const $t=z($e,"left");Ts($e,"data-initial-left"),yt.trigger.adjustWidth(wt,$t,parseInt(Be,10))}),cv(l,wt)})})});const B=($e,wt)=>{yt.trigger.startAdjust(),f.assign($e),Us($e,"data-initial-"+wt,pr($e,wt)),Yi($e,Iu),_s($e,"opacity","0.2"),g.go(l.parent())},H=Hg(l.parent(),"mousedown",$e=>{i4($e.target)&&B($e.target,"top"),Zd($e.target)&&B($e.target,"left")}),K=$e=>os($e,l.view()),ne=$e=>ps($e,"table",K).filter(Mf),ge=Hg(l.view(),"mouseover",$e=>{ne($e.target).fold(()=>{ks($e.target)&&jg(l)},wt=>{g.isActive()&&(y=ce.some(wt),cv(l,wt))})}),qe=()=>{H.unbind(),ge.unbind(),g.destroy(),jg(l)},vt=$e=>{cv(l,$e)},yt=tm({adjustHeight:Sl(["table","delta","row"]),adjustWidth:Sl(["table","delta","column"]),startAdjust:Sl([])});return{destroy:qe,refresh:vt,on:g.on,off:g.off,hideBars:Gt(iv,l),showBars:Gt(yo,l),events:yt.registry}},uv={create:(l,f,g)=>{const y=Dt,x=Zs,z=lv(l),B=tm({beforeResize:Sl(["table","type"]),afterResize:Sl(["table","type"]),startDrag:Sl([])});return z.events.adjustHeight.bind(H=>{const K=H.table;B.trigger.beforeResize(K,"row");const ne=y.delta(H.delta,K);L0(K,ne,H.row,y),B.trigger.afterResize(K,"row")}),z.events.startAdjust.bind(H=>{B.trigger.startDrag()}),z.events.adjustWidth.bind(H=>{const K=H.table;B.trigger.beforeResize(K,"col");const ne=x.delta(H.delta,K),ge=g(K);ub(K,ne,H.column,f,ge),B.trigger.afterResize(K,"col")}),{on:z.on,off:z.off,refreshBars:z.refresh,hideBars:z.hideBars,showBars:z.showBars,destroy:z.destroy,events:B.registry}}},Xw={only:(l,f)=>{const g=df(l)?ls(l):l;return{parent:oe(g),view:oe(l),origin:oe(ui(0,0)),isResizable:f}},detached:(l,f,g)=>{const y=()=>Bc(f);return{parent:oe(f),view:oe(l),origin:y,isResizable:g}},body:(l,f,g)=>({parent:oe(f),view:oe(l),origin:oe(ui(0,0)),isResizable:g})},l4=()=>{const l=me.fromTag("div");return pa(l,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),ms(M(),l),l},Jw=(l,f)=>l.inline?Xw.body(me.fromDom(l.getBody()),l4(),f):Xw.only(me.fromDom(l.getDoc()),f),u4=(l,f)=>{l.inline&&dr(f.parent())},Yn=l=>_n(l)&&l.nodeName==="TABLE",wi="bar-",Gd=l=>Cr(l,"data-mce-resize")!=="false",d4=l=>{const f=Bn.fromTable(l);Bn.hasColumns(f)||Ue(Ra(l),g=>{const y=Ur(g,"width");_s(g,"width",y),Ts(g,"width")})},Wg=l=>{const f=Ng(),g=Ng(),y=Ng();let x,z;const B=$e=>ja(l,$e),H=()=>j_(l)?R0():X_(),K=$e=>ng($e).columns,ne=($e,wt,Be)=>{const $t=Nl(wt,"e");if(z===""&&Gi($e),Be!==x&&z!==""){_s($e,"width",z);const an=H(),En=B($e),ds=j_(l)||$t?K($e)-1:0;ub($e,Be-x,ds,an,En)}else if(n1(z)){const an=parseFloat(z.replace("%","")),En=Be*an/x;_s($e,"width",En+"%")}Qh(z)&&d4($e)},ge=()=>{g.on($e=>{$e.destroy()}),y.on($e=>{u4(l,$e)})};return l.on("init",()=>{const $e=Jw(l,Gd);if(y.set($e),CT(l)&&Jm(l)){const wt=H(),Be=uv.create($e,wt,B);Be.on(),Be.events.startDrag.bind($t=>{f.set(l.selection.getRng())}),Be.events.beforeResize.bind($t=>{const an=$t.table.dom;rw(l,an,Bf(an),Nf(an),wi+$t.type)}),Be.events.afterResize.bind($t=>{const an=$t.table,En=an.dom;jl(an),f.on(ds=>{l.selection.setRng(ds),l.focus()}),sE(l,En,Bf(En),Nf(En),wi+$t.type),l.undoManager.add()}),g.set(Be)}}),l.on("ObjectResizeStart",$e=>{const wt=$e.target;if(Yn(wt)){const Be=me.fromDom(wt);Ue(l.dom.select(".mce-clonedresizable"),$t=>{l.dom.addClass($t,"mce-"+y0(l)+"-columns")}),!wb(Be)&&Rf(l)?_g(Be):!vb(Be)&&Hl(l)&&Gi(Be),B1(Be)&&Li($e.origin,wi)&&Gi(Be),x=$e.width,z=Xm(l)?"":U_(l,wt).getOr("")}}),l.on("ObjectResized",$e=>{const wt=$e.target;if(Yn(wt)){const Be=me.fromDom(wt),$t=$e.origin;Li($t,"corner-")&&ne(Be,$t,$e.width),jl(Be),ip(l,Be.dom,$d)}}),l.on("SwitchMode",()=>{g.on($e=>{l.mode.isReadOnly()?$e.hideBars():$e.showBars()})}),l.on("dragstart dragend",$e=>{g.on(wt=>{$e.type==="dragstart"?(wt.hideBars(),wt.off()):(wt.on(),wt.showBars())})}),l.on("remove",()=>{ge()}),{refresh:$e=>{g.on(wt=>wt.refreshBars(me.fromDom($e)))},hide:()=>{g.on($e=>$e.hideBars())},show:()=>{g.on($e=>$e.showBars())}}},ao=l=>{Gp(l);const f=Wg(l),g=Zw(l,f),y=R1(l,f,g);return Cg(l,y),xE(l,y),RT(l,y),{getSelectedCells:g.getSelectedCells,clearSelectedCells:g.clearSelectedCells}},f4=l=>({table:ao(l)});var Qw=()=>{F.add("dom",f4)};Qw()})();(function(){const F=Object.getPrototypeOf,V=(t,s,a)=>{var i;return a(t,s.prototype)?!0:((i=t.constructor)===null||i===void 0?void 0:i.name)===s.name},j=t=>{const s=typeof t;return t===null?"null":s==="object"&&Array.isArray(t)?"array":s==="object"&&V(t,String,(a,i)=>i.isPrototypeOf(a))?"string":s},re=t=>s=>j(s)===t,se=t=>s=>typeof s===t,pe=t=>s=>t===s,ze=(t,s)=>Ge(t)&&V(t,s,(a,i)=>F(a)===i),Me=re("string"),Ge=re("object"),Fe=t=>ze(t,Object),Ze=re("array"),ht=pe(null),On=se("boolean"),_n=pe(void 0),io=t=>t==null,Tn=t=>!io(t),it=se("function"),zo=se("number"),Ao=(t,s)=>{if(Ze(t)){for(let a=0,i=t.length;a<i;++a)if(!s(t[a]))return!1;return!0}return!1},oe=()=>{},Ut=t=>()=>t(),St=(t,s)=>(...a)=>t(s.apply(null,a)),Gt=(t,s)=>a=>t(s(a)),Y=t=>()=>t,tn=t=>t,$n=(t,s)=>t===s;function yn(t,...s){return(...a)=>{const i=s.concat(a);return t.apply(null,i)}}const Re=t=>s=>!t(s),ce=t=>()=>{throw new Error(t)},Qo=t=>t(),Nn=Y(!1),Et=Y(!0);class E{constructor(s,a){this.tag=s,this.value=a}static some(s){return new E(!0,s)}static none(){return E.singletonNone}fold(s,a){return this.tag?a(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?E.some(s(this.value)):E.none()}bind(s){return this.tag?s(this.value):E.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:E.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return Tn(s)?E.some(s):E.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}E.singletonNone=new E(!1);const lo=Array.prototype.slice,Ye=Array.prototype.indexOf,wo=Array.prototype.push,Yt=(t,s)=>Ye.call(t,s),Ue=(t,s)=>{const a=Yt(t,s);return a===-1?E.none():E.some(a)},Po=(t,s)=>Yt(t,s)>-1,Ps=(t,s)=>{for(let a=0,i=t.length;a<i;a++){const d=t[a];if(s(d,a))return!0}return!1},Xn=(t,s)=>{const a=[];for(let i=0;i<t;i++)a.push(s(i));return a},Vs=(t,s)=>{const a=[];for(let i=0;i<t.length;i+=s){const d=lo.call(t,i,i+s);a.push(d)}return a},He=(t,s)=>{const a=t.length,i=new Array(a);for(let d=0;d<a;d++){const p=t[d];i[d]=s(p,d)}return i},ut=(t,s)=>{for(let a=0,i=t.length;a<i;a++){const d=t[a];s(d,a)}},I=(t,s)=>{for(let a=t.length-1;a>=0;a--){const i=t[a];s(i,a)}},Ka=(t,s)=>{const a=[],i=[];for(let d=0,p=t.length;d<p;d++){const h=t[d];(s(h,d)?a:i).push(h)}return{pass:a,fail:i}},Hn=(t,s)=>{const a=[];for(let i=0,d=t.length;i<d;i++){const p=t[i];s(p,i)&&a.push(p)}return a},ot=(t,s,a)=>(I(t,(i,d)=>{a=s(a,i,d)}),a),Qe=(t,s,a)=>(ut(t,(i,d)=>{a=s(a,i,d)}),a),dn=(t,s,a)=>{for(let i=0,d=t.length;i<d;i++){const p=t[i];if(s(p,i))return E.some(p);if(a(p,i))break}return E.none()},Ke=(t,s)=>dn(t,s,Nn),hn=(t,s)=>{for(let a=0,i=t.length;a<i;a++){const d=t[a];if(s(d,a))return E.some(a)}return E.none()},Pt=t=>{const s=[];for(let a=0,i=t.length;a<i;++a){if(!Ze(t[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+t);wo.apply(s,t[a])}return s},ve=(t,s)=>Pt(He(t,s)),tt=(t,s)=>{for(let a=0,i=t.length;a<i;++a){const d=t[a];if(s(d,a)!==!0)return!1}return!0},Ve=t=>{const s=lo.call(t,0);return s.reverse(),s},Ie=(t,s)=>Hn(t,a=>!Po(s,a)),Mn=(t,s)=>{const a={};for(let i=0,d=t.length;i<d;i++){const p=t[i];a[String(p)]=s(p,i)}return a},nn=t=>[t],is=(t,s)=>{const a=lo.call(t,0);return a.sort(s),a},go=(t,s)=>s>=0&&s<t.length?E.some(t[s]):E.none(),Rs=t=>go(t,0),Xc=t=>go(t,t.length-1),cs=it(Array.from)?Array.from:t=>lo.call(t),es=(t,s)=>{for(let a=0;a<t.length;a++){const i=s(t[a],a);if(i.isSome())return i}return E.none()},ko=Object.keys,Xr=Object.hasOwnProperty,_o=(t,s)=>{const a=ko(t);for(let i=0,d=a.length;i<d;i++){const p=a[i],h=t[p];s(h,p)}},Jn=(t,s)=>Ya(t,(a,i)=>({k:i,v:s(a,i)})),Ya=(t,s)=>{const a={};return _o(t,(i,d)=>{const p=s(i,d);a[p.k]=p.v}),a},In=t=>(s,a)=>{t[a]=s},fs=(t,s,a,i)=>{_o(t,(d,p)=>{(s(d,p)?a:i)(d,p)})},js=(t,s)=>{const a={},i={};return fs(t,s,In(a),In(i)),{t:a,f:i}},Jc=(t,s)=>{const a={};return fs(t,s,In(a),oe),a},rd=(t,s)=>{const a=[];return _o(t,(i,d)=>{a.push(s(i,d))}),a},ts=(t,s)=>{const a=ko(t);for(let i=0,d=a.length;i<d;i++){const p=a[i],h=t[p];if(s(h,p,t))return E.some(h)}return E.none()},uf=t=>rd(t,tn),dt=(t,s)=>ho(t,s)?E.from(t[s]):E.none(),ho=(t,s)=>Xr.call(t,s),Jr=(t,s)=>ho(t,s)&&t[s]!==void 0&&t[s]!==null,za=(t,s,a=$n)=>t.exists(i=>a(i,s)),Qc=(t,s,a=$n)=>Bi(t,s,a).getOr(t.isNone()&&s.isNone()),ei=t=>{const s=[],a=i=>{s.push(i)};for(let i=0;i<t.length;i++)t[i].each(a);return s},ns=t=>{const s=[];for(let a=0;a<t.length;a++){const i=t[a];if(i.isSome())s.push(i.getOrDie());else return E.none()}return E.some(s)},Bi=(t,s,a)=>t.isSome()&&s.isSome()?E.some(a(t.getOrDie(),s.getOrDie())):E.none(),Ni=(t,s,a,i)=>t.isSome()&&s.isSome()&&a.isSome()?E.some(i(t.getOrDie(),s.getOrDie(),a.getOrDie())):E.none(),Ho=(t,s)=>t!=null?E.some(s(t)):E.none(),Qt=(t,s)=>t?E.some(s):E.none(),kr=(t,s)=>t+s,Pi=(t,s)=>t.substring(s),df=(t,s,a)=>s===""||t.length>=s.length&&t.substr(a,a+s.length)===s,ad=(t,s)=>Us(t,s)?Pi(t,s.length):t,_r=(t,s)=>ti(t,s)?t:kr(t,s),xr=(t,s,a=0,i)=>{const d=t.indexOf(s,a);return d!==-1?_n(i)?!0:d+s.length<=i:!1},Us=(t,s)=>df(t,s,0),ti=(t,s)=>df(t,s,t.length-s.length),Cr=(t=>s=>s.replace(t,""))(/^\s+|\s+$/g),fa=t=>t.length>0,Ts=t=>!fa(t),$r=t=>t.style!==void 0&&it(t.style.getPropertyValue),$i=(t,s)=>{const i=(s||document).createElement("div");if(i.innerHTML=t,!i.hasChildNodes()||i.childNodes.length>1){const d="HTML does not have a single root node";throw console.error(d,t),new Error(d)}return ni(i.childNodes[0])},Rl=(t,s)=>{const i=(s||document).createElement(t);return ni(i)},ff=(t,s)=>{const i=(s||document).createTextNode(t);return ni(i)},ni=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},me={fromHtml:$i,fromTag:Rl,fromText:ff,fromDom:ni,fromPoint:(t,s,a)=>E.from(t.dom.elementFromPoint(s,a)).map(ni)},Qr=typeof window<"u"?window:Function("return this;")(),Ii=(t,s)=>{let a=s??Qr;for(let i=0;i<t.length&&a!==void 0&&a!==null;++i)a=a[t[i]];return a},Np=(t,s)=>{const a=t.split(".");return Ii(a,s)},Em=(t,s)=>Np(t,s),os=(t,s)=>{const a=Em(t,s);if(a==null)throw new Error(t+" not available on this browser");return a},Pp=Object.getPrototypeOf,Ny=t=>os("HTMLElement",t),Oc=t=>{const s=Np("ownerDocument.defaultView",t);return Ge(t)&&(Ny(s).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(Pp(t).constructor.name))},du=9,ls=11,Es=1,Fi=3,Xa=t=>t.dom.nodeName.toLowerCase(),el=t=>t.dom.nodeType,fu=t=>s=>el(s)===t,tl=t=>So(t)&&Oc(t.dom),So=fu(Es),Aa=fu(Fi),mu=fu(du),pu=fu(ls),Dc=t=>s=>So(s)&&Xa(s)===t,jr=(t,s)=>{const a=t.dom;if(a.nodeType!==Es)return!1;{const i=a;if(i.matches!==void 0)return i.matches(s);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(s);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(s);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},ms=t=>t.nodeType!==Es&&t.nodeType!==du&&t.nodeType!==ls||t.childElementCount===0,Py=(t,s)=>{const a=s===void 0?document:s.dom;return ms(a)?[]:He(a.querySelectorAll(t),me.fromDom)},pf=(t,s)=>{const a=s===void 0?document:s.dom;return ms(a)?E.none():E.from(a.querySelector(t)).map(me.fromDom)},Oo=(t,s)=>t.dom===s.dom,Oa=(t,s)=>{const a=t.dom,i=s.dom;return a===i?!1:a.contains(i)},Da=t=>me.fromDom(t.dom.ownerDocument),dr=t=>mu(t)?t:Da(t),id=t=>me.fromDom(dr(t).dom.documentElement),Ml=t=>me.fromDom(dr(t).dom.defaultView),lc=t=>E.from(t.dom.parentNode).map(me.fromDom),nl=t=>lc(t),oi=t=>E.from(t.dom.parentElement).map(me.fromDom),$p=(t,s)=>{const a=it(s)?s:Nn;let i=t.dom;const d=[];for(;i.parentNode!==null&&i.parentNode!==void 0;){const p=i.parentNode,h=me.fromDom(p);if(d.push(h),a(h)===!0)break;i=p}return d},gf=t=>E.from(t.dom.offsetParent).map(me.fromDom),hf=t=>E.from(t.dom.nextSibling).map(me.fromDom),uc=t=>He(t.dom.childNodes,me.fromDom),ol=(t,s)=>{const a=t.dom.childNodes;return E.from(a[s]).map(me.fromDom)},gu=t=>ol(t,0),bf=(t,s)=>({element:t,offset:s}),zm=(t,s)=>{const a=uc(t);return a.length>0&&s<a.length?bf(a[s],0):bf(t,s)},Am=t=>pu(t)&&Tn(t.dom.host),hu=it(Element.prototype.attachShadow)&&it(Node.prototype.getRootNode),Om=Y(hu),Do=hu?t=>me.fromDom(t.dom.getRootNode()):dr,dc=t=>Am(t)?t:me.fromDom(dr(t).dom.body),Dm=t=>yf(t).isSome(),yf=t=>{const s=Do(t);return Am(s)?E.some(s):E.none()},fc=t=>me.fromDom(t.dom.host),xh=t=>{if(Om()&&Tn(t.target)){const s=me.fromDom(t.target);if(So(s)&&bu(s)&&t.composed&&t.composedPath){const a=t.composedPath();if(a)return Rs(a)}}return E.from(t.target)},bu=t=>Tn(t.dom.shadowRoot),rr=t=>{const s=Aa(t)?t.dom.parentNode:t.dom;if(s==null||s.ownerDocument===null)return!1;const a=s.ownerDocument;return yf(me.fromDom(s)).fold(()=>a.body.contains(s),Gt(rr,fc))},fr=()=>sl(me.fromDom(document)),sl=t=>{const s=t.dom.body;if(s==null)throw new Error("Body is not available yet");return me.fromDom(s)},vf=(t,s,a)=>{if(Me(a)||On(a)||zo(a))t.setAttribute(s,a+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",a,":: Element ",t),new Error("Attribute value was not simple")},_t=(t,s,a)=>{vf(t.dom,s,a)},ld=(t,s)=>{const a=t.dom;_o(s,(i,d)=>{vf(a,d,i)})},ks=(t,s)=>{const a=t.dom.getAttribute(s);return a===null?void 0:a},M=(t,s)=>E.from(ks(t,s)),Z=(t,s)=>{const a=t.dom;return a&&a.hasAttribute?a.hasAttribute(s):!1},Q=(t,s)=>{t.dom.removeAttribute(s)},Ce=t=>Qe(t.dom.attributes,(s,a)=>(s[a.name]=a.value,s),{}),xt=(t,s,a)=>{if(!Me(a))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",a,":: Element ",t),new Error("CSS value must be a string: "+a);$r(t)&&t.style.setProperty(s,a)},Pn=(t,s)=>{$r(t)&&t.style.removeProperty(s)},Mt=(t,s,a)=>{const i=t.dom;xt(i,s,a)},us=(t,s)=>{const a=t.dom;_o(s,(i,d)=>{xt(a,d,i)})},Xe=(t,s)=>{const a=t.dom;_o(s,(i,d)=>{i.fold(()=>{Pn(a,d)},p=>{xt(a,d,p)})})},Vo=(t,s)=>{const a=t.dom,d=window.getComputedStyle(a).getPropertyValue(s);return d===""&&!rr(t)?ma(a,s):d},ma=(t,s)=>$r(t)?t.style.getPropertyValue(s):"",$s=(t,s)=>{const a=t.dom,i=ma(a,s);return E.from(i).filter(d=>d.length>0)},ar=t=>{const s={},a=t.dom;if($r(a))for(let i=0;i<a.style.length;i++){const d=a.style.item(i);s[d]=a.style[d]}return s},rl=(t,s,a)=>{const i=me.fromTag(t);return Mt(i,s,a),$s(i,s).isSome()},no=(t,s)=>{const a=t.dom;Pn(a,s),za(M(t,"style").map(Cr),"")&&Q(t,"style")},si=t=>t.dom.offsetWidth,ps=(t,s)=>{const a=(w,_)=>{if(!zo(_)&&!_.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+_);const T=w.dom;$r(T)&&(T.style[t]=_+"px")},i=w=>{const _=s(w);if(_<=0||_===null){const T=Vo(w,t);return parseFloat(T)||0}return _},d=i,p=(w,_)=>Qe(_,(T,A)=>{const R=Vo(w,A),P=R===void 0?0:parseInt(R,10);return isNaN(P)?T:T+P},0);return{set:a,get:i,getOuter:d,aggregate:p,max:(w,_,T)=>{const A=p(w,T);return _>A?_-A:0}}},Bl=ps("height",t=>{const s=t.dom;return rr(t)?s.getBoundingClientRect().height:s.offsetHeight}),er=t=>Bl.get(t),ud=t=>Bl.getOuter(t),$y=(t,s)=>{const a=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],i=Bl.max(t,s,a);Mt(t,"max-height",i+"px")},Iy=(t,s)=>({left:t,top:s,translate:(i,d)=>Iy(t+i,s+d)}),xo=Iy,Li=t=>{const s=t.getBoundingClientRect();return xo(s.left,s.top)},Nl=(t,s)=>t!==void 0?t:s!==void 0?s:0,Ja=t=>{const s=t.dom.ownerDocument,a=s.body,i=s.defaultView,d=s.documentElement;if(a===t.dom)return xo(a.offsetLeft,a.offsetTop);const p=Nl(i==null?void 0:i.pageYOffset,d.scrollTop),h=Nl(i==null?void 0:i.pageXOffset,d.scrollLeft),w=Nl(d.clientTop,a.clientTop),_=Nl(d.clientLeft,a.clientLeft);return Pl(t).translate(h-_,p-w)},Pl=t=>{const s=t.dom,i=s.ownerDocument.body;return i===s?xo(i.offsetLeft,i.offsetTop):rr(t)?Li(s):xo(0,0)},Rm=ps("width",t=>t.dom.offsetWidth),oo=(t,s)=>Rm.set(t,s),mr=t=>Rm.get(t),mc=t=>Rm.getOuter(t),m0=(t,s)=>{const a=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],i=Rm.max(t,s,a);Mt(t,"max-width",i+"px")},_s=t=>{let s=!1,a;return(...i)=>(s||(s=!0,a=t.apply(null,i)),a)},pa=(t,s,a,i)=>{const d=t.isiOS()&&/ipad/i.test(a)===!0,p=t.isiOS()&&!d,h=t.isiOS()||t.isAndroid(),w=h||i("(pointer:coarse)"),_=d||!p&&h&&i("(min-device-width:768px)"),T=p||h&&!_,A=s.isSafari()&&t.isiOS()&&/safari/i.test(a)===!1,R=!T&&!_&&!A;return{isiPad:Y(d),isiPhone:Y(p),isTablet:Y(_),isPhone:Y(T),isTouch:Y(w),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:Y(A),isDesktop:Y(R)}},Ur=(t,s)=>{for(let a=0;a<t.length;a++){const i=t[a];if(i.test(s))return i}},Fy=(t,s)=>{const a=Ur(t,s);if(!a)return{major:0,minor:0};const i=d=>Number(s.replace(a,"$"+d));return Ip(i(1),i(2))},Ch=(t,s)=>{const a=String(s).toLowerCase();return t.length===0?ri():Fy(t,a)},ri=()=>Ip(0,0),Ip=(t,s)=>({major:t,minor:s}),ss={nu:Ip,detect:Ch,unknown:ri},ai=(t,s)=>es(s.brands,a=>{const i=a.brand.toLowerCase();return Ke(t,d=>{var p;return i===((p=d.brand)===null||p===void 0?void 0:p.toLowerCase())}).map(d=>({current:d.name,version:ss.nu(parseInt(a.version,10),0)}))}),ga=(t,s)=>{const a=String(s).toLowerCase();return Ke(t,i=>i.search(a))},al=(t,s)=>ga(t,s).map(a=>{const i=ss.detect(a.versionRegexes,s);return{current:a.name,version:i}}),pr=(t,s)=>ga(t,s).map(a=>{const i=ss.detect(a.versionRegexes,s);return{current:a.name,version:i}}),Is=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ci=t=>s=>xr(s,t),wf=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>xr(t,"edge/")&&xr(t,"chrome")&&xr(t,"safari")&&xr(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Is],search:t=>xr(t,"chrome")&&!xr(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>xr(t,"msie")||xr(t,"trident")},{name:"Opera",versionRegexes:[Is,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ci("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ci("firefox")},{name:"Safari",versionRegexes:[Is,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(xr(t,"safari")||xr(t,"mobile/"))&&xr(t,"applewebkit")}],dd=[{name:"Windows",search:ci("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>xr(t,"iphone")||xr(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ci("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ci("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ci("linux"),versionRegexes:[]},{name:"Solaris",search:ci("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ci("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ci("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Fp={browsers:Y(wf),oses:Y(dd)},Mm="Edge",Ra="Chromium",Bm="IE",Ma="Opera",cl="Firefox",Nm="Safari",fd=()=>Pm({current:void 0,version:ss.unknown()}),Pm=t=>{const s=t.current,a=t.version,i=d=>()=>s===d;return{current:s,version:a,isEdge:i(Mm),isChromium:i(Ra),isIE:i(Bm),isOpera:i(Ma),isFirefox:i(cl),isSafari:i(Nm)}},md={unknown:fd,nu:Pm,edge:Y(Mm),chromium:Y(Ra),ie:Y(Bm),opera:Y(Ma),firefox:Y(cl),safari:Y(Nm)},Sh="Windows",$l="iOS",Th="Android",Eh="Linux",zh="macOS",pd="Solaris",Ly="FreeBSD",ee="ChromeOS",kf=()=>ii({current:void 0,version:ss.unknown()}),ii=t=>{const s=t.current,a=t.version,i=d=>()=>s===d;return{current:s,version:a,isWindows:i(Sh),isiOS:i($l),isAndroid:i(Th),isMacOS:i(zh),isLinux:i(Eh),isSolaris:i(pd),isFreeBSD:i(Ly),isChromeOS:i(ee)}},Lp={unknown:kf,nu:ii,windows:Y(Sh),ios:Y($l),android:Y(Th),linux:Y(Eh),macos:Y(zh),solaris:Y(pd),freebsd:Y(Ly),chromeos:Y(ee)},p0={detect:(t,s,a)=>{const i=Fp.browsers(),d=Fp.oses(),p=s.bind(_=>ai(i,_)).orThunk(()=>al(i,t)).fold(md.unknown,md.nu),h=pr(d,t).fold(Lp.unknown,Lp.nu),w=pa(h,p,t,a);return{browser:p,os:h,deviceType:w}}},fo=t=>window.matchMedia(t).matches;let ea=_s(()=>p0.detect(navigator.userAgent,E.from(navigator.userAgentData),fo));const il=()=>ea(),Rc=(t,s,a,i,d,p,h)=>({target:t,x:s,y:a,stop:i,prevent:d,kill:p,raw:h}),Ah=t=>{const s=me.fromDom(xh(t).getOr(t.target)),a=()=>t.stopPropagation(),i=()=>t.preventDefault(),d=St(i,a);return Rc(s,t.clientX,t.clientY,a,i,d,t)},gd=(t,s)=>a=>{t(a)&&s(Ah(a))},pc=(t,s,a,i,d)=>{const p=gd(a,i);return t.dom.addEventListener(s,p,d),{unbind:yn(g0,t,s,p,d)}},_f=(t,s,a,i)=>pc(t,s,a,i,!1),Oh=(t,s,a,i)=>pc(t,s,a,i,!0),g0=(t,s,a,i)=>{t.dom.removeEventListener(s,a,i)},Mc=(t,s)=>{lc(t).each(i=>{i.dom.insertBefore(s.dom,t.dom)})},$m=(t,s)=>{hf(t).fold(()=>{lc(t).each(d=>{gc(d,s)})},i=>{Mc(i,s)})},Dh=(t,s)=>{gu(t).fold(()=>{gc(t,s)},i=>{t.dom.insertBefore(s.dom,i.dom)})},gc=(t,s)=>{t.dom.appendChild(s.dom)},Sr=(t,s,a)=>{ol(t,a).fold(()=>{gc(t,s)},i=>{Mc(i,s)})},yu=(t,s)=>{ut(s,a=>{gc(t,a)})},xf=t=>{t.dom.textContent="",ut(uc(t),s=>{li(s)})},li=t=>{const s=t.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},Qa=t=>{const s=t!==void 0?t.dom:document,a=s.body.scrollLeft||s.documentElement.scrollLeft,i=s.body.scrollTop||s.documentElement.scrollTop;return xo(a,i)},Rh=(t,s,a)=>{const d=(a!==void 0?a.dom:document).defaultView;d&&d.scrollTo(t,s)},Hy=t=>{const s=t===void 0?window:t;return il().browser.isFirefox()?E.none():E.from(s.visualViewport)},Im=(t,s,a,i)=>({x:t,y:s,width:a,height:i,right:t+a,bottom:s+i}),Mh=t=>{const s=t===void 0?window:t,a=s.document,i=Qa(me.fromDom(a));return Hy(s).fold(()=>{const d=s.document.documentElement,p=d.clientWidth,h=d.clientHeight;return Im(i.left,i.top,p,h)},d=>Im(Math.max(d.pageLeft,i.left),Math.max(d.pageTop,i.top),d.width,d.height))},Hp=()=>me.fromDom(document),ll=(t,s)=>t.view(s).fold(Y([]),i=>{const d=t.owner(i),p=ll(t,d);return[i].concat(p)}),Vy=(t,s)=>{const a=s.owner(t),i=ll(s,a);return E.some(i)};var Bh=Object.freeze({__proto__:null,view:t=>{var s;return(t.dom===document?E.none():E.from((s=t.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(me.fromDom)},owner:t=>Da(t)});const Fm=t=>{const s=Hp(),a=Qa(s);return Vy(t,Bh).fold(yn(Ja,t),d=>{const p=Pl(t),h=ot(d,(w,_)=>{const T=Pl(_);return{left:w.left+T.left,top:w.top+T.top}},{left:0,top:0});return xo(h.left+p.left+a.left,h.top+p.top+a.top)})},Vp=(t,s,a)=>({point:t,width:s,height:a}),Cf=(t,s,a,i)=>({x:t,y:s,width:a,height:i}),gs=(t,s,a,i)=>({x:t,y:s,width:a,height:i,right:t+a,bottom:s+i}),Ms=t=>{const s=Ja(t),a=mc(t),i=ud(t);return gs(s.left,s.top,a,i)},ec=t=>{const s=Fm(t),a=mc(t),i=ud(t);return gs(s.left,s.top,a,i)},Nh=(t,s)=>{const a=Math.max(t.x,s.x),i=Math.max(t.y,s.y),d=Math.min(t.right,s.right),p=Math.min(t.bottom,s.bottom),h=d-a,w=p-i;return gs(a,i,h,w)},Uy=(t,s)=>Qe(s,(a,i)=>Nh(a,i),t),Wr=()=>Mh(window);var hd=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Ba=t=>{const s=p=>p(t),a=Y(t),i=()=>d,d={tag:!0,inner:t,fold:(p,h)=>h(t),isValue:Et,isError:Nn,map:p=>xn.value(p(t)),mapError:i,bind:s,exists:s,forall:s,getOr:a,or:i,getOrThunk:a,orThunk:i,getOrDie:a,each:p=>{p(t)},toOptional:()=>E.some(t)};return d},ul=t=>{const s=()=>a,a={tag:!1,inner:t,fold:(i,d)=>i(t),isValue:Nn,isError:Et,map:s,mapError:i=>xn.error(i(t)),bind:s,exists:Nn,forall:Et,getOr:tn,or:tn,getOrThunk:Qo,orThunk:Qo,getOrDie:ce(String(t)),each:oe,toOptional:E.none};return a},xn={value:Ba,error:ul,fromOption:(t,s)=>t.fold(()=>ul(s),Ba)};var tc;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(tc||(tc={}));const vu=(t,s,a)=>t.stype===tc.Error?s(t.serror):a(t.svalue),Sf=t=>{const s=[],a=[];return ut(t,i=>{vu(i,d=>a.push(d),d=>s.push(d))}),{values:s,errors:a}},Ph=(t,s)=>t.stype===tc.Error?{stype:tc.Error,serror:s(t.serror)}:t,Wy=(t,s)=>t.stype===tc.Value?{stype:tc.Value,svalue:s(t.svalue)}:t,ha=(t,s)=>t.stype===tc.Value?s(t.svalue):t,Ws=(t,s)=>t.stype===tc.Error?s(t.serror):t,hc=t=>({stype:tc.Value,svalue:t}),cr=t=>({stype:tc.Error,serror:t}),Fs={fromResult:t=>t.fold(cr,hc),toResult:t=>vu(t,xn.error,xn.value),svalue:hc,partition:Sf,serror:cr,bind:ha,bindError:Ws,map:Wy,mapError:Ph,fold:vu},gr=(t,s,a,i)=>({tag:"field",key:t,newKey:s,presence:a,prop:i}),Hi=(t,s)=>({tag:"custom",newKey:t,instantiator:s}),bd=(t,s,a)=>{switch(t.tag){case"field":return s(t.key,t.newKey,t.presence,t.prop);case"custom":return a(t.newKey,t.instantiator)}},tr=(t,s)=>s,$h=(t,s)=>Fe(t)&&Fe(s)?Ro(t,s):s,Zy=t=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const a={};for(let i=0;i<s.length;i++){const d=s[i];for(const p in d)ho(d,p)&&(a[p]=t(a[p],d[p]))}return a},Ro=Zy($h),dl=Zy(tr),ro=()=>({tag:"required",process:{}}),Na=t=>({tag:"defaultedThunk",process:t}),yd=t=>Na(Y(t)),wu=()=>({tag:"option",process:{}}),Bn=t=>({tag:"mergeWithThunk",process:t}),vd=t=>Bn(Y(t)),Ih=(t,s)=>t.length>0?Fs.svalue(Ro(s,dl.apply(void 0,t))):Fs.svalue(s),Fh=t=>St(Fs.serror,Pt)(t),Up={consolidateObj:(t,s)=>{const a=Fs.partition(t);return a.errors.length>0?Fh(a.errors):Ih(a.values,s)},consolidateArr:t=>{const s=Fs.partition(t);return s.errors.length>0?Fh(s.errors):Fs.svalue(s.values)}},Lh=t=>Ge(t)&&ko(t).length>100?" removed due to size":JSON.stringify(t,null,2),Vm=t=>{const s=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:Y("... (only showing first ten failures)")}]):t;return He(s,a=>"Failed path: ("+a.path.join(" > ")+`)
`+a.getErrorInfo())},wd=(t,s)=>Fs.serror([{path:t,getErrorInfo:s}]),Tf=(t,s,a)=>wd(t,()=>'Could not find valid *required* value for "'+s+'" in '+Lh(a)),Gy=(t,s)=>wd(t,()=>'Choice schema did not contain choice key: "'+s+'"'),ui=(t,s,a)=>wd(t,()=>'The chosen schema: "'+a+'" did not exist in branches: '+Lh(s)),h0=(t,s)=>wd(t,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),Ef=(t,s)=>wd(t,Y(s)),Bc=t=>{const s=(i,d)=>Fs.bindError(t(d),p=>Ef(i,p)),a=Y("val");return{extract:s,toString:a}},Hh=Bc(Fs.svalue),Vh=(t,s,a,i)=>dt(s,a).fold(()=>Tf(t,a,s),i),jh=(t,s,a,i)=>{const d=dt(t,s).getOrThunk(()=>a(t));return i(d)},Wp=(t,s,a)=>a(dt(t,s)),Uh=(t,s,a,i)=>{const d=dt(t,s).map(p=>p===!0?a(t):p);return i(d)},Wh=(t,s,a,i,d)=>{const p=w=>d.extract(s.concat([i]),w),h=w=>w.fold(()=>Fs.svalue(E.none()),_=>{const T=d.extract(s.concat([i]),_);return Fs.map(T,E.some)});switch(t.tag){case"required":return Vh(s,a,i,p);case"defaultedThunk":return jh(a,i,t.process,p);case"option":return Wp(a,i,h);case"defaultedOptionThunk":return Uh(a,i,t.process,h);case"mergeWithThunk":return jh(a,i,Y({}),w=>{const _=Ro(t.process(a),w);return p(_)})}},Zh=(t,s,a)=>{const i={},d=[];for(const p of a)bd(p,(h,w,_,T)=>{const A=Wh(_,t,s,h,T);Fs.fold(A,R=>{d.push(...R)},R=>{i[w]=R})},(h,w)=>{i[h]=w(s)});return d.length>0?Fs.serror(d):Fs.svalue(i)},Tr=t=>({extract:(i,d)=>t().extract(i,d),toString:()=>t().toString()}),b0=t=>ko(Jc(t,Tn)),qo=t=>{const s=Ht(t),a=ot(t,(d,p)=>bd(p,h=>Ro(d,{[h]:!0}),Y(d)),{});return{extract:(d,p)=>{const h=On(p)?[]:b0(p),w=Hn(h,_=>!Jr(a,_));return w.length===0?s.extract(d,p):h0(d,w)},toString:s.toString}},Ht=t=>({extract:(i,d)=>Zh(i,d,t),toString:()=>`obj{
`+He(t,d=>bd(d,(p,h,w,_)=>p+" -> "+_.toString(),(p,h)=>"state("+p+")")).join(`
`)+"}"}),fl=t=>({extract:(i,d)=>{const p=He(d,(h,w)=>t.extract(i.concat(["["+w+"]"]),h));return Up.consolidateArr(p)},toString:()=>"array("+t.toString()+")"}),Dt=(t,s)=>{const a=s!==void 0?s:tn;return{extract:(p,h)=>{const w=[];for(const _ of t){const T=_.extract(p,h);if(T.stype===tc.Value)return{stype:tc.Value,svalue:a(T.svalue)};w.push(T)}return Up.consolidateArr(w)},toString:()=>"oneOf("+He(t,p=>p.toString()).join(", ")+")"}},Vi=(t,s)=>{const a=(p,h)=>fl(Bc(t)).extract(p,h);return{extract:(p,h)=>{const w=ko(h),_=a(p,w);return Fs.bind(_,T=>{const A=He(T,R=>gr(R,R,ro(),s));return Ht(A).extract(p,h)})},toString:()=>"setOf("+s.toString()+")"}},Ky=(t,s)=>{const a=_s(s);return{extract:(p,h)=>a().extract(p,h),toString:()=>a().toString()}},ml=St(fl,Ht),Zs=Y(Hh),Il=(t,s)=>Bc(a=>{const i=typeof a;return t(a)?Fs.svalue(a):Fs.serror(`Expected type: ${s} but got: ${i}`)}),jm=Il(zo,"number"),Er=Il(Me,"string"),ji=Il(On,"boolean"),Zp=Il(it,"function"),pl=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(s=>pl(t[s]));default:return!1}},Yy=Bc(t=>pl(t)?Fs.svalue(t):Fs.serror("Expected value to be acceptable for sending via postMessage")),Um=(t,s,a,i)=>dt(a,i).fold(()=>ui(t,a,i),p=>p.extract(t.concat(["branch: "+i]),s)),Je=(t,s)=>({extract:(d,p)=>dt(p,t).fold(()=>Gy(d,t),w=>Um(d,p,s,w)),toString:()=>"chooseOn("+t+"). Possible values: "+ko(s)}),Xy=()=>fl(Hh),ku=t=>Bc(s=>t(s).fold(Fs.serror,Fs.svalue)),Fl=(t,s)=>Vi(a=>Fs.fromResult(t(a)),s),Wm=(t,s,a)=>{const i=s.extract([t],a);return Fs.mapError(i,d=>({input:a,errors:d}))},hs=(t,s,a)=>Fs.toResult(Wm(t,s,a)),Mo=t=>t.fold(s=>{throw new Error(ta(s))},tn),ba=(t,s,a)=>Mo(hs(t,s,a)),ta=t=>`Errors: 
`+Vm(t.errors).join(`
`)+`

Input object: `+Lh(t.input),Wn=(t,s)=>Je(t,Jn(s,Ht)),zf=(t,s)=>Ky(t,s),Ir=gr,Bs=Hi,qp=t=>ku(s=>Po(t,s)?xn.value(s):xn.error(`Unsupported value: "${s}", choose one of "${t.join(", ")}".`)),Le=t=>Ir(t,t,ro(),Zs()),nc=(t,s)=>Ir(t,t,ro(),s),Zm=t=>nc(t,jm),uo=t=>nc(t,Er),Ui=(t,s)=>Ir(t,t,ro(),qp(s)),Jy=t=>nc(t,ji),Wi=t=>nc(t,Zp),qh=(t,s)=>Ir(t,t,wu(),Bc(a=>Fs.serror("The field: "+t+" is forbidden. "+s))),di=(t,s)=>Ir(t,t,ro(),Ht(s)),Gh=(t,s)=>Ir(t,t,ro(),ml(s)),bc=(t,s)=>Ir(t,t,ro(),fl(s)),vo=t=>Ir(t,t,wu(),Zs()),gl=(t,s)=>Ir(t,t,wu(),s),kd=t=>gl(t,jm),Fr=t=>gl(t,Er),Kh=(t,s)=>gl(t,qp(s)),_d=t=>gl(t,Zp),xd=(t,s)=>gl(t,fl(s)),ya=(t,s)=>gl(t,Ht(s)),_u=(t,s)=>gl(t,qo(s)),be=(t,s)=>Ir(t,t,yd(s),Zs()),Pa=(t,s,a)=>Ir(t,t,yd(s),a),Nc=(t,s)=>Pa(t,s,jm),Pc=(t,s)=>Pa(t,s,Er),$a=(t,s,a)=>Pa(t,s,qp(a)),ir=(t,s)=>Pa(t,s,ji),hr=(t,s)=>Pa(t,s,Zp),Qy=(t,s)=>Pa(t,s,Yy),Ia=(t,s,a)=>Pa(t,s,fl(a)),hl=(t,s,a)=>Pa(t,s,Ht(a)),Kt=t=>{let s=t;return{get:()=>s,set:d=>{s=d}}},S={generate:t=>{if(!Ze(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const s=[],a={};return ut(t,(i,d)=>{const p=ko(i);if(p.length!==1)throw new Error("one and only one name per case");const h=p[0],w=i[h];if(a[h]!==void 0)throw new Error("duplicate key detected:"+h);if(h==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Ze(w))throw new Error("case arguments must be an array");s.push(h),a[h]=(..._)=>{const T=_.length;if(T!==w.length)throw new Error("Wrong number of arguments to case "+h+". Expected "+w.length+" ("+w+"), got "+T);return{fold:(...R)=>{if(R.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+R.length);return R[d].apply(null,_)},match:R=>{const P=ko(R);if(s.length!==P.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+P.join(","));if(!tt(s,q=>Po(P,q)))throw new Error("Not all branches were specified when using match. Specified: "+P.join(", ")+`
Required: `+s.join(", "));return R[h].apply(null,_)},log:R=>{console.log(R,{constructors:s,constructor:h,params:_})}}}}),a}};S.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const $=t=>{const s=[],a=[];return ut(t,i=>{i.fold(d=>{s.push(d)},d=>{a.push(d)})}),{errors:s,values:a}},W=(t,s)=>{const a={};return _o(t,(i,d)=>{Po(s,d)||(a[d]=i)}),a},ie=(t,s)=>({[t]:s}),Oe=t=>{const s={};return ut(t,a=>{s[a.key]=a.value}),s},nt=(t,s)=>W(t,s),bt=(t,s)=>ie(t,s),Vt=t=>Oe(t),kn=(t,s)=>t.length===0?xn.value(s):xn.value(Ro(s,dl.apply(void 0,t))),zs=t=>xn.error(Pt(t)),bo=(t,s)=>{const a=$(t);return a.errors.length>0?zs(a.errors):kn(a.values,s)},rs=t=>it(t)?t:Nn,oc=(t,s,a)=>{let i=t.dom;const d=rs(a);for(;i.parentNode;){i=i.parentNode;const p=me.fromDom(i),h=s(p);if(h.isSome())return h;if(d(p))break}return E.none()},Fa=(t,s,a)=>{const i=s(t),d=rs(a);return i.orThunk(()=>d(t)?E.none():oc(t,s,d))},$c=(t,s)=>Oo(t.element,s.event.target),xu={can:Et,abort:Nn,run:oe},Zi=t=>{if(!Jr(t,"can")&&!Jr(t,"abort")&&!Jr(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return{...xu,...t}},qm=(t,s)=>(...a)=>Qe(t,(i,d)=>i&&s(d).apply(void 0,a),!0),Af=(t,s)=>(...a)=>Qe(t,(i,d)=>i||s(d).apply(void 0,a),!1),Cd=t=>it(t)?{can:Et,abort:Nn,run:t}:t,Gm=t=>{const s=qm(t,d=>d.can),a=Af(t,d=>d.abort);return{can:s,abort:a,run:(...d)=>{ut(t,p=>{p.run.apply(void 0,d)})}}},nr=Y,Ic=nr("touchstart"),Of=nr("touchmove"),Sd=nr("touchend"),mo=nr("touchcancel"),Vn=nr("mousedown"),zr=nr("mousemove"),na=nr("mouseout"),Yh=nr("mouseup"),Ll=nr("mouseover"),oa=nr("focusin"),Td=nr("focusout"),bl=nr("keydown"),Df=nr("keyup"),Km=nr("input"),Gp=nr("change"),Ed=nr("click"),CT=nr("transitioncancel"),Ym=nr("transitionend"),y0=nr("transitionstart"),j_=nr("selectstart"),qs=t=>Y("alloy."+t),Kp={tap:qs("tap")},Hl=qs("focus"),Rf=qs("blur.post"),Xm=qs("paste.post"),Jm=qs("receive"),Fc=qs("execute"),Ns=qs("focus.item"),Vl=Kp.tap,v0=qs("longpress"),Xh=qs("sandbox.close"),e1=qs("typeahead.cancel"),Mf=qs("system.init"),Jh=qs("system.touchmove"),t1=qs("system.touchend"),Cu=qs("system.scroll"),jl=qs("system.resize"),fi=qs("system.attached"),Bf=qs("system.detached"),Nf=qs("system.dismissRequested"),U_=qs("system.repositionRequested"),n1=qs("focusmanager.shifted"),Qh=qs("slotcontainer.visibility"),o1=qs("system.external.element.scroll"),W_=qs("change.tab"),s1=qs("dismiss.tab"),eb=qs("highlight"),tb=qs("dehighlight"),Gn=(t,s)=>{nb(t,t.element,s,{})},Zt=(t,s,a)=>{nb(t,t.element,s,a)},zd=t=>{Gn(t,Fc())},r1=(t,s,a)=>{nb(t,s,a,{})},nb=(t,s,a,i)=>{const d={target:s,...i};t.getSystem().triggerEvent(a,s,d)},ST=(t,s,a,i)=>{const d={...i,target:s};t.getSystem().triggerEvent(a,s,d)},w0=(t,s,a,i)=>{t.getSystem().triggerEvent(a,s,i.event)},Go=t=>Vt(t),k0=(t,s)=>({key:t,value:Zi({abort:s})}),_0=(t,s)=>({key:t,value:Zi({can:s})}),x0=t=>({key:t,value:Zi({run:(s,a)=>{a.event.prevent()}})}),Pe=(t,s)=>({key:t,value:Zi({run:s})}),a1=(t,s,a)=>({key:t,value:Zi({run:(i,d)=>{s.apply(void 0,[i,d].concat(a))}})}),TT=t=>s=>Pe(t,s),ob=t=>s=>({key:t,value:Zi({run:(a,i)=>{$c(a,i)&&s(a,i)}})}),ET=(t,s)=>Pe(t,(a,i)=>{a.getSystem().getByUid(s).each(d=>{w0(d,d.element,t,i)})}),Yp=(t,s,a)=>{const i=s.partUids[a];return ET(t,i)},C0=(t,s)=>Pe(t,(a,i)=>{const d=i.event,p=a.getSystem().getByDom(d.target).getOrThunk(()=>Fa(d.target,w=>a.getSystem().getByDom(w).toOptional(),Nn).getOr(a));s(a,p,i)}),Ad=t=>Pe(t,(s,a)=>{a.cut()}),zT=t=>Pe(t,(s,a)=>{a.stop()}),Su=(t,s)=>ob(t)(s),jo=ob(fi()),Tu=ob(Bf()),S0=ob(Mf()),yl=TT(Fc()),Od=(t,s)=>{const i=(s||document).createElement("div");return i.innerHTML=t,uc(me.fromDom(i))},T0=t=>t.dom.innerHTML,Qm=(t,s)=>{const i=Da(t).dom,d=me.fromDom(i.createDocumentFragment()),p=Od(s,i);yu(d,p),xf(t),gc(t,d)},Z_=t=>{const s=me.fromTag("div"),a=me.fromDom(t.dom.cloneNode(!0));return gc(s,a),T0(s)},c1=(t,s)=>me.fromDom(t.dom.cloneNode(s)),E0=t=>c1(t,!1),AT=t=>c1(t,!0),z0=t=>{if(Am(t))return"#shadow-root";{const s=E0(t);return Z_(s)}},Eu=t=>z0(t),iO=(t,s,a)=>Oo(s,t.element)&&!Oo(s,a),A0=Go([_0(Hl(),(t,s)=>{const a=s.event,i=a.originator,d=a.target;return iO(t,i,d)?(console.warn(Hl()+` did not get interpreted by the desired target. 
Originator: `+Eu(i)+`
Target: `+Eu(d)+`
Check the `+Hl()+" event handlers"),!1):!0})]);var Pf=Object.freeze({__proto__:null,events:A0});let sa=0;const Ot=t=>{const a=new Date().getTime(),i=Math.floor(Math.random()*1e9);return sa++,t+"_"+i+sa+String(a)},OT=Y("alloy-id-"),O0=Y("data-alloy-id"),DT=OT(),q_=O0(),ep=(t,s)=>{const a=Ot(DT+t);return Xp(s,a),a},Xp=(t,s)=>{Object.defineProperty(t.dom,q_,{value:s,writable:!0})},sb=t=>{const s=So(t)?t.dom[q_]:null;return E.from(s)},Jp=t=>Ot(t),i1=tn,Dd=t=>{const s=d=>`The component must be in a context to execute: ${d}`+(t?`
`+Eu(t().element)+" is not in context.":""),a=d=>()=>{throw new Error(s(d))},i=d=>()=>{console.warn(s(d))};return{debugInfo:Y("fake"),triggerEvent:i("triggerEvent"),triggerFocus:i("triggerFocus"),triggerEscape:i("triggerEscape"),broadcast:i("broadcast"),broadcastOn:i("broadcastOn"),broadcastEvent:i("broadcastEvent"),build:a("build"),buildOrPatch:a("buildOrPatch"),addToWorld:a("addToWorld"),removeFromWorld:a("removeFromWorld"),addToGui:a("addToGui"),removeFromGui:a("removeFromGui"),getByUid:a("getByUid"),getByDom:a("getByDom"),isConnected:Nn}},Ul=Dd(),rb=(t,s,a)=>{const i=a.toString(),d=i.indexOf(")")+1,p=i.indexOf("("),h=i.substring(p+1,d-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:qi(h.slice(0,1).concat(h.slice(3)))}),t},qi=t=>He(t,s=>ti(s,"/*")?s.substring(0,s.length-2):s),l1=(t,s)=>{const a=t.toString(),i=a.indexOf(")")+1,d=a.indexOf("("),p=a.substring(d+1,i-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:qi(p)}),t},G_=(t,s)=>{const a=s.toString(),i=a.indexOf(")")+1,d=a.indexOf("("),p=a.substring(d+1,i-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:qi(p.slice(1))}),t},Qp=Ot("alloy-premade"),Rd=t=>(Object.defineProperty(t.element.dom,Qp,{value:t.uid,writable:!0}),bt(Qp,t)),RT=t=>ho(t.dom,Qp),eg=t=>dt(t,Qp),tp=t=>G_((s,...a)=>t(s.getApis(),s,...a),t),vl={init:()=>Lc({readState:Y("No State required")})},Lc=t=>t,MT=(t,s)=>{const a=He(s,d=>ya(d.name(),[Le("config"),be("state",vl)])),i=hs("component.behaviours",Ht(a),t.behaviours).fold(d=>{throw new Error(ta(d)+`
Complete spec:
`+JSON.stringify(t,null,2))},tn);return{list:s,data:Jn(i,d=>{const p=d.map(h=>({config:h.config,state:h.state.init(h.config)}));return Y(p)})}},K_=t=>t.list,Y_=t=>t.data,D0=(t,s)=>{const a={};return _o(t,(i,d)=>{_o(i,(p,h)=>{const w=dt(a,h).getOr([]);a[h]=w.concat([s(d,p)])})}),a},Hc=t=>({classes:_n(t.classes)?[]:t.classes,attributes:_n(t.attributes)?{}:t.attributes,styles:_n(t.styles)?{}:t.styles}),tg=(t,s)=>({...t,attributes:{...t.attributes,...s.attributes},styles:{...t.styles,...s.styles},classes:t.classes.concat(s.classes)}),u1=(t,s,a,i)=>{const d={...s};ut(a,A=>{d[A.name()]=A.exhibit(t,i)});const p=D0(d,(A,R)=>({name:A,modification:R})),h=A=>ot(A,(R,P)=>({...P.modification,...R}),{}),w=ot(p.classes,(A,R)=>R.modification.concat(A),[]),_=h(p.attributes),T=h(p.styles);return Hc({classes:w,attributes:_,styles:T})},d1=(t,s,a,i)=>{try{const d=is(a,(p,h)=>{const w=p[s],_=h[s],T=i.indexOf(w),A=i.indexOf(_);if(T===-1)throw new Error("The ordering for "+t+" does not have an entry for "+w+`.
Order specified: `+JSON.stringify(i,null,2));if(A===-1)throw new Error("The ordering for "+t+" does not have an entry for "+_+`.
Order specified: `+JSON.stringify(i,null,2));return T<A?-1:A<T?1:0});return xn.value(d)}catch(d){return xn.error([d])}},BT=(t,s)=>({handler:t,purpose:s}),X_=(t,s)=>({cHandler:t,purpose:s}),R0=(t,s)=>X_(yn.apply(void 0,[t.handler].concat(s)),t.purpose),ng=t=>t.cHandler,og=(t,s)=>({name:t,handler:s}),f1=(t,s)=>{const a={};return ut(t,i=>{a[i.name()]=i.handlers(s)}),a},NT=(t,s,a)=>{const i={...a,...f1(s,t)};return D0(i,og)},m1=(t,s,a,i)=>{const d=NT(t,a,i);return M0(d,s)},sg=t=>{const s=Cd(t);return(a,i,...d)=>{const p=[a,i].concat(d);s.abort.apply(void 0,p)?i.stop():s.can.apply(void 0,p)&&s.run.apply(void 0,p)}},PT=(t,s)=>xn.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(He(s,a=>a.name),null,2)]),ab=(t,s,a)=>{const i=s[a];return i?d1("Event: "+a,"name",t,i).map(d=>{const p=He(d,h=>h.handler);return Gm(p)}):PT(a,t)},M0=(t,s)=>{const a=rd(t,(i,d)=>(i.length===1?xn.value(i[0].handler):ab(i,s,d)).map(h=>{const w=sg(h),_=i.length>1?Hn(s[d],T=>Ps(i,A=>A.name===T)).join(" > "):i[0].name;return bt(d,BT(w,_))}));return bo(a,{})},Vc="alloy.base.behaviour",p1=Ht([Ir("dom","dom",ro(),Ht([Le("tag"),be("styles",{}),be("classes",[]),be("attributes",{}),vo("value"),vo("innerHtml")])),Le("components"),Le("uid"),be("events",{}),be("apis",{}),Ir("eventOrder","eventOrder",vd({[Fc()]:["disabling",Vc,"toggling","typeaheadevents"],[Hl()]:[Vc,"focusing","keying"],[Mf()]:[Vc,"disabling","toggling","representing"],[Km()]:[Vc,"representing","streaming","invalidating"],[Bf()]:[Vc,"representing","item-events","tooltipping"],[Vn()]:["focusing",Vc,"item-type-events"],[Ic()]:["focusing",Vc,"item-type-events"],[Ll()]:["item-type-events","tooltipping"],[Jm()]:["receiving","reflecting","tooltipping"]}),Zs()),vo("domModification")]),J_=t=>hs("custom.definition",p1,t),g1=t=>({...t.dom,uid:t.uid,domChildren:He(t.components,s=>s.element)}),lO=t=>t.domModification.fold(()=>Hc({}),Hc),h1=t=>t.events,$f=(t,s)=>{const a=ks(t,s);return a===void 0||a===""?[]:a.split(" ")},zu=(t,s,a)=>{const d=$f(t,s).concat([a]);return _t(t,s,d.join(" ")),!0},B0=(t,s,a)=>{const i=Hn($f(t,s),d=>d!==a);return i.length>0?_t(t,s,i.join(" ")):Q(t,s),!1},rg=t=>t.dom.classList!==void 0,b1=t=>$f(t,"class"),Q_=(t,s)=>zu(t,"class",s),as=(t,s)=>B0(t,"class",s),$T=(t,s)=>Po(b1(t),s)?as(t,s):Q_(t,s),Gs=(t,s)=>{rg(t)?t.dom.classList.add(s):Q_(t,s)},ex=t=>{(rg(t)?t.dom.classList:b1(t)).length===0&&Q(t,"class")},xs=(t,s)=>{rg(t)?t.dom.classList.remove(s):as(t,s),ex(t)},ag=(t,s)=>{const a=rg(t)?t.dom.classList.toggle(s):$T(t,s);return ex(t),a},br=(t,s)=>rg(t)&&t.dom.classList.contains(s),As=(t,s)=>{ut(s,a=>{Gs(t,a)})},mi=(t,s)=>{ut(s,a=>{xs(t,a)})},N0=(t,s)=>{ut(s,a=>{ag(t,a)})},ra=(t,s)=>tt(s,a=>br(t,a)),cb=t=>{const s=t.dom.classList,a=new Array(s.length);for(let i=0;i<s.length;i++){const d=s.item(i);d!==null&&(a[i]=d)}return a},cg=t=>rg(t)?cb(t):b1(t),Au=t=>t.dom.value,ig=(t,s)=>{if(s===void 0)throw new Error("Value.set was undefined");t.dom.value=s},If=(t,s,a)=>ol(t,s).map(d=>{if(a.exists(h=>!Oo(h,d))){const h=a.map(Xa).getOr("span"),w=me.fromTag(h);return Mc(d,w),w}else return d}),Md=(t,s,a)=>{a.fold(()=>gc(t,s),i=>{Oo(i,s)||(Mc(i,s),li(i))})},IT=(t,s,a)=>{const i=He(s,a),d=uc(t);return ut(d.slice(i.length),li),i},tx=(t,s,a,i)=>{const d=ol(t,s),p=i(a,d),h=If(t,s,d);return Md(t,p.element,h),p},uO=(t,s,a)=>IT(t,s,(i,d)=>tx(t,d,i,a)),dO=(t,s)=>IT(t,s,(a,i)=>{const d=ol(t,i);return Md(t,a,d),a}),wl=(t,s)=>{const a=ko(t),i=ko(s),d=Ie(i,a),p=js(t,(h,w)=>!ho(s,w)||h!==s[w]).t;return{toRemove:d,toSet:p}},La=(t,s)=>{const{class:a,style:i,...d}=Ce(s),{toSet:p,toRemove:h}=wl(t.attributes,d),w=()=>{ut(h,he=>Q(s,he)),ld(s,p)},_=ar(s),{toSet:T,toRemove:A}=wl(t.styles,_),R=()=>{ut(A,he=>no(s,he)),us(s,T)},P=cg(s),L=Ie(P,t.classes),q=Ie(t.classes,P),te=()=>{As(s,q),mi(s,L)},ye=he=>{Qm(s,he)},ue=()=>{const he=t.domChildren;dO(s,he)},ae=()=>{const he=s,et=t.value.getOrUndefined();et!==Au(he)&&ig(he,et??"")};return w(),te(),R(),t.innerHtml.fold(ue,ye),ae(),s},FT=t=>{const s=me.fromTag(t.tag);ld(s,t.attributes),As(s,t.classes),us(s,t.styles),t.innerHtml.each(i=>Qm(s,i));const a=t.domChildren;return yu(s,a),t.value.each(i=>{ig(s,i)}),s},LT=(t,s)=>{try{const a=La(t,s);return E.some(a)}catch{return E.none()}},Ff=t=>t.innerHtml.isSome()&&t.domChildren.length>0,ib=(t,s)=>{const a=d=>Xa(d)===t.tag&&!Ff(t)&&!RT(d),i=s.filter(a).bind(d=>LT(t,d)).getOrThunk(()=>FT(t));return Xp(i,t.uid),i},y1=t=>{const s=dt(t,"behaviours").getOr({});return ve(ko(s),a=>{const i=s[a];return Tn(i)?[i.me]:[]})},v1=(t,s)=>MT(t,s),Ou=t=>{const s=y1(t);return v1(t,s)},lg=(t,s,a)=>{const i=g1(t),d=lO(t),p={"alloy.base.modification":d},h=s.length>0?u1(a,p,s,i):d;return tg(i,h)},ug=(t,s,a)=>{const i={"alloy.base.behaviour":h1(t)};return m1(a,t.eventOrder,s,i).getOrDie()},dg=(t,s)=>{const a=()=>he,i=Kt(Ul),d=Mo(J_(t)),p=Ou(t),h=K_(p),w=Y_(p),_=lg(d,h,w),T=ib(_,s),A=ug(d,h,w),R=Kt(d.components),P=et=>{i.set(et)},L=()=>{i.set(Dd(a))},q=()=>{const et=uc(T),Ne=ve(et,De=>i.get().getByDom(De).fold(()=>[],nn));R.set(Ne)},te=et=>{const Ne=w;return(it(Ne[et.name()])?Ne[et.name()]:()=>{throw new Error("Could not find "+et.name()+" in "+JSON.stringify(t,null,2))})()},ye=et=>it(w[et.name()]),ue=()=>d.apis,ae=et=>w[et]().map(Ne=>Ne.state.readState()).getOr("not enabled"),he={uid:t.uid,getSystem:i.get,config:te,hasConfigured:ye,spec:t,readState:ae,getApis:ue,connect:P,disconnect:L,element:T,syncComponents:q,components:R.get,events:A};return he},np=(t,s)=>{const a=dt(t,"components").getOr([]);return s.fold(()=>He(a,va),i=>He(a,(d,p)=>w1(d,ol(i,p))))},nx=(t,s)=>{const{events:a,...i}=i1(t),d=np(i,s),p={...i,events:{...Pf,...a},components:d};return xn.value(dg(p,s))},Ls=t=>{const s=me.fromText(t);return ox({element:s})},ox=t=>{const s=ba("external.component",qo([Le("element"),vo("uid")]),t),a=Kt(Dd()),i=w=>{a.set(w)},d=()=>{a.set(Dd(()=>h))},p=s.uid.getOrThunk(()=>Jp("external"));Xp(s.element,p);const h={uid:p,getSystem:a.get,config:E.none,hasConfigured:Nn,connect:i,disconnect:d,getApis:()=>({}),element:s.element,spec:t,readState:Y("No state"),syncComponents:oe,components:Y([]),events:{}};return Rd(h)},fg=Jp,sx=t=>ho(t,"uid"),w1=(t,s)=>eg(t).getOrThunk(()=>{const a=sx(t)?t:{uid:fg(""),...t};return nx(a,s).getOrDie()}),va=t=>w1(t,E.none()),pi=Rd;var rx=(t,s,a,i,d)=>t(a,i)?E.some(a):it(d)&&d(a)?E.none():s(a,i,d);const k1=(t,s,a)=>{let i=t.dom;const d=it(a)?a:Nn;for(;i.parentNode;){i=i.parentNode;const p=me.fromDom(i);if(s(p))return E.some(p);if(d(p))break}return E.none()},op=(t,s,a)=>rx((d,p)=>p(d),k1,t,s,a),HT=(t,s)=>{const a=d=>s(me.fromDom(d));return Ke(t.dom.childNodes,a).map(me.fromDom)},ax=(t,s)=>{const a=i=>{for(let d=0;d<i.childNodes.length;d++){const p=me.fromDom(i.childNodes[d]);if(s(p))return E.some(p);const h=a(i.childNodes[d]);if(h.isSome())return h}return E.none()};return a(t.dom)},P0=(t,s,a)=>op(t,s,a).isSome(),jc=(t,s,a)=>k1(t,i=>jr(i,s),a),_1=(t,s)=>HT(t,a=>jr(a,s)),Ks=(t,s)=>pf(s,t),Wl=(t,s,a)=>rx((d,p)=>jr(d,p),jc,t,s,a),mg="aria-controls",Lf=t=>op(t,a=>{if(!So(a))return!1;const i=ks(a,"id");return i!==void 0&&i.indexOf(mg)>-1}).bind(a=>{const i=ks(a,"id"),d=Do(a);return Ks(d,`[${mg}="${i}"]`)}),sp=()=>{const t=Ot(mg);return{id:t,link:i=>{_t(i,mg,t)},unlink:i=>{Q(i,mg)}}},rp=(t,s)=>Lf(s).exists(a=>Bd(t,a)),Bd=(t,s)=>P0(s,a=>Oo(a,t.element),Nn)||rp(t,s),cx="unknown";var ap;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(ap||(ap={}));const Hf=Kt({}),cp=(t,s)=>{const a=[],i=new Date().getTime();return{logEventCut:(d,p,h)=>{a.push({outcome:"cut",target:p,purpose:h})},logEventStopped:(d,p,h)=>{a.push({outcome:"stopped",target:p,purpose:h})},logNoParent:(d,p,h)=>{a.push({outcome:"no-parent",target:p,purpose:h})},logEventNoHandlers:(d,p)=>{a.push({outcome:"no-handlers-left",target:p})},logEventResponse:(d,p,h)=>{a.push({outcome:"response",purpose:h,target:p})},write:()=>{const d=new Date().getTime();Po(["mousemove","mouseover","mouseout",Mf()],t)||console.log(t,{event:t,time:d-i,target:s.dom,sequence:He(a,p=>Po(["cut","stopped","response"],p.outcome)?"{"+p.purpose+"} "+p.outcome+" at ("+Eu(p.target)+")":p.outcome)})}}},ix=(t,s,a)=>{switch(dt(Hf.get(),t).orThunk(()=>{const d=ko(Hf.get());return es(d,p=>t.indexOf(p)>-1?E.some(Hf.get()[p]):E.none())}).getOr(ap.NORMAL)){case ap.NORMAL:return a(I0());case ap.LOGGING:{const d=cp(t,s),p=a(d);return d.write(),p}case ap.STOP:return!0}},VT=["alloy/data/Fields","alloy/debugging/Debugging"],$0=()=>{const t=new Error;if(t.stack!==void 0){const s=t.stack.split(`
`);return Ke(s,a=>a.indexOf("alloy")>0&&!Ps(VT,i=>a.indexOf(i)>-1)).getOr(cx)}else return cx},jT={logEventCut:oe,logEventStopped:oe,logNoParent:oe,logEventNoHandlers:oe,logEventResponse:oe,write:oe},x1=(t,s,a)=>ix(t,s,a),I0=Y(jT),Uc=Y([Le("menu"),Le("selectedMenu")]),lx=Y([Le("item"),Le("selectedItem")]);Y(Ht(lx().concat(Uc())));const pg=Y(Ht(lx())),ux=di("initSize",[Le("numColumns"),Le("numRows")]),UT=()=>nc("markers",pg()),lb=()=>di("markers",[Le("backgroundMenu")].concat(Uc()).concat(lx())),Vf=t=>di("markers",He(t,Le)),C1=(t,s,a)=>($0(),Ir(s,s,a,ku(i=>xn.value((...d)=>i.apply(void 0,d))))),Qn=t=>C1("onHandler",t,yd(oe)),Wc=t=>C1("onKeyboardHandler",t,yd(E.none)),Zl=t=>C1("onHandler",t,ro()),F0=t=>C1("onKeyboardHandler",t,ro()),Bo=(t,s)=>Bs(t,Y(s)),ub=t=>Bs(t,tn),L0=Y(ux),Ar=(t,s,a,i,d,p,h,w=!1)=>({x:t,y:s,bubble:a,direction:i,placement:d,restriction:p,label:`${h}-${d}`,alwaysFit:w}),Du=S.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),jf=(t,s,a,i,d,p,h,w,_)=>t.fold(s,a,i,d,p,h,w,_),H0=(t,s,a,i)=>t.fold(s,s,i,i,s,i,a,a),S1=(t,s,a,i)=>t.fold(s,i,s,i,a,a,s,i),db=Du.southeast,V0=Du.southwest,T1=Du.northeast,Ru=Du.northwest,Nd=Du.south,WT=Du.north,_e=Du.east,fb=Du.west,gg=(t,s,a,i)=>{const d=t+s;return d>i?a:d<a?i:d},gi=(t,s,a)=>Math.min(Math.max(t,s),a),j0=(t,s)=>{switch(s){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},bs=(t,s)=>Mn(["left","right","top","bottom"],a=>dt(s,a).map(i=>j0(t,i))),E1=(t,s,a)=>{const i=(_,T)=>s[_].map(A=>{const R=_==="top"||_==="bottom",P=R?a.top:a.left,q=(_==="left"||_==="top"?Math.max:Math.min)(A,T)+P;return R?gi(q,t.y,t.bottom):gi(q,t.x,t.right)}).getOr(T),d=i("left",t.x),p=i("top",t.y),h=i("right",t.right),w=i("bottom",t.bottom);return gs(d,p,h-d,w-p)},Pd="layout",U0=t=>t.x,z1=(t,s)=>t.x+t.width/2-s.width/2,W0=(t,s)=>t.x+t.width-s.width,mb=(t,s)=>t.y-s.height,hg=t=>t.y+t.height,Z0=(t,s)=>t.y+t.height/2-s.height/2,ZT=t=>t.x+t.width,sc=(t,s)=>t.x-s.width,Or=(t,s,a)=>Ar(U0(t),hg(t),a.southeast(),db(),"southeast",bs(t,{left:1,top:3}),Pd),aa=(t,s,a)=>Ar(W0(t,s),hg(t),a.southwest(),V0(),"southwest",bs(t,{right:0,top:3}),Pd),rc=(t,s,a)=>Ar(U0(t),mb(t,s),a.northeast(),T1(),"northeast",bs(t,{left:1,bottom:2}),Pd),wa=(t,s,a)=>Ar(W0(t,s),mb(t,s),a.northwest(),Ru(),"northwest",bs(t,{right:0,bottom:2}),Pd),Ha=(t,s,a)=>Ar(z1(t,s),mb(t,s),a.north(),WT(),"north",bs(t,{bottom:2}),Pd),Dr=(t,s,a)=>Ar(z1(t,s),hg(t),a.south(),Nd(),"south",bs(t,{top:3}),Pd),q0=(t,s,a)=>Ar(ZT(t),Z0(t,s),a.east(),_e(),"east",bs(t,{left:0}),Pd),pb=(t,s,a)=>Ar(sc(t,s),Z0(t,s),a.west(),fb(),"west",bs(t,{right:1}),Pd),G0=()=>[Or,aa,rc,wa,Dr,Ha,q0,pb],gb=()=>[aa,Or,wa,rc,Dr,Ha,q0,pb],K0=()=>[rc,wa,Or,aa,Ha,Dr],dx=()=>[wa,rc,aa,Or,Ha,Dr],A1=()=>[Or,aa,rc,wa,Dr,Ha],Y0=()=>[aa,Or,wa,rc,Dr,Ha],qT=(t,s)=>s.universal?t:Hn(t,a=>Po(s.channels,a));var fx=Object.freeze({__proto__:null,events:t=>Go([Pe(Jm(),(s,a)=>{const i=t.channels,d=ko(i),p=a,h=qT(d,p);ut(h,w=>{const _=i[w],T=_.schema,A=ba("channel["+w+`] data
Receiver: `+Eu(s.element),T,p.data);_.onReceive(s,A)})})])}),KT=[nc("channels",Fl(xn.value,qo([Zl("onReceive"),be("schema",Zs())])))];const bg=(t,s,a)=>yl(i=>{a(i,t,s)}),O1=(t,s,a)=>S0((i,d)=>{a(i,t,s)}),mx=(t,s,a,i,d,p)=>{const h=qo(t),w=ya(s,[_u("config",t)]);return ql(h,w,s,a,i,d,p)},fO=(t,s,a,i,d,p)=>{const h=t,w=ya(s,[gl("config",t)]);return ql(h,w,s,a,i,d,p)},yc=(t,s,a)=>rb((d,...p)=>{const h=[d].concat(p);return d.config({name:Y(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+a)},w=>{const _=Array.prototype.slice.call(h,1);return s.apply(void 0,[d,w.config,w.state].concat(_))})},a,s),mO=t=>({key:t,value:void 0}),ql=(t,s,a,i,d,p,h)=>{const w=R=>Jr(R,a)?R[a]():E.none(),_=Jn(d,(R,P)=>yc(a,R,P)),A={...Jn(p,(R,P)=>l1(R,P)),..._,revoke:yn(mO,a),config:R=>{const P=ba(a+"-config",t,R);return{key:a,value:{config:P,me:A,configAsRaw:_s(()=>ba(a+"-config",t,R)),initialConfig:R,state:h}}},schema:Y(s),exhibit:(R,P)=>Bi(w(R),dt(i,"exhibit"),(L,q)=>q(P,L.config,L.state)).getOrThunk(()=>Hc({})),name:Y(a),handlers:R=>w(R).map(P=>dt(i,"events").getOr(()=>({}))(P.config,P.state)).getOr({})};return A},ct=t=>Vt(t),X0=qo([Le("fields"),Le("name"),be("active",{}),be("apis",{}),be("state",vl),be("extra",{})]),Rr=t=>{const s=ba("Creating behaviour: "+t.name,X0,t);return mx(s.fields,s.name,s.active,s.apis,s.extra,s.state)},px=qo([Le("branchKey"),Le("branches"),Le("name"),be("active",{}),be("apis",{}),be("state",vl),be("extra",{})]),D1=t=>{const s=ba("Creating behaviour: "+t.name,px,t);return fO(Wn(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},J0=Y(void 0),vc=Rr({fields:KT,name:"receiving",active:fx});var gx=Object.freeze({__proto__:null,exhibit:(t,s)=>Hc({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const wc=(t,s=!1)=>t.dom.focus({preventScroll:s}),yg=t=>t.dom.blur(),hb=t=>{const s=Do(t).dom;return t.dom===s.activeElement},Mu=(t=Hp())=>E.from(t.dom.activeElement).map(me.fromDom),kl=t=>Mu(Do(t)).filter(s=>t.dom.contains(s.dom)),Tt=(t,s)=>{const a=Do(s),i=Mu(a).bind(p=>{const h=w=>Oo(p,w);return h(s)?E.some(s):ax(s,h)}),d=t(s);return i.each(p=>{Mu(a).filter(h=>Oo(h,p)).fold(()=>{wc(p)},oe)}),d},hi=(t,s,a,i,d)=>{const p=h=>h+"px";return{position:t,left:s.map(p),top:a.map(p),right:i.map(p),bottom:d.map(p)}},hx=t=>({...t,position:E.some(t.position)}),bx=(t,s)=>{Xe(t,hx(s))},Q0=S.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),yx=(t,s,a,i,d,p)=>{const h=s.rect,w=h.x-a,_=h.y-i,T=h.width,A=h.height,R=d-(w+T),P=p-(_+A),L=E.some(w),q=E.some(_),te=E.some(R),ye=E.some(P),ue=E.none();return jf(s.direction,()=>hi(t,L,q,ue,ue),()=>hi(t,ue,q,te,ue),()=>hi(t,L,ue,ue,ye),()=>hi(t,ue,ue,te,ye),()=>hi(t,L,q,ue,ue),()=>hi(t,L,ue,ue,ye),()=>hi(t,L,q,ue,ue),()=>hi(t,ue,q,te,ue))},ew=(t,s)=>t.fold(()=>{const a=s.rect;return hi("absolute",E.some(a.x),E.some(a.y),E.none(),E.none())},(a,i,d,p)=>yx("absolute",s,a,i,d,p),(a,i,d,p)=>yx("fixed",s,a,i,d,p)),tw=(t,s)=>{const a=yn(Fm,s),i=t.fold(a,a,()=>{const h=Qa();return Fm(s).translate(-h.left,-h.top)}),d=mc(s),p=ud(s);return gs(i.left,i.top,d,p)},XT=(t,s)=>s.fold(()=>t.fold(Wr,Wr,gs),a=>t.fold(Y(a),Y(a),()=>{const i=nw(t,a.x,a.y);return gs(i.left,i.top,a.width,a.height)})),nw=(t,s,a)=>{const i=xo(s,a),d=()=>{const p=Qa();return i.translate(-p.left,-p.top)};return t.fold(Y(i),Y(i),d)},JT=(t,s,a,i)=>t.fold(s,a,i);Q0.none;const Va=Q0.relative,bb=Q0.fixed,QT=(t,s)=>({anchorBox:t,origin:s}),eE=(t,s)=>QT(t,s),ow="data-alloy-placement",tE=(t,s)=>{_t(t,ow,s)},vx=t=>M(t,ow),wx=t=>Q(t,ow),yb=S.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),kx=(t,s)=>{const{x:a,y:i,right:d,bottom:p}=s,{x:h,y:w,right:_,bottom:T,width:A,height:R}=t,P=h>=a&&h<=d,L=w>=i&&w<=p,q=P&&L,te=_<=d&&_>=a,ye=T<=p&&T>=i,ue=te&&ye,ae=Math.min(A,h>=a?d-h:_-a),he=Math.min(R,w>=i?p-w:T-i);return{originInBounds:q,sizeInBounds:ue,visibleW:ae,visibleH:he}},sw=(t,s)=>{const{x:a,y:i,right:d,bottom:p}=s,{x:h,y:w,width:_,height:T}=t,A=Math.max(a,d-_),R=Math.max(i,p-T),P=gi(h,a,A),L=gi(w,i,R),q=Math.min(P+_,d)-P,te=Math.min(L+T,p)-L;return gs(P,L,q,te)},ip=(t,s,a)=>{const i=Y(s.bottom-a.y),d=Y(a.bottom-s.y),p=H0(t,d,d,i),h=Y(s.right-a.x),w=Y(a.right-s.x);return{maxWidth:S1(t,w,w,h),maxHeight:p}},nE=(t,s,a,i)=>{const d=t.bubble,p=d.offset,h=E1(i,t.restriction,p),w=t.x+p.left,_=t.y+p.top,T=gs(w,_,s,a),{originInBounds:A,sizeInBounds:R,visibleW:P,visibleH:L}=kx(T,h),q=A&&R,te=q?T:sw(T,h),ye=te.width>0&&te.height>0,{maxWidth:ue,maxHeight:ae}=ip(t.direction,te,i),he={rect:te,maxHeight:ae,maxWidth:ue,direction:t.direction,placement:t.placement,classes:{on:d.classesOn,off:d.classesOff},layout:t.label,testY:_};return q||t.alwaysFit?yb.fit(he):yb.nofit(he,P,L,ye)},oE=(t,s,a,i,d,p)=>{const h=i.width,w=i.height,_=(A,R,P,L,q)=>{const te=A(a,i,d,t,p),ye=nE(te,h,w,p);return ye.fold(Y(ye),(ue,ae,he,et)=>(q===et?he>L||ae>P:!q&&et)?ye:yb.nofit(R,P,L,q))};return Qe(s,(A,R)=>{const P=yn(_,R);return A.fold(Y(A),P)},yb.nofit({rect:a,maxHeight:i.height,maxWidth:i.width,direction:db(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:a.y},-1,-1,!1)).fold(tn,tn)},rw=t=>{const s=Kt(E.none()),a=()=>s.get().each(t);return{clear:()=>{a(),s.set(E.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:w=>{a(),s.set(E.some(w))}}},sE=()=>rw(t=>t.destroy()),$d=()=>rw(t=>t.unbind()),Fn=()=>{const t=rw(oe);return{...t,on:a=>t.get().each(a)}},aw=Et,ja=(t,s,a)=>_f(t,s,aw,a),R1=(t,s,a)=>Oh(t,s,aw,a),cw=Ah,iw=["top","bottom","right","left"],M1="data-alloy-transition-timer",_x=(t,s)=>ra(t,s.classes),rE=(t,s,a)=>a.exists(i=>{const d=t.mode;return d==="all"?!0:i[d]!==s[d]}),aE=(t,s)=>{const a=i=>parseFloat(i).toFixed(3);return ts(s,(i,d)=>{const p=t[d].map(a),h=i.map(a);return!Qc(p,h)}).isSome()},vg=t=>{const s=p=>{const w=Vo(t,p).split(/\s*,\s*/);return Hn(w,fa)},a=p=>{if(Me(p)&&/^[\d.]+/.test(p)){const h=parseFloat(p);return ti(p,"ms")?h:h*1e3}else return 0},i=s("transition-delay"),d=s("transition-duration");return Qe(d,(p,h,w)=>{const _=a(i[w])+a(h);return Math.max(p,_)},0)},xx=(t,s)=>{const a=$d(),i=$d();let d;const p=T=>{var A;const R=(A=T.raw.pseudoElement)!==null&&A!==void 0?A:"";return Oo(T.target,t)&&Ts(R)&&Po(iw,T.raw.propertyName)},h=T=>{if(io(T)||p(T)){a.clear(),i.clear();const A=T==null?void 0:T.raw.type;(io(A)||A===Ym())&&(clearTimeout(d),Q(t,M1),mi(t,s.classes))}},w=ja(t,y0(),T=>{p(T)&&(w.unbind(),a.set(ja(t,Ym(),h)),i.set(ja(t,CT(),h)))}),_=vg(t);requestAnimationFrame(()=>{d=setTimeout(h,_+17),_t(t,M1,d)})},pO=(t,s)=>{As(t,s.classes),M(t,M1).each(a=>{clearTimeout(parseInt(a,10)),Q(t,M1)}),xx(t,s)},Uf=(t,s,a,i,d,p)=>{const h=rE(i,d,p);if(h||_x(t,i)){Mt(t,"position",a.position);const w=tw(s,t),_=ew(s,{...d,rect:w}),T=Mn(iw,A=>_[A]);aE(a,T)&&(Xe(t,T),h&&pO(t,i),si(t))}else mi(t,i.classes)},cE=t=>({width:mc(t),height:ud(t)}),wg=(t,s,a,i)=>{no(s,"max-height"),no(s,"max-width");const d=cE(s);return oE(s,i.preference,t,d,a,i.bounds)},iE=(t,s)=>{const a=s.classes;mi(t,a.off),As(t,a.on)},lw=(t,s,a)=>{const i=a.maxHeightFunction;i(t,s.maxHeight)},Cx=(t,s,a)=>{const i=a.maxWidthFunction;i(t,s.maxWidth)},lp=(t,s,a)=>{const i=ew(a.origin,s);a.transition.each(d=>{Uf(t,a.origin,i,d,s,a.lastPlacement)}),bx(t,i)},lE=(t,s)=>{tE(t,s.placement)},Sx=(t,s)=>{$y(t,Math.floor(s))},Tx=Y((t,s)=>{Sx(t,s),us(t,{"overflow-x":"hidden","overflow-y":"auto"})}),kg=Y((t,s)=>{Sx(t,s)}),Ex=(t,s,a)=>t[s]===void 0?a:t[s],uw=(t,s,a,i,d,p,h,w)=>{const _=Ex(h,"maxHeightFunction",Tx()),T=Ex(h,"maxWidthFunction",oe),A=t.anchorBox,R=t.origin,P={bounds:XT(R,p),origin:R,preference:i,maxHeightFunction:_,maxWidthFunction:T,lastPlacement:d,transition:w};return uE(A,s,a,P)},uE=(t,s,a,i)=>{const d=wg(t,s,a,i);return lp(s,d,i),lE(s,d),iE(s,d),lw(s,d,i),Cx(s,d,i),{layout:d.layout,placement:d.placement}},zx=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Bu=(t,s,a,i=1)=>{const d=t*i,p=s*i,h=_=>dt(a,_).getOr([]),w=(_,T,A)=>{const R=Ie(zx,A);return{offset:xo(_,T),classesOn:ve(A,h),classesOff:ve(R,h)}};return{southeast:()=>w(-t,s,["top","alignLeft"]),southwest:()=>w(t,s,["top","alignRight"]),south:()=>w(-t/2,s,["top","alignCentre"]),northeast:()=>w(-t,-s,["bottom","alignLeft"]),northwest:()=>w(t,-s,["bottom","alignRight"]),north:()=>w(-t/2,-s,["bottom","alignCentre"]),east:()=>w(t,-s/2,["valignCentre","left"]),west:()=>w(-t,-s/2,["valignCentre","right"]),insetNortheast:()=>w(d,p,["top","alignLeft","inset"]),insetNorthwest:()=>w(-d,p,["top","alignRight","inset"]),insetNorth:()=>w(-d/2,p,["top","alignCentre","inset"]),insetSoutheast:()=>w(d,-p,["bottom","alignLeft","inset"]),insetSouthwest:()=>w(-d,-p,["bottom","alignRight","inset"]),insetSouth:()=>w(-d/2,-p,["bottom","alignCentre","inset"]),insetEast:()=>w(-d,-p/2,["valignCentre","right","inset"]),insetWest:()=>w(d,-p/2,["valignCentre","left","inset"])}},vb=()=>Bu(0,0,{}),wb=tn,B1=(t,s)=>a=>kb(a)==="rtl"?s:t,kb=t=>Vo(t,"direction")==="rtl"?"rtl":"ltr";var Gi;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(Gi||(Gi={}));const _g="data-alloy-vertical-dir",_b=t=>P0(t,s=>So(s)&&ks(s,"data-alloy-vertical-dir")===Gi.BottomToTop),Wf=()=>ya("layouts",[Le("onLtr"),Le("onRtl"),vo("onBottomLtr"),vo("onBottomRtl")]),N1=(t,s,a,i,d,p,h)=>{const w=h.map(_b).getOr(!1),_=s.layouts.map(L=>L.onLtr(t)),T=s.layouts.map(L=>L.onRtl(t)),A=w?s.layouts.bind(L=>L.onBottomLtr.map(q=>q(t))).or(_).getOr(d):_.getOr(a),R=w?s.layouts.bind(L=>L.onBottomRtl.map(q=>q(t))).or(T).getOr(p):T.getOr(i);return B1(A,R)(t)},dE=(t,s,a)=>{const i=s.hotspot,d=tw(a,i.element),p=N1(t.element,s,A1(),Y0(),K0(),dx(),E.some(s.hotspot.element));return E.some(wb({anchorBox:d,bubble:s.bubble.getOr(vb()),overrides:s.overrides,layouts:p}))};var fE=[Le("hotspot"),vo("bubble"),be("overrides",{}),Wf(),Bo("placement",dE)];const Ax=(t,s,a)=>{const i=nw(a,s.x,s.y),d=gs(i.left,i.top,s.width,s.height),p=N1(t.element,s,G0(),gb(),G0(),gb(),E.none());return E.some(wb({anchorBox:d,bubble:s.bubble,overrides:s.overrides,layouts:p}))};var mE=[Le("x"),Le("y"),be("height",0),be("width",0),be("bubble",vb()),be("overrides",{}),Wf(),Bo("placement",Ax)];const dw=S.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),pE=t=>t.fold(tn,(s,a,i)=>s.translate(-a,-i)),gE=t=>t.fold(tn,tn),Ox=t=>Qe(t,(s,a)=>s.translate(a.left,a.top),xo(0,0)),hE=t=>{const s=He(t,pE);return Ox(s)},Dx=t=>{const s=He(t,gE);return Ox(s)},bE=dw.screen,P1=dw.absolute,yE=(t,s,a)=>{const i=Ml(a.root).dom,d=p=>{const h=Da(p),w=Da(t.element);return Oo(h,w)};return E.from(i.frameElement).map(me.fromDom).filter(d).map(Ja)},Rx=(t,s,a)=>{const i=Da(t.element),d=Qa(i),p=yE(t,s,a).getOr(d);return P1(p,d.left,d.top)},xg=(t,s,a,i)=>{const d=bE(xo(t,s));return E.some(Vp(d,a,i))},fw=(t,s,a,i,d)=>t.map(p=>{const h=[s,p.point],w=JT(i,()=>Dx(h),()=>Dx(h),()=>hE(h)),_=Cf(w.left,w.top,p.width,p.height),T=a.showAbove?K0():A1(),A=a.showAbove?dx():Y0(),R=N1(d,a,T,A,T,A,E.none());return wb({anchorBox:_,bubble:a.bubble.getOr(vb()),overrides:a.overrides,layouts:R})}),mw=(t,s,a)=>{const i=Rx(t,a,s);return s.node.filter(rr).bind(d=>{const p=d.dom.getBoundingClientRect(),h=xg(p.left,p.top,p.width,p.height),w=s.node.getOr(t.element);return fw(h,i,s,a,w)})};var pw=[Le("node"),Le("root"),vo("bubble"),Wf(),be("overrides",{}),be("showAbove",!1),Bo("placement",mw)];const Mx="\uFEFF",gw=" ",$1={create:(t,s,a,i)=>({start:t,soffset:s,finish:a,foffset:i})},I1=S.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),wE=(t,s,a,i)=>t.fold(s,a,i),hw=t=>t.fold(tn,tn,tn),Bx=I1.before,kE=I1.on,bw=I1.after,_E={before:Bx,on:kE,after:bw,cata:wE,getStart:hw},Cg=S.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),xE=t=>Cg.exact(t.start,t.soffset,t.finish,t.foffset),yw=t=>t.match({domRange:s=>me.fromDom(s.startContainer),relative:(s,a)=>_E.getStart(s),exact:(s,a,i,d)=>s}),CE=Cg.domRange,SE=Cg.relative,TE=Cg.exact,Nx=t=>{const s=yw(t);return Ml(s)},EE=$1.create,Zr={domRange:CE,relative:SE,exact:TE,exactFromRange:xE,getWin:Nx,range:EE},gO=(t,s)=>{s.fold(a=>{t.setStartBefore(a.dom)},(a,i)=>{t.setStart(a.dom,i)},a=>{t.setStartAfter(a.dom)})},Sg=(t,s)=>{s.fold(a=>{t.setEndBefore(a.dom)},(a,i)=>{t.setEnd(a.dom,i)},a=>{t.setEndAfter(a.dom)})},F1=(t,s,a)=>{const i=t.document.createRange();return gO(i,s),Sg(i,a),i},Px=(t,s,a,i,d)=>{const p=t.document.createRange();return p.setStart(s.dom,a),p.setEnd(i.dom,d),p},vw=t=>({left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),$x=t=>{const s=t.getClientRects(),a=s.length>0?s[0]:t.getBoundingClientRect();return a.width>0||a.height>0?E.some(a).map(vw):E.none()},Ix=t=>{const s=t.getBoundingClientRect();return s.width>0||s.height>0?E.some(s).map(vw):E.none()},up=S.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),xb=(t,s,a)=>s(me.fromDom(a.startContainer),a.startOffset,me.fromDom(a.endContainer),a.endOffset),zE=(t,s)=>s.match({domRange:a=>({ltr:Y(a),rtl:E.none}),relative:(a,i)=>({ltr:_s(()=>F1(t,a,i)),rtl:_s(()=>E.some(F1(t,i,a)))}),exact:(a,i,d,p)=>({ltr:_s(()=>Px(t,a,i,d,p)),rtl:_s(()=>E.some(Px(t,d,p,a,i)))})}),AE=(t,s)=>{const a=s.ltr();return a.collapsed?s.rtl().filter(d=>d.collapsed===!1).map(d=>up.rtl(me.fromDom(d.endContainer),d.endOffset,me.fromDom(d.startContainer),d.startOffset)).getOrThunk(()=>xb(t,up.ltr,a)):xb(t,up.ltr,a)},Cb=(t,s)=>{const a=zE(t,s);return AE(t,a)},ww=(t,s)=>Cb(t,s).match({ltr:(i,d,p,h)=>{const w=t.document.createRange();return w.setStart(i.dom,d),w.setEnd(p.dom,h),w},rtl:(i,d,p,h)=>{const w=t.document.createRange();return w.setStart(p.dom,h),w.setEnd(i.dom,d),w}});up.ltr,up.rtl;const Fx=(t,s,a)=>Hn($p(t,a),s),Mr=(t,s)=>Py(s,t),Lx=(t,s,a,i)=>{const p=Da(t).dom.createRange();return p.setStart(t.dom,s),p.setEnd(a.dom,i),p},kw=(t,s,a,i)=>{const d=Lx(t,s,a,i),p=Oo(t,a)&&s===i;return d.collapsed&&!p},hO=t=>E.from(t.getSelection()),Tg=t=>{if(t.rangeCount>0){const s=t.getRangeAt(0),a=t.getRangeAt(t.rangeCount-1);return E.some($1.create(me.fromDom(s.startContainer),s.startOffset,me.fromDom(a.endContainer),a.endOffset))}else return E.none()},OE=t=>{if(t.anchorNode===null||t.focusNode===null)return Tg(t);{const s=me.fromDom(t.anchorNode),a=me.fromDom(t.focusNode);return kw(s,t.anchorOffset,a,t.focusOffset)?E.some($1.create(s,t.anchorOffset,a,t.focusOffset)):Tg(t)}},Hx=t=>hO(t).filter(s=>s.rangeCount>0).bind(OE),_w=(t,s)=>{const a=ww(t,s);return $x(a)},Sb=(t,s)=>{const a=ww(t,s);return Ix(a)},Eg=((t,s)=>{const a=p=>{if(!t(p))throw new Error("Can only get "+s+" value of a "+s+" node");return i(p).getOr("")},i=p=>t(p)?E.from(p.dom.nodeValue):E.none();return{get:a,getOption:i,set:(p,h)=>{if(!t(p))throw new Error("Can only set raw "+s+" value of a "+s+" node");p.dom.nodeValue=h}}})(Aa,"text"),DE=t=>Eg.get(t),Zf=(t,s)=>({element:t,offset:s}),Vx=(t,s)=>{const a=uc(t);if(a.length===0)return Zf(t,s);if(s<a.length)return Zf(a[s],0);{const i=a[a.length-1],d=Aa(i)?DE(i).length:uc(i).length;return Zf(i,d)}},qf=(t,s)=>Aa(t)?Zf(t,s):Vx(t,s),Gf=t=>t.foffset!==void 0,xw=(t,s)=>s.getSelection.getOrThunk(()=>()=>Hx(t))().map(i=>{if(Gf(i)){const d=qf(i.start,i.soffset),p=qf(i.finish,i.foffset);return Zr.range(d.element,d.offset,p.element,p.offset)}else return i}),jx=(t,s,a)=>{const i=Ml(s.root).dom,d=Rx(t,a,s),p=xw(i,s).bind(_=>{if(Gf(_))return Sb(i,Zr.exactFromRange(_)).orThunk(()=>{const A=me.fromText(Mx);Mc(_.start,A);const R=_w(i,Zr.exact(A,0,A,1));return li(A),R}).bind(A=>xg(A.left,A.top,A.width,A.height));{const T=Jn(_,R=>R.dom.getBoundingClientRect()),A={left:Math.min(T.firstCell.left,T.lastCell.left),right:Math.max(T.firstCell.right,T.lastCell.right),top:Math.min(T.firstCell.top,T.lastCell.top),bottom:Math.max(T.firstCell.bottom,T.lastCell.bottom)};return xg(A.left,A.top,A.right-A.left,A.bottom-A.top)}}),w=xw(i,s).bind(_=>Gf(_)?So(_.start)?E.some(_.start):oi(_.start):E.some(_.firstCell)).getOr(t.element);return fw(p,d,s,a,w)};var bO=[vo("getSelection"),Le("root"),vo("bubble"),Wf(),be("overrides",{}),be("showAbove",!1),Bo("placement",jx)];const Cw="link-layout",Kf=t=>t.x+t.width,Nu=(t,s)=>t.x-s.width,Tb=(t,s)=>t.y-s.height+t.height,zg=t=>t.y,Sw=(t,s,a)=>Ar(Kf(t),zg(t),a.southeast(),db(),"southeast",bs(t,{left:0,top:2}),Cw),Id=(t,s,a)=>Ar(Nu(t,s),zg(t),a.southwest(),V0(),"southwest",bs(t,{right:1,top:2}),Cw),Gl=(t,s,a)=>Ar(Kf(t),Tb(t,s),a.northeast(),T1(),"northeast",bs(t,{left:0,bottom:3}),Cw),Eb=(t,s,a)=>Ar(Nu(t,s),Tb(t,s),a.northwest(),Ru(),"northwest",bs(t,{right:1,bottom:3}),Cw),H1=()=>[Sw,Id,Gl,Eb],zb=()=>[Id,Sw,Eb,Gl],Tw=(t,s,a)=>{const i=tw(a,s.item.element),d=N1(t.element,s,H1(),zb(),H1(),zb(),E.none());return E.some(wb({anchorBox:i,bubble:vb(),overrides:s.overrides,layouts:d}))};var Ag=[Le("item"),Wf(),be("overrides",{}),Bo("placement",Tw)],Ab=Wn("type",{selection:bO,node:pw,hotspot:fE,submenu:Ag,makeshift:mE});const Ew=[bc("classes",Er),$a("mode","all",["all","layout","placement"])],Ux=[be("useFixed",Nn),vo("getBounds")],Yf=[nc("anchor",Ab),ya("transition",Ew)],V1=()=>{const t=document.documentElement;return bb(0,0,t.clientWidth,t.clientHeight)},RE=t=>{const s=Ja(t.element),a=t.element.dom.getBoundingClientRect();return Va(s.left,s.top,a.width,a.height)},Wx=(t,s,a,i,d,p)=>{const h=eE(s.anchorBox,t);return uw(h,i.element,s.bubble,s.layouts,d,a,s.overrides,p)},zw=(t,s,a,i,d)=>{const p=E.none();Ys(t,s,a,i,d,p)},Ys=(t,s,a,i,d,p)=>{const h=ba("placement.info",Ht(Yf),d),w=h.anchor,_=i.element,T=a.get(i.uid);Tt(()=>{Mt(_,"position","fixed");const A=$s(_,"visibility");Mt(_,"visibility","hidden");const R=s.useFixed()?V1():RE(t);w.placement(t,w,R).each(P=>{const L=p.orThunk(()=>s.getBounds.map(Qo)),q=Wx(R,P,L,i,T,h.transition);a.set(i.uid,q)}),A.fold(()=>{no(_,"visibility")},P=>{Mt(_,"visibility",P)}),$s(_,"left").isNone()&&$s(_,"top").isNone()&&$s(_,"right").isNone()&&$s(_,"bottom").isNone()&&za($s(_,"position"),"fixed")&&no(_,"position")},_)};var Zx=Object.freeze({__proto__:null,position:zw,positionWithinBounds:Ys,getMode:(t,s,a)=>s.useFixed()?"fixed":"absolute",reset:(t,s,a,i)=>{const d=i.element;ut(["position","left","right","top","bottom"],p=>no(d,p)),wx(d),a.clear(i.uid)}}),Xf=Object.freeze({__proto__:null,init:()=>{let t={};return Lc({readState:()=>t,clear:d=>{Tn(d)?delete t[d]:t={}},set:(d,p)=>{t[d]=p},get:d=>dt(t,d)})}});const ka=Rr({fields:Ux,name:"positioning",active:gx,apis:Zx,state:Xf}),Og=t=>t.getSystem().isConnected(),Ob=t=>{Gn(t,Bf());const s=t.components();ut(s,Ob)},Dg=t=>{const s=t.components();ut(s,Dg),Gn(t,fi())},Aw=(t,s)=>{t.getSystem().addToWorld(s),rr(t.element)&&Dg(s)},Rg=t=>{Ob(t),t.getSystem().removeFromWorld(t)},dp=(t,s)=>{gc(t.element,s.element)},Kl=t=>{ut(t.components(),s=>li(s.element)),xf(t.element),t.syncComponents()},ME=(t,s,a)=>{const i=t.components();Kl(t);const d=a(s),p=Ie(i,d);ut(p,h=>{Ob(h),t.getSystem().removeFromWorld(h)}),ut(d,h=>{Og(h)?dp(t,h):(t.getSystem().addToWorld(h),dp(t,h),rr(t.element)&&Dg(h))}),t.syncComponents()},BE=(t,s,a)=>{const i=t.components(),d=ve(s,w=>eg(w).toArray());ut(i,w=>{Po(d,w)||Rg(w)});const p=a(s),h=Ie(i,p);ut(h,w=>{Og(w)&&Rg(w)}),ut(p,w=>{Og(w)||Aw(t,w)}),t.syncComponents()},Jf=(t,s)=>{Mg(t,s,gc)},Mg=(t,s,a)=>{t.getSystem().addToWorld(s),a(t.element,s.element),rr(t.element)&&Dg(s),t.syncComponents()},U1=t=>{Ob(t),li(t.element),t.getSystem().removeFromWorld(t)},Pu=t=>{const s=lc(t.element).bind(a=>t.getSystem().getByDom(a).toOptional());U1(t),s.each(a=>{a.syncComponents()})},Ow=t=>{const s=t.components();ut(s,U1),xf(t.element),t.syncComponents()},qr=(t,s)=>{_l(t,s,gc)},Ld=(t,s)=>{_l(t,s,$m)},_l=(t,s,a)=>{a(t,s.element);const i=uc(s.element);ut(i,d=>{s.getByDom(d).each(Dg)})},Bg=t=>{const s=uc(t.element);ut(s,a=>{t.getByDom(a).each(Ob)}),li(t.element)},Ua=(t,s,a,i)=>{a.get().each(h=>{Ow(t)});const d=s.getAttachPoint(t);Jf(d,t);const p=t.getSystem().build(i);return Jf(t,p),a.set(p),p},kc=(t,s,a,i)=>{const d=Ua(t,s,a,i);return s.onOpen(t,d),d},ac=(t,s,a,i)=>a.get().map(()=>Ua(t,s,a,i)),xl=(t,s,a,i,d)=>{Db(t,s),kc(t,s,a,i),d(),Rb(t,s)},W1=(t,s,a)=>{a.get().each(i=>{Ow(t),Pu(t),s.onClose(t,i),a.clear()})},bi=(t,s,a)=>a.isOpen(),fp=(t,s,a,i)=>bi(t,s,a)&&a.get().exists(d=>s.isPartOf(t,d,i)),Dw=(t,s,a)=>a.get(),NE=(t,s,a,i)=>{$s(t.element,s).fold(()=>{Q(t.element,a)},d=>{_t(t.element,a,d)}),Mt(t.element,s,i)},qx=(t,s,a)=>{M(t.element,a).fold(()=>no(t.element,s),i=>Mt(t.element,s,i))},Db=(t,s,a)=>{const i=s.getAttachPoint(t);Mt(t.element,"position",ka.getMode(i)),NE(t,"visibility",s.cloakVisibilityAttr,"hidden")},Gx=t=>Ps(["top","left","right","bottom"],s=>$s(t,s).isSome()),Rb=(t,s,a)=>{Gx(t.element)||no(t.element,"position"),qx(t,"visibility",s.cloakVisibilityAttr)};var Z1=Object.freeze({__proto__:null,cloak:Db,decloak:Rb,open:kc,openWhileCloaked:xl,close:W1,isOpen:bi,isPartOf:fp,getState:Dw,setContent:ac}),Kx=Object.freeze({__proto__:null,events:(t,s)=>Go([Pe(Xh(),(a,i)=>{W1(a,t,s)})])}),$E=[Qn("onOpen"),Qn("onClose"),Le("isPartOf"),Le("getAttachPoint"),be("cloakVisibilityAttr","data-precloak-visibility")],Yx=Object.freeze({__proto__:null,init:()=>{const t=Fn(),s=Y("not-implemented");return Lc({readState:s,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})}});const Kn=Rr({fields:$E,name:"sandboxing",active:Kx,apis:Z1,state:Yx}),Yl=Y("dismiss.popups"),mp=Y("reposition.popups"),Rw=Y("mouse.released"),Xx=qo([be("isExtraPart",Nn),ya("fireEventInstead",[be("event",Nf())])]),Mb=t=>{const s=ba("Dismissal",Xx,t);return{[Yl()]:{schema:qo([Le("target")]),onReceive:(a,i)=>{Kn.isOpen(a)&&(Kn.isPartOf(a,i.target)||s.isExtraPart(a,i.target)||s.fireEventInstead.fold(()=>Kn.close(a),p=>Gn(a,p.event)))}}}},IE=qo([ya("fireEventInstead",[be("event",U_())]),Wi("doReposition")]),Ng=t=>{const s=ba("Reposition",IE,t);return{[mp()]:{onReceive:a=>{Kn.isOpen(a)&&s.fireEventInstead.fold(()=>s.doReposition(a),i=>Gn(a,i.event))}}}},q1=(t,s,a)=>{s.store.manager.onLoad(t,s,a)},yi=(t,s,a)=>{s.store.manager.onUnload(t,s,a)};var Qf=Object.freeze({__proto__:null,onLoad:q1,onUnload:yi,setValue:(t,s,a,i)=>{s.store.manager.setValue(t,s,a,i)},getValue:(t,s,a)=>s.store.manager.getValue(t,s,a),getState:(t,s,a)=>a}),Y1=Object.freeze({__proto__:null,events:(t,s)=>{const a=t.resetOnDom?[jo((i,d)=>{q1(i,t,s)}),Tu((i,d)=>{yi(i,t,s)})]:[O1(t,s,q1)];return Go(a)}});const pp=()=>{const t=Kt(null),s=()=>({mode:"memory",value:t.get()}),a=()=>t.get()===null,i=()=>{t.set(null)};return Lc({set:t.set,get:t.get,isNotSet:a,clear:i,readState:s})},FE=()=>Lc({readState:oe}),Jx=()=>{const t=Kt({}),s=Kt({});return Lc({readState:()=>({mode:"dataset",dataByValue:t.get(),dataByText:s.get()}),lookup:h=>dt(t.get(),h).orThunk(()=>dt(s.get(),h)),update:h=>{const w=t.get(),_=s.get(),T={},A={};ut(h,R=>{T[R.value]=R,dt(R,"meta").each(P=>{dt(P,"text").each(L=>{A[L]=R})})}),t.set({...w,...T}),s.set({..._,...A})},clear:()=>{t.set({}),s.set({})}})};var $g=Object.freeze({__proto__:null,memory:pp,dataset:Jx,manual:FE,init:t=>t.store.manager.state(t)});const Hd=(t,s,a,i)=>{const d=s.store;a.update([i]),d.setValue(t,i),s.onSetValue(t,i)},HE=(t,s,a)=>{const i=s.store,d=i.getDataKey(t);return a.lookup(d).getOrThunk(()=>i.getFallbackEntry(d))},VE=(t,s,a)=>{s.store.initialValue.each(d=>{Hd(t,s,a,d)})},Qx=(t,s,a)=>{a.clear()};var Mw=[vo("initialValue"),Le("getFallbackEntry"),Le("getDataKey"),Le("setValue"),Bo("manager",{setValue:Hd,getValue:HE,onLoad:VE,onUnload:Qx,state:Jx})];const Bw=(t,s,a)=>s.store.getValue(t),Nw=(t,s,a,i)=>{s.store.setValue(t,i),s.onSetValue(t,i)},X1=(t,s,a)=>{s.store.initialValue.each(i=>{s.store.setValue(t,i)})};var em=[Le("getValue"),be("setValue",oe),vo("initialValue"),Bo("manager",{setValue:Nw,getValue:Bw,onLoad:X1,onUnload:oe,state:vl.init})];const e2=(t,s,a,i)=>{a.set(i),s.onSetValue(t,i)},Bb=(t,s,a)=>a.get(),Pw=(t,s,a)=>{s.store.initialValue.each(i=>{a.isNotSet()&&a.set(i)})},jE=(t,s,a)=>{a.clear()};var Nb=[vo("initialValue"),Bo("manager",{setValue:e2,getValue:Bb,onLoad:Pw,onUnload:jE,state:pp})],UE=[Pa("store",{mode:"memory"},Wn("mode",{memory:Nb,manual:em,dataset:Mw})),Qn("onSetValue"),be("resetOnDom",!1)];const Ct=Rr({fields:UE,name:"representing",active:Y1,apis:Qf,extra:{setValueFrom:(t,s)=>{const a=Ct.getValue(s);Ct.setValue(t,a)}},state:$g}),yr=(t,s)=>hl(t,{},He(s,a=>qh(a.name(),"Cannot configure "+a.name()+" for "+t)).concat([Bs("dump",tn)])),Vd=t=>t.dump,or=(t,s)=>({...ct(s),...t.dump}),Ki={field:yr,augment:or,get:Vd},J1="placeholder",Pb=S.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Xl=t=>ho(t,"uiType"),Q1=(t,s,a,i)=>t.exists(d=>d!==a.owner)?Pb.single(!0,Y(a)):dt(i,a.name).fold(()=>{throw new Error("Unknown placeholder component: "+a.name+`
Known: [`+ko(i)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(a,null,2))},d=>d.replace()),ev=(t,s,a,i)=>Xl(a)&&a.uiType===J1?Q1(t,s,a,i):Pb.single(!1,Y(a)),Ig=(t,s,a,i)=>ev(t,s,a,i).fold((p,h)=>{const w=Xl(a)?h(s,a.config,a.validated):h(s),_=dt(w,"components").getOr([]),T=ve(_,A=>Ig(t,s,A,i));return[{...w,components:T}]},(p,h)=>{if(Xl(a)){const w=h(s,a.config,a.validated);return a.validated.preprocess.getOr(tn)(w)}else return h(s)}),t2=(t,s,a,i)=>ve(a,d=>Ig(t,s,d,i)),$b=(t,s)=>{let a=!1;const i=()=>a,d=()=>{if(a)throw new Error("Trying to use the same placeholder more than once: "+t);return a=!0,s},p=()=>s.fold((h,w)=>h,(h,w)=>h);return{name:Y(t),required:p,used:i,replace:d}},$w=(t,s,a,i)=>{const d=Jn(i,(h,w)=>$b(w,h)),p=t2(t,s,a,d);return _o(d,h=>{if(h.used()===!1&&h.required())throw new Error("Placeholder: "+h.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),p},Iw=Pb.single,WE=Pb.multiple,Jl=Y(J1),tv=S.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Fg=be("factory",{sketch:tn}),ca=be("schema",[]),lr=Le("name"),nv=Ir("pname","pname",Na(t=>"<alloy."+Ot(t.name)+">"),Zs()),Ib=Bs("schema",()=>[vo("preprocess")]),ov=be("defaults",Y({})),Fb=be("overrides",Y({})),Lb=Ht([Fg,ca,lr,nv,ov,Fb]),Lg=Ht([Fg,ca,lr,ov,Fb]),n2=Ht([Fg,ca,lr,nv,ov,Fb]),Hb=Ht([Fg,Ib,lr,Le("unit"),nv,ov,Fb]),o2=t=>t.fold(E.some,E.none,E.some,E.some),s2=t=>{const s=a=>a.name;return t.fold(s,s,s,s)},r2=t=>t.fold(tn,tn,tn,tn),Yi=(t,s)=>a=>{const i=ba("Converting part type",s,a);return t(i)},_a=Yi(tv.required,Lb),Cl=Yi(tv.external,Lg),_c=Yi(tv.optional,n2),Vb=Yi(tv.group,Hb),sv=Y("entirety");var a2=Object.freeze({__proto__:null,required:_a,external:Cl,optional:_c,group:Vb,asNamedPart:o2,name:s2,asCommon:r2,original:sv});const jb=(t,s,a,i)=>Ro(s.defaults(t,a,i),a,{uid:t.partUids[s.name]},s.overrides(t,a,i)),ZE=(t,s,a)=>{const i={},d={};return ut(a,p=>{p.fold(h=>{i[h.pname]=Iw(!0,(w,_,T)=>h.factory.sketch(jb(w,h,_,T)))},h=>{const w=s.parts[h.name];d[h.name]=Y(h.factory.sketch(jb(s,h,w[sv()]),w))},h=>{i[h.pname]=Iw(!1,(w,_,T)=>h.factory.sketch(jb(w,h,_,T)))},h=>{i[h.pname]=WE(!0,(w,_,T)=>{const A=w[h.name];return He(A,R=>h.factory.sketch(Ro(h.defaults(w,R,T),R,h.overrides(w,R))))})})}),{internals:Y(i),externals:Y(d)}},jd=(t,s)=>{const a={};return ut(s,i=>{o2(i).each(d=>{const p=Ub(t,d.pname);a[d.name]=h=>{const w=ba("Part: "+d.name+" in "+t,Ht(d.schema),h);return{...p,config:h,validated:w}}})}),a},Ub=(t,s)=>({uiType:Jl(),owner:t,name:s}),Fw=(t,s,a)=>({uiType:Jl(),owner:t,name:s,config:a,validated:{}}),c2=t=>ve(t,s=>s.fold(E.none,E.some,E.none,E.none).map(a=>di(a.name,a.schema.concat([ub(sv())]))).toArray()),i2=t=>He(t,s2),Lw=(t,s,a)=>ZE(t,s,a),rv=(t,s,a)=>$w(E.some(t),s,s.components,a),Uo=(t,s,a)=>{const i=s.partUids[a];return t.getSystem().getByUid(i).toOptional()},Ud=(t,s,a)=>Uo(t,s,a).getOrDie("Could not find part: "+a),l2=(t,s,a)=>{const i={},d=s.partUids,p=t.getSystem();return ut(a,h=>{i[h]=Y(p.getByUid(d[h]))}),i},Hw=(t,s)=>{const a=t.getSystem();return Jn(s.partUids,(i,d)=>Y(a.getByUid(i)))},Vw=t=>ko(t.partUids),gp=(t,s,a)=>{const i={},d=s.partUids,p=t.getSystem();return ut(a,h=>{i[h]=Y(p.getByUid(d[h]).getOrDie())}),i},jw=(t,s)=>{const a=i2(s);return Vt(He(a,i=>({key:i,value:t+"-"+i})))},Uw=t=>Ir("partUids","partUids",Bn(s=>jw(s.uid,t)),Zs());var qE=Object.freeze({__proto__:null,generate:jd,generateOne:Fw,schemas:c2,names:i2,substitutes:Lw,components:rv,defaultUids:jw,defaultUidsSchema:Uw,getAllParts:Hw,getAllPartNames:Vw,getPart:Uo,getPartOrDie:Ud,getParts:l2,getPartsOrDie:gp});const Hg=(t,s)=>(t.length>0?[di("parts",t)]:[]).concat([Le("uid"),be("dom",{}),be("components",[]),ub("originalSpec"),be("debug.sketcher",{})]).concat(s),Vg=(t,s,a,i,d)=>{const p=Hg(i,d);return ba(t+" [SpecSchema]",qo(p.concat(s)),a)},Ww=(t,s,a,i)=>{const d=tm(i),p=Vg(t,s,d,[],[]);return a(p,d)},Zw=(t,s,a,i,d)=>{const p=tm(d),h=c2(a),w=Uw(a),_=Vg(t,s,p,h,[w]),T=Lw(t,_,a),A=rv(t,_,T.internals());return i(_,A,p,T.externals())},Sl=t=>ho(t,"uid"),tm=t=>Sl(t)?t:{...t,uid:Jp("uid")},GE=t=>t.uid!==void 0,Wb=qo([Le("name"),Le("factory"),Le("configFields"),be("apis",{}),be("extraApis",{})]),KE=qo([Le("name"),Le("factory"),Le("configFields"),Le("partFields"),be("apis",{}),be("extraApis",{})]),Zc=t=>{const s=ba("Sketcher for "+t.name,Wb,t),a=p=>Ww(s.name,s.configFields,s.factory,p),i=Jn(s.apis,tp),d=Jn(s.extraApis,(p,h)=>l1(p,h));return{name:s.name,configFields:s.configFields,sketch:a,...i,...d}},xa=t=>{const s=ba("Sketcher for "+t.name,KE,t),a=h=>Zw(s.name,s.configFields,s.partFields,s.factory,h),i=jd(s.name,s.partFields),d=Jn(s.apis,tp),p=Jn(s.extraApis,(h,w)=>l1(h,w));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:a,parts:i,...d,...p}},hp=t=>Dc("input")(t)&&ks(t,"type")!=="radio"||Dc("textarea")(t);var u2=Object.freeze({__proto__:null,getCurrent:(t,s,a)=>s.find(t)});const YE=[Le("find")],Zn=Rr({fields:YE,name:"composing",apis:u2}),qw=["input","button","textarea","select"],d2=(t,s,a)=>{(s.disabled()?m2:Zb)(t,s)},Gw=(t,s)=>s.useNative===!0&&Po(qw,Xa(t.element)),XE=t=>Z(t.element,"disabled"),JE=t=>{_t(t.element,"disabled","disabled")},f2=t=>{Q(t.element,"disabled")},QE=t=>ks(t.element,"aria-disabled")==="true",zt=t=>{_t(t.element,"aria-disabled","true")},nm=t=>{_t(t.element,"aria-disabled","false")},m2=(t,s,a)=>{s.disableClass.each(d=>{Gs(t.element,d)}),(Gw(t,s)?JE:zt)(t),s.onDisabled(t)},Zb=(t,s,a)=>{s.disableClass.each(d=>{xs(t.element,d)}),(Gw(t,s)?f2:nm)(t),s.onEnabled(t)},qb=(t,s)=>Gw(t,s)?XE(t):QE(t);var kO=Object.freeze({__proto__:null,enable:Zb,disable:m2,isDisabled:qb,onLoad:d2,set:(t,s,a,i)=>{(i?m2:Zb)(t,s)}}),t4=Object.freeze({__proto__:null,exhibit:(t,s)=>Hc({classes:s.disabled()?s.disableClass.toArray():[]}),events:(t,s)=>Go([k0(Fc(),(a,i)=>qb(a,t)),O1(t,s,d2)])}),p2=[hr("disabled",Nn),be("useNative",!0),vo("disableClass"),Qn("onDisabled"),Qn("onEnabled")];const en=Rr({fields:p2,name:"disabling",active:t4,apis:kO}),Wd=(t,s,a,i)=>{const d=Mr(t.element,"."+s.highlightClass);ut(d,p=>{Ps(i,w=>Oo(w.element,p))||(xs(p,s.highlightClass),t.getSystem().getByDom(p).each(w=>{s.onDehighlight(t,w),Gn(w,tb())}))})},g2=(t,s,a)=>Wd(t,s,a,[]),n4=(t,s,a,i)=>{av(t,s,a,i)&&(xs(i.element,s.highlightClass),s.onDehighlight(t,i),Gn(i,tb()))},Gb=(t,s,a,i)=>{Wd(t,s,a,[i]),av(t,s,a,i)||(Gs(i.element,s.highlightClass),s.onHighlight(t,i),Gn(i,eb()))},o4=(t,s,a)=>{jg(t,s).each(i=>{Gb(t,s,a,i)})},h2=(t,s,a)=>{Yw(t,s).each(i=>{Gb(t,s,a,i)})},Kw=(t,s,a,i)=>{r4(t,s,a,i).fold(d=>{throw d},d=>{Gb(t,s,a,d)})},b2=(t,s,a,i)=>{const d=cv(t,s);Ke(d,i).each(h=>{Gb(t,s,a,h)})},av=(t,s,a,i)=>br(i.element,s.highlightClass),s4=(t,s,a)=>Ks(t.element,"."+s.highlightClass).bind(i=>t.getSystem().getByDom(i).toOptional()),r4=(t,s,a,i)=>{const d=Mr(t.element,"."+s.itemClass);return E.from(d[i]).fold(()=>xn.error(new Error("No element found with index "+i)),t.getSystem().getByDom)},jg=(t,s,a)=>Ks(t.element,"."+s.itemClass).bind(i=>t.getSystem().getByDom(i).toOptional()),Yw=(t,s,a)=>{const i=Mr(t.element,"."+s.itemClass);return(i.length>0?E.some(i[i.length-1]):E.none()).bind(p=>t.getSystem().getByDom(p).toOptional())},y2=(t,s,a,i)=>{const d=Mr(t.element,"."+s.itemClass);return hn(d,h=>br(h,s.highlightClass)).bind(h=>{const w=gg(h,i,0,d.length-1);return t.getSystem().getByDom(d[w]).toOptional()})},a4=(t,s,a)=>y2(t,s,a,-1),c4=(t,s,a)=>y2(t,s,a,1),cv=(t,s,a)=>{const i=Mr(t.element,"."+s.itemClass);return ei(He(i,d=>t.getSystem().getByDom(d).toOptional()))};var $u=Object.freeze({__proto__:null,dehighlightAll:g2,dehighlight:n4,highlight:Gb,highlightFirst:o4,highlightLast:h2,highlightAt:Kw,highlightBy:b2,isHighlighted:av,getHighlighted:s4,getFirst:jg,getLast:Yw,getPrevious:a4,getNext:c4,getCandidates:cv}),iv=[Le("highlightClass"),Le("itemClass"),Qn("onHighlight"),Qn("onDehighlight")];const yo=Rr({fields:iv,name:"highlighting",apis:$u}),i4=[8],Zd=[9],Iu=[13],lv=[27],vi=[32],uv=[37],qd=[38],Ug=[39],Kb=[40],Xw=(t,s,a)=>{const i=Ve(t.slice(0,s)),d=Ve(t.slice(s+1));return Ke(i.concat(d),a)},l4=(t,s,a)=>{const i=Ve(t.slice(0,s));return Ke(i,a)},Jw=(t,s,a)=>{const i=t.slice(0,s),d=t.slice(s+1);return Ke(d.concat(i),a)},u4=(t,s,a)=>{const i=t.slice(s+1);return Ke(i,a)},Yn=t=>s=>{const a=s.raw;return Po(t,a.which)},wi=t=>s=>tt(t,a=>a(s)),Gd=t=>t.raw.shiftKey===!0,d4=t=>t.raw.ctrlKey===!0,Wg=Re(Gd),ao=(t,s)=>({matches:t,classification:s}),f4=(t,s)=>Ke(t,i=>i.matches(s)).map(i=>i.classification),Qw=(t,s,a)=>{s.exists(d=>a.exists(p=>Oo(p,d)))||Zt(t,n1(),{prevFocus:s,newFocus:a})},l=()=>{const t=a=>kl(a.element);return{get:t,set:(a,i)=>{const d=t(a);a.getSystem().triggerFocus(i,a.element);const p=t(a);Qw(a,d,p)}}},f=()=>{const t=a=>yo.getHighlighted(a).map(i=>i.element);return{get:t,set:(a,i)=>{const d=t(a);a.getSystem().getByDom(i).fold(oe,h=>{yo.highlight(a,h)});const p=t(a);Qw(a,d,p)}}};var g;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(g||(g={}));const y=(t,s,a,i,d)=>{const p=()=>t.concat([be("focusManager",l()),Pa("focusInside","onFocus",ku(T=>Po(["onFocus","onEnterOrSpace","onApi"],T)?xn.value(T):xn.error("Invalid value for focusInside"))),Bo("handler",_),Bo("state",s),Bo("sendFocusIn",d)]),h=(T,A,R,P,L)=>{const q=R(T,A,P,L);return f4(q,A.event).bind(te=>te(T,A,P,L))},_={schema:p,processKey:h,toEvents:(T,A)=>{const R=T.focusInside!==g.OnFocusMode?E.none():d(T).map(q=>Pe(Hl(),(te,ye)=>{q(te,T,A),ye.stop()})),P=(q,te)=>{const ye=Yn(vi.concat(Iu))(te.event);T.focusInside===g.OnEnterOrSpaceMode&&ye&&$c(q,te)&&d(T).each(ue=>{ue(q,T,A),te.stop()})},L=[Pe(bl(),(q,te)=>{h(q,te,a,T,A).fold(()=>{P(q,te)},ye=>{te.stop()})}),Pe(Df(),(q,te)=>{h(q,te,i,T,A).each(ye=>{te.stop()})})];return Go(R.toArray().concat(L))}};return _},x=t=>{const s=[vo("onEscape"),vo("onEnter"),be("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),be("firstTabstop",0),be("useTabstopAt",Et),vo("visibilitySelector")].concat([t]),a=(ue,ae)=>{const he=ue.visibilitySelector.bind(et=>Wl(ae,et)).getOr(ae);return er(he)>0},i=(ue,ae)=>{const he=Mr(ue.element,ae.selector),et=Hn(he,Ne=>a(ae,Ne));return E.from(et[ae.firstTabstop])},d=(ue,ae)=>ae.focusManager.get(ue).bind(he=>Wl(he,ae.selector)),p=(ue,ae)=>a(ue,ae)&&ue.useTabstopAt(ae),h=(ue,ae,he)=>{i(ue,ae).each(et=>{ae.focusManager.set(ue,et)})},w=(ue,ae,he,et,Ne)=>Ne(ae,he,De=>p(et,De)).fold(()=>et.cyclic?E.some(!0):E.none(),De=>(et.focusManager.set(ue,De),E.some(!0))),_=(ue,ae,he,et)=>{const Ne=Mr(ue.element,he.selector);return d(ue,he).bind(De=>hn(Ne,yn(Oo,De)).bind(pt=>w(ue,Ne,pt,he,et)))},T=(ue,ae,he)=>{const et=he.cyclic?Xw:l4;return _(ue,ae,he,et)},A=(ue,ae,he)=>{const et=he.cyclic?Jw:u4;return _(ue,ae,he,et)},R=ue=>nl(ue).bind(gu).exists(ae=>Oo(ae,ue)),P=(ue,ae,he)=>d(ue,he).filter(et=>!he.useTabstopAt(et)).bind(et=>(R(et)?T:A)(ue,ae,he)),L=(ue,ae,he)=>he.onEnter.bind(et=>et(ue,ae)),q=(ue,ae,he)=>he.onEscape.bind(et=>et(ue,ae)),te=Y([ao(wi([Gd,Yn(Zd)]),T),ao(Yn(Zd),A),ao(wi([Wg,Yn(Iu)]),L)]),ye=Y([ao(Yn(lv),q),ao(Yn(Zd),P)]);return y(s,vl.init,te,ye,()=>E.some(h))};var z=x(Bs("cyclic",Nn)),B=x(Bs("cyclic",Et));const H=(t,s,a)=>(r1(t,a,Fc()),E.some(!0)),K=(t,s,a)=>hp(a)&&Yn(vi)(s.event)?E.none():H(t,s,a),ne=(t,s)=>E.some(!0),ge=[be("execute",K),be("useSpace",!1),be("useEnter",!0),be("useControlEnter",!1),be("useDown",!1)],qe=(t,s,a)=>a.execute(t,s,t.element),vt=(t,s,a,i)=>{const d=a.useSpace&&!hp(t.element)?vi:[],p=a.useEnter?Iu:[],h=a.useDown?Kb:[],w=d.concat(p).concat(h);return[ao(Yn(w),qe)].concat(a.useControlEnter?[ao(wi([d4,Yn(Iu)]),qe)]:[])},yt=(t,s,a,i)=>a.useSpace&&!hp(t.element)?[ao(Yn(vi),ne)]:[];var $e=y(ge,vl.init,vt,yt,()=>E.none());const wt=()=>{const t=Fn();return Lc({readState:()=>t.get().map(d=>({numRows:String(d.numRows),numColumns:String(d.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(d,p)=>{t.set({numRows:d,numColumns:p})},getNumRows:()=>t.get().map(d=>d.numRows),getNumColumns:()=>t.get().map(d=>d.numColumns)})};var $t=Object.freeze({__proto__:null,flatgrid:wt,init:t=>t.state(t)});const an=t=>(s,a,i,d)=>{const p=t(s.element);return Hs(p,s,a,i,d)},En=(t,s)=>{const a=B1(t,s);return an(a)},ds=(t,s)=>{const a=B1(s,t);return an(a)},Br=t=>(s,a,i,d)=>Hs(t,s,a,i,d),Hs=(t,s,a,i,d)=>i.focusManager.get(s).bind(h=>t(s.element,h,i,d)).map(h=>(i.focusManager.set(s,h),!0)),xc=Br,bp=Br,yp=Br,ek=t=>t.offsetWidth<=0&&t.offsetHeight<=0,dv=t=>!ek(t.dom),$o=(t,s)=>hn(t,s).map(a=>({index:a,candidates:t})),Wa=(t,s,a)=>{const i=h=>Oo(h,s),d=Mr(t,a),p=Hn(d,dv);return $o(p,i)},ia=(t,s)=>hn(t,a=>Oo(s,a)),ki=(t,s,a,i)=>{const d=Math.floor(s/a),p=s%a;return i(d,p).bind(h=>{const w=h.row*a+h.column;return w>=0&&w<t.length?E.some(t[w]):E.none()})},qc=(t,s,a,i,d)=>ki(t,s,i,(p,h)=>{const _=p===a-1?t.length-p*i:i,T=gg(h,d,0,_-1);return E.some({row:p,column:T})}),om=(t,s,a,i,d)=>ki(t,s,i,(p,h)=>{const w=gg(p,d,0,a-1),T=w===a-1?t.length-w*i:i,A=gi(h,0,T-1);return E.some({row:w,column:A})}),cc=(t,s,a,i)=>qc(t,s,a,i,1),tk=(t,s,a,i)=>qc(t,s,a,i,-1),Yb=(t,s,a,i)=>om(t,s,a,i,-1),Fu=(t,s,a,i)=>om(t,s,a,i,1),Ca=[Le("selector"),be("execute",K),Wc("onEscape"),be("captureTab",!1),L0()],Xb=(t,s,a)=>{Ks(t.element,s.selector).each(i=>{s.focusManager.set(t,i)})},v2=(t,s)=>s.focusManager.get(t).bind(a=>Wl(a,s.selector)),w2=(t,s,a,i)=>v2(t,a).bind(d=>a.execute(t,s,d)),Zg=t=>(s,a,i,d)=>Wa(s,a,i.selector).bind(p=>t(p.candidates,p.index,d.getNumRows().getOr(i.initSize.numRows),d.getNumColumns().getOr(i.initSize.numColumns))),k2=(t,s,a)=>a.captureTab?E.some(!0):E.none(),fv=(t,s,a)=>a.onEscape(t,s),_2=Zg(tk),vp=Zg(cc),xO=Zg(Yb),Q7=Zg(Fu),eP=Y([ao(Yn(uv),En(_2,vp)),ao(Yn(Ug),ds(_2,vp)),ao(Yn(qd),xc(xO)),ao(Yn(Kb),bp(Q7)),ao(wi([Gd,Yn(Zd)]),k2),ao(wi([Wg,Yn(Zd)]),k2),ao(Yn(vi.concat(Iu)),w2)]),tP=Y([ao(Yn(lv),fv),ao(Yn(vi),ne)]);var nP=y(Ca,wt,eP,tP,()=>E.some(Xb));const CO=(t,s,a,i,d)=>{const p=w=>Xa(w)==="button"&&ks(w,"disabled")==="disabled",h=(w,_,T)=>d(w,_,i,0,T.length-1,T[_],A=>p(T[A])?h(w,A,T):E.from(T[A]));return Wa(t,a,s).bind(w=>{const _=w.index,T=w.candidates;return h(_,_,T)})},SO=(t,s,a,i)=>CO(t,s,a,i,(d,p,h,w,_,T,A)=>{const R=gi(p+h,w,_);return R===d?E.from(T):A(R)}),mv=(t,s,a,i)=>CO(t,s,a,i,(d,p,h,w,_,T,A)=>{const R=gg(p,h,w,_);return R===d?E.none():A(R)}),m4=[Le("selector"),be("getInitial",E.none),be("execute",K),Wc("onEscape"),be("executeOnMove",!1),be("allowVertical",!0),be("allowHorizontal",!0),be("cycles",!0)],oP=(t,s)=>s.focusManager.get(t).bind(a=>Wl(a,s.selector)),TO=(t,s,a)=>oP(t,a).bind(i=>a.execute(t,s,i)),EO=(t,s,a)=>{s.getInitial(t).orThunk(()=>Ks(t.element,s.selector)).each(i=>{s.focusManager.set(t,i)})},zO=(t,s,a)=>(a.cycles?mv:SO)(t,a.selector,s,-1),AO=(t,s,a)=>(a.cycles?mv:SO)(t,a.selector,s,1),Tl=t=>(s,a,i,d)=>t(s,a,i,d).bind(()=>i.executeOnMove?TO(s,a,i):E.some(!0)),sP=(t,s,a)=>a.onEscape(t,s),rP=(t,s,a,i)=>{const d=[...a.allowHorizontal?uv:[]].concat(a.allowVertical?qd:[]),p=[...a.allowHorizontal?Ug:[]].concat(a.allowVertical?Kb:[]);return[ao(Yn(d),Tl(En(zO,AO))),ao(Yn(p),Tl(ds(zO,AO))),ao(Yn(Iu),TO),ao(Yn(vi),TO)]},aP=Y([ao(Yn(vi),ne),ao(Yn(lv),sP)]);var cP=y(m4,vl.init,rP,aP,()=>E.some(EO));const x2=(t,s,a)=>E.from(t[s]).bind(i=>E.from(i[a]).map(d=>({rowIndex:s,columnIndex:a,cell:d}))),Jb=(t,s,a,i)=>{const p=t[s].length,h=gg(a,i,0,p-1);return x2(t,s,h)},C2=(t,s,a,i)=>{const d=gg(a,i,0,t.length-1),p=t[d].length,h=gi(s,0,p-1);return x2(t,d,h)},OO=(t,s,a,i)=>{const p=t[s].length,h=gi(a+i,0,p-1);return x2(t,s,h)},S2=(t,s,a,i)=>{const d=gi(a+i,0,t.length-1),p=t[d].length,h=gi(s,0,p-1);return x2(t,d,h)},T2=(t,s,a)=>Jb(t,s,a,1),p4=(t,s,a)=>Jb(t,s,a,-1),iP=(t,s,a)=>C2(t,a,s,-1),lP=(t,s,a)=>C2(t,a,s,1),uP=(t,s,a)=>OO(t,s,a,-1),dP=(t,s,a)=>OO(t,s,a,1),fP=(t,s,a)=>S2(t,a,s,-1),mP=(t,s,a)=>S2(t,a,s,1),DO=[di("selectors",[Le("row"),Le("cell")]),be("cycles",!0),be("previousSelector",E.none),be("execute",K)],g4=(t,s,a)=>{s.previousSelector(t).orThunk(()=>{const d=s.selectors;return Ks(t.element,d.cell)}).each(d=>{s.focusManager.set(t,d)})},pP=(t,s,a)=>kl(t.element).bind(i=>a.execute(t,s,i)),gP=(t,s)=>He(t,a=>Mr(a,s.selectors.cell)),E2=(t,s)=>(a,i,d)=>{const p=d.cycles?t:s;return Wl(i,d.selectors.row).bind(h=>{const w=Mr(h,d.selectors.cell);return ia(w,i).bind(_=>{const T=Mr(a,d.selectors.row);return ia(T,h).bind(A=>{const R=gP(T,d);return p(R,A,_).map(P=>P.cell)})})})},RO=E2(p4,uP),qg=E2(T2,dP),MO=E2(iP,fP),hP=E2(lP,mP),h4=Y([ao(Yn(uv),En(RO,qg)),ao(Yn(Ug),ds(RO,qg)),ao(Yn(qd),xc(MO)),ao(Yn(Kb),bp(hP)),ao(Yn(vi.concat(Iu)),pP)]),bP=Y([ao(Yn(vi),ne)]);var BO=y(DO,vl.init,h4,bP,()=>E.some(g4));const NO=[Le("selector"),be("execute",K),be("moveOnTab",!1)],b4=(t,s,a)=>a.focusManager.get(t).bind(i=>a.execute(t,s,i)),PO=(t,s,a)=>{Ks(t.element,s.selector).each(i=>{s.focusManager.set(t,i)})},y4=(t,s,a)=>mv(t,a.selector,s,-1),$O=(t,s,a)=>mv(t,a.selector,s,1),yP=(t,s,a,i)=>a.moveOnTab?yp(y4)(t,s,a,i):E.none(),vP=(t,s,a,i)=>a.moveOnTab?yp($O)(t,s,a,i):E.none(),v4=Y([ao(Yn(qd),yp(y4)),ao(Yn(Kb),yp($O)),ao(wi([Gd,Yn(Zd)]),yP),ao(wi([Wg,Yn(Zd)]),vP),ao(Yn(Iu),b4),ao(Yn(vi),b4)]),wP=Y([ao(Yn(vi),ne)]);var kP=y(NO,vl.init,v4,wP,()=>E.some(PO));const _P=[Wc("onSpace"),Wc("onEnter"),Wc("onShiftEnter"),Wc("onLeft"),Wc("onRight"),Wc("onTab"),Wc("onShiftTab"),Wc("onUp"),Wc("onDown"),Wc("onEscape"),be("stopSpaceKeyup",!1),vo("focusIn")],xP=(t,s,a)=>[ao(Yn(vi),a.onSpace),ao(wi([Wg,Yn(Iu)]),a.onEnter),ao(wi([Gd,Yn(Iu)]),a.onShiftEnter),ao(wi([Gd,Yn(Zd)]),a.onShiftTab),ao(wi([Wg,Yn(Zd)]),a.onTab),ao(Yn(qd),a.onUp),ao(Yn(Kb),a.onDown),ao(Yn(uv),a.onLeft),ao(Yn(Ug),a.onRight),ao(Yn(vi),a.onSpace)],IO=(t,s,a)=>[...a.stopSpaceKeyup?[ao(Yn(vi),ne)]:[],ao(Yn(lv),a.onEscape)];var CP=y(_P,vl.init,xP,IO,t=>t.focusIn);const SP=z.schema(),TP=B.schema(),FO=cP.schema(),EP=nP.schema(),zP=BO.schema(),LO=$e.schema(),AP=kP.schema(),OP=CP.schema();var z2=Object.freeze({__proto__:null,acyclic:SP,cyclic:TP,flow:FO,flatgrid:EP,matrix:zP,execution:LO,menu:AP,special:OP});const DP=t=>Jr(t,"setGridSize"),qt=D1({branchKey:"mode",branches:z2,name:"keying",active:{events:(t,s)=>t.handler.toEvents(t,s)},apis:{focusIn:(t,s,a)=>{s.sendFocusIn(s).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},i=>{i(t,s,a)})},setGridSize:(t,s,a,i,d)=>{DP(a)?a.setGridSize(i,d):console.error("Layout does not support setGridSize")}},state:$t}),Cc=(t,s)=>{Tt(()=>{ME(t,s,()=>He(s,t.getSystem().build))},t.element)},HO=(t,s)=>{Tt(()=>{BE(t,s,()=>uO(t.element,s,t.getSystem().buildOrPatch))},t.element)},VO=(t,s,a,i)=>{Rg(s);const d=tx(t.element,a,i,t.getSystem().buildOrPatch);Aw(t,d),t.syncComponents()},A2=(t,s,a)=>{const i=t.getSystem().build(a);Mg(t,i,s)},RP=(t,s,a,i)=>{Pu(s),A2(t,(d,p)=>Sr(d,p,a),i)},jO=(t,s,a,i)=>(s.reuseDom?HO:Cc)(t,i),UO=(t,s,a,i)=>{A2(t,gc,i)},MP=(t,s,a,i)=>{A2(t,Dh,i)},BP=(t,s,a,i)=>{const d=O2(t);Ke(d,h=>Oo(i.element,h.element)).each(Pu)},O2=(t,s)=>t.components(),WO=(t,s,a,i,d)=>{const p=O2(t);return E.from(p[i]).map(h=>(d.fold(()=>Pu(h),w=>{(s.reuseDom?VO:RP)(t,h,i,w)}),h))};var PP=Object.freeze({__proto__:null,append:UO,prepend:MP,remove:BP,replaceAt:WO,replaceBy:(t,s,a,i,d)=>{const p=O2(t);return hn(p,i).bind(h=>WO(t,s,a,h,d))},set:jO,contents:O2});const vn=Rr({fields:[ir("reuseDom",!0)],name:"replacing",apis:PP}),ZO=(t,s)=>{const a=Go(s);return Rr({fields:[Le("enabled")],name:t,active:{events:Y(a)}})},Cn=(t,s)=>{const a=ZO(t,s);return{key:t,value:{config:{},me:a,configAsRaw:Y({}),initialConfig:{},state:vl}}},w4=(t,s)=>{s.ignore||(wc(t.element),s.onFocus(t))};var $P=Object.freeze({__proto__:null,focus:w4,blur:(t,s)=>{s.ignore||yg(t.element)},isFocused:t=>hb(t.element)}),qO=Object.freeze({__proto__:null,exhibit:(t,s)=>{const a=s.ignore?{}:{attributes:{tabindex:"-1"}};return Hc(a)},events:t=>Go([Pe(Hl(),(s,a)=>{w4(s,t),a.stop()})].concat(t.stopMousedown?[Pe(Vn(),(s,a)=>{a.event.prevent()})]:[]))}),Gg=[Qn("onFocus"),be("stopMousedown",!1),be("ignore",!1)];const on=Rr({fields:Gg,name:"focusing",active:qO,apis:$P}),GO=t=>({init:()=>{const a=Kt(t);return{get:()=>a.get(),set:w=>a.set(w),clear:()=>a.set(t),readState:()=>a.get()}}}),k4=(t,s,a)=>{const i=s.aria;i.update(t,i,a.get())},FP=(t,s,a)=>{s.toggleClass.each(i=>{a.get()?Gs(t.element,i):xs(t.element,i)})},nk=(t,s,a,i)=>{const d=a.get();a.set(i),FP(t,s,a),k4(t,s,a),d!==i&&s.onToggled(t,i)},KO=(t,s,a)=>{nk(t,s,a,!a.get())},LP=(t,s,a)=>{nk(t,s,a,!0)},YO=(t,s,a)=>{nk(t,s,a,!1)},_4=(t,s,a)=>a.get(),D2=(t,s,a)=>{nk(t,s,a,s.selected)};var HP=Object.freeze({__proto__:null,onLoad:D2,toggle:KO,isOn:_4,on:LP,off:YO,set:nk}),XO=Object.freeze({__proto__:null,exhibit:()=>Hc({}),events:(t,s)=>{const a=bg(t,s,KO),i=O1(t,s,D2);return Go(Pt([t.toggleOnExecute?[a]:[],[i]]))}});const jP=(t,s,a)=>{_t(t.element,"aria-pressed",a),s.syncWithExpanded&&pv(t,s,a)},UP=(t,s,a)=>{_t(t.element,"aria-selected",a)},ok=(t,s,a)=>{_t(t.element,"aria-checked",a)},pv=(t,s,a)=>{_t(t.element,"aria-expanded",a)};var JO=[be("selected",!1),vo("toggleClass"),be("toggleOnExecute",!0),Qn("onToggled"),Pa("aria",{mode:"none"},Wn("mode",{pressed:[be("syncWithExpanded",!1),Bo("update",jP)],checked:[Bo("update",ok)],expanded:[Bo("update",pv)],selected:[Bo("update",UP)],none:[Bo("update",oe)]}))];const Dn=Rr({fields:JO,name:"toggling",active:XO,apis:HP,state:GO(!1)}),wp=()=>{const t=(s,a)=>{a.stop(),zd(s)};return[Pe(Ed(),t),Pe(Vl(),t),Ad(Ic()),Ad(Vn())]},Kd=t=>{const s=a=>yl((i,d)=>{a(i),d.stop()});return Go(Pt([t.map(s).toArray(),wp()]))},QO="alloy.item-hover",eD="alloy.item-focus",x4="alloy.item-toggled",sm=t=>{(kl(t.element).isNone()||on.isFocused(t))&&(on.isFocused(t)||on.focus(t),Zt(t,QO,{item:t}))},R2=t=>{Zt(t,eD,{item:t})},WP=(t,s)=>{Zt(t,x4,{item:t,state:s})},C4=Y(QO),tD=Y(eD),nD=Y(x4),S4=t=>t.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),oD=t=>({aria:{mode:"checked"},...Jc(t,(s,a)=>a!=="exclusive"),onToggled:(s,a)=>{it(t.onToggled)&&t.onToggled(s,a),WP(s,a)}}),ZP=t=>({dom:t.dom,domModification:{...t.domModification,attributes:{role:S4(t),...t.domModification.attributes,"aria-haspopup":t.hasSubmenu,...t.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Ki.augment(t.itemBehaviours,[t.toggling.fold(Dn.revoke,s=>Dn.config(oD(s))),on.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:s=>{R2(s)}}),qt.config({mode:"execution"}),Ct.config({store:{mode:"memory",initialValue:t.data}}),Cn("item-type-events",[...wp(),Pe(Ll(),sm),Pe(Ns(),on.focus)])]),components:t.components,eventOrder:t.eventOrder}),qP=[Le("data"),Le("components"),Le("dom"),be("hasSubmenu",!1),vo("toggling"),Ki.field("itemBehaviours",[Dn,on,qt,Ct]),be("ignoreFocus",!1),be("domModification",{}),Bo("builder",ZP),be("eventOrder",{})],GP=t=>({dom:t.dom,components:t.components,events:Go([zT(Ns())])}),M2=[Le("dom"),Le("components"),Bo("builder",GP)],sk=Y("item-widget"),rk=Y([_a({name:"widget",overrides:t=>({behaviours:ct([Ct.config({store:{mode:"manual",getValue:s=>t.data,setValue:oe}})])})})]),KP=t=>{const s=Lw(sk(),t,rk()),a=rv(sk(),t,s.internals()),i=p=>Uo(p,t,"widget").map(h=>(qt.focusIn(h),h)),d=(p,h)=>hp(h.event.target)?E.none():(t.autofocus&&h.setSource(p.element),E.none());return{dom:t.dom,components:a,domModification:t.domModification,events:Go([yl((p,h)=>{i(p).each(w=>{h.stop()})}),Pe(Ll(),sm),Pe(Ns(),(p,h)=>{t.autofocus?i(p):on.focus(p)})]),behaviours:Ki.augment(t.widgetBehaviours,[Ct.config({store:{mode:"memory",initialValue:t.data}}),on.config({ignore:t.ignoreFocus,onFocus:p=>{R2(p)}}),qt.config({mode:"special",focusIn:t.autofocus?p=>{i(p)}:J0(),onLeft:d,onRight:d,onEscape:(p,h)=>!on.isFocused(p)&&!t.autofocus?(on.focus(p),E.some(!0)):(t.autofocus&&h.setSource(p.element),E.none())})])}},YP=[Le("uid"),Le("data"),Le("components"),Le("dom"),be("autofocus",!1),be("ignoreFocus",!1),Ki.field("widgetBehaviours",[Ct,on,qt]),be("domModification",{}),Uw(rk()),Bo("builder",KP)],sD=Wn("type",{widget:YP,item:qP,separator:M2}),rD=(t,s)=>({mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:t.focusManager}),aD=(t,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+t.markers.item},previousSelector:s.previousSelector,focusManager:t.focusManager}),cD=(t,s)=>({mode:"menu",selector:"."+t.markers.item,moveOnTab:s.moveOnTab,focusManager:t.focusManager}),XP=Y([Vb({factory:{sketch:t=>{const s=ba("menu.spec item",sD,t);return s.builder(s)}},name:"items",unit:"item",defaults:(t,s)=>ho(s,"uid")?s:{...s,uid:Jp("item")},overrides:(t,s)=>({type:s.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}})})]),T4=Y([Le("value"),Le("items"),Le("dom"),Le("components"),be("eventOrder",{}),yr("menuBehaviours",[yo,Ct,Zn,qt]),Pa("movement",{mode:"menu",moveOnTab:!0},Wn("mode",{grid:[L0(),Bo("config",rD)],matrix:[Bo("config",aD),Le("rowSelector"),be("previousSelector",E.none)],menu:[be("moveOnTab",!0),Bo("config",cD)]})),UT(),be("fakeFocus",!1),be("focusManager",l()),Qn("onHighlight"),Qn("onDehighlight")]),iD=Y("alloy.menu-focus"),JP=(t,s)=>{const a=Mr(t.element,'[role="menuitemradio"][aria-checked="true"]');ut(a,i=>{Oo(i,s.element)||t.getSystem().getByDom(i).each(d=>{Dn.off(d)})})},QP=(t,s,a,i)=>({uid:t.uid,dom:t.dom,markers:t.markers,behaviours:or(t.menuBehaviours,[yo.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),Ct.config({store:{mode:"memory",initialValue:t.value}}),Zn.config({find:E.some}),qt.config(t.movement.config(t,t.movement))]),events:Go([Pe(tD(),(d,p)=>{const h=p.event;d.getSystem().getByDom(h.target).each(w=>{yo.highlight(d,w),p.stop(),Zt(d,iD(),{menu:d,item:w})})}),Pe(C4(),(d,p)=>{const h=p.event.item;yo.highlight(d,h)}),Pe(nD(),(d,p)=>{const{item:h,state:w}=p.event;w&&ks(h.element,"role")==="menuitemradio"&&JP(d,h)})]),components:s,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}),ey=xa({name:"Menu",configFields:T4(),partFields:XP(),factory:QP}),lD=t=>Ya(t,(s,a)=>({k:s,v:a})),uD=(t,s,a,i)=>dt(a,i).bind(d=>dt(t,d).bind(p=>{const h=uD(t,s,a,p);return E.some([p].concat(h))})).getOr([]),e$=(t,s)=>{const a={};_o(t,(h,w)=>{ut(h,_=>{a[_]=w})});const i=s,d=lD(s),p=Jn(d,(h,w)=>[w].concat(uD(a,i,d,w)));return Jn(a,h=>dt(p,h).getOr([h]))},dD=()=>{const t=Kt({}),s=Kt({}),a=Kt({}),i=Fn(),d=Kt({}),p=()=>{t.set({}),s.set({}),a.set({}),i.clear()},h=()=>i.get().isNone(),w=(Ne,De)=>{s.set({...s.get(),[Ne]:{type:"prepared",menu:De}})},_=(Ne,De,rt,pt)=>{i.set(Ne),t.set(rt),s.set(De),d.set(pt);const Sn=e$(pt,rt);a.set(Sn)},T=Ne=>ts(t.get(),(De,rt)=>De===Ne),A=(Ne,De,rt)=>te(Ne).bind(pt=>T(Ne).bind(Sn=>De(Sn).map(At=>({triggeredMenu:pt,triggeringItem:At,triggeringPath:rt})))),R=(Ne,De)=>{const rt=Hn(ue(Ne).toArray(),pt=>te(pt).isSome());return dt(a.get(),Ne).bind(pt=>{const Sn=Ve(rt.concat(pt)),At=ve(Sn,(ln,sn)=>A(ln,De,Sn.slice(0,sn+1)).fold(()=>za(i.get(),ln)?[]:[E.none()],Co=>[E.some(Co)]));return ns(At)})},P=Ne=>dt(t.get(),Ne).map(De=>{const rt=dt(a.get(),Ne).getOr([]);return[De].concat(rt)}),L=Ne=>dt(a.get(),Ne).bind(De=>De.length>1?E.some(De.slice(1)):E.none()),q=Ne=>dt(a.get(),Ne),te=Ne=>ye(Ne).bind(gv),ye=Ne=>dt(s.get(),Ne),ue=Ne=>dt(t.get(),Ne);return{setMenuBuilt:w,setContents:_,expand:P,refresh:q,collapse:L,lookupMenu:ye,lookupItem:ue,otherMenus:Ne=>{const De=d.get();return Ie(ko(De),Ne)},getPrimary:()=>i.get().bind(te),getMenus:()=>s.get(),clear:p,isClear:h,getTriggeringPath:R}},gv=t=>t.type==="prepared"?E.some(t.menu):E.none(),fD={init:dD,extractPreparedMenu:gv},hv=Ot("tiered-menu-item-highlight"),B2=Ot("tiered-menu-item-dehighlight");var Sc;(function(t){t[t.HighlightMenuAndItem=0]="HighlightMenuAndItem",t[t.HighlightJustMenu=1]="HighlightJustMenu",t[t.HighlightNone=2]="HighlightNone"})(Sc||(Sc={}));const mD=(t,s)=>{const a=Fn(),i=(gt,Nt,un)=>Jn(un,(pn,Jt)=>{const wn=()=>ey.sketch({...pn,value:Jt,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:(Zo,co)=>{Zt(Zo,hv,{menuComp:Zo,itemComp:co})},onDehighlight:(Zo,co)=>{Zt(Zo,B2,{menuComp:Zo,itemComp:co})},focusManager:t.fakeFocus?f():l()});return Jt===Nt?{type:"prepared",menu:gt.getSystem().build(wn())}:{type:"notbuilt",nbMenu:wn}}),d=fD.init(),p=gt=>{const Nt=i(gt,t.data.primary,t.data.menus),un=_();return d.setContents(t.data.primary,Nt,t.data.expansions,un),d.getPrimary()},h=gt=>Ct.getValue(gt).value,w=(gt,Nt,un)=>es(Nt,pn=>{if(!pn.getSystem().isConnected())return E.none();const Jt=yo.getCandidates(pn);return Ke(Jt,wn=>h(wn)===un)}),_=gt=>Jn(t.data.menus,(Nt,un)=>ve(Nt.items,pn=>pn.type==="separator"?[]:[pn.data.value])),T=yo.highlight,A=(gt,Nt)=>{T(gt,Nt),yo.getHighlighted(Nt).orThunk(()=>yo.getFirst(Nt)).each(un=>{t.fakeFocus?yo.highlight(Nt,un):r1(gt,un.element,Ns())})},R=(gt,Nt)=>ei(He(Nt,un=>gt.lookupMenu(un).bind(pn=>pn.type==="prepared"?E.some(pn.menu):E.none()))),P=(gt,Nt,un)=>{const pn=R(Nt,Nt.otherMenus(un));ut(pn,Jt=>{mi(Jt.element,[t.markers.backgroundMenu]),t.stayInDom||vn.remove(gt,Jt)})},L=gt=>a.get().getOrThunk(()=>{const Nt={},un=Mr(gt.element,`.${t.markers.item}`),pn=Hn(un,Jt=>ks(Jt,"aria-haspopup")==="true");return ut(pn,Jt=>{gt.getSystem().getByDom(Jt).each(wn=>{const Zo=h(wn);Nt[Zo]=wn})}),a.set(Nt),Nt}),q=(gt,Nt)=>{const un=L(gt);_o(un,(pn,Jt)=>{const wn=Po(Nt,Jt);_t(pn.element,"aria-expanded",wn)})},te=(gt,Nt,un)=>E.from(un[0]).bind(pn=>Nt.lookupMenu(pn).bind(Jt=>{if(Jt.type==="notbuilt")return E.none();{const wn=Jt.menu,Zo=R(Nt,un.slice(1));return ut(Zo,co=>{Gs(co.element,t.markers.backgroundMenu)}),rr(wn.element)||vn.append(gt,pi(wn)),mi(wn.element,[t.markers.backgroundMenu]),A(gt,wn),P(gt,Nt,un),E.some(wn)}}));let ye;(function(gt){gt[gt.HighlightSubmenu=0]="HighlightSubmenu",gt[gt.HighlightParent=1]="HighlightParent"})(ye||(ye={}));const ue=(gt,Nt,un)=>{if(un.type==="notbuilt"){const pn=gt.getSystem().build(un.nbMenu());return d.setMenuBuilt(Nt,pn),pn}else return un.menu},ae=(gt,Nt,un=ye.HighlightSubmenu)=>{if(Nt.hasConfigured(en)&&en.isDisabled(Nt))return E.some(Nt);{const pn=h(Nt);return d.expand(pn).bind(Jt=>(q(gt,Jt),E.from(Jt[0]).bind(wn=>d.lookupMenu(wn).bind(Zo=>{const co=ue(gt,wn,Zo);return rr(co.element)||vn.append(gt,pi(co)),t.onOpenSubmenu(gt,Nt,co,Ve(Jt)),un===ye.HighlightSubmenu?(yo.highlightFirst(co),te(gt,d,Jt)):(yo.dehighlightAll(co),E.some(Nt))}))))}},he=(gt,Nt)=>{const un=h(Nt);return d.collapse(un).bind(pn=>(q(gt,pn),te(gt,d,pn).map(Jt=>(t.onCollapseMenu(gt,Nt,Jt),Jt))))},et=(gt,Nt)=>{const un=h(Nt);return d.refresh(un).bind(pn=>(q(gt,pn),te(gt,d,pn)))},Ne=(gt,Nt)=>hp(Nt.element)?E.none():ae(gt,Nt,ye.HighlightSubmenu),De=(gt,Nt)=>hp(Nt.element)?E.none():he(gt,Nt),rt=(gt,Nt)=>he(gt,Nt).orThunk(()=>t.onEscape(gt,Nt).map(()=>gt)),pt=gt=>(Nt,un)=>Wl(un.getSource(),`.${t.markers.item}`).bind(pn=>Nt.getSystem().getByDom(pn).toOptional().bind(Jt=>gt(Nt,Jt).map(Et))),Sn=Go([Pe(iD(),(gt,Nt)=>{const un=Nt.event.item;d.lookupItem(h(un)).each(()=>{const pn=Nt.event.menu;yo.highlight(gt,pn);const Jt=h(Nt.event.item);d.refresh(Jt).each(wn=>P(gt,d,wn))})}),yl((gt,Nt)=>{const un=Nt.event.target;gt.getSystem().getByDom(un).each(pn=>{h(pn).indexOf("collapse-item")===0&&he(gt,pn),ae(gt,pn,ye.HighlightSubmenu).fold(()=>{t.onExecute(gt,pn)},oe)})}),jo((gt,Nt)=>{p(gt).each(un=>{vn.append(gt,pi(un)),t.onOpenMenu(gt,un),t.highlightOnOpen===Sc.HighlightMenuAndItem?A(gt,un):t.highlightOnOpen===Sc.HighlightJustMenu&&T(gt,un)})}),Pe(hv,(gt,Nt)=>{t.onHighlightItem(gt,Nt.event.menuComp,Nt.event.itemComp)}),Pe(B2,(gt,Nt)=>{t.onDehighlightItem(gt,Nt.event.menuComp,Nt.event.itemComp)}),...t.navigateOnHover?[Pe(C4(),(gt,Nt)=>{const un=Nt.event.item;et(gt,un),ae(gt,un,ye.HighlightParent),t.onHover(gt,un)})]:[]]),At=gt=>yo.getHighlighted(gt).bind(yo.getHighlighted),ln=gt=>{At(gt).each(Nt=>{he(gt,Nt)})},sn=gt=>{d.getPrimary().each(Nt=>{A(gt,Nt)})},Co=gt=>E.from(gt.components()[0]).filter(Nt=>ks(Nt.element,"role")==="menu"),so={collapseMenu:ln,highlightPrimary:sn,repositionMenus:gt=>{d.getPrimary().bind(un=>At(gt).bind(pn=>{const Jt=h(pn),wn=uf(d.getMenus()),Zo=ei(He(wn,fD.extractPreparedMenu));return d.getTriggeringPath(Jt,co=>w(gt,Zo,co))}).map(pn=>({primary:un,triggeringPath:pn}))).fold(()=>{Co(gt).each(un=>{t.onRepositionMenu(gt,un,[])})},({primary:un,triggeringPath:pn})=>{t.onRepositionMenu(gt,un,pn)})}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:or(t.tmenuBehaviours,[qt.config({mode:"special",onRight:pt(Ne),onLeft:pt(De),onEscape:pt(rt),focusIn:(gt,Nt)=>{d.getPrimary().each(un=>{r1(gt,un.element,Ns())})}}),yo.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),Zn.config({find:gt=>yo.getHighlighted(gt)}),vn.config({})]),eventOrder:t.eventOrder,apis:so,events:Sn}},t$=Y("collapse-item"),n$=(t,s,a)=>({primary:t,menus:s,expansions:a}),pD=(t,s)=>({primary:t,menus:bt(t,s),expansions:{}}),o$=t=>({value:Ot(t$()),meta:{text:t}}),Kg=Zc({name:"TieredMenu",configFields:[F0("onExecute"),F0("onEscape"),Zl("onOpenMenu"),Zl("onOpenSubmenu"),Qn("onRepositionMenu"),Qn("onCollapseMenu"),be("highlightOnOpen",Sc.HighlightMenuAndItem),di("data",[Le("primary"),Le("menus"),Le("expansions")]),be("fakeFocus",!1),Qn("onHighlightItem"),Qn("onDehighlightItem"),Qn("onHover"),lb(),Le("dom"),be("navigateOnHover",!0),be("stayInDom",!1),yr("tmenuBehaviours",[qt,yo,Zn,vn]),be("eventOrder",{})],apis:{collapseMenu:(t,s)=>{t.collapseMenu(s)},highlightPrimary:(t,s)=>{t.highlightPrimary(s)},repositionMenus:(t,s)=>{t.repositionMenus(s)}},factory:mD,extraApis:{tieredData:n$,singleData:pD,collapseItem:o$}}),s$=(t,s,a,i,d)=>{const p=()=>t.lazySink(s),h=i.type==="horizontal"?{layouts:{onLtr:()=>A1(),onRtl:()=>Y0()}}:{},w=T=>T.length===2,_=T=>w(T)?h:{};return Kg.sketch({dom:{tag:"div"},data:i.data,markers:i.menu.markers,highlightOnOpen:i.menu.highlightOnOpen,fakeFocus:i.menu.fakeFocus,onEscape:()=>(Kn.close(s),t.onEscape.map(T=>T(s)),E.some(!0)),onExecute:()=>E.some(!0),onOpenMenu:(T,A)=>{ka.positionWithinBounds(p().getOrDie(),A,a,d())},onOpenSubmenu:(T,A,R,P)=>{const L=p().getOrDie();ka.position(L,R,{anchor:{type:"submenu",item:A,..._(P)}})},onRepositionMenu:(T,A,R)=>{const P=p().getOrDie();ka.positionWithinBounds(P,A,a,d()),ut(R,L=>{const q=_(L.triggeringPath);ka.position(P,L.triggeredMenu,{anchor:{type:"submenu",item:L.triggeringItem,...q}})})}})},r$=(t,s)=>{const a=(P,L)=>t.getRelated(P).exists(te=>Bd(te,L)),i=(P,L)=>{Kn.setContent(P,L)},d=(P,L,q)=>{const te=E.none;p(P,L,q,te)},p=(P,L,q,te)=>{const ye=t.lazySink(P).getOrDie();Kn.openWhileCloaked(P,L,()=>ka.positionWithinBounds(ye,P,q,te())),Ct.setValue(P,E.some({mode:"position",config:q,getBounds:te}))},h=(P,L,q)=>{w(P,L,q,E.none)},w=(P,L,q,te)=>{const ye=s$(t,P,L,q,te);Kn.open(P,ye),Ct.setValue(P,E.some({mode:"menu",menu:ye}))},_=P=>{Kn.isOpen(P)&&(Ct.setValue(P,E.none()),Kn.close(P))},T=P=>Kn.getState(P),A=P=>{Kn.isOpen(P)&&Ct.getValue(P).each(L=>{switch(L.mode){case"menu":Kn.getState(P).each(Kg.repositionMenus);break;case"position":const q=t.lazySink(P).getOrDie();ka.positionWithinBounds(q,P,L.config,L.getBounds());break}})},R={setContent:i,showAt:d,showWithinBounds:p,showMenuAt:h,showMenuWithinBounds:w,hide:_,getContent:T,reposition:A,isOpen:Kn.isOpen};return{uid:t.uid,dom:t.dom,behaviours:or(t.inlineBehaviours,[Kn.config({isPartOf:(P,L,q)=>Bd(L,q)||a(P,q),getAttachPoint:P=>t.lazySink(P).getOrDie(),onOpen:P=>{t.onShow(P)},onClose:P=>{t.onHide(P)}}),Ct.config({store:{mode:"memory",initialValue:E.none()}}),vc.config({channels:{...Mb({isExtraPart:s.isExtraPart,...t.fireDismissalEventInstead.map(P=>({fireEventInstead:{event:P.event}})).getOr({})}),...Ng({...t.fireRepositionEventInstead.map(P=>({fireEventInstead:{event:P.event}})).getOr({}),doReposition:A})}})]),eventOrder:t.eventOrder,apis:R}},Os=Zc({name:"InlineView",configFields:[Le("lazySink"),Qn("onShow"),Qn("onHide"),_d("onEscape"),yr("inlineBehaviours",[Kn,Ct,vc]),ya("fireDismissalEventInstead",[be("event",Nf())]),ya("fireRepositionEventInstead",[be("event",U_())]),be("getRelated",E.none),be("isExtraPart",Nn),be("eventOrder",E.none)],factory:r$,apis:{showAt:(t,s,a,i)=>{t.showAt(s,a,i)},showWithinBounds:(t,s,a,i,d)=>{t.showWithinBounds(s,a,i,d)},showMenuAt:(t,s,a,i)=>{t.showMenuAt(s,a,i)},showMenuWithinBounds:(t,s,a,i,d)=>{t.showMenuWithinBounds(s,a,i,d)},hide:(t,s)=>{t.hide(s)},isOpen:(t,s)=>t.isOpen(s),getContent:(t,s)=>t.getContent(s),setContent:(t,s,a)=>{t.setContent(s,a)},reposition:(t,s)=>{t.reposition(s)}}});var ty=tinymce.util.Tools.resolve("tinymce.util.Delay");const Gr=Zc({name:"Button",factory:t=>{const s=Kd(t.action),a=t.dom.tag,i=p=>dt(t.dom,"attributes").bind(h=>dt(h,p)),d=()=>{if(a==="button"){const p=i("type").getOr("button"),h=i("role").map(w=>({role:w})).getOr({});return{type:p,...h}}else return{role:t.role.getOr(i("role").getOr("button"))}};return{uid:t.uid,dom:t.dom,components:t.components,events:s,behaviours:Ki.augment(t.buttonBehaviours,[on.config({}),qt.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:d()},eventOrder:t.eventOrder}},configFields:[be("uid",void 0),Le("dom"),be("components",[]),Ki.field("buttonBehaviours",[on,qt]),vo("action"),vo("role"),be("eventOrder",{})]}),a$=t=>{const s=t.dom.attributes!==void 0?t.dom.attributes:[];return Qe(s,(a,i)=>i.name==="class"?a:{...a,[i.name]:i.value},{})},c$=t=>Array.prototype.slice.call(t.dom.classList,0),kp=t=>{const s=me.fromHtml(t),a=uc(s),i=a$(s),d=c$(s),p=a.length===0?{}:{innerHtml:T0(s)};return{tag:Xa(s),classes:d,attributes:i,...p}},To=t=>{const s=GE(t)&&Jr(t,"uid")?t.uid:Jp("memento");return{get:p=>p.getSystem().getByUid(s).getOrDie(),getOpt:p=>p.getSystem().getByUid(s).toOptional(),asSpec:()=>({...t,uid:s})}},{entries:E4,setPrototypeOf:z4,isFrozen:i$,getPrototypeOf:l$,getOwnPropertyDescriptor:u$}=Object;let{freeze:Xi,seal:Yd,create:d$}=Object,{apply:N2,construct:A4}=typeof Reflect<"u"&&Reflect;N2||(N2=function(s,a,i){return s.apply(a,i)}),Xi||(Xi=function(s){return s}),Yd||(Yd=function(s){return s}),A4||(A4=function(s,a){return new s(...a)});const f$=Hu(Array.prototype.forEach),m$=Hu(Array.prototype.pop),ak=Hu(Array.prototype.push),P2=Hu(String.prototype.toLowerCase),_p=Hu(String.prototype.toString),p$=Hu(String.prototype.match),Xd=Hu(String.prototype.replace),ny=Hu(String.prototype.indexOf),hD=Hu(String.prototype.trim),Ql=Hu(RegExp.prototype.test),Lu=g$(TypeError);function Hu(t){return function(s){for(var a=arguments.length,i=new Array(a>1?a-1:0),d=1;d<a;d++)i[d-1]=arguments[d];return N2(t,s,i)}}function g$(t){return function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return A4(t,a)}}function eo(t,s,a){var i;a=(i=a)!==null&&i!==void 0?i:P2,z4&&z4(t,null);let d=s.length;for(;d--;){let p=s[d];if(typeof p=="string"){const h=a(p);h!==p&&(i$(s)||(s[d]=h),p=h)}t[p]=!0}return t}function oy(t){const s=d$(null);for(const[a,i]of E4(t))s[a]=i;return s}function ck(t,s){for(;t!==null;){const i=u$(t,s);if(i){if(i.get)return Hu(i.get);if(typeof i.value=="function")return Hu(i.value)}t=l$(t)}function a(i){return console.warn("fallback value for",i),null}return a}const O4=Xi(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),D4=Xi(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ik=Xi(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),h$=Xi(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),R4=Xi(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),b$=Xi(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),lk=Xi(["#text"]),$2=Xi(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),I2=Xi(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),M4=Xi(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),uk=Xi(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),y$=Yd(/\{\{[\w\W]*|[\w\W]*\}\}/gm),v$=Yd(/<%[\w\W]*|[\w\W]*%>/gm),bD=Yd(/\${[\w\W]*}/gm),w$=Yd(/^data-[\-\w.\u00B7-\uFFFF]/),B4=Yd(/^aria-[\-\w]+$/),N4=Yd(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),k$=Yd(/^(?:\w+script|data):/i),_$=Yd(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),yD=Yd(/^html$/i);var F2=Object.freeze({__proto__:null,MUSTACHE_EXPR:y$,ERB_EXPR:v$,TMPLIT_EXPR:bD,DATA_ATTR:w$,ARIA_ATTR:B4,IS_ALLOWED_URI:N4,IS_SCRIPT_OR_DATA:k$,ATTR_WHITESPACE:_$,DOCTYPE_NAME:yD});const x$=()=>typeof window>"u"?null:window,dk=function(s,a){if(typeof s!="object"||typeof s.createPolicy!="function")return null;let i=null;const d="data-tt-policy-suffix";a&&a.hasAttribute(d)&&(i=a.getAttribute(d));const p="dompurify"+(i?"#"+i:"");try{return s.createPolicy(p,{createHTML(h){return h},createScriptURL(h){return h}})}catch{return console.warn("TrustedTypes policy "+p+" could not be created."),null}};function fk(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x$();const s=qn=>fk(qn);if(s.version="3.0.5",s.removed=[],!t||!t.document||t.document.nodeType!==9)return s.isSupported=!1,s;const a=t.document,i=a.currentScript;let{document:d}=t;const{DocumentFragment:p,HTMLTemplateElement:h,Node:w,Element:_,NodeFilter:T,NamedNodeMap:A=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:R,DOMParser:P,trustedTypes:L}=t,q=_.prototype,te=ck(q,"cloneNode"),ye=ck(q,"nextSibling"),ue=ck(q,"childNodes"),ae=ck(q,"parentNode");if(typeof h=="function"){const qn=d.createElement("template");qn.content&&qn.content.ownerDocument&&(d=qn.content.ownerDocument)}let he,et="";const{implementation:Ne,createNodeIterator:De,createDocumentFragment:rt,getElementsByTagName:pt}=d,{importNode:Sn}=a;let At={};s.isSupported=typeof E4=="function"&&typeof ae=="function"&&Ne&&Ne.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ln,ERB_EXPR:sn,TMPLIT_EXPR:Co,DATA_ATTR:Xt,ARIA_ATTR:so,IS_SCRIPT_OR_DATA:gt,ATTR_WHITESPACE:Nt}=F2;let{IS_ALLOWED_URI:un}=F2,pn=null;const Jt=eo({},[...O4,...D4,...ik,...R4,...lk]);let wn=null;const Zo=eo({},[...$2,...I2,...M4,...uk]);let co=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),la=null,Oi=null,uu=!0,nd=!0,wh=!1,Ry=!0,lf=!1,Mp=!1,B_=!1,JA=!1,l0=!1,pT=!1,H7=!1,eG=!0,tG=!1;const lK="user-content-";let EZ=!0,QA=!1,gT={},hT=null;const nG=eo({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let oG=null;const sG=eo({},["audio","video","img","source","image","track"]);let zZ=null;const rG=eo({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),V7="http://www.w3.org/1998/Math/MathML",j7="http://www.w3.org/2000/svg",My="http://www.w3.org/1999/xhtml";let bT=My,AZ=!1,OZ=null;const uK=eo({},[V7,j7,My],_p);let N_;const dK=["application/xhtml+xml","text/html"],fK="text/html";let Di,yT=null;const mK=d.createElement("form"),aG=function(Ee){return Ee instanceof RegExp||Ee instanceof Function},DZ=function(Ee){if(!(yT&&yT===Ee)){if((!Ee||typeof Ee!="object")&&(Ee={}),Ee=oy(Ee),N_=dK.indexOf(Ee.PARSER_MEDIA_TYPE)===-1?N_=fK:N_=Ee.PARSER_MEDIA_TYPE,Di=N_==="application/xhtml+xml"?_p:P2,pn="ALLOWED_TAGS"in Ee?eo({},Ee.ALLOWED_TAGS,Di):Jt,wn="ALLOWED_ATTR"in Ee?eo({},Ee.ALLOWED_ATTR,Di):Zo,OZ="ALLOWED_NAMESPACES"in Ee?eo({},Ee.ALLOWED_NAMESPACES,_p):uK,zZ="ADD_URI_SAFE_ATTR"in Ee?eo(oy(rG),Ee.ADD_URI_SAFE_ATTR,Di):rG,oG="ADD_DATA_URI_TAGS"in Ee?eo(oy(sG),Ee.ADD_DATA_URI_TAGS,Di):sG,hT="FORBID_CONTENTS"in Ee?eo({},Ee.FORBID_CONTENTS,Di):nG,la="FORBID_TAGS"in Ee?eo({},Ee.FORBID_TAGS,Di):{},Oi="FORBID_ATTR"in Ee?eo({},Ee.FORBID_ATTR,Di):{},gT="USE_PROFILES"in Ee?Ee.USE_PROFILES:!1,uu=Ee.ALLOW_ARIA_ATTR!==!1,nd=Ee.ALLOW_DATA_ATTR!==!1,wh=Ee.ALLOW_UNKNOWN_PROTOCOLS||!1,Ry=Ee.ALLOW_SELF_CLOSE_IN_ATTR!==!1,lf=Ee.SAFE_FOR_TEMPLATES||!1,Mp=Ee.WHOLE_DOCUMENT||!1,l0=Ee.RETURN_DOM||!1,pT=Ee.RETURN_DOM_FRAGMENT||!1,H7=Ee.RETURN_TRUSTED_TYPE||!1,JA=Ee.FORCE_BODY||!1,eG=Ee.SANITIZE_DOM!==!1,tG=Ee.SANITIZE_NAMED_PROPS||!1,EZ=Ee.KEEP_CONTENT!==!1,QA=Ee.IN_PLACE||!1,un=Ee.ALLOWED_URI_REGEXP||N4,bT=Ee.NAMESPACE||My,co=Ee.CUSTOM_ELEMENT_HANDLING||{},Ee.CUSTOM_ELEMENT_HANDLING&&aG(Ee.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(co.tagNameCheck=Ee.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ee.CUSTOM_ELEMENT_HANDLING&&aG(Ee.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(co.attributeNameCheck=Ee.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ee.CUSTOM_ELEMENT_HANDLING&&typeof Ee.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(co.allowCustomizedBuiltInElements=Ee.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),lf&&(nd=!1),pT&&(l0=!0),gT&&(pn=eo({},[...lk]),wn=[],gT.html===!0&&(eo(pn,O4),eo(wn,$2)),gT.svg===!0&&(eo(pn,D4),eo(wn,I2),eo(wn,uk)),gT.svgFilters===!0&&(eo(pn,ik),eo(wn,I2),eo(wn,uk)),gT.mathMl===!0&&(eo(pn,R4),eo(wn,M4),eo(wn,uk))),Ee.ADD_TAGS&&(pn===Jt&&(pn=oy(pn)),eo(pn,Ee.ADD_TAGS,Di)),Ee.ADD_ATTR&&(wn===Zo&&(wn=oy(wn)),eo(wn,Ee.ADD_ATTR,Di)),Ee.ADD_URI_SAFE_ATTR&&eo(zZ,Ee.ADD_URI_SAFE_ATTR,Di),Ee.FORBID_CONTENTS&&(hT===nG&&(hT=oy(hT)),eo(hT,Ee.FORBID_CONTENTS,Di)),EZ&&(pn["#text"]=!0),Mp&&eo(pn,["html","head","body"]),pn.table&&(eo(pn,["tbody"]),delete la.tbody),Ee.TRUSTED_TYPES_POLICY){if(typeof Ee.TRUSTED_TYPES_POLICY.createHTML!="function")throw Lu('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ee.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Lu('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');he=Ee.TRUSTED_TYPES_POLICY,et=he.createHTML("")}else he===void 0&&(he=dk(L,i)),he!==null&&typeof et=="string"&&(et=he.createHTML(""));Xi&&Xi(Ee),yT=Ee}},cG=eo({},["mi","mo","mn","ms","mtext"]),iG=eo({},["foreignobject","desc","title","annotation-xml"]),pK=eo({},["title","style","font","a","script"]),U7=eo({},D4);eo(U7,ik),eo(U7,h$);const RZ=eo({},R4);eo(RZ,b$);const gK=function(Ee){let Lt=ae(Ee);(!Lt||!Lt.tagName)&&(Lt={namespaceURI:bT,tagName:"template"});const gn=P2(Ee.tagName),wr=P2(Lt.tagName);return OZ[Ee.namespaceURI]?Ee.namespaceURI===j7?Lt.namespaceURI===My?gn==="svg":Lt.namespaceURI===V7?gn==="svg"&&(wr==="annotation-xml"||cG[wr]):!!U7[gn]:Ee.namespaceURI===V7?Lt.namespaceURI===My?gn==="math":Lt.namespaceURI===j7?gn==="math"&&iG[wr]:!!RZ[gn]:Ee.namespaceURI===My?Lt.namespaceURI===j7&&!iG[wr]||Lt.namespaceURI===V7&&!cG[wr]?!1:!RZ[gn]&&(pK[gn]||!U7[gn]):!!(N_==="application/xhtml+xml"&&OZ[Ee.namespaceURI]):!1},P_=function(Ee){ak(s.removed,{element:Ee});try{Ee.parentNode.removeChild(Ee)}catch{Ee.remove()}},eO=function(Ee,Lt){try{ak(s.removed,{attribute:Lt.getAttributeNode(Ee),from:Lt})}catch{ak(s.removed,{attribute:null,from:Lt})}if(Lt.removeAttribute(Ee),Ee==="is"&&!wn[Ee])if(l0||pT)try{P_(Lt)}catch{}else try{Lt.setAttribute(Ee,"")}catch{}},lG=function(Ee){let Lt,gn;if(JA)Ee="<remove></remove>"+Ee;else{const Cm=p$(Ee,/^[\r\n\t ]+/);gn=Cm&&Cm[0]}N_==="application/xhtml+xml"&&bT===My&&(Ee='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ee+"</body></html>");const wr=he?he.createHTML(Ee):Ee;if(bT===My)try{Lt=new P().parseFromString(wr,N_)}catch{}if(!Lt||!Lt.documentElement){Lt=Ne.createDocument(bT,"template",null);try{Lt.documentElement.innerHTML=AZ?et:wr}catch{}}const Ri=Lt.body||Lt.documentElement;return Ee&&gn&&Ri.insertBefore(d.createTextNode(gn),Ri.childNodes[0]||null),bT===My?pt.call(Lt,Mp?"html":"body")[0]:Mp?Lt.documentElement:Ri},uG=function(Ee){return De.call(Ee.ownerDocument||Ee,Ee,T.SHOW_ELEMENT|T.SHOW_COMMENT|T.SHOW_TEXT,null,!1)},hK=function(Ee){return Ee instanceof R&&(typeof Ee.nodeName!="string"||typeof Ee.textContent!="string"||typeof Ee.removeChild!="function"||!(Ee.attributes instanceof A)||typeof Ee.removeAttribute!="function"||typeof Ee.setAttribute!="function"||typeof Ee.namespaceURI!="string"||typeof Ee.insertBefore!="function"||typeof Ee.hasChildNodes!="function")},W7=function(Ee){return typeof w=="object"?Ee instanceof w:Ee&&typeof Ee=="object"&&typeof Ee.nodeType=="number"&&typeof Ee.nodeName=="string"},By=function(Ee,Lt,gn){At[Ee]&&f$(At[Ee],wr=>{wr.call(s,Lt,gn,yT)})},dG=function(Ee){let Lt;if(By("beforeSanitizeElements",Ee,null),hK(Ee))return P_(Ee),!0;const gn=Di(Ee.nodeName);if(By("uponSanitizeElement",Ee,{tagName:gn,allowedTags:pn}),Ee.hasChildNodes()&&!W7(Ee.firstElementChild)&&(!W7(Ee.content)||!W7(Ee.content.firstElementChild))&&Ql(/<[/\w]/g,Ee.innerHTML)&&Ql(/<[/\w]/g,Ee.textContent))return P_(Ee),!0;if(!pn[gn]||la[gn]){if(!la[gn]&&mG(gn)&&(co.tagNameCheck instanceof RegExp&&Ql(co.tagNameCheck,gn)||co.tagNameCheck instanceof Function&&co.tagNameCheck(gn)))return!1;if(EZ&&!hT[gn]){const wr=ae(Ee)||Ee.parentNode,Ri=ue(Ee)||Ee.childNodes;if(Ri&&wr){const Cm=Ri.length;for(let Ea=Cm-1;Ea>=0;--Ea)wr.insertBefore(te(Ri[Ea],!0),ye(Ee))}}return P_(Ee),!0}return Ee instanceof _&&!gK(Ee)||(gn==="noscript"||gn==="noembed"||gn==="noframes")&&Ql(/<\/no(script|embed|frames)/i,Ee.innerHTML)?(P_(Ee),!0):(lf&&Ee.nodeType===3&&(Lt=Ee.textContent,Lt=Xd(Lt,ln," "),Lt=Xd(Lt,sn," "),Lt=Xd(Lt,Co," "),Ee.textContent!==Lt&&(ak(s.removed,{element:Ee.cloneNode()}),Ee.textContent=Lt)),By("afterSanitizeElements",Ee,null),!1)},fG=function(Ee,Lt,gn){if(eG&&(Lt==="id"||Lt==="name")&&(gn in d||gn in mK))return!1;if(!(nd&&!Oi[Lt]&&Ql(Xt,Lt))){if(!(uu&&Ql(so,Lt))){if(!wn[Lt]||Oi[Lt]){if(!(mG(Ee)&&(co.tagNameCheck instanceof RegExp&&Ql(co.tagNameCheck,Ee)||co.tagNameCheck instanceof Function&&co.tagNameCheck(Ee))&&(co.attributeNameCheck instanceof RegExp&&Ql(co.attributeNameCheck,Lt)||co.attributeNameCheck instanceof Function&&co.attributeNameCheck(Lt))||Lt==="is"&&co.allowCustomizedBuiltInElements&&(co.tagNameCheck instanceof RegExp&&Ql(co.tagNameCheck,gn)||co.tagNameCheck instanceof Function&&co.tagNameCheck(gn))))return!1}else if(!zZ[Lt]){if(!Ql(un,Xd(gn,Nt,""))){if(!((Lt==="src"||Lt==="xlink:href"||Lt==="href")&&Ee!=="script"&&ny(gn,"data:")===0&&oG[Ee])){if(!(wh&&!Ql(gt,Xd(gn,Nt,"")))){if(gn)return!1}}}}}}return!0},mG=function(Ee){return Ee.indexOf("-")>0},pG=function(Ee){let Lt,gn,wr,Ri;By("beforeSanitizeAttributes",Ee,null);const{attributes:Cm}=Ee;if(!Cm)return;const Ea={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:wn};for(Ri=Cm.length;Ri--;){Lt=Cm[Ri];const{name:Sm,namespaceURI:MZ}=Lt;gn=Sm==="value"?Lt.value:hD(Lt.value);const yK=gn;if(wr=Di(Sm),Ea.attrName=wr,Ea.attrValue=gn,Ea.keepAttr=!0,Ea.forceKeepAttr=void 0,By("uponSanitizeAttribute",Ee,Ea),gn=Ea.attrValue,Ea.forceKeepAttr)continue;if(!Ea.keepAttr){eO(Sm,Ee);continue}if(!Ry&&Ql(/\/>/i,gn)){eO(Sm,Ee);continue}lf&&(gn=Xd(gn,ln," "),gn=Xd(gn,sn," "),gn=Xd(gn,Co," "));const gG=Di(Ee.nodeName);if(!fG(gG,wr,gn)){eO(Sm,Ee);continue}if(tG&&(wr==="id"||wr==="name")&&(eO(Sm,Ee),gn=lK+gn),he&&typeof L=="object"&&typeof L.getAttributeType=="function"&&!MZ)switch(L.getAttributeType(gG,wr)){case"TrustedHTML":{gn=he.createHTML(gn);break}case"TrustedScriptURL":{gn=he.createScriptURL(gn);break}}if(gn!==yK)try{MZ?Ee.setAttributeNS(MZ,Sm,gn):Ee.setAttribute(Sm,gn)}catch{eO(Sm,Ee)}}By("afterSanitizeAttributes",Ee,null)},bK=function qn(Ee){let Lt;const gn=uG(Ee);for(By("beforeSanitizeShadowDOM",Ee,null);Lt=gn.nextNode();)By("uponSanitizeShadowNode",Lt,null),!dG(Lt)&&(Lt.content instanceof p&&qn(Lt.content),pG(Lt));By("afterSanitizeShadowDOM",Ee,null)};return s.sanitize=function(qn){let Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Lt,gn,wr,Ri;if(AZ=!qn,AZ&&(qn="<!-->"),typeof qn!="string"&&!W7(qn))if(typeof qn.toString=="function"){if(qn=qn.toString(),typeof qn!="string")throw Lu("dirty is not a string, aborting")}else throw Lu("toString is not a function");if(!s.isSupported)return qn;if(B_||DZ(Ee),s.removed=[],typeof qn=="string"&&(QA=!1),QA){if(qn.nodeName){const Sm=Di(qn.nodeName);if(!pn[Sm]||la[Sm])throw Lu("root node is forbidden and cannot be sanitized in-place")}}else if(qn instanceof w)Lt=lG("<!---->"),gn=Lt.ownerDocument.importNode(qn,!0),gn.nodeType===1&&gn.nodeName==="BODY"||gn.nodeName==="HTML"?Lt=gn:Lt.appendChild(gn);else{if(!l0&&!lf&&!Mp&&qn.indexOf("<")===-1)return he&&H7?he.createHTML(qn):qn;if(Lt=lG(qn),!Lt)return l0?null:H7?et:""}Lt&&JA&&P_(Lt.firstChild);const Cm=uG(QA?qn:Lt);for(;wr=Cm.nextNode();)dG(wr)||(wr.content instanceof p&&bK(wr.content),pG(wr));if(QA)return qn;if(l0){if(pT)for(Ri=rt.call(Lt.ownerDocument);Lt.firstChild;)Ri.appendChild(Lt.firstChild);else Ri=Lt;return(wn.shadowroot||wn.shadowrootmode)&&(Ri=Sn.call(a,Ri,!0)),Ri}let Ea=Mp?Lt.outerHTML:Lt.innerHTML;return Mp&&pn["!doctype"]&&Lt.ownerDocument&&Lt.ownerDocument.doctype&&Lt.ownerDocument.doctype.name&&Ql(yD,Lt.ownerDocument.doctype.name)&&(Ea="<!DOCTYPE "+Lt.ownerDocument.doctype.name+`>
`+Ea),lf&&(Ea=Xd(Ea,ln," "),Ea=Xd(Ea,sn," "),Ea=Xd(Ea,Co," ")),he&&H7?he.createHTML(Ea):Ea},s.setConfig=function(qn){DZ(qn),B_=!0},s.clearConfig=function(){yT=null,B_=!1},s.isValidAttribute=function(qn,Ee,Lt){yT||DZ({});const gn=Di(qn),wr=Di(Ee);return fG(gn,wr,Lt)},s.addHook=function(qn,Ee){typeof Ee=="function"&&(At[qn]=At[qn]||[],ak(At[qn],Ee))},s.removeHook=function(qn){if(At[qn])return m$(At[qn])},s.removeHooks=function(qn){At[qn]&&(At[qn]=[])},s.removeAllHooks=function(){At={}},s}var vD=fk();const P4=t=>vD().sanitize(t);var El=tinymce.util.Tools.resolve("tinymce.util.I18n");const C$={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},wD="temporary-placeholder",$4=t=>()=>dt(t,wD).getOr("!not found!"),mk=(t,s)=>{const a=t.toLowerCase();if(El.isRtl()){const i=_r(a,"-rtl");return ho(s,i)?i:a}else return a},I4=(t,s)=>dt(s,mk(t,s)),F4=(t,s)=>{const a=s();return I4(t,a).getOrThunk($4(a))},L4=(t,s,a)=>{const i=s();return I4(t,i).or(a).getOrThunk($4(i))},S$=t=>El.isRtl()?ho(C$,t):!1,L2=()=>Cn("add-focusable",[jo(t=>{_1(t.element,"svg").each(s=>_t(s,"focusable","false"))})]),kD=(t,s,a,i)=>{var d,p;const h=S$(s)?["tox-icon--flip"]:[],w=dt(a,mk(s,a)).or(i).getOrThunk($4(a));return{dom:{tag:t.tag,attributes:(d=t.attributes)!==null&&d!==void 0?d:{},classes:t.classes.concat(h),innerHtml:w},behaviours:ct([...(p=t.behaviours)!==null&&p!==void 0?p:[],L2()])}},Vu=(t,s,a,i=E.none())=>kD(s,t,a(),i),T$=(t,s,a)=>{const i=a(),d=Ke(t,p=>ho(i,mk(p,i)));return kD(s,d.getOr(wD),i,E.none())},_D={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},H4=Zc({name:"Notification",factory:t=>{const s=To({dom:kp(`<p>${P4(t.translationProvider(t.text))}</p>`),behaviours:ct([vn.config({})])}),a=L=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${L}%`}}}),i=L=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${L}%`}}),d=To({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[a(0)]},i(0)],behaviours:ct([vn.config({})])}),w={updateProgress:(L,q)=>{L.getSystem().isConnected()&&d.getOpt(L).each(te=>{vn.set(te,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[a(q)]},i(q)])})},updateText:(L,q)=>{if(L.getSystem().isConnected()){const te=s.get(L);vn.set(te,[Ls(q)])}}},_=Pt([t.icon.toArray(),t.level.toArray(),t.level.bind(L=>E.from(_D[L])).toArray()]),T=To(Gr.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Vu("close",{tag:"span",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:L=>{t.onAction(L)}})),A=T$(_,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),R={dom:{tag:"div",classes:["tox-notification__body"]},components:[s.asSpec()],behaviours:ct([vn.config({})])},P=[A,R];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(L=>["tox-notification","tox-notification--in",`tox-notification--${L}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:ct([on.config({}),Cn("notification-events",[Pe(oa(),L=>{T.getOpt(L).each(on.focus)})])]),components:P.concat(t.progress?[d.asSpec()]:[]).concat(t.closeButton?[T.asSpec()]:[]),apis:w}},configFields:[vo("level"),Le("progress"),vo("icon"),Le("onAction"),Le("text"),Le("iconProvider"),Le("translationProvider"),ir("closeButton",!0)],apis:{updateProgress:(t,s,a)=>{t.updateProgress(s,a)},updateText:(t,s,a)=>{t.updateText(s,a)}}});var V4=(t,s,a)=>{const i=s.backstage.shared,d=()=>{const _=Ms(me.fromDom(t.getContentAreaContainer())),T=Wr(),A=gi(T.x,_.x,_.right),R=gi(T.y,_.y,_.bottom),P=Math.max(_.right,T.right),L=Math.max(_.bottom,T.bottom);return E.some(gs(A,R,P-A,L-R))};return{open:(_,T)=>{const A=()=>{T(),Os.hide(P)},R=va(H4.sketch({text:_.text,level:Po(["success","error","warning","warn","info"],_.type)?_.type:void 0,progress:_.progressBar===!0,icon:_.icon,closeButton:_.closeButton,onAction:A,iconProvider:i.providers.icons,translationProvider:i.providers.translate})),P=va(Os.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:i.getSink,fireDismissalEventInstead:{},...i.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));a.add(P),zo(_.timeout)&&_.timeout>0&&ty.setEditorTimeout(t,()=>{A()},_.timeout);const q={close:A,reposition:()=>{const te=pi(R),ye={maxHeightFunction:kg()},ue=t.notificationManager.getNotifications();if(ue[0]===q){const ae={...i.anchors.banner(),overrides:ye};Os.showWithinBounds(P,te,{anchor:ae},d)}else Ue(ue,q).each(ae=>{const he=ue[ae-1].getEl(),et={type:"node",root:fr(),node:E.some(me.fromDom(he)),overrides:ye,layouts:{onRtl:()=>[Dr],onLtr:()=>[Dr]}};Os.showWithinBounds(P,te,{anchor:et},d)})},text:te=>{H4.updateText(R,te)},settings:_,getEl:()=>R.element.dom,progressBar:{value:te=>{H4.updateProgress(R,te)}}};return q},close:_=>{_.close()},getArgs:_=>_.settings}},sy=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),xD=tinymce.util.Tools.resolve("tinymce.EditorManager"),bv=tinymce.util.Tools.resolve("tinymce.Env"),Ji;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(Ji||(Ji={}));var pk;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(pk||(pk={}));const Ko=t=>s=>s.options.get(t),gk=t=>s=>E.from(t(s)),CD=t=>{const s=bv.deviceType.isPhone(),a=bv.deviceType.isTablet()||s,i=t.options.register,d=h=>Me(h)||h===!1,p=h=>Me(h)||zo(h);i("skin",{processor:h=>Me(h)||h===!1,default:"oxide"}),i("skin_url",{processor:"string"}),i("height",{processor:p,default:Math.max(t.getElement().offsetHeight,400)}),i("width",{processor:p,default:sy.DOM.getStyle(t.getElement(),"width")}),i("min_height",{processor:"number",default:100}),i("min_width",{processor:"number"}),i("max_height",{processor:"number"}),i("max_width",{processor:"number"}),i("style_formats",{processor:"object[]"}),i("style_formats_merge",{processor:"boolean",default:!1}),i("style_formats_autohide",{processor:"boolean",default:!1}),i("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),i("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),i("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),i("font_size_input_default_unit",{processor:"string",default:"pt"}),i("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),i("content_langs",{processor:"object[]"}),i("removed_menuitems",{processor:"string",default:""}),i("menubar",{processor:h=>Me(h)||On(h),default:!s}),i("menu",{processor:"object",default:{}}),i("toolbar",{processor:h=>On(h)||Me(h)||Ze(h)?{value:h,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Xn(9,h=>{i("toolbar"+(h+1),{processor:"string"})}),i("toolbar_mode",{processor:"string",default:a?"scrolling":"floating"}),i("toolbar_groups",{processor:"object",default:{}}),i("toolbar_location",{processor:"string",default:pk.auto}),i("toolbar_persist",{processor:"boolean",default:!1}),i("toolbar_sticky",{processor:"boolean",default:t.inline}),i("toolbar_sticky_offset",{processor:"number",default:0}),i("fixed_toolbar_container",{processor:"string",default:""}),i("fixed_toolbar_container_target",{processor:"object"}),i("ui_mode",{processor:"string",default:"combined"}),i("file_picker_callback",{processor:"function"}),i("file_picker_validator_handler",{processor:"function"}),i("file_picker_types",{processor:"string"}),i("typeahead_urls",{processor:"boolean",default:!0}),i("anchor_top",{processor:d,default:"#top"}),i("anchor_bottom",{processor:d,default:"#bottom"}),i("draggable_modal",{processor:"boolean",default:!1}),i("statusbar",{processor:"boolean",default:!0}),i("elementpath",{processor:"boolean",default:!0}),i("branding",{processor:"boolean",default:!0}),i("promotion",{processor:"boolean",default:!0}),i("resize",{processor:h=>h==="both"||On(h),default:!bv.deviceType.isTouch()}),i("sidebar_show",{processor:"string"}),i("help_accessibility",{processor:"boolean",default:t.hasPlugin("help")}),i("default_font_stack",{processor:"string[]",default:[]})},SD=Ko("readonly"),H2=Ko("height"),hk=Ko("width"),j4=gk(Ko("min_width")),yv=gk(Ko("min_height")),V2=gk(Ko("max_width")),U4=gk(Ko("max_height")),TD=gk(Ko("style_formats")),ED=Ko("style_formats_merge"),zD=Ko("style_formats_autohide"),AD=Ko("content_langs"),W4=Ko("removed_menuitems"),vv=Ko("toolbar_mode"),OD=Ko("toolbar_groups"),bk=Ko("toolbar_location"),ry=Ko("fixed_toolbar_container"),E$=Ko("fixed_toolbar_container_target"),DD=Ko("toolbar_persist"),j2=Ko("toolbar_sticky_offset"),Z4=Ko("menubar"),U2=Ko("toolbar"),RD=Ko("file_picker_callback"),q4=Ko("file_picker_validator_handler"),MD=Ko("font_size_input_default_unit"),G4=Ko("file_picker_types"),K4=Ko("typeahead_urls"),W2=Ko("anchor_top"),BD=Ko("anchor_bottom"),Y4=Ko("draggable_modal"),ND=Ko("statusbar"),wv=Ko("elementpath"),X4=Ko("branding"),PD=Ko("resize"),Z2=Ko("paste_as_text"),q2=Ko("sidebar_show"),$D=Ko("promotion"),G2=Ko("help_accessibility"),ID=Ko("default_font_stack"),J4=t=>t.options.get("skin")===!1,kv=t=>t.options.get("menubar")!==!1,K2=t=>{const s=t.options.get("skin_url");if(J4(t))return s;if(s)return t.documentBaseURI.toAbsolute(s);{const a=t.options.get("skin");return xD.baseURL+"/skins/ui/"+a}},Y2=t=>E.from(t.options.get("skin_url")),FD=t=>t.options.get("line_height_formats").split(" "),X2=t=>{const s=U2(t),a=Me(s),i=Ze(s)&&s.length>0;return!yk(t)&&(i||a||s===!0)},Q4=t=>{const s=Xn(9,i=>t.options.get("toolbar"+(i+1))),a=Hn(s,Me);return Qt(a.length>0,a)},yk=t=>Q4(t).fold(()=>{const s=U2(t);return Ao(s,Me)&&s.length>0},Et),e3=t=>bk(t)===pk.bottom,LD=t=>{var s;if(!t.inline)return E.none();const a=(s=ry(t))!==null&&s!==void 0?s:"";if(a.length>0)return Ks(fr(),a);const i=E$(t);return Tn(i)?E.some(me.fromDom(i)):E.none()},_v=t=>t.inline&&LD(t).isSome(),t3=t=>LD(t).getOrThunk(()=>dc(Do(me.fromDom(t.getElement())))),n3=t=>t.inline&&!kv(t)&&!X2(t)&&!yk(t),vk=t=>(t.options.get("toolbar_sticky")||t.inline)&&!_v(t)&&!n3(t),rm=t=>!_v(t)&&t.options.get("ui_mode")==="split",HD=t=>{const s=t.options.get("menu");return Jn(s,a=>({...a,items:a.items}))};var z$=Object.freeze({__proto__:null,get ToolbarMode(){return Ji},get ToolbarLocation(){return pk},register:CD,getSkinUrl:K2,getSkinUrlOption:Y2,isReadOnly:SD,isSkinDisabled:J4,getHeightOption:H2,getWidthOption:hk,getMinWidthOption:j4,getMinHeightOption:yv,getMaxWidthOption:V2,getMaxHeightOption:U4,getUserStyleFormats:TD,shouldMergeStyleFormats:ED,shouldAutoHideStyleFormats:zD,getLineHeightFormats:FD,getContentLanguages:AD,getRemovedMenuItems:W4,isMenubarEnabled:kv,isMultipleToolbars:yk,isToolbarEnabled:X2,isToolbarPersist:DD,getMultipleToolbarsOption:Q4,getUiContainer:t3,useFixedContainer:_v,isSplitUiMode:rm,getToolbarMode:vv,isDraggableModal:Y4,isDistractionFree:n3,isStickyToolbar:vk,getStickyToolbarOffset:j2,getToolbarLocation:bk,isToolbarLocationBottom:e3,getToolbarGroups:OD,getMenus:HD,getMenubar:Z4,getToolbar:U2,getFilePickerCallback:RD,getFilePickerTypes:G4,useTypeaheadUrls:K4,getAnchorTop:W2,getAnchorBottom:BD,getFilePickerValidatorHandler:q4,getFontSizeInputDefaultUnit:MD,useStatusBar:ND,useElementPath:wv,promotionEnabled:$D,useBranding:X4,getResize:PD,getPasteAsText:Z2,getSidebarShow:q2,useHelpAccessibility:G2,getDefaultFontStack:ID});const VD="[data-mce-autocompleter]",o3=t=>Wl(t,VD),A$=t=>Ks(t,VD),O$={setup:(t,s)=>{const a=(d,p)=>{Zt(d,bl(),{raw:p})},i=()=>t.getMenu().bind(yo.getHighlighted);s.on("keydown",d=>{const p=d.which;t.isActive()&&(t.isMenuOpen()?p===13?(i().each(zd),d.preventDefault()):p===40?(i().fold(()=>{t.getMenu().each(yo.highlightFirst)},h=>{a(h,d)}),d.preventDefault(),d.stopImmediatePropagation()):(p===37||p===38||p===39)&&i().each(h=>{a(h,d),d.preventDefault(),d.stopImmediatePropagation()}):(p===13||p===38||p===40)&&t.cancelIfNecessary())}),s.on("NodeChange",d=>{t.isActive()&&!t.isProcessingAction()&&o3(me.fromDom(d.element)).isNone()&&t.cancelIfNecessary()})}};var s3;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(s3||(s3={}));var Jd=s3;const r3="tox-menu-nav__js",xv="tox-collection__item",a3="tox-swatch",D$={normal:r3,color:a3},jD="tox-collection__item--enabled",R$="tox-collection__group-heading",UD="tox-collection__item-icon",c3="tox-collection__item-label",M$="tox-collection__item-accessory",WD="tox-collection__item-caret",B$="tox-collection__item-checkmark",wk="tox-collection__item--active",ZD="tox-collection__item-container",N$="tox-collection__item-container--column",qD="tox-collection__item-container--row",J2="tox-collection__item-container--align-right",P$="tox-collection__item-container--align-left",i3="tox-collection__item-container--valign-top",$$="tox-collection__item-container--valign-middle",I$="tox-collection__item-container--valign-bottom",GD=t=>dt(D$,t).getOr(r3),KD=t=>t==="color"?"tox-swatches":"tox-menu",l3=t=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:KD(t),tieredMenu:"tox-tiered-menu"}),xp=t=>{const s=l3(t);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:GD(t)}},u3=(t,s,a)=>{const i=l3(a);return{tag:"div",classes:Pt([[i.menu,`tox-menu-${s}-column`],t?[i.hasIcons]:[]])}},YD=[ey.parts.items({})],Cv=(t,s,a)=>{const i=l3(a);return{dom:{tag:"div",classes:Pt([[i.tieredMenu]])},markers:xp(a)}},kk=Y([vo("data"),be("inputAttributes",{}),be("inputStyles",{}),be("tag","input"),be("inputClasses",[]),Qn("onSetValue"),be("styles",{}),be("eventOrder",{}),yr("inputBehaviours",[Ct,on]),be("selectOnFocus",!0)]),d3=t=>ct([on.config({onFocus:t.selectOnFocus?s=>{const a=s.element,i=Au(a);a.dom.setSelectionRange(0,i.length)}:oe})]),am=t=>({...d3(t),...or(t.inputBehaviours,[Ct.config({store:{mode:"manual",...t.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>Au(s.element),setValue:(s,a)=>{Au(s.element)!==a&&ig(s.element,a)}},onSetValue:t.onSetValue})])}),Q2=t=>({tag:t.tag,attributes:{type:"text",...t.inputAttributes},styles:t.inputStyles,classes:t.inputClasses}),F$=(t,s)=>({uid:t.uid,dom:Q2(t),components:[],behaviours:am(t),eventOrder:t.eventOrder}),ay=Zc({name:"Input",configFields:kk(),factory:F$}),XD=Ot("refetch-trigger-event"),JD=Ot("redirect-menu-item-interaction"),Sv="tox-menu__searcher",eC=t=>Ks(t.element,`.${Sv}`).bind(s=>t.getSystem().getByDom(s).toOptional()),f3=eC,m3=(t,s)=>{Ct.setValue(t,s.fetchPattern),t.element.dom.selectionStart=s.selectionStart,t.element.dom.selectionEnd=s.selectionEnd},QD=t=>{const s=Ct.getValue(t),a=t.element.dom.selectionStart,i=t.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:a,selectionEnd:i}},p3=(t,s)=>{M(s.element,"id").each(a=>_t(t.element,"aria-activedescendant",a))},g3=t=>{const s=(d,p)=>(p.cut(),E.none()),a=(d,p)=>{const h={interactionEvent:p.event,eventType:p.event.raw.type};return Zt(d,JD,h),E.some(!0)},i="searcher-events";return{dom:{tag:"div",classes:[xv]},components:[ay.sketch({inputClasses:[Sv,"tox-textfield"],inputAttributes:{...t.placeholder.map(d=>({placeholder:t.i18n(d)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:ct([Cn(i,[Pe(Km(),d=>{Gn(d,XD)}),Pe(bl(),(d,p)=>{p.event.raw.key==="Escape"&&p.stop()})]),qt.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:a,onEscape:a,onUp:a,onDown:a})]),eventOrder:{keydown:[i,qt.name()]}})]}},tC="tox-collection--results__js",h3=t=>{var s;return t.dom?{...t,dom:{...t.dom,attributes:{...(s=t.dom.attributes)!==null&&s!==void 0?s:{},id:Ot("aria-item-search-result-id"),"aria-selected":"false"}}}:t},nC=(t,s)=>a=>{const i=Vs(a,s);return He(i,d=>({dom:t,components:d}))},L$=t=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[ey.parts.items({preprocess:t!=="auto"?nC({tag:"div",classes:["tox-swatches__row"]},t):tn})]}]}),H$=t=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[ey.parts.items({preprocess:nC({tag:"div",classes:["tox-collection__group"]},t)})]}),eR=(t,s)=>{const a=[];let i=[];return ut(t,(d,p)=>{s(d,p)?(i.length>0&&a.push(i),i=[],(ho(d.dom,"innerHtml")||d.components&&d.components.length>0)&&i.push(d)):i.push(d)}),i.length>0&&a.push(i),He(a,d=>({dom:{tag:"div",classes:["tox-collection__group"]},components:d}))},b3=(t,s,a)=>ey.parts.items({preprocess:i=>{const d=He(i,a);return t!=="auto"&&t>1?nC({tag:"div",classes:["tox-collection__group"]},t)(d):eR(d,(p,h)=>s[h].type==="separator")}}),tR=(t,s,a=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[b3(t,s,tn)]}),V$=(t,s,a=!0)=>{const i=Ot("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",tC].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:i}},components:[b3(t,s,h3)]}},nR=(t,s,a)=>{const i=Ot("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[g3({i18n:El.translate,placeholder:a.placeholder}),{dom:{tag:"div",classes:[...t===1?["tox-collection--list"]:["tox-collection--grid"],tC],attributes:{id:i}},components:[b3(t,s,h3)]}]}},oR=(t,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[ey.parts.items({preprocess:a=>eR(a,(i,d)=>t[d].type==="separator")})]}),oC=t=>Ps(t,s=>"icon"in s&&s.icon!==void 0),cm=t=>(console.error(ta(t)),console.log(t),E.none()),_k=(t,s,a,i,d)=>{const p=oR(a);return{value:t,dom:p.dom,components:p.components,items:a}},sC=(t,s,a,i,d)=>{const p=()=>d.menuType!=="searchable"?tR(i,a):d.searchMode.searchMode==="search-with-field"?nR(i,a,d.searchMode):V$(i,a);if(d.menuType==="color"){const h=L$(i);return{value:t,dom:h.dom,components:h.components,items:a}}else if(d.menuType==="normal"&&i==="auto"){const h=tR(i,a);return{value:t,dom:h.dom,components:h.components,items:a}}else if(d.menuType==="normal"||d.menuType==="searchable"){const h=p();return{value:t,dom:h.dom,components:h.components,items:a}}else if(d.menuType==="listpreview"&&i!=="auto"){const h=H$(i);return{value:t,dom:h.dom,components:h.components,items:a}}else return{value:t,dom:u3(s,i,d.menuType),components:YD,items:a}},ur=uo("type"),y3=uo("name"),rC=uo("label"),Cp=uo("text"),sR=uo("title"),v3=uo("icon"),Tv=uo("value"),rR=Wi("fetch"),aR=Wi("getSubmenuItems"),Ev=Wi("onAction"),j$=Wi("onItemAction"),Yg=hr("onSetup",()=>oe),w3=Fr("name"),im=Fr("text"),zl=Fr("icon"),xk=Fr("tooltip"),aC=Fr("label"),U$=Fr("shortcut"),k3=_d("select"),cC=ir("active",!1),cR=ir("borderless",!1),eu=ir("enabled",!0),lm=ir("primary",!1),iR=t=>be("columns",t),Ck=be("meta",{}),zv=hr("onAction",oe),cy=t=>Pc("type",t),iC=t=>Ir("name","name",Na(()=>Ot(`${t}-name`)),Er),lR=t=>Ir("value","value",Na(()=>Ot(`${t}-value`)),Zs()),_3=Ht([ur,im]),x3=t=>hs("separatormenuitem",_3,t),uR=Ht([cy("autocompleteitem"),cC,eu,Ck,Tv,im,zl]),W$=t=>hs("Autocompleter.Separator",_3,t),dR=t=>hs("Autocompleter.Item",uR,t),Av=[eu,xk,zl,im,Yg],fR=Ht([ur,Ev].concat(Av)),C3=t=>hs("toolbarbutton",fR,t),S3=[cC].concat(Av),mR=Ht(S3.concat([ur,Ev])),pR=t=>hs("ToggleButton",mR,t),gR=[hr("predicate",Nn),$a("scope","node",["node","editor"]),$a("position","selection",["node","selection","line"])],Z$=Av.concat([cy("contextformbutton"),lm,Ev,Bs("original",tn)]),q$=S3.concat([cy("contextformbutton"),lm,Ev,Bs("original",tn)]),hR=Av.concat([cy("contextformbutton")]),Sk=S3.concat([cy("contextformtogglebutton")]),bR=Wn("type",{contextformbutton:Z$,contextformtogglebutton:q$}),G$=Ht([cy("contextform"),hr("initValue",Y("")),aC,bc("commands",bR),gl("launch",Wn("type",{contextformbutton:hR,contextformtogglebutton:Sk}))].concat(gR)),K$=t=>hs("ContextForm",G$,t),Y$=Ht([cy("contexttoolbar"),uo("items")].concat(gR)),X$=t=>hs("ContextToolbar",Y$,t),J$=[ur,uo("src"),Fr("alt"),Ia("classes",[],Er)],lC=Ht(J$),Q$=[ur,Cp,w3,Ia("classes",["tox-collection__item-label"],Er)],yR=Ht(Q$),vR=Tr(()=>Je("type",{cardimage:lC,cardtext:yR,cardcontainer:wR})),wR=Ht([ur,Pc("direction","horizontal"),Pc("align","left"),Pc("valign","middle"),bc("items",vR)]),iy=[eu,im,U$,lR("menuitem"),Ck],eI=Ht([ur,aC,bc("items",vR),Yg,zv].concat(iy)),kR=t=>hs("cardmenuitem",eI,t),_R=Ht([ur,cC,zl].concat(iy)),xR=t=>hs("choicemenuitem",_R,t),T3=[ur,uo("fancytype"),zv],tI=[be("initData",{})].concat(T3),nI=[_d("select"),hl("initData",{},[ir("allowCustomColors",!0),Pc("storageKey","default"),xd("colors",Zs())])].concat(T3),oI=Wn("fancytype",{inserttable:tI,colorswatch:nI}),sI=t=>hs("fancymenuitem",oI,t),CR=Ht([ur,Yg,zv,zl].concat(iy)),SR=t=>hs("menuitem",CR,t),rI=Ht([ur,aR,Yg,zl].concat(iy)),aI=t=>hs("nestedmenuitem",rI,t),cI=Ht([ur,zl,cC,Yg,Ev].concat(iy)),iI=t=>hs("togglemenuitem",cI,t),E3=(t,s,a)=>{const i=Mr(t.element,"."+a);if(i.length>0){const d=hn(i,p=>{const h=p.dom.getBoundingClientRect().top,w=i[0].dom.getBoundingClientRect().top;return Math.abs(h-w)>s}).getOr(i.length);return E.some({numColumns:d,numRows:Math.ceil(i.length/d)})}else return E.none()},z3=(t,s)=>ct([Cn(t,s)]),Tk={namedEvents:z3,unnamedEvents:t=>z3(Ot("unnamed-events"),t)},uC=Ot("tooltip.exclusive"),Ov=Ot("tooltip.show"),Ek=Ot("tooltip.hide"),TR=(t,s,a)=>{t.getSystem().broadcastOn([uC],{})};var uI=Object.freeze({__proto__:null,hideAllExclusive:TR,setComponents:(t,s,a,i)=>{a.getTooltip().each(d=>{d.getSystem().isConnected()&&vn.set(d,i)})}}),ER=Object.freeze({__proto__:null,events:(t,s)=>{const a=d=>{s.getTooltip().each(p=>{Pu(p),t.onHide(d,p),s.clearTooltip()}),s.clearTimer()},i=d=>{if(!s.isShowing()){TR(d);const p=t.lazySink(d).getOrDie(),h=d.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Go(t.mode==="normal"?[Pe(Ll(),w=>{Gn(d,Ov)}),Pe(na(),w=>{Gn(d,Ek)})]:[]),behaviours:ct([vn.config({})])});s.setTooltip(h),Jf(p,h),t.onShow(d,h),ka.position(p,h,{anchor:t.anchor(d)})}};return Go(Pt([[Pe(Ov,d=>{s.resetTimer(()=>{i(d)},t.delay)}),Pe(Ek,d=>{s.resetTimer(()=>{a(d)},t.delay)}),Pe(Jm(),(d,p)=>{const h=p;h.universal||Po(h.channels,uC)&&a(d)}),Tu(d=>{a(d)})],t.mode==="normal"?[Pe(oa(),d=>{Gn(d,Ov)}),Pe(Rf(),d=>{Gn(d,Ek)}),Pe(Ll(),d=>{Gn(d,Ov)}),Pe(na(),d=>{Gn(d,Ek)})]:[Pe(eb(),(d,p)=>{Gn(d,Ov)}),Pe(tb(),d=>{Gn(d,Ek)})]]))}}),zR=[Le("lazySink"),Le("tooltipDom"),be("exclusive",!0),be("tooltipComponents",[]),be("delay",300),$a("mode","normal",["normal","follow-highlight"]),be("anchor",t=>({type:"hotspot",hotspot:t,layouts:{onLtr:Y([Dr,Ha,Or,rc,aa,wa]),onRtl:Y([Dr,Ha,Or,rc,aa,wa])}})),Qn("onHide"),Qn("onShow")],fI=Object.freeze({__proto__:null,init:()=>{const t=Fn(),s=Fn(),a=()=>{t.on(clearTimeout)},i=(p,h)=>{a(),t.set(setTimeout(p,h))},d=Y("not-implemented");return Lc({getTooltip:s.get,isShowing:s.isSet,setTooltip:s.set,clearTooltip:s.clear,clearTimer:a,resetTimer:i,readState:d})}});const AR=Rr({fields:zR,name:"tooltipping",active:ER,state:fI,apis:uI}),mI=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),OR="silver.readonly",A3=Ht([Jy("readonly")]),dC=(t,s)=>{const i=t.mainUi.outerContainer.element,d=[t.mainUi.mothership,...t.uiMotherships];s&&ut(d,p=>{p.broadcastOn([Yl()],{target:i})}),ut(d,p=>{p.broadcastOn([OR],{readonly:s})})},DR=(t,s)=>{t.on("init",()=>{t.mode.isReadOnly()&&dC(s,!0)}),t.on("SwitchMode",()=>dC(s,t.mode.isReadOnly())),SD(t)&&t.mode.set("readonly")},Nr=()=>vc.config({channels:{[OR]:{schema:A3,onReceive:(t,s)=>{en.set(t,s.readonly)}}}}),vr={item:t=>en.config({disabled:t,disableClass:"tox-collection__item--state-disabled"}),button:t=>en.config({disabled:t}),splitButton:t=>en.config({disabled:t,disableClass:"tox-tbtn--disabled"}),toolbarButton:t=>en.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},Al=(t,s)=>{const a=t.getApi(s);return i=>{i(a)}},Xg=(t,s)=>jo(a=>{Al(t,a)(d=>{const p=t.onSetup(d);it(p)&&s.set(p)})}),um=(t,s)=>Tu(a=>Al(t,a)(s.get())),O3=(t,s)=>yl((a,i)=>{Al(t,a)(t.onAction),!t.triggersSubmenu&&s===Jd.CLOSE_ON_EXECUTE&&(a.getSystem().isConnected()&&Gn(a,Xh()),i.stop())}),gI={[Fc()]:["disabling","alloy.base.behaviour","toggling","item-events"]},Dv=ei,dm=(t,s,a,i)=>{const d=Kt(oe);return{type:"item",dom:s.dom,components:Dv(s.optComponents),data:t.data,eventOrder:gI,hasSubmenu:t.triggersSubmenu,itemBehaviours:ct([Cn("item-events",[O3(t,a),Xg(t,d),um(t,d)]),vr.item(()=>!t.enabled||i.isDisabled()),Nr(),vn.config({})].concat(t.itemBehaviours))}},Sp=t=>({value:t.value,meta:{text:t.text.getOr(""),...t.meta}}),fC=t=>{const s=bv.os.isMacOS()||bv.os.isiOS(),d=s?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},p=t.split("+"),h=He(p,w=>{const _=w.toLowerCase().trim();return ho(d,_)?d[_]:w});return s?h.join(""):h.join("+")},D3=(t,s,a=[UD])=>Vu(t,{tag:"div",classes:a},s),ju=t=>({dom:{tag:"div",classes:[c3]},components:[Ls(El.translate(t))]}),RR=(t,s)=>({dom:{tag:"div",classes:s,innerHtml:t}}),hI=(t,s)=>({dom:{tag:"div",classes:[c3]},components:[{dom:{tag:t.tag,styles:t.styles},components:[Ls(El.translate(s))]}]}),tu=t=>({dom:{tag:"div",classes:[M$]},components:[Ls(fC(t))]}),Rv=t=>D3("checkmark",t,[B$]),Uu=t=>D3("chevron-right",t,[WD]),bI=t=>D3("chevron-down",t,[WD]),Io=(t,s)=>{const a=t.direction==="vertical"?N$:qD,i=t.align==="left"?P$:J2;return{dom:{tag:"div",classes:[ZD,a,i,(()=>{switch(t.valign){case"top":return i3;case"middle":return $$;case"bottom":return I$}})()]},components:s}},Mv=(t,s,a)=>({dom:{tag:"img",classes:s,attributes:{src:t,alt:a.getOr("")}}}),mC=(t,s,a)=>{const i="custom",d="remove",p=t.ariaLabel,h=t.value,w=t.iconContent.map(T=>L4(T,s.icons,a));return{dom:(()=>{const T=a3,A=w.getOr(""),P={tag:"div",attributes:p.map(L=>({title:s.translate(L)})).getOr({}),classes:[T]};return h===i?{...P,tag:"button",classes:[...P.classes,"tox-swatches__picker-btn"],innerHtml:A}:h===d?{...P,classes:[...P.classes,"tox-swatch--remove"],innerHtml:A}:Tn(h)?{...P,attributes:{...P.attributes,"data-mce-color":h},styles:{"background-color":h},innerHtml:A}:P})(),optComponents:[]}},R3=t=>{const s=t.map(a=>({attributes:{title:El.translate(a),id:Ot("menu-item")}})).getOr({});return{tag:"div",classes:[r3,xv],...s}},M3=(t,s,a,i)=>{const d={tag:"div",classes:[UD]},p=P=>Vu(P,d,s.icons,i),h=()=>E.some({dom:d}),w=a?t.iconContent.map(p).orThunk(h):E.none(),_=t.checkMark,T=E.from(t.meta).fold(()=>ju,P=>ho(P,"style")?yn(hI,P.style):ju),A=t.htmlContent.fold(()=>t.textContent.map(T),P=>E.some(RR(P,[c3])));return{dom:R3(t.ariaLabel),optComponents:[w,A,t.shortcutContent.map(tu),_,t.caret]}},ly=(t,s,a,i=E.none())=>t.presets==="color"?mC(t,s,i):M3(t,s,a,i),MR=(t,s)=>dt(t,"tooltipWorker").map(a=>[AR.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:i=>({type:"submenu",item:i,overrides:{maxHeightFunction:kg}}),mode:"follow-highlight",onShow:(i,d)=>{a(p=>{AR.setComponents(i,[ox({element:me.fromDom(p)})])})}})]).getOr([]),B3=t=>sy.DOM.encode(t),BR=(t,s)=>{const a=El.translate(t),i=B3(a);if(s.length>0){const d=new RegExp(mI(s),"gi");return i.replace(d,p=>`<span class="tox-autocompleter-highlight">${p}</span>`)}else return i},NR=(t,s,a,i,d,p,h,w=!0)=>{const _=ly({presets:i,textContent:E.none(),htmlContent:a?t.text.map(T=>BR(T,s)):E.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:E.none(),checkMark:E.none(),caret:E.none(),value:t.value},h.providers,w,t.icon);return dm({data:Sp(t),enabled:t.enabled,getApi:Y({}),onAction:T=>d(t.value,t.meta),onSetup:Y(oe),triggersSubmenu:!1,itemBehaviours:MR(t.meta,h)},_,p,h.providers)},N3=(t,s)=>He(t,a=>{switch(a.type){case"cardcontainer":return Io(a,N3(a.items,s));case"cardimage":return Mv(a.src,a.classes,a.alt);case"cardtext":const d=a.name.exists(p=>Po(s.cardText.highlightOn,p))?E.from(s.cardText.matchText).getOr(""):"";return RR(BR(a.text,d),a.classes)}}),P3=(t,s,a,i)=>{const d=h=>({isEnabled:()=>!en.isDisabled(h),setEnabled:w=>{en.set(h,!w),ut(Mr(h.element,"*"),_=>{h.getSystem().getByDom(_).each(T=>{T.hasConfigured(en)&&en.set(T,!w)})})}}),p={dom:R3(t.label),optComponents:[E.some({dom:{tag:"div",classes:[ZD,qD]},components:N3(t.items,i)})]};return dm({data:Sp({text:E.none(),...t}),enabled:t.enabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:E.from(i.itemBehaviours).getOr([])},p,s,a.providers)},PR=(t,s,a,i,d,p,h,w=!0)=>{const _=A=>({setActive:R=>{Dn.set(A,R)},isActive:()=>Dn.isOn(A),isEnabled:()=>!en.isDisabled(A),setEnabled:R=>en.set(A,!R)}),T=ly({presets:a,textContent:s?t.text:E.none(),htmlContent:E.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:s?t.shortcut:E.none(),checkMark:s?E.some(Rv(h.icons)):E.none(),caret:E.none(),value:t.value},h,w);return Ro(dm({data:Sp(t),enabled:t.enabled,getApi:_,onAction:A=>i(t.value),onSetup:A=>(A.setActive(d),oe),triggersSubmenu:!1,itemBehaviours:[]},T,p,h),{toggling:{toggleClass:jD,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},zk=jd(sk(),rk()),$R=t=>({value:HR(t)}),IR=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,FR=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,LR=t=>IR.test(t)||FR.test(t),HR=t=>ad(t,"#").toUpperCase(),VR=t=>LR(t)?E.some({value:HR(t)}):E.none(),yI=t=>({value:t.value.replace(IR,(a,i,d,p)=>i+i+d+d+p+p)}),vI=t=>{const s=yI(t),a=FR.exec(s.value);return a===null?["FFFFFF","FF","FF","FF"]:a},pC=t=>{const s=t.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},Bv=t=>{const s=pC(t.red)+pC(t.green)+pC(t.blue);return $R(s)},jR=Math.min,UR=Math.max,Ak=Math.round,WR=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,ZR=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Jg=(t,s,a,i)=>({red:t,green:s,blue:a,alpha:i}),$3=t=>{const s=parseInt(t,10);return s.toString()===t&&s>=0&&s<=255},qR=t=>{let s,a,i;const d=(t.hue||0)%360;let p=t.saturation/100,h=t.value/100;if(p=UR(0,jR(p,1)),h=UR(0,jR(h,1)),p===0)return s=a=i=Ak(255*h),Jg(s,a,i,1);const w=d/60,_=h*p,T=_*(1-Math.abs(w%2-1)),A=h-_;switch(Math.floor(w)){case 0:s=_,a=T,i=0;break;case 1:s=T,a=_,i=0;break;case 2:s=0,a=_,i=T;break;case 3:s=0,a=T,i=_;break;case 4:s=T,a=0,i=_;break;case 5:s=_,a=0,i=T;break;default:s=a=i=0}return s=Ak(255*(s+A)),a=Ak(255*(a+A)),i=Ak(255*(i+A)),Jg(s,a,i,1)},Ok=t=>{const s=vI(t),a=parseInt(s[1],16),i=parseInt(s[2],16),d=parseInt(s[3],16);return Jg(a,i,d,1)},GR=(t,s,a,i)=>{const d=parseInt(t,10),p=parseInt(s,10),h=parseInt(a,10),w=parseFloat(i);return Jg(d,p,h,w)},I3=t=>{if(t==="transparent")return E.some(Jg(0,0,0,0));const s=WR.exec(t);if(s!==null)return E.some(GR(s[1],s[2],s[3],"1"));const a=ZR.exec(t);return a!==null?E.some(GR(a[1],a[2],a[3],a[4])):E.none()},F3=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,nu=Jg(255,0,0,1),wI=t=>{t.dispatch("SkinLoaded")},L3=(t,s)=>{t.dispatch("SkinLoadError",s)},KR=t=>{t.dispatch("ResizeEditor")},gC=(t,s)=>{t.dispatch("ResizeContent",s)},kI=(t,s)=>{t.dispatch("ScrollContent",s)},H3=(t,s)=>{t.dispatch("TextColorChange",s)},YR=(t,s)=>{t.dispatch("AfterProgressState",{state:s})},XR=(t,s)=>t.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),_I=(t,s)=>{t.dispatch("ToggleToolbarDrawer",{state:s})},xI=(t,s)=>{t.dispatch("StylesTextUpdate",s)},CI=(t,s)=>{t.dispatch("AlignTextUpdate",s)},SI=(t,s)=>{t.dispatch("FontSizeTextUpdate",s)},TI=(t,s)=>{t.dispatch("FontSizeInputTextUpdate",s)},JR=(t,s)=>{t.dispatch("BlocksTextUpdate",s)},QR=(t,s)=>{t.dispatch("FontFamilyTextUpdate",s)},Dk=(t,s)=>()=>{t(),s()},Tc=t=>Wu(t,"NodeChange",s=>{s.setEnabled(t.selection.isEditable())}),EI=(t,s)=>a=>{const i=$d(),d=()=>{a.setActive(t.formatter.match(s));const p=t.formatter.formatChanged(s,a.setActive);i.set(p)};return t.initialized?d():t.once("init",d),()=>{t.off("init",d),i.clear()}},hC=(t,s)=>a=>{const i=Tc(t)(a),d=EI(t,s)(a);return()=>{i(),d()}},Wu=(t,s,a)=>i=>{const d=()=>a(i),p=()=>{a(i),t.on(s,d)};return t.initialized?p():t.once("init",p),()=>{t.off("init",p),t.off(s,d)}},eM=t=>s=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,s.format)})},_i=(t,s)=>()=>t.execCommand(s);var Qg=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const V3={},j3=(t,s=10)=>{const a=Qg.getItem(t),i=Me(a)?JSON.parse(a):[],p=(T=>s-T.length<0?T.slice(0,s):T)(i),h=T=>{Ue(p,T).each(w),p.unshift(T),p.length>s&&p.pop(),Qg.setItem(t,JSON.stringify(p))},w=T=>{p.splice(T,1)};return{add:h,state:()=>p.slice(0)}},bC=t=>dt(V3,t).getOrThunk(()=>{const s=`tinymce-custom-colors-${t}`,a=Qg.getItem(s);if(io(a)){const d=Qg.getItem("tinymce-custom-colors");Qg.setItem(s,Tn(d)?d:"[]")}const i=j3(s,10);return V3[t]=i,i}),U3=t=>He(bC(t).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),W3=(t,s)=>{bC(t).add(s)},Rk=(t,s,a)=>({hue:t,saturation:s,value:a}),yC=t=>{let s=0,a=0,i=0;const d=t.red/255,p=t.green/255,h=t.blue/255,w=Math.min(d,Math.min(p,h)),_=Math.max(d,Math.max(p,h));if(w===_)return i=w,Rk(0,0,i*100);const T=d===w?p-h:h===w?d-p:h-d;return s=d===w?3:h===w?1:5,s=60*(s-T/(_-w)),a=(_-w)/_,i=_,Rk(Math.round(s),Math.round(a*100),Math.round(i*100))},zI=t=>yC(Ok(t)),tM=t=>Bv(qR(t)),AI=t=>VR(t).orThunk(()=>I3(t).map(Bv)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const a=s.getContext("2d");a.clearRect(0,0,s.width,s.height),a.fillStyle="#FFFFFF",a.fillStyle=t,a.fillRect(0,0,1,1);const i=a.getImageData(0,0,1,1).data,d=i[0],p=i[1],h=i[2],w=i[3];return Bv(Jg(d,p,h,w))}),vC="forecolor",wC="hilitecolor",nM=5,OI=t=>{const s=[];for(let a=0;a<t.length;a+=2)s.push({text:t[a+1],value:"#"+AI(t[a]).value,icon:"checkmark",type:"choiceitem"});return s},fm=t=>s=>s.options.get(t),Z3="#000000",DI=t=>{const s=t.options.register,a=d=>Ao(d,Me)?{value:OI(d),valid:!0}:{valid:!1,message:"Must be an array of strings."},i=d=>zo(d)&&d>0?{value:d,valid:!0}:{valid:!1,message:"Must be a positive number."};s("color_map",{processor:a,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_background",{processor:a}),s("color_map_foreground",{processor:a}),s("color_cols",{processor:i,default:q3(t)}),s("color_cols_foreground",{processor:i,default:oM(t,vC)}),s("color_cols_background",{processor:i,default:oM(t,wC)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:Z3}),s("color_default_background",{processor:"string",default:Z3})},kC=(t,s)=>s===vC&&t.options.isSet("color_map_foreground")?fm("color_map_foreground")(t):s===wC&&t.options.isSet("color_map_background")?fm("color_map_background")(t):fm("color_map")(t),q3=(t,s="default")=>Math.max(nM,Math.ceil(Math.sqrt(kC(t,s).length))),oM=(t,s)=>{const a=fm("color_cols")(t),i=q3(t,s);return a===q3(t)?i:a},sM=(t,s="default")=>Math.round(s===vC?fm("color_cols_foreground")(t):s===wC?fm("color_cols_background")(t):fm("color_cols")(t)),rM=fm("custom_colors"),RI=fm("color_default_foreground"),MI=fm("color_default_background"),aM="rgba(0, 0, 0, 0)",BI=t=>I3(t).exists(s=>s.alpha!==0),NI=t=>Fa(t,s=>{if(So(s)){const a=Vo(s,"background-color");return Qt(BI(a),a)}else return E.none()}).getOr(aM),cM=(t,s)=>{const a=me.fromDom(t.selection.getStart()),i=s==="hilitecolor"?NI(a):Vo(a,"color");return I3(i).map(d=>"#"+Bv(d).value)},PI=(t,s,a)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.apply(s,{value:a}),t.nodeChanged()})},$I=(t,s)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.remove(s,{value:null},void 0,!0),t.nodeChanged()})},_C=t=>{t.addCommand("mceApplyTextcolor",(s,a)=>{PI(t,s,a)}),t.addCommand("mceRemoveTextcolor",s=>{$I(t,s)})},G3=t=>{const s="choiceitem",a={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[a,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[a]},K3=(t,s,a,i)=>{a==="custom"?dM(t)(p=>{p.each(h=>{W3(s,h),t.execCommand("mceApplyTextcolor",s,h),i(h)})},cM(t,s).getOr(Z3)):a==="remove"?(i(""),t.execCommand("mceRemoveTextcolor",s)):(i(a),t.execCommand("mceApplyTextcolor",s,a))},Y3=(t,s,a)=>t.concat(U3(s).concat(G3(a))),iM=(t,s,a)=>i=>{i(Y3(t,s,a))},X3=(t,s,a)=>{const i=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(i,a)},lM=(t,s)=>{t.setTooltip(s)},uM=(t,s)=>a=>{const i=cM(t,s);return za(i,a.toUpperCase())},Mk=(t,s,a)=>{if(Ts(a))return s==="forecolor"?"Text color":"Background color";const i=s==="forecolor"?"Text color {0}":"Background color {0}",d=Y3(kC(t,s),s,!1),p=Ke(d,h=>h.value===a).getOr({text:""}).text;return t.translate([i,t.translate(p)])},J3=(t,s,a,i)=>{t.ui.registry.addSplitButton(s,{tooltip:Mk(t,a,i.get()),presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:uM(t,a),columns:sM(t,a),fetch:iM(kC(t,a),a,rM(t)),onAction:d=>{K3(t,a,i.get(),oe)},onItemAction:(d,p)=>{K3(t,a,p,h=>{i.set(h),H3(t,{name:s,color:h})})},onSetup:d=>{X3(d,s,i.get());const p=h=>{h.name===s&&(X3(d,h.name,h.color),lM(d,Mk(t,a,h.color)))};return t.on("TextColorChange",p),Dk(Tc(t)(d),()=>{t.off("TextColorChange",p)})}})},Q3=(t,s,a,i,d)=>{t.ui.registry.addNestedMenuItem(s,{text:i,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:p=>(lM(p,Mk(t,a,d.get())),X3(p,s,d.get()),Tc(t)(p)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:uM(t,a),initData:{storageKey:a},onAction:p=>{K3(t,a,p.value,h=>{d.set(h),H3(t,{name:s,color:h})})}}]})},dM=t=>(s,a)=>{let i=!1;const d=w=>{const T=w.getData().colorpicker;i?(s(E.from(T)),w.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",T]))},p=(w,_)=>{_.name==="hex-valid"&&(i=_.value)},h={colorpicker:a};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:h,onAction:p,onSubmit:d,onClose:oe,onCancel:()=>{s(E.none())}})},fM=t=>{_C(t);const s=RI(t),a=MI(t),i=Kt(s),d=Kt(a);J3(t,"forecolor","forecolor",i),J3(t,"backcolor","hilitecolor",d),Q3(t,"forecolor","forecolor","Text color",i),Q3(t,"backcolor","hilitecolor","Background color",d)},ez=(t,s,a,i,d,p,h,w)=>{const _=oC(s),A=II(s,a,i,d!=="color"?"normal":"color",p,h,w);return sC(t,_,A,i,{menuType:d})},II=(t,s,a,i,d,p,h)=>ei(He(t,w=>w.type==="choiceitem"?xR(w).fold(cm,_=>E.some(PR(_,a===1,i,s,p(_.value),d,h,oC(t)))):E.none())),xC=(t,s)=>{const a=xp(s);return t===1?{mode:"menu",moveOnTab:!0}:t==="auto"?{mode:"grid",selector:"."+a.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(s==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:d=>s==="color"?Ks(d.element,"[aria-checked=true]"):E.none()}},FI=(t,s)=>t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${a3}`:`.${xv}`}},LI=(t,s)=>{const a=HI(t,s),i=s.colorinput.getColorCols(t.initData.storageKey),d="color",h={...ez(Ot("menu-value"),a,w=>{t.onAction({value:w})},i,d,Jd.CLOSE_ON_EXECUTE,t.select.getOr(Nn),s.shared.providers),markers:xp(d),movement:xC(i,d)};return{type:"widget",data:{value:Ot("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[zk.widget(ey.sketch(h))]}},HI=(t,s)=>{const a=t.initData.allowCustomColors&&s.colorinput.hasCustomColors();return t.initData.colors.fold(()=>Y3(s.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,a),i=>i.concat(G3(a)))},mM=Ot("cell-over"),pM=Ot("cell-execute"),VI=t=>(s,a)=>t.shared.providers.translate(["{0} columns, {1} rows",a,s]),jI=(t,s,a)=>{const i=h=>Zt(h,mM,{row:t,col:s}),d=h=>Zt(h,pM,{row:t,col:s}),p=(h,w)=>{w.stop(),d(h)};return va({dom:{tag:"div",attributes:{role:"button","aria-label":a}},behaviours:ct([Cn("insert-table-picker-cell",[Pe(Ll(),on.focus),Pe(Fc(),d),Pe(Ed(),p),Pe(Vl(),p)]),Dn.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),on.config({onFocus:i})])})},CC=(t,s,a)=>{const i=[];for(let d=0;d<s;d++){const p=[];for(let h=0;h<a;h++){const w=t(d+1,h+1);p.push(jI(d,h,w))}i.push(p)}return i},tz=(t,s,a,i,d)=>{for(let p=0;p<i;p++)for(let h=0;h<d;h++)Dn.set(t[p][h],p<=s&&h<=a)},nz=t=>ve(t,s=>He(s,pi)),oz=(t,s)=>Ls(`${s}x${t}`),UI={inserttable:(t,s)=>{const d=VI(s),p=CC(d,10,10),h=oz(0,0),w=To({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[h],behaviours:ct([vn.config({})])});return{type:"widget",data:{value:Ot("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[zk.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:nz(p).concat(w.asSpec()),behaviours:ct([Cn("insert-table-picker",[jo(_=>{vn.set(w.get(_),[h])}),C0(mM,(_,T,A)=>{const{row:R,col:P}=A.event;tz(p,R,P,10,10),vn.set(w.get(_),[oz(R+1,P+1)])}),C0(pM,(_,T,A)=>{const{row:R,col:P}=A.event;t.onAction({numRows:R+1,numColumns:P+1}),Gn(_,Xh())})]),qt.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:LI},sz=(t,s)=>dt(UI,t.fancytype).map(a=>a(t,s)),rz=(t,s,a,i=!0,d=!1)=>{const p=d?bI(a.icons):Uu(a.icons),h=_=>({isEnabled:()=>!en.isDisabled(_),setEnabled:T=>en.set(_,!T),setIconFill:(T,A)=>{Ks(_.element,`svg path[class="${T}"], rect[class="${T}"]`).each(R=>{_t(R,"fill",A)})},setTooltip:T=>{const A=a.translate(T);ld(_.element,{"aria-label":A,title:A})}}),w=ly({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:E.none(),ariaLabel:t.text,caret:E.some(p),checkMark:E.none(),shortcutContent:t.shortcut},a,i);return dm({data:Sp(t),getApi:h,enabled:t.enabled,onAction:oe,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},w,s,a)},SC=(t,s,a,i=!0)=>{const d=h=>({isEnabled:()=>!en.isDisabled(h),setEnabled:w=>en.set(h,!w)}),p=ly({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:E.none(),ariaLabel:t.text,caret:E.none(),checkMark:E.none(),shortcutContent:t.shortcut},a,i);return dm({data:Sp(t),getApi:d,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},p,s,a)},gM=t=>({type:"separator",dom:{tag:"div",classes:[xv,R$]},components:t.text.map(Ls).toArray()}),WI=(t,s,a,i=!0)=>{const d=h=>({setActive:w=>{Dn.set(h,w)},isActive:()=>Dn.isOn(h),isEnabled:()=>!en.isDisabled(h),setEnabled:w=>en.set(h,!w)}),p=ly({iconContent:t.icon,textContent:t.text,htmlContent:E.none(),ariaLabel:t.text,checkMark:E.some(Rv(a.icons)),caret:E.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},a,i);return Ro(dm({data:Sp(t),enabled:t.enabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},p,s,a),{toggling:{toggleClass:jD,toggleOnExecute:!1,selected:t.active}})},ZI=NR,hM=gM,qI=SC,GI=rz,KI=WI,YI=sz,XI=P3;var JI=Object.freeze({__proto__:null,getCoupled:(t,s,a,i)=>a.getOrCreate(t,s,i),getExistingCoupled:(t,s,a,i)=>a.getExisting(t,s,i)}),QI=[nc("others",Fl(xn.value,Zs()))],bM=Object.freeze({__proto__:null,init:()=>{const t={},s=(p,h)=>{if(ko(p.others).length===0)throw new Error("Cannot find any known coupled components");return dt(t,h)},a=(p,h,w)=>s(h,w).getOrThunk(()=>{const T=dt(h.others,w).getOrDie("No information found for coupled component: "+w)(p),A=p.getSystem().build(T);return t[w]=A,A}),i=(p,h,w)=>s(h,w).orThunk(()=>(dt(h.others,w).getOrDie("No information found for coupled component: "+w),E.none())),d=Y({});return Lc({readState:d,getExisting:i,getOrCreate:a})}});const Xs=Rr({fields:QI,name:"coupling",apis:JI,state:bM}),az=t=>{let s=E.none(),a=[];const i=T=>az(A=>{d(R=>{A(T(R))})}),d=T=>{h()?_(T):a.push(T)},p=T=>{h()||(s=E.some(T),w(a),a=[])},h=()=>s.isSome(),w=T=>{ut(T,_)},_=T=>{s.each(A=>{setTimeout(()=>{T(A)},0)})};return t(p),{get:d,map:i,isReady:h}},eF={nu:az,pure:t=>az(s=>{s(t)})},tF=t=>{setTimeout(()=>{throw t},0)},eh=t=>{const s=_=>{t().then(_,tF)};return{map:_=>eh(()=>t().then(_)),bind:_=>eh(()=>t().then(T=>_(T).toPromise())),anonBind:_=>eh(()=>t().then(()=>_.toPromise())),toLazy:()=>eF.nu(s),toCached:()=>{let _=null;return eh(()=>(_===null&&(_=t()),_))},toPromise:t,get:s}},Za={nu:t=>eh(()=>new Promise(t)),pure:t=>eh(()=>Promise.resolve(t))},yM=Y("sink"),vM=Y(_c({name:yM(),overrides:Y({dom:{tag:"div"},behaviours:ct([ka.config({useFixed:Et})]),events:Go([Ad(bl()),Ad(Vn()),Ad(Ed())])})})),wM=(t,s)=>{const a=t.getHotspot(s).getOr(s),i="hotspot",d=t.getAnchorOverrides();return t.layouts.fold(()=>({type:i,hotspot:a,overrides:d}),p=>({type:i,hotspot:a,overrides:d,layouts:p}))},nF=(t,s,a)=>{const i=t.fetch;return i(a).map(s)},oF=(t,s,a,i,d,p,h)=>{const w=nF(t,s,i),_=kM(i,t);return w.map(T=>T.bind(A=>E.from(Kg.sketch({...p.menu(),uid:Jp(""),data:A,highlightOnOpen:h,onOpenMenu:(R,P)=>{const L=_().getOrDie();ka.position(L,P,{anchor:a}),Kn.decloak(d)},onOpenSubmenu:(R,P,L)=>{const q=_().getOrDie();ka.position(q,L,{anchor:{type:"submenu",item:P}}),Kn.decloak(d)},onRepositionMenu:(R,P,L)=>{const q=_().getOrDie();ka.position(q,P,{anchor:a}),ut(L,te=>{ka.position(q,te.triggeredMenu,{anchor:{type:"submenu",item:te.triggeringItem}})})},onEscape:()=>(on.focus(i),Kn.close(d),E.some(!0))}))))},TC=(t,s,a,i,d,p,h)=>{const w=wM(t,a);return oF(t,s,w,a,i,d,h).map(T=>(T.fold(()=>{Kn.isOpen(i)&&Kn.close(i)},A=>{Kn.cloak(i),Kn.open(i,A),p(i)}),i))},sF=(t,s,a,i,d,p,h)=>(Kn.close(i),Za.pure(i)),cz=(t,s,a,i,d,p)=>{const h=Xs.getCoupled(a,"sandbox");return(Kn.isOpen(h)?sF:TC)(t,s,a,h,i,d,p)},rF=(t,s,a)=>{const i=Zn.getCurrent(s).getOr(s),d=mr(t.element);a?Mt(i.element,"min-width",d+"px"):oo(i.element,d)},kM=(t,s)=>t.getSystem().getByUid(s.uid+"-"+yM()).map(a=>()=>xn.value(a)).getOrThunk(()=>s.lazySink.fold(()=>()=>xn.error(new Error("No internal sink is specified, nor could an external sink be found")),a=>()=>a(t))),_M=t=>{Kn.getState(t).each(s=>{Kg.repositionMenus(s)})},iz=(t,s,a)=>{const i=sp(),d=(w,_)=>{const T=wM(t,s);i.link(s.element),t.matchWidth&&rF(T.hotspot,_,t.useMinWidth),t.onOpen(T,w,_),a!==void 0&&a.onOpen!==void 0&&a.onOpen(w,_)},p=(w,_)=>{i.unlink(s.element),a!==void 0&&a.onClose!==void 0&&a.onClose(w,_)},h=kM(s,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:i.id,role:"listbox"}},behaviours:Ki.augment(t.sandboxBehaviours,[Ct.config({store:{mode:"memory",initialValue:s}}),Kn.config({onOpen:d,onClose:p,isPartOf:(w,_,T)=>Bd(_,T)||Bd(s,T),getAttachPoint:()=>h().getOrDie()}),Zn.config({find:w=>Kn.getState(w).bind(_=>Zn.getCurrent(_))}),vc.config({channels:{...Mb({isExtraPart:Nn}),...Ng({doReposition:_M})}})])}},xM=t=>{const s=Xs.getCoupled(t,"sandbox");_M(s)},lz=()=>[be("sandboxClasses",[]),Ki.field("sandboxBehaviours",[Zn,vc,Kn,Ct])],aF=Y([Le("dom"),Le("fetch"),Qn("onOpen"),Wc("onExecute"),be("getHotspot",E.some),be("getAnchorOverrides",Y({})),Wf(),yr("dropdownBehaviours",[Dn,Xs,qt,on]),Le("toggleClass"),be("eventOrder",{}),vo("lazySink"),be("matchWidth",!1),be("useMinWidth",!1),vo("role")].concat(lz())),cF=Y([Cl({schema:[lb(),be("fakeFocus",!1)],name:"menu",defaults:t=>({onExecute:t.onExecute})}),vM()]),iF=(t,s,a,i)=>{const d=A=>dt(t.dom,"attributes").bind(R=>dt(R,A)),p=A=>{Kn.getState(A).each(R=>{Kg.highlightPrimary(R)})},h=(A,R,P)=>cz(t,tn,A,i,R,P),w=A=>{h(A,p,Sc.HighlightMenuAndItem).get(oe)},_={expand:A=>{Dn.isOn(A)||h(A,oe,Sc.HighlightNone).get(oe)},open:A=>{Dn.isOn(A)||h(A,oe,Sc.HighlightMenuAndItem).get(oe)},refetch:A=>Xs.getExistingCoupled(A,"sandbox").fold(()=>h(A,oe,Sc.HighlightMenuAndItem).map(oe),P=>TC(t,tn,A,P,i,oe,Sc.HighlightMenuAndItem).map(oe)),isOpen:Dn.isOn,close:A=>{Dn.isOn(A)&&h(A,oe,Sc.HighlightMenuAndItem).get(oe)},repositionMenus:A=>{Dn.isOn(A)&&xM(A)}},T=(A,R)=>(zd(A),E.some(!0));return{uid:t.uid,dom:t.dom,components:s,behaviours:or(t.dropdownBehaviours,[Dn.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Xs.config({others:{sandbox:A=>iz(t,A,{onOpen:()=>Dn.on(A),onClose:()=>Dn.off(A)})}}),qt.config({mode:"special",onSpace:T,onEnter:T,onDown:(A,R)=>{if(ou.isOpen(A)){const P=Xs.getCoupled(A,"sandbox");p(P)}else ou.open(A);return E.some(!0)},onEscape:(A,R)=>ou.isOpen(A)?(ou.close(A),E.some(!0)):E.none()}),on.config({})]),events:Kd(E.some(w)),eventOrder:{...t.eventOrder,[Fc()]:["disabling","toggling","alloy.base.behaviour"]},apis:_,domModification:{attributes:{"aria-haspopup":"true",...t.role.fold(()=>({}),A=>({role:A})),...t.dom.tag==="button"?{type:d("type").getOr("button")}:{}}}}},ou=xa({name:"Dropdown",configFields:aF(),partFields:cF(),factory:iF,apis:{open:(t,s)=>t.open(s),refetch:(t,s)=>t.refetch(s),expand:(t,s)=>t.expand(s),close:(t,s)=>t.close(s),isOpen:(t,s)=>t.isOpen(s),repositionMenus:(t,s)=>t.repositionMenus(s)}}),lF=t=>{switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},uF=t=>{const s=Ct.getValue(t),a=eC(t).map(QD);ou.refetch(s).get(()=>{const i=Xs.getCoupled(s,"sandbox");a.each(d=>eC(i).each(p=>m3(p,d)))})},dF=(t,s)=>{fF(t).each(a=>{ST(t,a.element,s.event.eventType,s.event.interactionEvent)})},fF=t=>Kn.getState(t).bind(yo.getHighlighted).bind(yo.getHighlighted),mF=t=>br(t.element,tC)?E.some(t.element):Ks(t.element,"."+tC),uz=(t,s,a)=>{f3(t).each(i=>{p3(i,a),mF(s).each(p=>{M(p,"id").each(h=>_t(i.element,"aria-controls",h))})}),_t(a.element,"aria-selected","true")},pF=(t,s,a)=>{_t(a.element,"aria-selected","false")},gF=t=>{f3(t).each(s=>on.focus(s))},hF=t=>Xs.getExistingCoupled(t,"sandbox").bind(eC).map(QD).map(a=>a.fetchPattern).getOr("");var Bk;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(Bk||(Bk={}));const bF=(t,s,a,i,d)=>{const p=a.shared.providers,h=w=>d?{...w,shortcut:E.none(),icon:w.text.isSome()?E.none():w.icon}:w;switch(t.type){case"menuitem":return SR(t).fold(cm,w=>E.some(qI(h(w),s,p,i)));case"nestedmenuitem":return aI(t).fold(cm,w=>E.some(GI(h(w),s,p,i,d)));case"togglemenuitem":return iI(t).fold(cm,w=>E.some(KI(h(w),s,p,i)));case"separator":return x3(t).fold(cm,w=>E.some(hM(w)));case"fancymenuitem":return sI(t).fold(cm,w=>YI(w,a));default:return console.error("Unknown item in general menu",t),E.none()}},yF=(t,s,a,i,d,p,h)=>{const w=i===1,_=!w||oC(t);return ei(He(t,T=>{switch(T.type){case"separator":return W$(T).fold(cm,A=>E.some(hM(A)));case"cardmenuitem":return kR(T).fold(cm,A=>E.some(XI({...A,onAction:R=>{A.onAction(R),a(A.value,A.meta)}},d,p,{itemBehaviours:MR(A.meta,p),cardText:{matchText:s,highlightOn:h}})));case"autocompleteitem":default:return dR(T).fold(cm,A=>E.some(ZI(A,s,w,"normal",a,d,p,_)))}}))},CM=(t,s,a,i,d,p)=>{const h=oC(s),w=ei(He(s,A=>{const R=L=>d?!ho(L,"text"):h,P=L=>bF(L,a,i,R(L),d);return A.type==="nestedmenuitem"&&A.getSubmenuItems().length<=0?P({...A,enabled:!1}):P(A)})),_=lF(p);return(d?_k:sC)(t,h,w,1,_)},EC=t=>Kg.singleData(t.value,t),vF=(t,s,a,i)=>{const d=xC(s,i),p=xp(i);return{data:EC({...t,movement:d,menuBehaviours:Tk.unnamedEvents(s!=="auto"?[]:[jo((h,w)=>{E3(h,4,p.item).each(({numColumns:_,numRows:T})=>{qt.setGridSize(h,T,_)})})])}),menu:{markers:xp(i),fakeFocus:a===Bk.ContentFocus}}},wF=(t,s)=>o3(me.fromDom(s.startContainer)).map(a=>{const i=t.createRng();return i.selectNode(a.dom),i}),kF={register:(t,s)=>{const a=Ot("autocompleter"),i=Kt(!1),d=Kt(!1),p=va(Os.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:a}},components:[],fireDismissalEventInstead:{},inlineBehaviours:ct([Cn("dismissAutocompleter",[Pe(Nf(),()=>A()),Pe(eb(),(ye,ue)=>{M(ue.event.target,"id").each(ae=>_t(me.fromDom(t.getBody()),"aria-activedescendant",ae))})])]),lazySink:s.getSink})),h=()=>Os.isOpen(p),w=d.get,_=()=>{if(h()){Os.hide(p),t.dom.remove(a,!1);const ye=me.fromDom(t.getBody());M(ye,"aria-owns").filter(ue=>ue===a).each(()=>{Q(ye,"aria-owns"),Q(ye,"aria-activedescendant")})}},T=()=>Os.getContent(p).bind(ye=>go(ye.components(),0)),A=()=>t.execCommand("mceAutocompleterClose"),R=ye=>{const ue=es(ye,ae=>E.from(ae.columns)).getOr(1);return ve(ye,ae=>{const he=ae.items;return yF(he,ae.matchText,(et,Ne)=>{const De=t.selection.getRng();wF(t.dom,De).each(rt=>{const pt={hide:()=>A(),reload:Sn=>{_(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:Sn})}};i.set(!0),ae.onAction(pt,rt,et,Ne),i.set(!1)})},ue,Jd.BUBBLE_TO_SANDBOX,s,ae.highlightOn)})},P=(ye,ue)=>{A$(me.fromDom(t.getBody())).each(ae=>{const he=es(ye,et=>E.from(et.columns)).getOr(1);Os.showMenuAt(p,{anchor:{type:"node",root:me.fromDom(t.getBody()),node:E.from(ae)}},vF(sC("autocompleter-value",!0,ue,he,{menuType:"normal"}),he,Bk.ContentFocus,"normal"))}),T().each(yo.highlightFirst)},L=ye=>{const ue=R(ye);ue.length>0?(P(ye,ue),_t(me.fromDom(t.getBody()),"aria-owns",a),t.inline||q()):_()},q=()=>{t.dom.get(a)&&t.dom.remove(a,!1);const ye=t.getDoc().documentElement,ue=t.selection.getNode(),ae=AT(p.element);us(ae,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${ue.offsetTop}px`,left:`${ue.offsetLeft}px`}),t.dom.add(ye,ae.dom),Ks(ae,'[role="menu"]').each(he=>{no(he,"position"),no(he,"max-height")})};t.on("AutocompleterStart",({lookupData:ye})=>{d.set(!0),i.set(!1),L(ye)}),t.on("AutocompleterUpdate",({lookupData:ye})=>L(ye)),t.on("AutocompleterEnd",()=>{_(),d.set(!1),i.set(!1)});const te={cancelIfNecessary:A,isMenuOpen:h,isActive:w,isProcessingAction:i.get,getMenu:T};O$.setup(te,t)}},SM=["visible","hidden","clip"],TM=t=>Cr(t).length>0&&!Po(SM,t),dz=t=>{if(tl(t)){const s=Vo(t,"overflow-x"),a=Vo(t,"overflow-y");return TM(s)||TM(a)}else return!1},_F=t=>{const s=Fx(t,dz),a=s.length===0?yf(t).map(fc).map(i=>Fx(i,dz)).getOr([]):s;return Rs(a).map(i=>({element:i,others:a.slice(1)}))},th=(t,s)=>rm(t)?_F(s):E.none(),Nv=t=>{const s=[...He(t.others,Ms),Wr()];return Uy(Ms(t.element),s)},Nk=(t,s,a)=>Wl(t,s,a).isSome(),EM=(t,s)=>{let a=null;return{cancel:()=>{a!==null&&(clearTimeout(a),a=null)},schedule:(...p)=>{a=setTimeout(()=>{t.apply(null,p),a=null},s)}}},zM=5,xF=400,AM=t=>{const s=t.raw;return s.touches===void 0||s.touches.length!==1?E.none():E.some(s.touches[0])},CF=(t,s)=>{const a=Math.abs(t.clientX-s.x),i=Math.abs(t.clientY-s.y);return a>zM||i>zM},SF=t=>{const s=Fn(),a=Kt(!1),i=EM(T=>{t.triggerEvent(v0(),T),a.set(!0)},xF),d=T=>(AM(T).each(A=>{i.cancel();const R={x:A.clientX,y:A.clientY,target:T.target};i.schedule(T),a.set(!1),s.set(R)}),E.none()),p=T=>(i.cancel(),AM(T).each(A=>{s.on(R=>{CF(A,R)&&s.clear()})}),E.none()),h=T=>{i.cancel();const A=R=>Oo(R.target,T.target);return s.get().filter(A).map(R=>a.get()?(T.prevent(),!1):t.triggerEvent(Vl(),T))},w=Vt([{key:Ic(),value:d},{key:Of(),value:p},{key:Sd(),value:h}]);return{fireIfReady:(T,A)=>dt(w,A).bind(R=>R(T))}},TF=t=>t.raw.which===i4[0]&&!Po(["input","textarea"],Xa(t.target))&&!Nk(t.target,'[contenteditable="true"]'),EF=(t,s)=>{const a={stopBackspace:!0,...s},i=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],d=SF(a),p=He(i.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),L=>ja(t,L,q=>{d.fireIfReady(q,L).each(ye=>{ye&&q.kill()}),a.triggerEvent(L,q)&&q.kill()})),h=Fn(),w=ja(t,"paste",L=>{d.fireIfReady(L,"paste").each(te=>{te&&L.kill()}),a.triggerEvent("paste",L)&&L.kill(),h.set(setTimeout(()=>{a.triggerEvent(Xm(),L)},0))}),_=ja(t,"keydown",L=>{a.triggerEvent("keydown",L)?L.kill():a.stopBackspace&&TF(L)&&L.prevent()}),T=ja(t,"focusin",L=>{a.triggerEvent("focusin",L)&&L.kill()}),A=Fn(),R=ja(t,"focusout",L=>{a.triggerEvent("focusout",L)&&L.kill(),A.set(setTimeout(()=>{a.triggerEvent(Rf(),L)},0))});return{unbind:()=>{ut(p,L=>{L.unbind()}),_.unbind(),T.unbind(),R.unbind(),w.unbind(),h.on(clearTimeout),A.on(clearTimeout)}}},OM=(t,s)=>{const a=dt(t,"target").getOr(s);return Kt(a)},zF=(t,s)=>{const a=Kt(!1),i=Kt(!1);return{stop:()=>{a.set(!0)},cut:()=>{i.set(!0)},isStopped:a.get,isCut:i.get,event:t,setSource:s.set,getSource:s.get}},DM=t=>{const s=Kt(!1);return{stop:()=>{s.set(!0)},cut:oe,isStopped:s.get,isCut:Nn,event:t,setSource:ce("Cannot set source of a broadcasted event"),getSource:ce("Cannot get source of a broadcasted event")}},Pk=S.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),RM=(t,s,a,i,d,p)=>{const h=t(s,i),w=zF(a,d);return h.fold(()=>(p.logEventNoHandlers(s,i),Pk.complete()),_=>{const T=_.descHandler;return ng(T)(w),w.isStopped()?(p.logEventStopped(s,_.element,T.purpose),Pk.stopped()):w.isCut()?(p.logEventCut(s,_.element,T.purpose),Pk.complete()):lc(_.element).fold(()=>(p.logNoParent(s,_.element,T.purpose),Pk.complete()),R=>(p.logEventResponse(s,_.element,T.purpose),Pk.resume(R)))})},MM=(t,s,a,i,d,p)=>RM(t,s,a,i,d,p).fold(Et,h=>MM(t,s,a,h,d,p),Nn),AF=(t,s,a,i,d)=>{const p=OM(a,i);return RM(t,s,a,i,p,d)},OF=(t,s,a)=>{const i=DM(s);return ut(t,d=>{const p=d.descHandler;ng(p)(i)}),i.isStopped()},fz=(t,s,a,i)=>BM(t,s,a,a.target,i),BM=(t,s,a,i,d)=>{const p=OM(a,i);return MM(t,s,a,i,p,d)},DF=(t,s)=>({element:t,descHandler:s}),RF=(t,s)=>({id:t,descHandler:s}),NM=()=>{const t={},s=(h,w,_)=>{_o(_,(T,A)=>{const R=t[A]!==void 0?t[A]:{};R[w]=R0(T,h),t[A]=R})},a=(h,w)=>sb(w).bind(_=>dt(h,_)).map(_=>DF(w,_));return{registerId:s,unregisterId:h=>{_o(t,(w,_)=>{ho(w,h)&&delete w[h]})},filterByType:h=>dt(t,h).map(w=>rd(w,(_,T)=>RF(T,_))).getOr([]),find:(h,w,_)=>dt(t,w).bind(T=>Fa(_,A=>a(T,A),h))}},PM=()=>{const t=NM(),s={},a=T=>{const A=T.element;return sb(A).getOrThunk(()=>ep("uid-",T.element))},i=(T,A)=>{const R=s[A];if(R===T)p(T);else throw new Error('The tagId "'+A+'" is already used by: '+Eu(R.element)+`
Cannot use it for: `+Eu(T.element)+`
The conflicting element is`+(rr(R.element)?" ":" not ")+"already in the DOM")},d=T=>{const A=a(T);Jr(s,A)&&i(T,A);const R=[T];t.registerId(R,A,T.events),s[A]=T},p=T=>{sb(T.element).each(A=>{delete s[A],t.unregisterId(A)})};return{find:(T,A,R)=>t.find(T,A,R),filter:T=>t.filterByType(T),register:d,unregister:p,getById:T=>dt(s,T)}},Qd=Zc({name:"Container",factory:t=>{const{attributes:s,...a}=t.dom;return{uid:t.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...a},components:t.components,behaviours:Vd(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[be("components",[]),yr("containerBehaviours",[]),be("events",{}),be("domModification",{}),be("eventOrder",{})]}),zC=t=>{const s=ue=>lc(t.element).fold(Et,ae=>Oo(ue,ae)),a=PM(),i=(ue,ae)=>a.find(s,ue,ae),d=EF(t.element,{triggerEvent:(ue,ae)=>x1(ue,ae.target,he=>fz(i,ue,ae,he))}),p={debugInfo:Y("real"),triggerEvent:(ue,ae,he)=>{x1(ue,ae,et=>BM(i,ue,he,ae,et))},triggerFocus:(ue,ae)=>{sb(ue).fold(()=>{wc(ue)},he=>{x1(Hl(),ue,et=>(AF(i,Hl(),{originator:ae,kill:oe,prevent:oe,target:ue},ue,et),!1))})},triggerEscape:(ue,ae)=>{p.triggerEvent("keydown",ue.element,ae.event)},getByUid:ue=>te(ue),getByDom:ue=>ye(ue),build:va,buildOrPatch:w1,addToGui:ue=>{_(ue)},removeFromGui:ue=>{T(ue)},addToWorld:ue=>{h(ue)},removeFromWorld:ue=>{w(ue)},broadcast:ue=>{P(ue)},broadcastOn:(ue,ae)=>{L(ue,ae)},broadcastEvent:(ue,ae)=>{q(ue,ae)},isConnected:Et},h=ue=>{ue.connect(p),Aa(ue.element)||(a.register(ue),ut(ue.components(),h),p.triggerEvent(Mf(),ue.element,{target:ue.element}))},w=ue=>{Aa(ue.element)||(ut(ue.components(),w),a.unregister(ue)),ue.disconnect()},_=ue=>{Jf(t,ue)},T=ue=>{Pu(ue)},A=()=>{d.unbind(),li(t.element)},R=ue=>{const ae=a.filter(Jm());ut(ae,he=>{const et=he.descHandler;ng(et)(ue)})},P=ue=>{R({universal:!0,data:ue})},L=(ue,ae)=>{R({universal:!1,channels:ue,data:ae})},q=(ue,ae)=>{const he=a.filter(ue);return OF(he,ae)},te=ue=>a.getById(ue).fold(()=>xn.error(new Error('Could not find component with uid: "'+ue+'" in system.')),xn.value),ye=ue=>{const ae=sb(ue).getOr("not found");return te(ae)};return h(t),{root:t,element:t.element,destroy:A,add:_,remove:T,getByUid:te,getByDom:ye,addToWorld:h,removeFromWorld:w,broadcast:P,broadcastOn:L,broadcastEvent:q}},MF=(t,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:He(t.items,s.interpreter)}),BF=Y([be("prefix","form-field"),yr("fieldBehaviours",[Zn,Ct])]),NF=Y([_c({schema:[Le("dom")],name:"label"}),_c({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[Le("text")],name:"aria-descriptor"}),_a({factory:{sketch:t=>{const s=nt(t,["factory"]);return t.factory.sketch(s)}},schema:[Le("factory")],name:"field"})]),PF=(t,s,a,i)=>{const d=or(t.fieldBehaviours,[Zn.config({find:w=>Uo(w,t,"field")}),Ct.config({store:{mode:"manual",getValue:w=>Zn.getCurrent(w).bind(Ct.getValue),setValue:(w,_)=>{Zn.getCurrent(w).each(T=>{Ct.setValue(T,_)})}}})]),p=Go([jo((w,_)=>{const T=l2(w,t,["label","field","aria-descriptor"]);T.field().each(A=>{const R=Ot(t.prefix);T.label().each(P=>{_t(P.element,"for",R),_t(A.element,"id",R)}),T["aria-descriptor"]().each(P=>{const L=Ot(t.prefix);_t(P.element,"id",L),_t(A.element,"aria-describedby",L)})})})]),h={getField:w=>Uo(w,t,"field"),getLabel:w=>Uo(w,t,"label")};return{uid:t.uid,dom:t.dom,components:s,behaviours:d,events:p,apis:h}},Eo=xa({name:"FormField",configFields:BF(),partFields:NF(),factory:PF,apis:{getField:(t,s)=>t.getField(s),getLabel:(t,s)=>t.getLabel(s)}});var AC=Object.freeze({__proto__:null,exhibit:(t,s)=>Hc({attributes:Vt([{key:s.tabAttr,value:"true"}])})}),$F=[be("tabAttr","data-alloy-tabstop")];const ys=Rr({fields:$F,name:"tabstopping",active:AC});var IF=tinymce.util.Tools.resolve("tinymce.html.Entities");const $k=(t,s,a,i)=>{const d=LF(t,s,a,i);return Eo.sketch(d)},FF=(t,s)=>$k(t,s,[],[]),LF=(t,s,a,i)=>({dom:Ik(a),components:t.toArray().concat([s]),fieldBehaviours:ct(i)}),gq=()=>Ik([]),Ik=t=>({tag:"div",classes:["tox-form__group"].concat(t)}),su=(t,s)=>Eo.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ls(s.translate(t))]}),xi=Ot("form-component-change"),Pv=Ot("form-close"),nh=Ot("form-cancel"),mm=Ot("form-action"),Fk=Ot("form-submit"),mz=Ot("form-block"),pz=Ot("form-unblock"),$M=Ot("form-tabchange"),IM=Ot("form-resize"),HF=(t,s,a)=>{const i=t.label.map(L=>su(L,s)),d=s.icons(),p=L=>{var q;return(q=d[L])!==null&&q!==void 0?q:L},h=L=>(q,te)=>{Wl(te.event.target,"[data-collection-item-value]").each(ye=>{L(q,te,ye,ks(ye,"data-collection-item-value"))})},w=(L,q)=>{const te=He(q,ae=>{const he=El.translate(ae.text),et=t.columns===1?`<div class="tox-collection__item-label">${he}</div>`:"",Ne=`<div class="tox-collection__item-icon">${p(ae.icon)}</div>`,De={_:" "," - ":" ","-":" "},rt=he.replace(/\_| \- |\-/g,Sn=>De[Sn]);return`<div class="tox-collection__item${s.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${IF.encodeAllRaw(ae.value)}" title="${rt}" aria-label="${rt}">${Ne}${et}</div>`}),ye=t.columns!=="auto"&&t.columns>1?Vs(te,t.columns):[te],ue=He(ye,ae=>`<div class="tox-collection__group">${ae.join("")}</div>`);Qm(L.element,ue.join(""))},_=h((L,q,te,ye)=>{q.stop(),s.isDisabled()||Zt(L,mm,{name:t.name,value:ye})}),T=[Pe(Ll(),h((L,q,te)=>{wc(te)})),Pe(Ed(),_),Pe(Vl(),_),Pe(oa(),h((L,q,te)=>{Ks(L.element,"."+wk).each(ye=>{xs(ye,wk)}),Gs(te,wk)})),Pe(Td(),h(L=>{Ks(L.element,"."+wk).each(q=>{xs(q,wk)})})),yl(h((L,q,te,ye)=>{Zt(L,mm,{name:t.name,value:ye})}))],A=(L,q)=>He(Mr(L.element,".tox-collection__item"),q),R=Eo.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:tn},behaviours:ct([en.config({disabled:s.isDisabled,onDisabled:L=>{A(L,q=>{Gs(q,"tox-collection__item--state-disabled"),_t(q,"aria-disabled",!0)})},onEnabled:L=>{A(L,q=>{xs(q,"tox-collection__item--state-disabled"),Q(q,"aria-disabled")})}}),Nr(),vn.config({}),Ct.config({store:{mode:"memory",initialValue:a.getOr([])},onSetValue:(L,q)=>{w(L,q),t.columns==="auto"&&E3(L,5,"tox-collection__item").each(({numRows:te,numColumns:ye})=>{qt.setGridSize(L,te,ye)}),Gn(L,IM)}}),ys.config({}),qt.config(FI(t.columns,"normal")),Cn("collection-events",T)]),eventOrder:{[Fc()]:["disabling","alloy.base.behaviour","collection-events"]}});return $k(i,R,["tox-form__group--collection"],[])},VF=["input","textarea"],FM=t=>{const s=Xa(t);return Po(VF,s)},LM=(t,s)=>{const a=s.getRoot(t).getOr(t.element);xs(a,s.invalidClass),s.notify.each(i=>{FM(t.element)&&_t(t.element,"aria-invalid",!1),i.getContainer(t).each(d=>{Qm(d,i.validHtml)}),i.onValid(t)})},gz=(t,s,a,i)=>{const d=s.getRoot(t).getOr(t.element);Gs(d,s.invalidClass),s.notify.each(p=>{FM(t.element)&&_t(t.element,"aria-invalid",!0),p.getContainer(t).each(h=>{Qm(h,i)}),p.onInvalid(t,i)})},uy=(t,s,a)=>s.validator.fold(()=>Za.pure(xn.value(!0)),i=>i.validate(t)),Ep=(t,s,a)=>(s.notify.each(i=>{i.onValidate(t)}),uy(t,s).map(i=>t.getSystem().isConnected()?i.fold(d=>(gz(t,s,a,d),xn.error(d)),d=>(LM(t,s),xn.value(d))):xn.error("No longer in system")));var HM=Object.freeze({__proto__:null,markValid:LM,markInvalid:gz,query:uy,run:Ep,isInvalid:(t,s)=>{const a=s.getRoot(t).getOr(t.element);return br(a,s.invalidClass)}}),OC=Object.freeze({__proto__:null,events:(t,s)=>t.validator.map(a=>Go([Pe(a.onEvent,i=>{Ep(i,t,s).get(tn)})].concat(a.validateOnLoad?[jo(i=>{Ep(i,t,s).get(oe)})]:[]))).getOr({})}),UF=[Le("invalidClass"),be("getRoot",E.none),ya("notify",[be("aria","alert"),be("getContainer",E.none),be("validHtml",""),Qn("onValid"),Qn("onInvalid"),Qn("onValidate")]),ya("validator",[Le("validate"),be("onEvent","input"),be("validateOnLoad",!0)])];const Ol=Rr({fields:UF,name:"invalidating",active:OC,apis:HM,extra:{validation:t=>s=>{const a=Ct.getValue(s);return Za.pure(t(a))}}});var WF=Object.freeze({__proto__:null,events:()=>Go([k0(j_(),Et)]),exhibit:()=>Hc({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const Lk=Rr({fields:[],name:"unselecting",active:WF}),ZF=(t,s)=>ou.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:ct([vr.button(s.providers.isDisabled),Nr(),Lk.config({}),ys.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:a=>Za.nu(i=>t.fetch(i)).map(i=>E.from(EC(Ro(ez(Ot("menu-value"),i,d=>{t.onItemAction(a,d)},t.columns,t.presets,Jd.CLOSE_ON_EXECUTE,Nn,s.providers),{movement:xC(t.columns,t.presets)})))),parts:{menu:Cv(!1,1,t.presets)}}),VM=Ot("color-input-change"),jM=Ot("color-swatch-change"),Hk=Ot("color-picker-cancel"),qF=(t,s,a,i)=>{const d=Eo.parts.field({factory:ay,inputClasses:["tox-textfield"],data:i,onSetValue:T=>Ol.run(T).get(oe),inputBehaviours:ct([en.config({disabled:s.providers.isDisabled}),Nr(),ys.config({}),Ol.config({invalidClass:"tox-textbox-field-invalid",getRoot:T=>oi(T.element),notify:{onValid:T=>{const A=Ct.getValue(T);Zt(T,VM,{color:A})}},validator:{validateOnLoad:!1,validate:T=>{const A=Ct.getValue(T);if(A.length===0)return Za.pure(xn.value(!0));{const R=me.fromTag("span");Mt(R,"background-color",A);const P=$s(R,"background-color").fold(()=>xn.error("blah"),L=>xn.value(A));return Za.pure(P)}}}})]),selectOnFocus:!1}),p=t.label.map(T=>su(T,s.providers)),h=(T,A)=>{Zt(T,jM,{value:A})},w=(T,A)=>{_.getOpt(T).each(R=>{A==="custom"?a.colorPicker(P=>{P.fold(()=>Gn(R,Hk),L=>{h(R,L),W3(t.storageKey,L)})},"#ffffff"):A==="remove"?h(R,""):h(R,A)})},_=To(ZF({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[aa,Or,Dr],onLtr:()=>[Or,aa,Dr]},components:[],fetch:iM(a.getColors(t.storageKey),t.storageKey,a.hasCustomColors()),columns:a.getColorCols(t.storageKey),presets:"color",onItemAction:w},s));return Eo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:p.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[d,_.asSpec()]}]),fieldBehaviours:ct([Cn("form-field-events",[Pe(VM,(T,A)=>{_.getOpt(T).each(R=>{Mt(R.element,"background-color",A.event.color)}),Zt(T,xi,{name:t.name})}),Pe(jM,(T,A)=>{Eo.getField(T).each(R=>{Ct.setValue(R,A.event.value),Zn.getCurrent(T).each(on.focus)})}),Pe(Hk,(T,A)=>{Eo.getField(T).each(R=>{Zn.getCurrent(T).each(on.focus)})})])])})},hz=_c({schema:[Le("dom")],name:"label"}),oh=t=>_c({name:""+t+"-edge",overrides:s=>s.model.manager.edgeActions[t].fold(()=>({}),i=>({events:Go([a1(Ic(),(d,p,h)=>i(d,h),[s]),a1(Vn(),(d,p,h)=>i(d,h),[s]),a1(zr(),(d,p,h)=>{h.mouseIsDown.get()&&i(d,h)},[s])])}))}),GF=oh("top-left"),KF=oh("top"),UM=oh("top-right"),YF=oh("right"),XF=oh("bottom-right"),JF=oh("bottom"),WM=oh("bottom-left"),QF=oh("left"),eL=_a({name:"thumb",defaults:Y({dom:{styles:{position:"absolute"}}}),overrides:t=>({events:Go([Yp(Ic(),t,"spectrum"),Yp(Of(),t,"spectrum"),Yp(Sd(),t,"spectrum"),Yp(Vn(),t,"spectrum"),Yp(zr(),t,"spectrum"),Yp(Yh(),t,"spectrum")])})}),RC=t=>Gd(t.event),tL=_a({schema:[Bs("mouseIsDown",()=>Kt(!1))],name:"spectrum",overrides:t=>{const a=t.model.manager,i=(d,p)=>a.getValueFromEvent(p).map(h=>a.setValueFrom(d,t,h));return{behaviours:ct([qt.config({mode:"special",onLeft:(d,p)=>a.onLeft(d,t,RC(p)),onRight:(d,p)=>a.onRight(d,t,RC(p)),onUp:(d,p)=>a.onUp(d,t,RC(p)),onDown:(d,p)=>a.onDown(d,t,RC(p))}),ys.config({}),on.config({})]),events:Go([Pe(Ic(),i),Pe(Of(),i),Pe(Vn(),i),Pe(zr(),(d,p)=>{t.mouseIsDown.get()&&i(d,p)})])}}});var nL=[hz,QF,YF,KF,JF,GF,UM,WM,XF,eL,tL];const $v=Y("slider.change.value"),sL=t=>t.type.indexOf("touch")!==-1,bz=t=>{const s=t.event.raw;if(sL(s)){const a=s;return a.touches!==void 0&&a.touches.length===1?E.some(a.touches[0]).map(i=>xo(i.clientX,i.clientY)):E.none()}else{const a=s;return a.clientX!==void 0?E.some(a).map(i=>xo(i.clientX,i.clientY)):E.none()}},rL="top",aL="right",cL="bottom",ZM="left",Zu=t=>t.model.minX,dy=t=>t.model.minY,MC=t=>t.model.minX-1,BC=t=>t.model.minY-1,pm=t=>t.model.maxX,ic=t=>t.model.maxY,Iv=t=>t.model.maxX+1,Vk=t=>t.model.maxY+1,qM=(t,s,a)=>s(t)-a(t),yz=t=>qM(t,pm,Zu),vz=t=>qM(t,ic,dy),GM=t=>yz(t)/2,wz=t=>vz(t)/2,fy=(t,s)=>s?t.stepSize*t.speedMultiplier:t.stepSize,KM=t=>t.snapToGrid,YM=t=>t.snapStart,kz=t=>t.rounded,NC=(t,s)=>t[s+"-edge"]!==void 0,_z=t=>NC(t,ZM),xz=t=>NC(t,aL),Cz=t=>NC(t,rL),XM=t=>NC(t,cL),zp=t=>t.model.value.get(),sh=(t,s)=>({x:t,y:s}),qu=(t,s)=>{Zt(t,$v(),{value:s})},iL=(t,s)=>{qu(t,sh(MC(s),BC(s)))},lL=(t,s)=>{qu(t,BC(s))},Sz=(t,s)=>{qu(t,sh(GM(s),BC(s)))},uL=(t,s)=>{qu(t,sh(Iv(s),BC(s)))},JM=(t,s)=>{qu(t,Iv(s))},dL=(t,s)=>{qu(t,sh(Iv(s),wz(s)))},fL=(t,s)=>{qu(t,sh(Iv(s),Vk(s)))},mL=(t,s)=>{qu(t,Vk(s))},pL=(t,s)=>{qu(t,sh(GM(s),Vk(s)))},gL=(t,s)=>{qu(t,sh(MC(s),Vk(s)))},hL=(t,s)=>{qu(t,MC(s))},bL=(t,s)=>{qu(t,sh(MC(s),wz(s)))},PC=(t,s,a,i)=>t<s?t:t>a?a:t===s?s-1:Math.max(s,t-i),$C=(t,s,a,i)=>t>a?t:t<s?s:t===a?a+1:Math.min(a,t+i),QM=(t,s,a)=>Math.max(s,Math.min(a,t)),yL=(t,s,a,i,d)=>d.fold(()=>{const p=t-s,h=Math.round(p/i)*i;return QM(s+h,s-1,a+1)},p=>{const h=(t-p)%i,w=Math.round(h/i),_=Math.floor((t-p)/i),T=Math.floor((a-p)/i),A=Math.min(T,_+w),R=p+A*i;return Math.max(p,R)}),vL=(t,s,a)=>Math.min(a,Math.max(t,s))-s,e6=t=>{const{min:s,max:a,range:i,value:d,step:p,snap:h,snapStart:w,rounded:_,hasMinEdge:T,hasMaxEdge:A,minBound:R,maxBound:P,screenRange:L}=t,q=T?s-1:s,te=A?a+1:a;if(d<R)return q;if(d>P)return te;{const ye=vL(d,R,P),ue=QM(ye/L*i+s,q,te);return h&&ue>=s&&ue<=a?yL(ue,s,a,p,w):_?Math.round(ue):ue}},t6=t=>{const{min:s,max:a,range:i,value:d,hasMinEdge:p,hasMaxEdge:h,maxBound:w,maxOffset:_,centerMinEdge:T,centerMaxEdge:A}=t;return d<s?p?0:T:d>a?h?w:A:(d-s)/i*_},Tz="top",Ez="right",zz="bottom",IC="left",Az="width",wL="height",ef=t=>t.element.dom.getBoundingClientRect(),Gu=(t,s)=>t[s],FC=t=>{const s=ef(t);return Gu(s,IC)},n6=t=>{const s=ef(t);return Gu(s,Ez)},LC=t=>{const s=ef(t);return Gu(s,Tz)},HC=t=>{const s=ef(t);return Gu(s,zz)},gm=t=>{const s=ef(t);return Gu(s,Az)},o6=t=>{const s=ef(t);return Gu(s,wL)},Fv=(t,s,a)=>(t+s)/2-a,s6=(t,s)=>{const a=ef(t),i=ef(s),d=Gu(a,IC),p=Gu(a,Ez),h=Gu(i,IC);return Fv(d,p,h)},VC=(t,s)=>{const a=ef(t),i=ef(s),d=Gu(a,Tz),p=Gu(a,zz),h=Gu(i,Tz);return Fv(d,p,h)},jC=(t,s)=>{Zt(t,$v(),{value:s})},Oz=(t,s,a)=>{const i={min:Zu(s),max:pm(s),range:yz(s),value:a,step:fy(s),snap:KM(s),snapStart:YM(s),rounded:kz(s),hasMinEdge:_z(s),hasMaxEdge:xz(s),minBound:FC(t),maxBound:n6(t),screenRange:gm(t)};return e6(i)},kL=(t,s,a)=>{const i=Oz(t,s,a);return jC(t,i),i},r6=(t,s)=>{const a=Zu(s);jC(t,a)},_L=(t,s)=>{const a=pm(s);jC(t,a)},Dz=(t,s,a,i)=>{const p=(t>0?$C:PC)(zp(a),Zu(a),pm(a),fy(a,i));return jC(s,p),E.some(p)},UC=t=>(s,a,i)=>Dz(t,s,a,i).map(Et),Rz=t=>bz(t).map(a=>a.left),xL=(t,s,a,i,d)=>{const h=gm(t),w=i.bind(A=>E.some(s6(A,t))).getOr(0),_=d.bind(A=>E.some(s6(A,t))).getOr(h),T={min:Zu(s),max:pm(s),range:yz(s),value:a,hasMinEdge:_z(s),hasMaxEdge:xz(s),minBound:FC(t),minOffset:0,maxBound:n6(t),maxOffset:h,centerMinEdge:w,centerMaxEdge:_};return t6(T)},Ci=(t,s,a,i,d,p)=>{const h=xL(s,p,a,i,d);return FC(s)-FC(t)+h},CL=(t,s,a,i)=>{const d=zp(a),p=Ci(t,i.getSpectrum(t),d,i.getLeftEdge(t),i.getRightEdge(t),a),h=mr(s.element)/2;Mt(s.element,"left",p-h+"px")},SL=UC(-1),a6=UC(1),c6=E.none,TL=E.none,EL={"top-left":E.none(),top:E.none(),"top-right":E.none(),right:E.some(JM),"bottom-right":E.none(),bottom:E.none(),"bottom-left":E.none(),left:E.some(hL)};var zL=Object.freeze({__proto__:null,setValueFrom:kL,setToMin:r6,setToMax:_L,findValueOfOffset:Oz,getValueFromEvent:Rz,findPositionOfValue:Ci,setPositionFromValue:CL,onLeft:SL,onRight:a6,onUp:c6,onDown:TL,edgeActions:EL});const WC=(t,s)=>{Zt(t,$v(),{value:s})},Mz=(t,s,a)=>{const i={min:dy(s),max:ic(s),range:vz(s),value:a,step:fy(s),snap:KM(s),snapStart:YM(s),rounded:kz(s),hasMinEdge:Cz(s),hasMaxEdge:XM(s),minBound:LC(t),maxBound:HC(t),screenRange:o6(t)};return e6(i)},AL=(t,s,a)=>{const i=Mz(t,s,a);return WC(t,i),i},OL=(t,s)=>{const a=dy(s);WC(t,a)},i6=(t,s)=>{const a=ic(s);WC(t,a)},DL=(t,s,a,i)=>{const p=(t>0?$C:PC)(zp(a),dy(a),ic(a),fy(a,i));return WC(s,p),E.some(p)},l6=t=>(s,a,i)=>DL(t,s,a,i).map(Et),RL=t=>bz(t).map(a=>a.top),u6=(t,s,a,i,d)=>{const h=o6(t),w=i.bind(A=>E.some(VC(A,t))).getOr(0),_=d.bind(A=>E.some(VC(A,t))).getOr(h),T={min:dy(s),max:ic(s),range:vz(s),value:a,hasMinEdge:Cz(s),hasMaxEdge:XM(s),minBound:LC(t),minOffset:0,maxBound:HC(t),maxOffset:h,centerMinEdge:w,centerMaxEdge:_};return t6(T)},jk=(t,s,a,i,d,p)=>{const h=u6(s,p,a,i,d);return LC(s)-LC(t)+h},ML=(t,s,a,i)=>{const d=zp(a),p=jk(t,i.getSpectrum(t),d,i.getTopEdge(t),i.getBottomEdge(t),a),h=er(s.element)/2;Mt(s.element,"top",p-h+"px")},Bz=E.none,Lv=E.none,d6=l6(-1),f6=l6(1),m6={"top-left":E.none(),top:E.some(lL),"top-right":E.none(),right:E.none(),"bottom-right":E.none(),bottom:E.some(mL),"bottom-left":E.none(),left:E.none()};var BL=Object.freeze({__proto__:null,setValueFrom:AL,setToMin:OL,setToMax:i6,findValueOfOffset:Mz,getValueFromEvent:RL,findPositionOfValue:jk,setPositionFromValue:ML,onLeft:Bz,onRight:Lv,onUp:d6,onDown:f6,edgeActions:m6});const ZC=(t,s)=>{Zt(t,$v(),{value:s})},my=(t,s)=>({x:t,y:s}),NL=(t,s,a)=>{const i=Oz(t,s,a.left),d=Mz(t,s,a.top),p=my(i,d);return ZC(t,p),p},PL=(t,s,a,i,d)=>{const p=t>0?$C:PC,h=s?zp(i).x:p(zp(i).x,Zu(i),pm(i),fy(i,d)),w=s?p(zp(i).y,dy(i),ic(i),fy(i,d)):zp(i).y;return ZC(a,my(h,w)),E.some(h)},Uk=(t,s)=>(a,i,d)=>PL(t,s,a,i,d).map(Et),p6=(t,s)=>{const a=Zu(s),i=dy(s);ZC(t,my(a,i))},Nz=(t,s)=>{const a=pm(s),i=ic(s);ZC(t,my(a,i))},g6=t=>bz(t),Gc=(t,s,a,i)=>{const d=zp(a),p=Ci(t,i.getSpectrum(t),d.x,i.getLeftEdge(t),i.getRightEdge(t),a),h=jk(t,i.getSpectrum(t),d.y,i.getTopEdge(t),i.getBottomEdge(t),a),w=mr(s.element)/2,_=er(s.element)/2;Mt(s.element,"left",p-w+"px"),Mt(s.element,"top",h-_+"px")},h6=Uk(-1,!1),$L=Uk(1,!1),IL=Uk(-1,!0),b6=Uk(1,!0),FL={"top-left":E.some(iL),top:E.some(Sz),"top-right":E.some(uL),right:E.some(dL),"bottom-right":E.some(fL),bottom:E.some(pL),"bottom-left":E.some(gL),left:E.some(bL)};var LL=Object.freeze({__proto__:null,setValueFrom:NL,setToMin:p6,setToMax:Nz,getValueFromEvent:g6,setPositionFromValue:Gc,onLeft:h6,onRight:$L,onUp:IL,onDown:b6,edgeActions:FL});const HL=[be("stepSize",1),be("speedMultiplier",10),be("onChange",oe),be("onChoose",oe),be("onInit",oe),be("onDragStart",oe),be("onDragEnd",oe),be("snapToGrid",!1),be("rounded",!0),vo("snapStart"),nc("model",Wn("mode",{x:[be("minX",0),be("maxX",100),Bs("value",t=>Kt(t.mode.minX)),Le("getInitialValue"),Bo("manager",zL)],y:[be("minY",0),be("maxY",100),Bs("value",t=>Kt(t.mode.minY)),Le("getInitialValue"),Bo("manager",BL)],xy:[be("minX",0),be("maxX",100),be("minY",0),be("maxY",100),Bs("value",t=>Kt({x:t.mode.minX,y:t.mode.minY})),Le("getInitialValue"),Bo("manager",LL)]})),yr("sliderBehaviours",[qt,Ct]),Bs("mouseIsDown",()=>Kt(!1))],Sa=xa({name:"Slider",configFields:HL,partFields:nL,factory:(t,s,a,i)=>{const d=Ne=>Ud(Ne,t,"thumb"),p=Ne=>Ud(Ne,t,"spectrum"),h=Ne=>Uo(Ne,t,"left-edge"),w=Ne=>Uo(Ne,t,"right-edge"),_=Ne=>Uo(Ne,t,"top-edge"),T=Ne=>Uo(Ne,t,"bottom-edge"),A=t.model,R=A.manager,P=(Ne,De)=>{R.setPositionFromValue(Ne,De,t,{getLeftEdge:h,getRightEdge:w,getTopEdge:_,getBottomEdge:T,getSpectrum:p})},L=(Ne,De)=>{A.value.set(De);const rt=d(Ne);P(Ne,rt)},q=(Ne,De)=>{L(Ne,De);const rt=d(Ne);return t.onChange(Ne,rt,De),E.some(!0)},te=Ne=>{R.setToMin(Ne,t)},ye=Ne=>{R.setToMax(Ne,t)},ue=Ne=>{const De=()=>{Uo(Ne,t,"thumb").each(pt=>{const Sn=A.value.get();t.onChoose(Ne,pt,Sn)})},rt=t.mouseIsDown.get();t.mouseIsDown.set(!1),rt&&De()},ae=(Ne,De)=>{De.stop(),t.mouseIsDown.set(!0),t.onDragStart(Ne,d(Ne))},he=(Ne,De)=>{De.stop(),t.onDragEnd(Ne,d(Ne)),ue(Ne)},et=Ne=>{Uo(Ne,t,"spectrum").map(qt.focusIn)};return{uid:t.uid,dom:t.dom,components:s,behaviours:or(t.sliderBehaviours,[qt.config({mode:"special",focusIn:et}),Ct.config({store:{mode:"manual",getValue:Ne=>A.value.get(),setValue:L}}),vc.config({channels:{[Rw()]:{onReceive:ue}}})]),events:Go([Pe($v(),(Ne,De)=>{q(Ne,De.event.value)}),jo((Ne,De)=>{const rt=A.getInitialValue();A.value.set(rt);const pt=d(Ne);P(Ne,pt);const Sn=p(Ne);t.onInit(Ne,pt,Sn,A.value.get())}),Pe(Ic(),ae),Pe(Sd(),he),Pe(Vn(),(Ne,De)=>{et(Ne),ae(Ne,De)}),Pe(Yh(),he)]),apis:{resetToMin:te,resetToMax:ye,setValue:L,refresh:P},domModification:{styles:{position:"relative"}}}},apis:{setValue:(t,s,a)=>{t.setValue(s,a)},resetToMin:(t,s)=>{t.resetToMin(s)},resetToMax:(t,s)=>{t.resetToMax(s)},refresh:(t,s)=>{t.refresh(s)}}}),Wk=Ot("rgb-hex-update"),Pz=Ot("slider-update"),Zk=Ot("palette-update"),$z=(t,s)=>{const a=Sa.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),i=Sa.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return Sa.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:Y(0)},components:[a,i],sliderBehaviours:ct([on.config({})]),onChange:(d,p,h)=>{_t(d.element,"aria-valuenow",Math.floor(360-h*3.6)),Zt(d,Pz,{value:h})}})},y6="form",jL=[yr("formBehaviours",[Ct])],v6=t=>"<alloy.field."+t+">",UL=t=>{const s=(()=>{const p=[];return{field:(w,_)=>(p.push(w),Fw(y6,v6(w),_)),record:Y(p)}})(),a=t(s),i=s.record(),d=He(i,p=>_a({name:p,pname:v6(p)}));return Zw(y6,jL,d,ZL,a)},WL=(t,s)=>t.fold(()=>xn.error(s),xn.value),ZL=(t,s)=>({uid:t.uid,dom:t.dom,components:s,behaviours:or(t.formBehaviours,[Ct.config({store:{mode:"manual",getValue:a=>{const i=Hw(a,t);return Jn(i,(d,p)=>d().bind(h=>{const w=Zn.getCurrent(h);return WL(w,new Error(`Cannot find a current component to extract the value from for form part '${p}': `+Eu(h.element)))}).map(Ct.getValue))},setValue:(a,i)=>{_o(i,(d,p)=>{Uo(a,t,p).each(h=>{Zn.getCurrent(h).each(w=>{Ct.setValue(w,d)})})})}}})]),apis:{getField:(a,i)=>Uo(a,t,i).bind(Zn.getCurrent)}}),Hv={getField:tp((t,s,a)=>t.getField(s,a)),sketch:UL},Iz=Ot("valid-input"),w6=Ot("invalid-input"),tf=Ot("validating-input"),Vv="colorcustom.rgb.",qL=(t,s,a,i)=>{const d=(P,L)=>Ol.config({invalidClass:s("invalid"),notify:{onValidate:q=>{Zt(q,tf,{type:P})},onValid:q=>{Zt(q,Iz,{type:P,value:Ct.getValue(q)})},onInvalid:q=>{Zt(q,w6,{type:P,value:Ct.getValue(q)})}},validator:{validate:q=>{const te=Ct.getValue(q),ye=L(te)?xn.value(!0):xn.error(t("aria.input.invalid"));return Za.pure(ye)},validateOnLoad:!1}}),p=(P,L,q,te,ye)=>{const ue=t(Vv+"range"),ae=Eo.parts.label({dom:{tag:"label",attributes:{"aria-label":te}},components:[Ls(q)]}),he=Eo.parts.field({data:ye,factory:ay,inputAttributes:{type:"text",...L==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:ct([d(L,P),ys.config({})]),onSetValue:rt=>{Ol.isInvalid(rt)&&Ol.run(rt).get(oe)}}),et=[ae,he],Ne=L!=="hex"?[Eo.parts["aria-descriptor"]({text:ue})]:[],De=et.concat(Ne);return{dom:{tag:"div",attributes:{role:"presentation"}},components:De}},h=(P,L)=>{const q=Bv(L);return Hv.getField(P,"hex").each(te=>{on.isFocused(te)||Ct.setValue(P,{hex:q.value})}),q},w=(P,L)=>{const q=L.red,te=L.green,ye=L.blue;Ct.setValue(P,{red:q,green:te,blue:ye})},_=To({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),T=(P,L)=>{_.getOpt(P).each(q=>{Mt(q.element,"background-color","#"+L.value)})};return Zc({factory:()=>{const P={red:Kt(E.some(255)),green:Kt(E.some(255)),blue:Kt(E.some(255)),hex:Kt(E.some("ffffff"))},L=(sn,Co)=>{const Xt=Ok(Co);w(sn,Xt),ue(Xt)},q=sn=>P[sn].get(),te=(sn,Co)=>{P[sn].set(Co)},ye=()=>q("red").bind(sn=>q("green").bind(Co=>q("blue").map(Xt=>Jg(sn,Co,Xt,1)))),ue=sn=>{const Co=sn.red,Xt=sn.green,so=sn.blue;te("red",E.some(Co)),te("green",E.some(Xt)),te("blue",E.some(so))},ae=(sn,Co)=>{const Xt=Co.event;Xt.type!=="hex"?te(Xt.type,E.none()):i(sn)},he=(sn,Co)=>{a(sn);const Xt=$R(Co);te("hex",E.some(Xt.value));const so=Ok(Xt);w(sn,so),ue(so),Zt(sn,Wk,{hex:Xt}),T(sn,Xt)},et=(sn,Co,Xt)=>{const so=parseInt(Xt,10);te(Co,E.some(so)),ye().each(gt=>{const Nt=h(sn,gt);Zt(sn,Wk,{hex:Nt}),T(sn,Nt)})},Ne=sn=>sn.type==="hex",De=(sn,Co)=>{const Xt=Co.event;Ne(Xt)?he(sn,Xt.value):et(sn,Xt.type,Xt.value)},rt=sn=>({label:t(Vv+sn+".label"),description:t(Vv+sn+".description")}),pt=rt("red"),Sn=rt("green"),At=rt("blue"),ln=rt("hex");return Ro(Hv.sketch(sn=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[sn.field("red",Eo.sketch(p($3,"red",pt.label,pt.description,255))),sn.field("green",Eo.sketch(p($3,"green",Sn.label,Sn.description,255))),sn.field("blue",Eo.sketch(p($3,"blue",At.label,At.description,255))),sn.field("hex",Eo.sketch(p(LR,"hex",ln.label,ln.description,"ffffff"))),_.asSpec()],formBehaviours:ct([Ol.config({invalidClass:s("form-invalid")}),Cn("rgb-form-events",[Pe(Iz,De),Pe(w6,ae),Pe(tf,ae)])])})),{apis:{updateHex:(sn,Co)=>{Ct.setValue(sn,{hex:Co.value}),L(sn,Co),T(sn,Co)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(P,L,q)=>{P.updateHex(L,q)}},extraApis:{}})},GL=(t,s)=>{const a=Sa.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),i=Sa.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),d=(T,A)=>{const{width:R,height:P}=T,L=T.getContext("2d");if(L===null)return;L.fillStyle=A,L.fillRect(0,0,R,P);const q=L.createLinearGradient(0,0,R,0);q.addColorStop(0,"rgba(255,255,255,1)"),q.addColorStop(1,"rgba(255,255,255,0)"),L.fillStyle=q,L.fillRect(0,0,R,P);const te=L.createLinearGradient(0,0,0,P);te.addColorStop(0,"rgba(0,0,0,0)"),te.addColorStop(1,"rgba(0,0,0,1)"),L.fillStyle=te,L.fillRect(0,0,R,P)},p=(T,A)=>{const R=T.components()[0].element.dom,P=Rk(A,100,100),L=qR(P);d(R,F3(L))},h=(T,A)=>{const R=yC(Ok(A));Sa.setValue(T,{x:R.saturation,y:100-R.value}),_t(T.element,"aria-valuetext",t(["Saturation {0}%, Brightness {1}%",R.saturation,R.value]))};return Zc({factory:T=>{const A=Y({x:0,y:0}),R=(q,te,ye)=>{zo(ye)||_t(q.element,"aria-valuetext",t(["Saturation {0}%, Brightness {1}%",Math.floor(ye.x),Math.floor(100-ye.y)])),Zt(q,Zk,{value:ye})},P=(q,te,ye,ue)=>{d(ye.element.dom,F3(nu))},L=ct([Zn.config({find:E.some}),on.config({})]);return Sa.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":t(["Saturation {0}%, Brightness {1}%",0,0])},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:A},rounded:!1,components:[a,i],onChange:R,onInit:P,sliderBehaviours:L})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(T,A,R)=>{p(A,R)},setThumb:(T,A,R)=>{h(A,R)}},extraApis:{}})},k6=(t,s)=>{const a=d=>{const p=qL(t,s,d.onValidHex,d.onInvalidHex),h=GL(t,s),w=De=>(100-De)/100*360,_=De=>100-De/360*100,T={paletteRgba:Kt(nu),paletteHue:Kt(0)},A=To($z(t,s)),R=To(h.sketch({})),P=To(p.sketch({})),L=(De,rt,pt)=>{R.getOpt(De).each(Sn=>{h.setHue(Sn,pt)})},q=(De,rt)=>{P.getOpt(De).each(pt=>{p.updateHex(pt,rt)})},te=(De,rt,pt)=>{A.getOpt(De).each(Sn=>{Sa.setValue(Sn,_(pt))})},ye=(De,rt)=>{R.getOpt(De).each(pt=>{h.setThumb(pt,rt)})},ue=(De,rt)=>{const pt=Ok(De);T.paletteRgba.set(pt),T.paletteHue.set(rt)},ae=(De,rt,pt,Sn)=>{ue(rt,pt),ut(Sn,At=>{At(De,rt,pt)})},he=()=>{const De=[q];return(rt,pt)=>{const Sn=pt.event.value,At=T.paletteHue.get(),ln=Rk(At,Sn.x,100-Sn.y),sn=tM(ln);ae(rt,sn,At,De)}},et=()=>{const De=[L,q];return(rt,pt)=>{const Sn=w(pt.event.value),At=T.paletteRgba.get(),ln=yC(At),sn=Rk(Sn,ln.saturation,ln.value),Co=tM(sn);ae(rt,Co,Sn,De)}},Ne=()=>{const De=[L,te,ye];return(rt,pt)=>{const Sn=pt.event.hex,At=zI(Sn);ae(rt,Sn,At.hue,De)}};return{uid:d.uid,dom:d.dom,components:[R.asSpec(),A.asSpec(),P.asSpec()],behaviours:ct([Cn("colour-picker-events",[Pe(Wk,Ne()),Pe(Zk,he()),Pe(Pz,et())]),Zn.config({find:De=>P.getOpt(De)}),qt.config({mode:"acyclic"})])}};return Zc({name:"ColourPicker",configFields:[Le("dom"),be("onValidHex",oe),be("onInvalidHex",oe)],factory:a})},Si={self:()=>Zn.config({find:E.some}),memento:t=>Zn.config({find:t.getOpt}),childAt:t=>Zn.config({find:s=>ol(s.element,t).bind(a=>s.getSystem().getByDom(a).toOptional())})},qk=Ht([be("preprocess",tn),be("postprocess",tn)]),x6=(t,s)=>{const a=ba("RepresentingConfigs.memento processors",qk,s);return Ct.config({store:{mode:"manual",getValue:i=>{const d=t.get(i),p=Ct.getValue(d);return a.postprocess(p)},setValue:(i,d)=>{const p=a.preprocess(d),h=t.get(i);Ct.setValue(h,p)}}})},rh=(t,s,a)=>Ct.config({store:{mode:"manual",...t.map(i=>({initialValue:i})).getOr({}),getValue:s,setValue:a}}),Lz=(t,s,a)=>rh(t,i=>s(i.element),(i,d)=>a(i.element,d)),C6=t=>Lz(t,T0,Qm),qC=t=>Ct.config({store:{mode:"memory",initialValue:t}}),YL={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},XL=t=>s=>Me(s)?t.translate(YL[s]):t.translate(s),JL=(t,s,a)=>{const i=_=>"tox-"+_,d=k6(XL(s),i),p=_=>{Zt(_,mm,{name:"hex-valid",value:!0})},h=_=>{Zt(_,mm,{name:"hex-valid",value:!1})},w=To(d.sketch({dom:{tag:"div",classes:[i("color-picker-container")],attributes:{role:"presentation"}},onValidHex:p,onInvalidHex:h}));return{dom:{tag:"div"},components:[w.asSpec()],behaviours:ct([rh(a,_=>{const T=w.get(_);return Zn.getCurrent(T).bind(P=>Ct.getValue(P).hex).map(P=>"#"+ad(P,"#")).getOr("")},(_,T)=>{const A=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,R=E.from(A.exec(T)).bind(q=>go(q,1)),P=w.get(_);Zn.getCurrent(P).fold(()=>{console.log("Can not find form")},q=>{Ct.setValue(q,{hex:R.getOr("")}),Hv.getField(q,"hex").each(te=>{Gn(te,Km())})})}),Si.self()])}};var QL=tinymce.util.Tools.resolve("tinymce.Resource");const S6=t=>ho(t,"init"),T6=t=>{const s=Fn(),a=To({dom:{tag:t.tag}}),i=Fn();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:ct([Cn("custom-editor-events",[jo(d=>{a.getOpt(d).each(p=>{(S6(t)?t.init(p.element.dom):QL.load(t.scriptId,t.scriptUrl).then(h=>h(p.element.dom,t.settings))).then(h=>{i.on(w=>{h.setValue(w)}),i.clear(),s.set(h)})})})]),rh(E.none(),()=>s.get().fold(()=>i.get().getOr(""),d=>d.getValue()),(d,p)=>{s.get().fold(()=>i.set(p),h=>h.setValue(p))}),Si.self()]),components:[a.asSpec()]}};var Ap=tinymce.util.Tools.resolve("tinymce.util.Tools");const E6=(t,s)=>{const a=Ap.explode(s.getOption("images_file_types")),i=d=>Ps(a,p=>ti(d.name.toLowerCase(),`.${p.toLowerCase()}`));return Hn(cs(t),i)},eH=(t,s,a)=>{const i=(P,L)=>{L.stop()},d=P=>(L,q)=>{ut(P,te=>{te(L,q)})},p=(P,L)=>{var q;if(!en.isDisabled(P)){const te=L.event.raw;w(P,(q=te.dataTransfer)===null||q===void 0?void 0:q.files)}},h=(P,L)=>{const q=L.event.raw.target;w(P,q.files)},w=(P,L)=>{L&&(Ct.setValue(P,E6(L,s)),Zt(P,xi,{name:t.name}))},_=To({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:ct([Cn("input-file-events",[Ad(Ed()),Ad(Vl())])])}),T=P=>({uid:P.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:ct([qC(a.getOr([])),Si.self(),en.config({}),Dn.config({toggleClass:"dragenter",toggleOnExecute:!1}),Cn("dropzone-events",[Pe("dragenter",d([i,Dn.toggle])),Pe("dragleave",d([i,Dn.toggle])),Pe("dragover",i),Pe("drop",d([i,p])),Pe(Gp(),h)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Ls(s.translate("Drop an image here"))]},Gr.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Ls(s.translate("Browse for an image")),_.asSpec()],action:L=>{_.get(L).element.dom.click()},buttonBehaviours:ct([ys.config({}),vr.button(s.isDisabled),Nr()])})]}]}),A=t.label.map(P=>su(P,s)),R=Eo.parts.field({factory:{sketch:T}});return $k(A,R,["tox-form__group--stretched"],[])},z6=(t,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${t.columns}col`]},components:He(t.items,s.interpreter)}),Gk=(t,s)=>{let a=null,i=null;return{cancel:()=>{ht(a)||(clearTimeout(a),a=null,i=null)},throttle:(...h)=>{i=h,ht(a)&&(a=setTimeout(()=>{const w=i;a=null,i=null,t.apply(null,w)},s))}}},tH=(t,s)=>{let a=null;return{cancel:()=>{ht(a)||(clearTimeout(a),a=null)},throttle:(...p)=>{ht(a)&&(a=setTimeout(()=>{a=null,t.apply(null,p)},s))}}},GC=(t,s)=>{let a=null;const i=()=>{ht(a)||(clearTimeout(a),a=null)};return{cancel:i,throttle:(...p)=>{i(),a=setTimeout(()=>{a=null,t.apply(null,p)},s)}}},Hz=Ot("alloy-fake-before-tabstop"),Vz=Ot("alloy-fake-after-tabstop"),A6=t=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:ct([on.config({ignore:!0}),ys.config({})])}),O6=(t,s)=>({dom:{tag:"div",classes:["tox-navobj",...t.getOr([])]},components:[A6([Hz]),s,A6([Vz])],behaviours:ct([Si.childAt(1)])}),jz=(t,s)=>{Zt(t,bl(),{raw:{which:9,shiftKey:s}})},nH=(t,s)=>{const a=s.element;br(a,Hz)?jz(t,!0):br(a,Vz)&&jz(t,!1)},jv=t=>Nk(t,["."+Hz,"."+Vz].join(","),Nn),Uv=Ot("update-dialog"),hm=Ot("update-title"),KC=Ot("update-body"),Uz=Ot("update-footer"),Wz=Ot("body-send-message"),Wv=Ot("dialog-focus-shifted"),YC=il().browser,ah=YC.isSafari(),D6=YC.isFirefox(),Zz=ah||D6,oH=YC.isChromium(),sH=({scrollTop:t,scrollHeight:s,clientHeight:a})=>Math.ceil(t)+a>=s,R6=(t,s)=>t.scrollTo(0,s==="bottom"?99999999:s),rH=(t,s)=>{const a=t.body;return E.from(!/^<!DOCTYPE (html|HTML)/.test(s)&&(!oH&&!ah||Tn(a)&&(a.scrollTop!==0||Math.abs(a.scrollHeight-a.clientHeight)>1))?a:t.documentElement)},M6=(t,s,a)=>{const i=t.dom;E.from(i.contentDocument).fold(a,d=>{let p=0;const h=rH(d,s).map(_=>(p=_.scrollTop,_)).forall(sH),w=()=>{const _=i.contentWindow;Tn(_)&&(h?R6(_,"bottom"):!h&&Zz&&p!==0&&R6(_,p))};ah&&i.addEventListener("load",w,{once:!0}),d.open(),d.write(s),d.close(),ah||w()})},B6=Qt(Zz,ah?500:200).map(t=>Gk(M6,t)),cH=(t,s)=>{const a=Kt(t.getOr(""));return{getValue:i=>a.get(),setValue:(i,d)=>{if(a.get()!==d){const p=i.element,h=()=>_t(p,"srcdoc",d);s?B6.fold(Y(M6),w=>w.throttle)(p,d,h):h()}a.set(d)}}},iH=(t,s,a)=>{const i="tox-dialog__iframe",d=t.transparent?[]:[`${i}--opaque`],p=t.border?["tox-navobj-bordered"]:[],h={...t.label.map(R=>({title:R})).getOr({}),...a.map(R=>({srcdoc:R})).getOr({}),...t.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},w=cH(a,t.streamContent),_=t.label.map(R=>su(R,s)),T=R=>O6(E.from(p),{uid:R.uid,dom:{tag:"iframe",attributes:h,classes:[i,...d]},behaviours:ct([ys.config({}),on.config({}),rh(a,w.getValue,w.setValue),vc.config({channels:{[Wv]:{onReceive:(P,L)=>{L.newFocus.each(q=>{oi(P.element).each(te=>{(Oo(P.element,q)?Gs:xs)(te,"tox-navobj-bordered-focus")})})}}}})])}),A=Eo.parts.field({factory:{sketch:T}});return $k(_,A,["tox-form__group--stretched"],[])},lH=t=>new Promise((s,a)=>{const i=()=>{p(),s(t)},d=[ja(t,"load",i),ja(t,"error",()=>{p(),a("Unable to load data from image: "+t.dom.src)})],p=()=>ut(d,h=>h.unbind());t.dom.complete&&i()}),XC=(t,s,a,i,d)=>{const p=a*d,h=i*d,w=Math.max(0,t/2-p/2),_=Math.max(0,s/2-h/2);return{left:w.toString()+"px",top:_.toString()+"px",width:p.toString()+"px",height:h.toString()+"px"}},uH=(t,s,a)=>{const i=mr(t),d=er(t);return Math.min(i/s,d/a,1)},dH=(t,s)=>{const a=Kt(s.getOr({url:""})),i=To({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(_=>({src:_.url})).getOr({})}}),d=To({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[i.asSpec()]}),p=(_,T)=>{const A={url:T.url};T.zoom.each(P=>A.zoom=P),T.cachedWidth.each(P=>A.cachedWidth=P),T.cachedHeight.each(P=>A.cachedHeight=P),a.set(A);const R=()=>{const{cachedWidth:P,cachedHeight:L,zoom:q}=A;if(!_n(P)&&!_n(L)){if(_n(q)){const ye=uH(_.element,P,L);A.zoom=ye}const te=XC(mr(_.element),er(_.element),P,L,A.zoom);d.getOpt(_).each(ye=>{us(ye.element,te)})}};i.getOpt(_).each(P=>{const L=P.element;T.url!==ks(L,"src")&&(_t(L,"src",T.url),xs(_.element,"tox-imagepreview__loaded")),R(),lH(L).then(q=>{_.getSystem().isConnected()&&(Gs(_.element,"tox-imagepreview__loaded"),A.cachedWidth=q.dom.naturalWidth,A.cachedHeight=q.dom.naturalHeight,R())})})},h={};t.height.each(_=>h.height=_);const w=s.map(_=>({url:_.url,zoom:E.from(_.zoom),cachedWidth:E.from(_.cachedWidth),cachedHeight:E.from(_.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:h,attributes:{role:"presentation"}},components:[d.asSpec()],behaviours:ct([Si.self(),rh(w,()=>a.get(),p)])}},N6=(t,s)=>{const a="tox-label",i=t.align==="center"?[`${a}--center`]:[],d=t.align==="end"?[`${a}--end`]:[],p={dom:{tag:"label",classes:[a,...i,...d]},components:[Ls(s.providers.translate(t.label))]},h=He(t.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[p,...h],behaviours:ct([Si.self(),vn.config({}),C6(E.none()),qt.config({mode:"acyclic"})])}},qz=Ot("toolbar.button.execute"),fH=t=>yl((s,a)=>{Al(t,s)(i=>{Zt(s,qz,{buttonApi:i}),t.onAction(i)})}),py=Ot("common-button-display-events"),JC={[Fc()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[fi()]:["toolbar-button-events",py],[Vn()]:["focusing","alloy.base.behaviour",py]},Gz=t=>Mt(t.element,"width",Vo(t.element,"width")),Kz=(t,s,a)=>Vu(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:a},s),Yz=(t,s)=>Kz(t,s,[]),ch=(t,s)=>Kz(t,s,[vn.config({})]),P6=(t,s,a)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[Ls(a.translate(t))],behaviours:ct([vn.config({})])}),Dl=Ot("update-menu-text"),ih=Ot("update-menu-icon"),Xz=(t,s,a)=>{const i=Kt(oe),d=t.text.map(P=>To(P6(P,s,a.providers))),p=t.icon.map(P=>To(ch(P,a.providers.icons))),h=(P,L)=>{const q=Ct.getValue(P);return on.focus(q),Zt(q,"keydown",{raw:L.event.raw}),ou.close(q),E.some(!0)},w=t.role.fold(()=>({}),P=>({role:P})),_=t.tooltip.fold(()=>({}),P=>{const L=a.providers.translate(P);return{title:L,"aria-label":L}}),T=Vu("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},a.providers.icons),A=Ot("common-button-display-events");return To(ou.sketch({...t.uid?{uid:t.uid}:{},...w,dom:{tag:"button",classes:[s,`${s}--select`].concat(He(t.classes,P=>`${s}--${P}`)),attributes:{..._}},components:Dv([p.map(P=>P.asSpec()),d.map(P=>P.asSpec()),E.some(T)]),matchWidth:!0,useMinWidth:!0,onOpen:(P,L,q)=>{t.searchable&&gF(q)},dropdownBehaviours:ct([...t.dropdownBehaviours,vr.button(()=>t.disabled||a.providers.isDisabled()),Nr(),Lk.config({}),vn.config({}),Cn("dropdown-events",[Xg(t,i),um(t,i)]),Cn(A,[jo((P,L)=>Gz(P))]),Cn("menubutton-update-display-text",[Pe(Dl,(P,L)=>{d.bind(q=>q.getOpt(P)).each(q=>{vn.set(q,[Ls(a.providers.translate(L.event.text))])})}),Pe(ih,(P,L)=>{p.bind(q=>q.getOpt(P)).each(q=>{vn.set(q,[ch(L.event.icon,a.providers.icons)])})})])]),eventOrder:Ro(JC,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[fi()]:["toolbar-button-events","dropdown-events",A]}),sandboxBehaviours:ct([qt.config({mode:"special",onLeft:h,onRight:h}),Cn("dropdown-sandbox-events",[Pe(XD,(P,L)=>{uF(P),L.stop()}),Pe(JD,(P,L)=>{dF(P,L),L.stop()})])]),lazySink:a.getSink,toggleClass:`${s}--active`,parts:{menu:{...Cv(!1,t.columns,t.presets),fakeFocus:t.searchable,onHighlightItem:uz,onCollapseMenu:(P,L,q)=>{yo.getHighlighted(q).each(te=>{uz(P,q,te)})},onDehighlightItem:pF}},getAnchorOverrides:()=>({maxHeightFunction:(P,L)=>{Tx()(P,L-10)}}),fetch:P=>Za.nu(yn(t.fetch,P))})).asSpec()},mH=t=>Me(t),$6=t=>t.type==="separator",pH=t=>ho(t,"getSubmenuItems"),I6={type:"separator"},gH=(t,s)=>{const a=Qe(t,(i,d)=>mH(d)?d===""?i:d==="|"?i.length>0&&!$6(i[i.length-1])?i.concat([I6]):i:ho(s,d.toLowerCase())?i.concat([s[d.toLowerCase()]]):i:i.concat([d]),[]);return a.length>0&&$6(a[a.length-1])&&a.pop(),a},F6=(t,s)=>{const a=t.getSubmenuItems(),i=L6(a,s),d=Ro(i.menus,{[t.value]:i.items}),p=Ro(i.expansions,{[t.value]:t.value});return{item:t,menus:d,expansions:p}},hH=t=>{const s=dt(t,"value").getOrThunk(()=>Ot("generated-menu-item"));return Ro({value:s},t)},L6=(t,s)=>{const a=gH(Me(t)?t.split(" "):t,s);return ot(a,(i,d)=>{if(pH(d)){const p=hH(d),h=F6(p,s);return{menus:Ro(i.menus,h.menus),items:[h.item,...i.items],expansions:Ro(i.expansions,h.expansions)}}else return{...i,items:[d,...i.items]}},{menus:{},expansions:{},items:[]})},bH=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),yH=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),Zv=(t,s,a,i)=>{const d=Ot("primary-menu"),p=L6(t,a.shared.providers.menuItems());if(p.items.length===0)return E.none();const h=bH(i),w=CM(d,p.items,s,a,i.isHorizontalMenu,h),_=yH(i),T=Jn(p.menus,(R,P)=>CM(P,R,s,a,!1,_)),A=Ro(T,bt(d,w));return E.from(Kg.tieredData(d,A,p.expansions))},Jz=t=>!ho(t,"items"),H6="data-value",V6=(t,s,a,i)=>He(a,d=>Jz(d)?{type:"togglemenuitem",text:d.text,value:d.value,active:d.value===i,onAction:()=>{Ct.setValue(t,d.value),Zt(t,xi,{name:s}),on.focus(t)}}:{type:"nestedmenuitem",text:d.text,getSubmenuItems:()=>V6(t,s,d.items,i)}),Qz=(t,s)=>es(t,a=>Jz(a)?Qt(a.value===s,a):Qz(a.items,s)),e5=(t,s,a)=>{const i=s.shared.providers,d=a.bind(_=>Qz(t.items,_)).orThunk(()=>Rs(t.items).filter(Jz)),p=t.label.map(_=>su(_,i)),h=Eo.parts.field({dom:{},factory:{sketch:_=>Xz({uid:_.uid,text:d.map(T=>T.text),icon:E.none(),tooltip:t.label,role:E.none(),fetch:(T,A)=>{const R=V6(T,t.name,t.items,Ct.getValue(T));A(Zv(R,Jd.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:E.none()}))},onSetup:Y(oe),getApi:Y({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[ys.config({}),rh(d.map(T=>T.value),T=>ks(T.element,H6),(T,A)=>{Qz(t.items,A).each(R=>{_t(T.element,H6,R.value),Zt(T,Dl,{text:R.text})})})]},"tox-listbox",s.shared)}}),w={dom:{tag:"div",classes:["tox-listboxfield"]},components:[h]};return Eo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Pt([p.toArray(),[w]]),fieldBehaviours:ct([en.config({disabled:Y(!t.enabled),onDisabled:_=>{Eo.getField(_).each(en.disable)},onEnabled:_=>{Eo.getField(_).each(en.enable)}})])})},vH=(t,s)=>({dom:{tag:"div",classes:t.classes},components:He(t.items,s.shared.interpreter)}),wH=(t,s)=>{const a=He(t.options,d=>({dom:{tag:"option",value:d.value,innerHtml:d.text}})),i=t.data.map(d=>bt("initialValue",d)).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:a,behaviours:or(t.selectBehaviours,[on.config({}),Ct.config({store:{mode:"manual",getValue:d=>Au(d.element),setValue:(d,p)=>{const h=Rs(t.options);Ke(t.options,_=>_.value===p).isSome()?ig(d.element,p):d.element.dom.selectedIndex===-1&&p===""&&h.each(_=>ig(d.element,_.value))},...i}})])}},kH=Zc({name:"HtmlSelect",configFields:[Le("options"),yr("selectBehaviours",[on,Ct]),be("selectClasses",[]),be("selectAttributes",{}),vo("data")],factory:wH}),Kk=(t,s,a)=>{const i=He(t.items,_=>({text:s.translate(_.text),value:_.value})),d=t.label.map(_=>su(_,s)),p=Eo.parts.field({dom:{},...a.map(_=>({data:_})).getOr({}),selectAttributes:{size:t.size},options:i,factory:kH,selectBehaviours:ct([en.config({disabled:()=>!t.enabled||s.isDisabled()}),ys.config({}),Cn("selectbox-change",[Pe(Gp(),(_,T)=>{Zt(_,xi,{name:t.name})})])])}),h=t.size>1?E.none():E.some(Vu("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),w={dom:{tag:"div",classes:["tox-selectfield"]},components:Pt([[p],h.toArray()])};return Eo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Pt([d.toArray(),[w]]),fieldBehaviours:ct([en.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:_=>{Eo.getField(_).each(en.disable)},onEnabled:_=>{Eo.getField(_).each(en.enable)}}),Nr()])})},t5=Y([be("field1Name","field1"),be("field2Name","field2"),Zl("onLockedChange"),Vf(["lockClass"]),be("locked",!1),Ki.field("coupledFieldBehaviours",[Zn,Ct])]),_H=(t,s,a)=>Uo(t,s,a).bind(Zn.getCurrent),j6=(t,s)=>_a({factory:Eo,name:t,overrides:a=>({fieldBehaviours:ct([Cn("coupled-input-behaviour",[Pe(Km(),i=>{_H(i,a,s).each(d=>{Uo(i,a,"lock").each(p=>{Dn.isOn(p)&&a.onLockedChange(i,d,p)})})})])])})}),n5=Y([j6("field1","field2"),j6("field2","field1"),_a({factory:Gr,schema:[Le("dom")],name:"lock",overrides:t=>({buttonBehaviours:ct([Dn.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])})})]),xH=(t,s,a,i)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Ki.augment(t.coupledFieldBehaviours,[Zn.config({find:E.some}),Ct.config({store:{mode:"manual",getValue:d=>{const p=gp(d,t,["field1","field2"]);return{[t.field1Name]:Ct.getValue(p.field1()),[t.field2Name]:Ct.getValue(p.field2())}},setValue:(d,p)=>{const h=gp(d,t,["field1","field2"]);Jr(p,t.field1Name)&&Ct.setValue(h.field1(),p[t.field1Name]),Jr(p,t.field2Name)&&Ct.setValue(h.field2(),p[t.field2Name])}}})]),apis:{getField1:d=>Uo(d,t,"field1"),getField2:d=>Uo(d,t,"field2"),getLock:d=>Uo(d,t,"lock")}}),Ti=xa({name:"FormCoupledInputs",configFields:t5(),partFields:n5(),factory:xH,apis:{getField1:(t,s)=>t.getField1(s),getField2:(t,s)=>t.getField2(s),getLock:(t,s)=>t.getLock(s)}}),U6=t=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},a=d=>d in s?s[d]:1;let i=t.value.toFixed(a(t.unit));return i.indexOf(".")!==-1&&(i=i.replace(/\.?0*$/,"")),i+t.unit},o5=t=>{const a=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(a!==null){const i=parseFloat(a[1]),d=a[2];return xn.value({value:i,unit:d})}else return xn.error(t)},W6=(t,s)=>{const a={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},i=d=>ho(a,d);return t.unit===s?E.some(t.value):i(t.unit)&&i(s)?a[t.unit]===a[s]?E.some(t.value):E.some(t.value/a[t.unit]*a[s]):E.none()},QC=t=>E.none(),Z6=(t,s)=>a=>W6(a,s).map(i=>({value:i*t,unit:s})),CH=(t,s)=>{const a=o5(t).toOptional(),i=o5(s).toOptional();return Bi(a,i,(d,p)=>W6(d,p.unit).map(h=>p.value/h).map(h=>Z6(h,p.unit)).getOr(QC)).getOr(QC)},q6=(t,s)=>{let a=QC;const i=Ot("ratio-event"),d=R=>Vu(R,{tag:"span",classes:["tox-icon","tox-lock-icon__"+R]},s.icons),p=Ti.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:s.translate(t.label.getOr("Constrain proportions"))}},components:[d("lock"),d("unlock")],buttonBehaviours:ct([en.config({disabled:()=>!t.enabled||s.isDisabled()}),Nr(),ys.config({})])}),h=R=>({dom:{tag:"div",classes:["tox-form__group"]},components:R}),w=R=>Eo.parts.field({factory:ay,inputClasses:["tox-textfield"],inputBehaviours:ct([en.config({disabled:()=>!t.enabled||s.isDisabled()}),Nr(),ys.config({}),Cn("size-input-events",[Pe(oa(),(P,L)=>{Zt(P,i,{isField1:R})}),Pe(Gp(),(P,L)=>{Zt(P,xi,{name:t.name})})])]),selectOnFocus:!1}),_=R=>({dom:{tag:"label",classes:["tox-label"]},components:[Ls(s.translate(R))]}),T=Ti.parts.field1(h([Eo.parts.label(_("Width")),w(!0)])),A=Ti.parts.field2(h([Eo.parts.label(_("Height")),w(!1)]));return Ti.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[T,A,h([_(gw),p])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(R,P,L)=>{o5(Ct.getValue(R)).each(q=>{a(q).each(te=>{Ct.setValue(P,U6(te))})})},coupledFieldBehaviours:ct([en.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:R=>{Ti.getField1(R).bind(Eo.getField).each(en.disable),Ti.getField2(R).bind(Eo.getField).each(en.disable),Ti.getLock(R).each(en.disable)},onEnabled:R=>{Ti.getField1(R).bind(Eo.getField).each(en.enable),Ti.getField2(R).bind(Eo.getField).each(en.enable),Ti.getLock(R).each(en.enable)}}),Nr(),Cn("size-input-events2",[Pe(i,(R,P)=>{const L=P.event.isField1,q=L?Ti.getField1(R):Ti.getField2(R),te=L?Ti.getField2(R):Ti.getField1(R),ye=q.map(Ct.getValue).getOr(""),ue=te.map(Ct.getValue).getOr("");a=CH(ye,ue)})])])})},G6=(t,s,a)=>{const i=Sa.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ls(s.translate(t.label))]}),d=Sa.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),p=Sa.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Sa.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:Y(a.getOrThunk(()=>(Math.abs(t.max)-Math.abs(t.min))/2))},components:[i,d,p],sliderBehaviours:ct([Si.self(),on.config({})]),onChoose:(h,w,_)=>{Zt(h,xi,{name:t.name,value:_})}})},SH=(t,s)=>{const a=w=>({dom:{tag:"th",innerHtml:s.translate(w)}}),i=w=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:He(w,a)}]}),d=w=>({dom:{tag:"td",innerHtml:s.translate(w)}}),p=w=>({dom:{tag:"tr"},components:He(w,d)}),h=w=>({dom:{tag:"tbody"},components:He(w,p)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[i(t.header),h(t.cells)],behaviours:ct([ys.config({}),on.config({})])}},s5=(t,s)=>{const a=t.label.map(L=>su(L,s)),i=[en.config({disabled:()=>t.disabled||s.isDisabled()}),Nr(),qt.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:L=>(Gn(L,Fk),E.some(!0))}),Cn("textfield-change",[Pe(Km(),(L,q)=>{Zt(L,xi,{name:t.name})}),Pe(Xm(),(L,q)=>{Zt(L,xi,{name:t.name})})]),ys.config({})],d=t.validation.map(L=>Ol.config({getRoot:q=>oi(q.element),invalidClass:"tox-invalid",validator:{validate:q=>{const te=Ct.getValue(q),ye=L.validator(te);return Za.pure(ye===!0?xn.value(te):xn.error(ye))},validateOnLoad:L.validateOnLoad}})).toArray(),p=t.placeholder.fold(Y({}),L=>({placeholder:s.translate(L)})),h=t.inputMode.fold(Y({}),L=>({inputmode:L})),w={...p,...h},_=Eo.parts.field({tag:t.multiline===!0?"textarea":"input",...t.data.map(L=>({data:L})).getOr({}),inputAttributes:w,inputClasses:[t.classname],inputBehaviours:ct(Pt([i,d])),selectOnFocus:!1,factory:ay}),T=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[_]}:_,R=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),P=[en.config({disabled:()=>t.disabled||s.isDisabled(),onDisabled:L=>{Eo.getField(L).each(en.disable)},onEnabled:L=>{Eo.getField(L).each(en.enable)}}),Nr()];return $k(a,T,R,P)},K6=(t,s,a)=>s5({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:E.none(),maximized:t.maximized,data:a},s),Y6=(t,s,a)=>s5({name:t.name,multiline:!0,label:t.label,inputMode:E.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:E.none(),maximized:t.maximized,data:a},s),Yk=(t,s)=>s.getAnimationRoot.fold(()=>t.element,a=>a(t)),Op=t=>t.dimension.property,gy=(t,s)=>t.dimension.getDimension(s),Xk=(t,s)=>{const a=Yk(t,s);mi(a,[s.shrinkingClass,s.growingClass])},r5=(t,s)=>{xs(t.element,s.openClass),Gs(t.element,s.closedClass),Mt(t.element,Op(s),"0px"),si(t.element)},eS=(t,s)=>{xs(t.element,s.closedClass),Gs(t.element,s.openClass),no(t.element,Op(s))},X6=(t,s,a,i)=>{a.setCollapsed(),Mt(t.element,Op(s),gy(s,t.element)),Xk(t,s),r5(t,s),s.onStartShrink(t),s.onShrunk(t)},TH=(t,s,a,i)=>{const d=i.getOrThunk(()=>gy(s,t.element));a.setCollapsed(),Mt(t.element,Op(s),d),si(t.element);const p=Yk(t,s);xs(p,s.growingClass),Gs(p,s.shrinkingClass),r5(t,s),s.onStartShrink(t)},tS=(t,s,a)=>{const i=gy(s,t.element);(i==="0px"?X6:TH)(t,s,a,E.some(i))},J6=(t,s,a)=>{const i=Yk(t,s),d=br(i,s.shrinkingClass),p=gy(s,t.element);eS(t,s);const h=gy(s,t.element);(d?()=>{Mt(t.element,Op(s),p),si(t.element)}:()=>{r5(t,s)})(),xs(i,s.shrinkingClass),Gs(i,s.growingClass),eS(t,s),Mt(t.element,Op(s),h),a.setExpanded(),s.onStartGrow(t)},EH=(t,s,a)=>{if(a.isExpanded()){no(t.element,Op(s));const i=gy(s,t.element);Mt(t.element,Op(s),i)}},zH=(t,s,a)=>{a.isExpanded()||J6(t,s,a)},Q6=(t,s,a)=>{a.isExpanded()&&tS(t,s,a)},AH=(t,s,a)=>{a.isExpanded()&&X6(t,s,a)},eB=(t,s,a)=>a.isExpanded(),OH=(t,s,a)=>a.isCollapsed(),a5=(t,s,a)=>{const i=Yk(t,s);return br(i,s.growingClass)===!0},tB=(t,s,a)=>{const i=Yk(t,s);return br(i,s.shrinkingClass)===!0};var nB=Object.freeze({__proto__:null,refresh:EH,grow:zH,shrink:Q6,immediateShrink:AH,hasGrown:eB,hasShrunk:OH,isGrowing:a5,isShrinking:tB,isTransitioning:(t,s,a)=>a5(t,s)||tB(t,s),toggleGrow:(t,s,a)=>{(a.isExpanded()?tS:J6)(t,s,a)},disableTransitions:Xk,immediateGrow:(t,s,a)=>{a.isExpanded()||(eS(t,s),Mt(t.element,Op(s),gy(s,t.element)),Xk(t,s),a.setExpanded(),s.onStartGrow(t),s.onGrown(t))}}),oB=Object.freeze({__proto__:null,exhibit:(t,s,a)=>{const i=s.expanded;return Hc(i?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:bt(s.dimension.property,"0px")})},events:(t,s)=>Go([Su(Ym(),(a,i)=>{i.event.raw.propertyName===t.dimension.property&&(Xk(a,t),s.isExpanded()&&no(a.element,t.dimension.property),(s.isExpanded()?t.onGrown:t.onShrunk)(a))})])}),DH=[Le("closedClass"),Le("openClass"),Le("shrinkingClass"),Le("growingClass"),vo("getAnimationRoot"),Qn("onShrunk"),Qn("onStartShrink"),Qn("onGrown"),Qn("onStartGrow"),be("expanded",!1),nc("dimension",Wn("property",{width:[Bo("property","width"),Bo("getDimension",t=>mr(t)+"px")],height:[Bo("property","height"),Bo("getDimension",t=>er(t)+"px")]}))],RH=Object.freeze({__proto__:null,init:t=>{const s=Kt(t.expanded),a=()=>"expanded: "+s.get();return Lc({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:yn(s.set,!1),setExpanded:yn(s.set,!0),readState:a})}});const Ei=Rr({fields:DH,name:"sliding",active:oB,apis:nB,state:RH}),sB=t=>({isEnabled:()=>!en.isDisabled(t),setEnabled:s=>en.set(t,!s),setActive:s=>{const a=t.element;s?(Gs(a,"tox-tbtn--enabled"),_t(a,"aria-pressed",!0)):(xs(a,"tox-tbtn--enabled"),Q(a,"aria-pressed"))},isActive:()=>br(t.element,"tox-tbtn--enabled"),setText:s=>{Zt(t,Dl,{text:s})},setIcon:s=>Zt(t,ih,{icon:s})}),Jk=(t,s,a,i,d=!0)=>Xz({text:t.text,icon:t.icon,tooltip:t.tooltip,searchable:t.search.isSome(),role:i,fetch:(p,h)=>{const w={pattern:t.search.isSome()?hF(p):""};t.fetch(_=>{h(Zv(_,Jd.CLOSE_ON_EXECUTE,a,{isHorizontalMenu:!1,search:t.search}))},w,sB(p))},onSetup:t.onSetup,getApi:sB,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...d?[ys.config({})]:[]]},s,a.shared),MH=(t,s,a)=>{const i=p=>h=>{const w=!h.isActive();h.setActive(w),p.storage.set(w),a.shared.getSink().each(_=>{s().getOpt(_).each(T=>{wc(T.element),Zt(T,mm,{name:p.name,value:p.storage.get()})})})},d=p=>h=>{h.setActive(p.storage.get())};return p=>{p(He(t,h=>{const w=h.text.fold(()=>({}),_=>({text:_}));return{type:h.type,active:!1,...w,onAction:i(h),onSetup:d(h)}}))}},c5=t=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:t,"aria-label":t}},components:[Ls(t)]}),i5=Ot("leaf-label-event-id"),nS=({leaf:t,onLeafAction:s,visible:a,treeId:i,selectedId:d,backstage:p})=>{const h=t.menu.map(_=>Jk(_,"tox-mbtn",p,E.none(),a)),w=[c5(t.title)];return h.each(_=>w.push(_)),Gr.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(a?["tox-tree--leaf__label--visible"]:[])},components:w,role:"treeitem",action:_=>{s(t.id),_.getSystem().broadcastOn([`update-active-item-${i}`],{value:t.id})},eventOrder:{[bl()]:[i5,"keying"]},buttonBehaviours:ct([...a?[ys.config({})]:[],Dn.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),vc.config({channels:{[`update-active-item-${i}`]:{onReceive:(_,T)=>{(T.value===t.id?Dn.on:Dn.off)(_)}}}}),Cn(i5,[jo((_,T)=>{d.each(A=>{(A===t.id?Dn.on:Dn.off)(_)})}),Pe(bl(),(_,T)=>{const A=T.event.raw.code==="ArrowLeft",R=T.event.raw.code==="ArrowRight";A?(jc(_.element,".tox-tree--directory").each(P=>{_.getSystem().getByDom(P).each(L=>{_1(P,".tox-tree--directory__label").each(q=>{L.getSystem().getByDom(q).each(on.focus)})})}),T.stop()):R&&T.stop()})])])})},oS=(t,s,a)=>Vu(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:a},s),BH=(t,s)=>oS(t,s,[]),rB=Ot("directory-label-event-id"),NH=({directory:t,visible:s,noChildren:a,backstage:i})=>{const d=t.menu.map(w=>Jk(w,"tox-mbtn",i,E.none())),p=[{dom:{tag:"div",classes:["tox-chevron"]},components:[BH("chevron-right",i.shared.providers.icons)]},c5(t.title)];d.each(w=>{p.push(w)});const h=w=>{jc(w.element,".tox-tree--directory").each(_=>{w.getSystem().getByDom(_).each(T=>{const A=!Dn.isOn(T);Dn.toggle(T),Zt(w,"expand-tree-node",{expanded:A,node:t.id})})})};return Gr.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:p,action:h,eventOrder:{[bl()]:[rB,"keying"]},buttonBehaviours:ct([...s?[ys.config({})]:[],Cn(rB,[Pe(bl(),(w,_)=>{const T=_.event.raw.code==="ArrowRight",A=_.event.raw.code==="ArrowLeft";T&&a&&_.stop(),(T||A)&&jc(w.element,".tox-tree--directory").each(R=>{w.getSystem().getByDom(R).each(P=>{!Dn.isOn(P)&&T||Dn.isOn(P)&&A?(h(w),_.stop()):A&&!Dn.isOn(P)&&(jc(P.element,".tox-tree--directory").each(L=>{_1(L,".tox-tree--directory__label").each(q=>{P.getSystem().getByDom(q).each(on.focus)})}),_.stop())})})})])])})},PH=({children:t,onLeafAction:s,visible:a,treeId:i,expandedIds:d,selectedId:p,backstage:h})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:t.map(w=>w.type==="leaf"?nS({leaf:w,selectedId:p,onLeafAction:s,visible:a,treeId:i,backstage:h}):l5({directory:w,expandedIds:d,selectedId:p,onLeafAction:s,labelTabstopping:a,treeId:i,backstage:h})),behaviours:ct([Ei.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:a}),vn.config({})])}),aB=Ot("directory-event-id"),l5=({directory:t,onLeafAction:s,labelTabstopping:a,treeId:i,backstage:d,expandedIds:p,selectedId:h})=>{const{children:w}=t,_=Kt(p),T=R=>w.map(P=>P.type==="leaf"?nS({leaf:P,selectedId:h,onLeafAction:s,visible:R,treeId:i,backstage:d}):l5({directory:P,expandedIds:_.get(),selectedId:h,onLeafAction:s,labelTabstopping:R,treeId:i,backstage:d})),A=p.includes(t.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[NH({directory:t,visible:a,noChildren:t.children.length===0,backstage:d}),PH({children:w,expandedIds:p,selectedId:h,onLeafAction:s,visible:A,treeId:i,backstage:d})],behaviours:ct([Cn(aB,[jo((R,P)=>{Dn.set(R,A)}),Pe("expand-tree-node",(R,P)=>{const{expanded:L,node:q}=P.event;_.set(L?[..._.get(),q]:_.get().filter(te=>te!==q))})]),Dn.config({...t.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(R,P)=>{const L=R.components()[1],q=T(P);P?Ei.grow(L):Ei.shrink(L),vn.set(L,q)}})])}},$H=Ot("tree-event-id"),IH=(t,s)=>{const a=t.onLeafAction.getOr(oe),i=t.onToggleExpand.getOr(oe),d=t.defaultExpandedIds,p=Kt(d),h=Kt(t.defaultSelectedId),w=Ot("tree-id"),_=(T,A)=>t.items.map(R=>R.type==="leaf"?nS({leaf:R,selectedId:T,onLeafAction:a,visible:!0,treeId:w,backstage:s}):l5({directory:R,selectedId:T,onLeafAction:a,expandedIds:A,labelTabstopping:!0,treeId:w,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:_(h.get(),p.get()),behaviours:ct([qt.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Cn($H,[Pe("expand-tree-node",(T,A)=>{const{expanded:R,node:P}=A.event;p.set(R?[...p.get(),P]:p.get().filter(L=>L!==P)),i(p.get(),{expanded:R,node:P})})]),vc.config({channels:{[`update-active-item-${w}`]:{onReceive:(T,A)=>{h.set(E.some(A.value)),vn.set(T,_(E.some(A.value),p.get()))}}}}),vn.config({})])}};var cB=Object.freeze({__proto__:null,events:(t,s)=>{const i=t.stream.streams.setup(t,s);return Go([Pe(t.event,i),Tu(()=>s.cancel())].concat(t.cancelEvent.map(d=>[Pe(d,()=>s.cancel())]).getOr([])))}});const iB=t=>{const s=Kt(null);return Lc({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:p=>{s.set(p)},cancel:()=>{const p=s.get();p!==null&&p.cancel()}})};var lB=Object.freeze({__proto__:null,throttle:iB,init:t=>t.stream.streams.state(t)});const LH=(t,s)=>{const a=t.stream,i=GC(t.onStream,a.delay);return s.setTimer(i),(d,p)=>{i.throttle(d,p),a.stopEvent&&p.stop()}};var HH=[nc("stream",Wn("mode",{throttle:[Le("delay"),be("stopEvent",!0),Bo("streams",{setup:LH,state:iB})]})),be("event","input"),vo("cancelEvent"),Zl("onStream")];const cn=Rr({fields:HH,name:"streaming",active:cB,state:lB}),lh=(t,s,a)=>{const i=Ct.getValue(a);Ct.setValue(s,i),d5(s)},u5=(t,s)=>{const a=t.element,i=Au(a),d=a.dom;ks(a,"type")!=="number"&&s(d,i)},d5=t=>{u5(t,(s,a)=>s.setSelectionRange(a.length,a.length))},uB=(t,s)=>{u5(t,(a,i)=>a.setSelectionRange(s,i.length))},dB=(t,s,a)=>{if(t.selectsOver){const i=Ct.getValue(s),d=t.getDisplayText(i),p=Ct.getValue(a);return t.getDisplayText(p).indexOf(d)===0?E.some(()=>{lh(t,s,a),uB(s,d.length)}):E.none()}else return E.none()},sS=Y("alloy.typeahead.itemexecute"),Sq=(t,s,a,i)=>{const d=(R,P,L)=>{t.previewing.set(!1);const q=Xs.getCoupled(R,"sandbox");if(Kn.isOpen(q))Zn.getCurrent(q).each(te=>{yo.getHighlighted(te).fold(()=>{L(te)},()=>{w0(q,te.element,"keydown",P)})});else{const te=ye=>{Zn.getCurrent(ye).each(L)};TC(t,h(R),R,q,i,te,Sc.HighlightMenuAndItem).get(oe)}},p=d3(t),h=R=>P=>P.map(L=>{const q=uf(L.menus),te=ve(q,ue=>Hn(ue.items,ae=>ae.type==="item"));return Ct.getState(R).update(He(te,ue=>ue.data)),L}),w=R=>Zn.getCurrent(R),_="typeaheadevents",T=[on.config({}),Ct.config({onSetValue:t.onSetValue,store:{mode:"dataset",getDataKey:R=>Au(R.element),getFallbackEntry:R=>({value:R,meta:{}}),setValue:(R,P)=>{ig(R.element,t.model.getDisplayText(P))},...t.initialData.map(R=>bt("initialValue",R)).getOr({})}}),cn.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:(R,P)=>{const L=Xs.getCoupled(R,"sandbox");if(on.isFocused(R)&&Au(R.element).length>=t.minChars){const te=w(L).bind(ue=>yo.getHighlighted(ue).map(Ct.getValue));t.previewing.set(!0);const ye=ue=>{w(L).each(ae=>{te.fold(()=>{t.model.selectsOver&&yo.highlightFirst(ae)},he=>{yo.highlightBy(ae,et=>Ct.getValue(et).value===he.value),yo.getHighlighted(ae).orThunk(()=>(yo.highlightFirst(ae),E.none()))})})};TC(t,h(R),R,L,i,ye,Sc.HighlightJustMenu).get(oe)}},cancelEvent:e1()}),qt.config({mode:"special",onDown:(R,P)=>(d(R,P,yo.highlightFirst),E.some(!0)),onEscape:R=>{const P=Xs.getCoupled(R,"sandbox");return Kn.isOpen(P)?(Kn.close(P),E.some(!0)):E.none()},onUp:(R,P)=>(d(R,P,yo.highlightLast),E.some(!0)),onEnter:R=>{const P=Xs.getCoupled(R,"sandbox"),L=Kn.isOpen(P);if(L&&!t.previewing.get())return w(P).bind(q=>yo.getHighlighted(q)).map(q=>(Zt(R,sS(),{item:q}),!0));{const q=Ct.getValue(R);return Gn(R,e1()),t.onExecute(P,R,q),L&&Kn.close(P),E.some(!0)}}}),Dn.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Xs.config({others:{sandbox:R=>iz(t,R,{onOpen:()=>Dn.on(R),onClose:()=>{t.lazyTypeaheadComp.get().each(P=>Q(P.element,"aria-activedescendant")),Dn.off(R)}})}}),Cn(_,[jo(R=>{t.lazyTypeaheadComp.set(E.some(R))}),Tu(R=>{t.lazyTypeaheadComp.set(E.none())}),yl(R=>{const P=oe;cz(t,h(R),R,i,P,Sc.HighlightMenuAndItem).get(oe)}),Pe(sS(),(R,P)=>{const L=Xs.getCoupled(R,"sandbox");lh(t.model,R,P.event.item),Gn(R,e1()),t.onItemExecute(R,L,P.event.item,Ct.getValue(R)),Kn.close(L),d5(R)})].concat(t.dismissOnBlur?[Pe(Rf(),R=>{const P=Xs.getCoupled(R,"sandbox");kl(P.element).isNone()&&Kn.close(P)})]:[]))],A={[Bf()]:[Ct.name(),cn.name(),_],...t.eventOrder};return{uid:t.uid,dom:Q2(Ro(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...p,...or(t.typeaheadBehaviours,T)},eventOrder:A}},Qk=Y([vo("lazySink"),Le("fetch"),be("minChars",5),be("responseTime",1e3),Qn("onOpen"),be("getHotspot",E.some),be("getAnchorOverrides",Y({})),be("layouts",E.none()),be("eventOrder",{}),hl("model",{},[be("getDisplayText",t=>t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value),be("selectsOver",!0),be("populateFromBrowse",!0)]),Qn("onSetValue"),Wc("onExecute"),Qn("onItemExecute"),be("inputClasses",[]),be("inputAttributes",{}),be("inputStyles",{}),be("matchWidth",!0),be("useMinWidth",!1),be("dismissOnBlur",!0),Vf(["openClass"]),vo("initialData"),yr("typeaheadBehaviours",[on,Ct,cn,qt,Dn,Xs]),Bs("lazyTypeaheadComp",()=>Kt(E.none)),Bs("previewing",()=>Kt(!0))].concat(kk()).concat(lz())),VH=Y([Cl({schema:[lb()],name:"menu",overrides:t=>({fakeFocus:!0,onHighlightItem:(s,a,i)=>{t.previewing.get()?t.lazyTypeaheadComp.get().each(d=>{dB(t.model,d,i).fold(()=>{t.model.selectsOver?(yo.dehighlight(a,i),t.previewing.set(!0)):t.previewing.set(!1)},p=>{p(),t.previewing.set(!1)})}):t.lazyTypeaheadComp.get().each(d=>{t.model.populateFromBrowse&&lh(t.model,d,i),M(i.element,"id").each(p=>_t(d.element,"aria-activedescendant",p))})},onExecute:(s,a)=>t.lazyTypeaheadComp.get().map(i=>(Zt(i,sS(),{item:a}),!0)),onHover:(s,a)=>{t.previewing.set(!1),t.lazyTypeaheadComp.get().each(i=>{t.model.populateFromBrowse&&lh(t.model,i,a)})}})})]),fB=xa({name:"Typeahead",configFields:Qk(),partFields:VH(),factory:Sq}),Ku=t=>({...t,toCached:()=>Ku(t.toCached()),bindFuture:_=>Ku(t.bind(T=>T.fold(A=>Za.pure(xn.error(A)),A=>_(A)))),bindResult:_=>Ku(t.map(T=>T.bind(_))),mapResult:_=>Ku(t.map(T=>T.map(_))),mapError:_=>Ku(t.map(T=>T.mapError(_))),foldResult:(_,T)=>t.map(A=>A.fold(_,T)),withTimeout:(_,T)=>Ku(Za.nu(A=>{let R=!1;const P=setTimeout(()=>{R=!0,A(xn.error(T()))},_);t.get(L=>{R||(clearTimeout(P),A(L))})}))}),mB=t=>Ku(Za.nu(t)),pB=t=>Ku(Za.pure(xn.value(t))),WH={nu:mB,wrap:Ku,pure:pB,value:pB,error:t=>Ku(Za.pure(xn.error(t))),fromResult:t=>Ku(Za.pure(t)),fromFuture:t=>Ku(t.map(xn.value)),fromPromise:t=>mB(s=>{t.then(a=>{s(xn.value(a))},a=>{s(xn.error(a))})})},rS=(t,s,a=[],i,d,p)=>{const h=s.fold(()=>({}),T=>({action:T})),w={buttonBehaviours:ct([vr.button(()=>!t.enabled||p.isDisabled()),Nr(),ys.config({}),Cn("button press",[x0("click"),x0("mousedown")])].concat(a)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...h},_=Ro(w,{dom:i});return Ro(_,{components:d})},ZH=(t,s,a,i=[])=>{const d=t.tooltip.map(_=>({"aria-label":a.translate(_),title:a.translate(_)})).getOr({}),p={tag:"button",classes:["tox-tbtn"],attributes:d},h=t.icon.map(_=>Yz(_,a.icons)),w=Dv([h]);return rS(t,s,i,p,w,a)},f5=t=>{switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},m5=(t,s,a,i=[],d=[])=>{const p=a.translate(t.text),h=t.icon.map(P=>Yz(P,a.icons)),w=[h.getOrThunk(()=>Ls(p))],_=t.buttonType.getOr(!t.primary&&!t.borderless?"secondary":"primary"),R={tag:"button",classes:[...f5(_),...h.isSome()?["tox-button--icon"]:[],...t.borderless?["tox-button--naked"]:[],...d],attributes:{title:p}};return rS(t,s,i,R,w,a)},hB=(t,s,a,i=[],d=[])=>{const p=m5(t,E.some(s),a,i,d);return Gr.sketch(p)},bB=(t,s)=>a=>{s==="custom"?Zt(a,mm,{name:t,value:{}}):s==="submit"?Gn(a,Fk):s==="cancel"?Gn(a,nh):console.error("Unknown button type: ",s)},qH=(t,s)=>s==="menu",GH=(t,s)=>s==="custom"||s==="cancel"||s==="submit",KH=(t,s)=>s==="togglebutton",YH=(t,s)=>{var a,i;const d=t.icon.map(ae=>ch(ae,s.icons)).map(To),p=ae=>{Zt(ae,mm,{name:t.name,value:{setIcon:he=>{d.map(et=>et.getOpt(ae).each(Ne=>{vn.set(Ne,[ch(he,s.icons)])}))}}})},h=t.buttonType.getOr(t.primary?"primary":"secondary"),w={...t,name:(a=t.name)!==null&&a!==void 0?a:"",primary:h==="primary",tooltip:E.from(t.tooltip),enabled:(i=t.enabled)!==null&&i!==void 0?i:!1,borderless:!1},_=w.tooltip.map(ae=>({"aria-label":s.translate(ae),title:s.translate(ae)})).getOr({}),T=f5(h??"secondary"),A=t.icon.isSome()&&t.text.isSome(),R={tag:"button",classes:[...T.concat(t.icon.isSome()?["tox-button--icon"]:[]),...t.active?["tox-button--enabled"]:[],...A?["tox-button--icon-and-text"]:[]],attributes:_},P=[],L=s.translate(t.text.getOr("")),q=Ls(L),ye=[...Dv([d.map(ae=>ae.asSpec())]),...t.text.isSome()?[q]:[]],ue=rS(w,E.some(p),P,R,ye,s);return Gr.sketch(ue)},aS=(t,s,a)=>{if(qH(t,s)){const i=()=>h,d=t,p={...t,type:"menubutton",search:E.none(),onSetup:w=>(w.setEnabled(t.enabled),oe),fetch:MH(d.items,i,a)},h=To(Jk(p,"tox-tbtn",a,E.none()));return h.asSpec()}else if(GH(t,s)){const i=bB(t.name,s),d={...t,borderless:!1};return hB(d,i,a.shared.providers,[])}else{if(KH(t,s))return YH(t,a.shared.providers);throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")}},XH=(t,s)=>{const a=bB(t.name,"custom");return FF(E.none(),Eo.parts.field({factory:Gr,...m5(t,E.some(a),s,[qC(""),Si.self()])}))},JH={type:"separator"},QH=t=>({type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:oe}),p5=(t,s)=>({type:"menuitem",value:s,text:t,meta:{attach:void 0},onAction:oe}),yB=t=>He(t,QH),e9=(t,s)=>Hn(s,a=>a.type===t),vB=(t,s)=>yB(e9(t,s)),t9=t=>vB("header",t.targets),n9=t=>vB("anchor",t.targets),o9=t=>E.from(t.anchorTop).map(s=>p5("<top>",s)).toArray(),s9=t=>E.from(t.anchorBottom).map(s=>p5("<bottom>",s)).toArray(),wB=t=>He(t,s=>p5(s,s)),r9=t=>Qe(t,(s,a)=>s.length===0||a.length===0?s.concat(a):s.concat(JH,a),[]),cS=(t,s)=>{const a=t.toLowerCase();return Hn(s,i=>{var d;const p=i.meta!==void 0&&i.meta.text!==void 0?i.meta.text:i.text,h=(d=i.value)!==null&&d!==void 0?d:"";return xr(p.toLowerCase(),a)||xr(h.toLowerCase(),a)})},a9=(t,s,a)=>{var i,d;const p=Ct.getValue(s),h=(d=(i=p==null?void 0:p.meta)===null||i===void 0?void 0:i.text)!==null&&d!==void 0?d:p.value;return a.getLinkInformation().fold(()=>[],_=>{const T=cS(h,wB(a.getHistory(t)));return t==="file"?r9([T,cS(h,t9(_)),cS(h,Pt([o9(_),n9(_),s9(_)]))]):T})},g5=Ot("aria-invalid"),kB=(t,s,a,i)=>{const d=s.shared.providers,p=ae=>{const he=Ct.getValue(ae);a.addToHistory(he.value,t.filetype)},h={...i.map(ae=>({initialData:ae})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":g5,type:"url"},minChars:0,responseTime:0,fetch:ae=>{const he=a9(t.filetype,ae,a),et=Zv(he,Jd.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:E.none()});return Za.pure(et)},getHotspot:ae=>q.getOpt(ae),onSetValue:(ae,he)=>{ae.hasConfigured(Ol)&&Ol.run(ae).get(oe)},typeaheadBehaviours:ct([...a.getValidationHandler().map(ae=>Ol.config({getRoot:he=>oi(he.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(he,et)=>{A.getOpt(he).each(Ne=>{_t(Ne.element,"title",d.translate(et))})}},validator:{validate:he=>{const et=Ct.getValue(he);return WH.nu(Ne=>{ae({type:t.filetype,url:et.value},De=>{if(De.status==="invalid"){const rt=xn.error(De.message);Ne(rt)}else{const rt=xn.value(De.message);Ne(rt)}})})},validateOnLoad:!1}})).toArray(),en.config({disabled:()=>!t.enabled||d.isDisabled()}),ys.config({}),Cn("urlinput-events",[Pe(Km(),ae=>{const he=Au(ae.element),et=he.trim();et!==he&&ig(ae.element,et),t.filetype==="file"&&Zt(ae,xi,{name:t.name})}),Pe(Gp(),ae=>{Zt(ae,xi,{name:t.name}),p(ae)}),Pe(Xm(),ae=>{Zt(ae,xi,{name:t.name}),p(ae)})])]),eventOrder:{[Km()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:ae=>ae.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:Cv(!1,1,"normal")},onExecute:(ae,he,et)=>{Zt(he,Fk,{})},onItemExecute:(ae,he,et,Ne)=>{p(ae),Zt(ae,xi,{name:t.name})}},w=Eo.parts.field({...h,factory:fB}),_=t.label.map(ae=>su(ae,d)),A=To(((ae,he,et=ae,Ne=ae)=>Vu(et,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+ae],attributes:{title:d.translate(Ne),"aria-live":"polite",...he.fold(()=>({}),De=>({id:De}))}},d.icons))("invalid",E.some(g5),"warning")),R=To({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[A.asSpec()]}),P=a.getUrlPicker(t.filetype),L=Ot("browser.url.event"),q=To({dom:{tag:"div",classes:["tox-control-wrap"]},components:[w,R.asSpec()],behaviours:ct([en.config({disabled:()=>!t.enabled||d.isDisabled()})])}),te=To(hB({name:t.name,icon:E.some("browse"),text:t.picker_text.or(t.label).getOr(""),enabled:t.enabled,primary:!1,buttonType:E.none(),borderless:!0},ae=>Gn(ae,L),d,[],["tox-browse-url"])),ye=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Pt([[q.asSpec()],P.map(()=>te.asSpec()).toArray()])}),ue=ae=>{Zn.getCurrent(ae).each(he=>{const et=Ct.getValue(he),Ne={fieldname:t.name,...et};P.each(De=>{De(Ne).get(rt=>{Ct.setValue(he,rt),Zt(ae,xi,{name:t.name})})})})};return Eo.sketch({dom:gq(),components:_.toArray().concat([ye()]),fieldBehaviours:ct([en.config({disabled:()=>!t.enabled||d.isDisabled(),onDisabled:ae=>{Eo.getField(ae).each(en.disable),te.getOpt(ae).each(en.disable)},onEnabled:ae=>{Eo.getField(ae).each(en.enable),te.getOpt(ae).each(en.enable)}}),Nr(),Cn("url-input-events",[Pe(L,ue)])])})},h5=(t,s)=>{const a=F4(t.icon,s.icons);return Qd.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:t.url?void 0:a},components:t.url?[Gr.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:a,attributes:{title:s.translate(t.iconTooltip)}},action:i=>Zt(i,mm,{name:"alert-banner",value:t.url}),buttonBehaviours:ct([L2()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(t.text)}}]})},c9=(t,s)=>{t.dom.checked=s},_B=t=>t.dom.checked,xB=(t,s,a)=>{const i=_=>(_.element.dom.click(),E.some(!0)),d=Eo.parts.field({factory:{sketch:tn},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:ct([Si.self(),en.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:_=>{oi(_.element).each(T=>Gs(T,"tox-checkbox--disabled"))},onEnabled:_=>{oi(_.element).each(T=>xs(T,"tox-checkbox--disabled"))}}),ys.config({}),on.config({}),Lz(a,_B,c9),qt.config({mode:"special",onEnter:i,onSpace:i,stopSpaceKeyup:!0}),Cn("checkbox-events",[Pe(Gp(),(_,T)=>{Zt(_,xi,{name:t.name})})])])}),p=Eo.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Ls(s.translate(t.label))],behaviours:ct([Lk.config({})])}),h=_=>Vu(_==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+_]},s.icons),w=To({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[h("checked"),h("unchecked")]});return Eo.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[d,w.asSpec(),p],fieldBehaviours:ct([en.config({disabled:()=>!t.enabled||s.isDisabled()}),Nr()])})},i9=t=>t.presets==="presentation"?Qd.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):Qd.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:ct([ys.config({}),on.config({})])}),Pr=t=>(s,a,i,d)=>dt(a,"name").fold(()=>t(a,d,E.none()),p=>s.field(p,t(a,d,dt(i,p)))),l9=t=>(s,a,i,d)=>{const p=Ro(a,{source:"dynamic"});return Pr(t)(s,p,i,d)},u9={bar:Pr((t,s)=>MF(t,s.shared)),collection:Pr((t,s,a)=>HF(t,s.shared.providers,a)),alertbanner:Pr((t,s)=>h5(t,s.shared.providers)),input:Pr((t,s,a)=>K6(t,s.shared.providers,a)),textarea:Pr((t,s,a)=>Y6(t,s.shared.providers,a)),label:Pr((t,s)=>N6(t,s.shared)),iframe:l9((t,s,a)=>iH(t,s.shared.providers,a)),button:Pr((t,s)=>XH(t,s.shared.providers)),checkbox:Pr((t,s,a)=>xB(t,s.shared.providers,a)),colorinput:Pr((t,s,a)=>qF(t,s.shared,s.colorinput,a)),colorpicker:Pr((t,s,a)=>JL(t,s.shared.providers,a)),dropzone:Pr((t,s,a)=>eH(t,s.shared.providers,a)),grid:Pr((t,s)=>z6(t,s.shared)),listbox:Pr((t,s,a)=>e5(t,s,a)),selectbox:Pr((t,s,a)=>Kk(t,s.shared.providers,a)),sizeinput:Pr((t,s)=>q6(t,s.shared.providers)),slider:Pr((t,s,a)=>G6(t,s.shared.providers,a)),urlinput:Pr((t,s,a)=>kB(t,s,s.urlinput,a)),customeditor:Pr(T6),htmlpanel:Pr(i9),imagepreview:Pr((t,s,a)=>dH(t,a)),table:Pr((t,s)=>SH(t,s.shared.providers)),tree:Pr((t,s)=>IH(t,s)),panel:Pr((t,s)=>vH(t,s))},nf={field:(t,s)=>s,record:Y([])},e_=(t,s,a,i)=>{const d=Ro(i,{shared:{interpreter:p=>qv(t,p,a,d)}});return qv(t,s,a,d)},qv=(t,s,a,i)=>dt(u9,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),d=>d(t,s,a,i)),CB=(t,s,a)=>qv(nf,t,s,a),bm="layout-inset",b5=t=>t.x,iS=(t,s)=>t.x+t.width/2-s.width/2,lS=(t,s)=>t.x+t.width-s.width,t_=t=>t.y,y5=(t,s)=>t.y+t.height-s.height,v5=(t,s)=>t.y+t.height/2-s.height/2,n_=(t,s,a)=>Ar(lS(t,s),y5(t,s),a.insetSouthwest(),Ru(),"southwest",bs(t,{right:0,bottom:3}),bm),Gv=(t,s,a)=>Ar(b5(t),y5(t,s),a.insetSoutheast(),T1(),"southeast",bs(t,{left:1,bottom:3}),bm),o_=(t,s,a)=>Ar(lS(t,s),t_(t),a.insetNorthwest(),V0(),"northwest",bs(t,{right:0,top:2}),bm),s_=(t,s,a)=>Ar(b5(t),t_(t),a.insetNortheast(),db(),"northeast",bs(t,{left:1,top:2}),bm),ru=(t,s,a)=>Ar(iS(t,s),t_(t),a.insetNorth(),Nd(),"north",bs(t,{top:2}),bm),r_=(t,s,a)=>Ar(iS(t,s),y5(t,s),a.insetSouth(),WT(),"south",bs(t,{bottom:3}),bm),SB=(t,s,a)=>Ar(lS(t,s),v5(t,s),a.insetEast(),fb(),"east",bs(t,{right:0}),bm),w5=(t,s,a)=>Ar(b5(t),v5(t,s),a.insetWest(),_e(),"west",bs(t,{left:1}),bm),TB=t=>{switch(t){case"north":return ru;case"northeast":return s_;case"northwest":return o_;case"south":return r_;case"southeast":return Gv;case"southwest":return n_;case"east":return SB;case"west":return w5}},EB=(t,s,a,i,d)=>vx(i).map(TB).getOr(ru)(t,s,a,i,d),d9=t=>{switch(t){case"north":return r_;case"northeast":return Gv;case"northwest":return n_;case"south":return ru;case"southeast":return s_;case"southwest":return o_;case"east":return w5;case"west":return SB}},f9=(t,s,a,i,d)=>vx(i).map(d9).getOr(ru)(t,s,a,i,d),a_={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},zB=(t,s,a)=>{const d={maxHeightFunction:kg()},p=()=>({type:"node",root:dc(Do(t())),node:E.from(t()),bubble:Bu(12,12,a_),layouts:{onRtl:()=>[s_],onLtr:()=>[o_]},overrides:d}),h=()=>({type:"hotspot",hotspot:s(),bubble:Bu(-12,12,a_),layouts:{onRtl:()=>[Or,aa,Dr],onLtr:()=>[aa,Or,Dr]},overrides:d});return()=>a()?p():h()},of=(t,s,a,i)=>{const p={maxHeightFunction:kg()},h=()=>({type:"node",root:dc(Do(s())),node:E.from(s()),bubble:Bu(12,12,a_),layouts:{onRtl:()=>[ru],onLtr:()=>[ru]},overrides:p}),w=()=>t?{type:"node",root:dc(Do(s())),node:E.from(s()),bubble:Bu(0,-ud(s()),a_),layouts:{onRtl:()=>[Ha],onLtr:()=>[Ha]},overrides:p}:{type:"hotspot",hotspot:a(),bubble:Bu(0,0,a_),layouts:{onRtl:()=>[Ha],onLtr:()=>[Ha]},overrides:p};return()=>i()?h():w()},k5=(t,s,a)=>{const i=()=>({type:"node",root:dc(Do(t())),node:E.from(t()),layouts:{onRtl:()=>[ru],onLtr:()=>[ru]}}),d=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[Dr],onLtr:()=>[Dr]}});return()=>a()?i():d()},m9=(t,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const a=t.selection.getRng(),i=t.model.table.getSelectedCells();if(i.length>1){const d=i[0],p=i[i.length-1],h={firstCell:me.fromDom(d),lastCell:me.fromDom(p)};return E.some(h)}return E.some(Zr.range(me.fromDom(a.startContainer),a.startOffset,me.fromDom(a.endContainer),a.endOffset))}}),p9=t=>s=>({type:"node",root:t(),node:s}),g9=(t,s,a,i)=>{const d=_v(t),p=()=>me.fromDom(t.getBody()),h=()=>me.fromDom(t.getContentAreaContainer()),w=()=>d||!i();return{inlineDialog:zB(h,s,w),inlineBottomDialog:of(t.inline,h,a,w),banner:k5(h,s,w),cursor:m9(t,p),node:p9(p)}},h9=t=>(s,a)=>{dM(t)(s,a)},b9=t=>()=>rM(t),AB=t=>s=>kC(t,s),OB=t=>s=>sM(t,s),Eq=t=>({colorPicker:h9(t),hasCustomColors:b9(t),getColors:AB(t),getColorCols:OB(t)}),zq=t=>()=>Y4(t),qa=t=>({isDraggableModal:zq(t)}),_5=t=>{const s=Kt(e3(t)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},DB=t=>Jr(t,"items"),c_=t=>Jr(t,"format"),RB=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],y9=t=>ho(t,"items"),v9=t=>ho(t,"block"),w9=t=>ho(t,"inline"),k9=t=>ho(t,"selector"),MB=t=>Qe(t,(s,a)=>{if(y9(a)){const i=MB(a.items);return{customFormats:s.customFormats.concat(i.customFormats),formats:s.formats.concat([{title:a.title,items:i.formats}])}}else if(w9(a)||v9(a)||k9(a)){const d=`custom-${Me(a.name)?a.name:a.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:d,format:a}]),formats:s.formats.concat([{title:a.title,format:d,icon:a.icon}])}}else return{...s,formats:s.formats.concat(a)}},{customFormats:[],formats:[]}),_9=(t,s)=>{const a=MB(s),i=d=>{ut(d,p=>{t.formatter.has(p.name)||t.formatter.register(p.name,p.format)})};return t.formatter?i(a.customFormats):t.on("init",()=>{i(a.customFormats)}),a.formats},BB=t=>TD(t).map(s=>{const a=_9(t,s);return ED(t)?RB.concat(a):a}).getOr(RB),NB=t=>{const s=ko(t);return s.length===1&&Po(s,"title")},i_=(t,s,a)=>({...t,type:"formatter",isSelected:s(t.format),getStylePreview:a(t.format)}),PB=(t,s,a,i)=>{const d=_=>i_(_,a,i),p=_=>{const T=w(_.items);return{..._,type:"submenu",getStyleItems:Y(T)}},h=_=>{const T=Me(_.name)?_.name:Ot(_.title),A=`custom-${T}`,R={..._,type:"formatter",format:A,isSelected:a(A),getStylePreview:i(A)};return t.formatter.register(T,R),R},w=_=>He(_,T=>DB(T)?p(T):c_(T)?d(T):NB(T)?{...T,type:"separator"}:h(T));return w(s)},$B=t=>{const s=w=>()=>t.formatter.match(w),a=w=>()=>{const _=t.formatter.get(w);return _!==void 0?E.some({tag:_.length>0&&(_[0].inline||_[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(w))}):E.none()},i=Kt([]),d=Kt([]),p=Kt(!1);return t.on("PreInit",w=>{const _=BB(t),T=PB(t,_,s,a);i.set(T)}),t.on("addStyleModifications",w=>{const _=PB(t,w.items,s,a);d.set(_),p.set(w.replace)}),{getData:()=>{const w=p.get()?[]:i.get(),_=d.get();return w.concat(_)}}},x9=t=>Tn(t)&&t.nodeType===1,IB=Ap.trim,FB=t=>s=>!!(x9(s)&&(s.contentEditable===t||s.getAttribute("data-mce-contenteditable")===t)),C9=FB("true"),LB=FB("false"),S9=(t,s,a,i,d)=>({type:t,title:s,url:a,level:i,attach:d}),Aq=t=>{let s=t;for(;s=s.parentNode;){const a=s.contentEditable;if(a&&a!=="inherit")return C9(s)}return!1},T9=(t,s)=>He(Mr(me.fromDom(s),t),a=>a.dom),HB=t=>t.innerText||t.textContent,E9=t=>t.id?t.id:Ot("h"),VB=t=>t&&t.nodeName==="A"&&(t.id||t.name)!==void 0,x5=t=>VB(t)&&UB(t),jB=t=>t&&/^(H[1-6])$/.test(t.nodeName),UB=t=>Aq(t)&&!LB(t),WB=t=>jB(t)&&UB(t),z9=t=>jB(t)?parseInt(t.nodeName.substr(1),10):0,A9=t=>{var s;const a=E9(t),i=()=>{t.id=a};return S9("header",(s=HB(t))!==null&&s!==void 0?s:"","#"+a,z9(t),i)},O9=t=>{const s=t.id||t.name,a=HB(t);return S9("anchor",a||"#"+s,"#"+s,0,oe)},D9=t=>He(Hn(t,WB),A9),C5=t=>He(Hn(t,x5),O9),ZB=t=>T9("h1,h2,h3,h4,h5,h6,a:not([href])",t),R9=t=>IB(t.title).length>0,M9={find:t=>{const s=ZB(t);return Hn(D9(s).concat(C5(s)),R9)}},uS="tinymce-url-history",S5=5,qB=t=>Me(t)&&/^https?/.test(t),dS=t=>Ze(t)&&t.length<=S5&&tt(t,qB),GB=t=>Ge(t)&&ts(t,s=>!dS(s)).isNone(),l_=()=>{const t=Qg.getItem(uS);if(t===null)return{};let s;try{s=JSON.parse(t)}catch(a){if(a instanceof SyntaxError)return console.log("Local storage "+uS+" was not valid JSON",a),{};throw a}return GB(s)?s:(console.log("Local storage "+uS+" was not valid format",s),{})},B9=t=>{if(!GB(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));Qg.setItem(uS,JSON.stringify(t))},T5=t=>{const s=l_();return dt(s,t).getOr([])},u_=(t,s)=>{if(!qB(t))return;const a=l_(),i=dt(a,s).getOr([]),d=Hn(i,p=>p!==t);a[s]=[t].concat(d).slice(0,S5),B9(a)},E5=t=>!!t,N9=t=>Jn(Ap.makeMap(t,/[, ]/),E5),fS=t=>E.from(RD(t)),KB=t=>{const s=E.from(G4(t)).filter(E5).map(N9);return fS(t).fold(Nn,a=>s.fold(Et,i=>ko(i).length>0?i:!1))},YB=(t,s)=>{const a=KB(t);return On(a)?a?fS(t):E.none():a[s]?fS(t):E.none()},P9=(t,s)=>YB(t,s).map(a=>i=>Za.nu(d=>{const p=(w,_)=>{if(!Me(w))throw new Error("Expected value to be string");if(_!==void 0&&!Ge(_))throw new Error("Expected meta to be a object");d({value:w,meta:_})},h={filetype:s,fieldname:i.fieldname,...E.from(i.meta).getOr({})};a.call(t,p,i.value,h)})),mS=t=>E.from(t).filter(Me).getOrUndefined(),pS=t=>K4(t)?E.some({targets:M9.find(t.getBody()),anchorTop:mS(W2(t)),anchorBottom:mS(BD(t))}):E.none(),$9=t=>E.from(q4(t)),I9=t=>({getHistory:T5,addToHistory:u_,getLinkInformation:()=>pS(t),getValidationHandler:()=>$9(t),getUrlPicker:s=>P9(t,s)}),Kv=(t,s,a,i)=>{const d=Kt(!1),p=_5(s),h={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:El.translate,isDisabled:()=>s.mode.isReadOnly()||!s.ui.isEnabled(),getOption:s.options.get},w=I9(s),_=$B(s),T=Eq(s),A=qa(s),R=()=>d.get(),P=ye=>d.set(ye),L={shared:{providers:h,anchors:g9(s,a,i,p.isPositionedAtTop),header:p},urlinput:w,styles:_,colorinput:T,dialog:A,isContextMenuOpen:R,setContextMenuState:P},q={...L,shared:{...L.shared,interpreter:ye=>CB(ye,{},q),getSink:t.popup}},te={...L,shared:{...L.shared,interpreter:ye=>CB(ye,{},te),getSink:t.dialog}};return{popup:q,dialog:te}},XB=(t,s,a)=>{const i=(De,rt)=>{ut([s,...a],pt=>{pt.broadcastEvent(De,rt)})},d=(De,rt)=>{ut([s,...a],pt=>{pt.broadcastOn([De],rt)})},p=De=>d(Yl(),{target:De.target}),h=Hp(),w=ja(h,"touchstart",p),_=ja(h,"touchmove",De=>i(Jh(),De)),T=ja(h,"touchend",De=>i(t1(),De)),A=ja(h,"mousedown",p),R=ja(h,"mouseup",De=>{De.raw.button===0&&d(Rw(),{target:De.target})}),P=De=>d(Yl(),{target:me.fromDom(De.target)}),L=De=>{De.button===0&&d(Rw(),{target:me.fromDom(De.target)})},q=()=>{ut(t.editorManager.get(),De=>{t!==De&&De.dispatch("DismissPopups",{relatedTarget:t})})},te=De=>i(Cu(),cw(De)),ye=De=>{d(mp(),{}),i(jl(),cw(De))},ue=Do(me.fromDom(t.getElement())),ae=R1(ue,"scroll",De=>{requestAnimationFrame(()=>{const rt=t.getContainer();if(rt!=null){const Sn=th(t,s.element).map(At=>[At.element,...At.others]).getOr([]);Ps(Sn,At=>Oo(At,De.target))&&(t.dispatch("ElementScroll",{target:De.target.dom}),i(o1(),De))}})}),he=()=>d(mp(),{}),et=De=>{De.state&&d(Yl(),{target:me.fromDom(t.getContainer())})},Ne=De=>{d(Yl(),{target:me.fromDom(De.relatedTarget.getContainer())})};t.on("PostRender",()=>{t.on("click",P),t.on("tap",P),t.on("mouseup",L),t.on("mousedown",q),t.on("ScrollWindow",te),t.on("ResizeWindow",ye),t.on("ResizeEditor",he),t.on("AfterProgressState",et),t.on("DismissPopups",Ne)}),t.on("remove",()=>{t.off("click",P),t.off("tap",P),t.off("mouseup",L),t.off("mousedown",q),t.off("ScrollWindow",te),t.off("ResizeWindow",ye),t.off("ResizeEditor",he),t.off("AfterProgressState",et),t.off("DismissPopups",Ne),A.unbind(),w.unbind(),_.unbind(),T.unbind(),R.unbind(),ae.unbind()}),t.on("detach",()=>{ut([s,...a],Bg),ut([s,...a],De=>De.destroy())})},Kr=qE,sf=a2,z5=Y([be("shell",!1),Le("makeItem"),be("setupItem",oe),Ki.field("listBehaviours",[vn])]),F9=_c({name:"items",overrides:()=>({behaviours:ct([vn.config({})])})}),L9=Y([F9]),H9=Y("CustomList"),A5=(t,s,a,i)=>{const d=(w,_)=>{h(w).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},T=>{const A=vn.contents(T),R=_.length,P=R-A.length,L=P>0?Xn(P,()=>t.makeItem()):[],q=A.slice(R);ut(q,ye=>vn.remove(T,ye)),ut(L,ye=>vn.append(T,ye));const te=vn.contents(T);ut(te,(ye,ue)=>{t.setupItem(w,ye,_[ue],ue)})})},p=t.shell?{behaviours:[vn.config({})],components:[]}:{behaviours:[],components:s},h=w=>t.shell?E.some(w):Uo(w,t,"items");return{uid:t.uid,dom:t.dom,components:p.components,behaviours:or(t.listBehaviours,p.behaviours),apis:{setItems:d}}},QB=xa({name:H9(),configFields:z5(),partFields:L9(),factory:A5,apis:{setItems:(t,s,a)=>{t.setItems(s,a)}}}),Yv=Y([Le("dom"),be("shell",!0),yr("toolbarBehaviours",[vn])]),V9=Y([_c({name:"groups",overrides:()=>({behaviours:ct([vn.config({})])})})]),j9=(t,s,a,i)=>{const d=(w,_)=>{p(w).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},T=>{vn.set(T,_)})},p=w=>t.shell?E.some(w):Uo(w,t,"groups"),h=t.shell?{behaviours:[vn.config({})],components:[]}:{behaviours:[],components:s};return{uid:t.uid,dom:t.dom,components:h.components,behaviours:or(t.toolbarBehaviours,h.behaviours),apis:{setGroups:d,refresh:oe},domModification:{attributes:{role:"group"}}}},rf=xa({name:"Toolbar",configFields:Yv(),partFields:V9(),factory:j9,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)}}}),U9=oe,eN=Nn,tN=Y([]);var d_=Object.freeze({__proto__:null,setup:U9,isDocked:eN,getBehaviours:tN});const O5=t=>(za($s(t,"position"),"fixed")?E.none():gf(t)).orThunk(()=>{const i=me.fromTag("span");return lc(t).bind(d=>{gc(d,i);const p=gf(i);return li(i),p})}),nN=t=>O5(t).map(Ja).getOrThunk(()=>xo(0,0)),D5=(t,s)=>{const a=t.element;Gs(a,s.transitionClass),xs(a,s.fadeOutClass),Gs(a,s.fadeInClass),s.onShow(t)},oN=(t,s)=>{const a=t.element;Gs(a,s.transitionClass),xs(a,s.fadeInClass),Gs(a,s.fadeOutClass),s.onHide(t)},W9=(t,s)=>t.y<s.bottom&&t.bottom>s.y,sN=(t,s)=>t.y>=s.y,rN=(t,s)=>t.bottom<=s.bottom,R5=(t,s,a)=>({location:"top",leftX:s,topY:a.bounds.y-t.y}),M5=(t,s,a)=>({location:"bottom",leftX:s,bottomY:t.bottom-a.bounds.bottom}),B5=t=>t.box.x-t.win.x,Z9=(t,s,a)=>{const i=s.win,d=s.box,p=B5(s);return es(t,h=>{switch(h){case"bottom":return rN(d,a.bounds)?E.none():E.some(M5(i,p,a));case"top":return sN(d,a.bounds)?E.none():E.some(R5(i,p,a));default:return E.none()}}).getOr({location:"no-dock"})},q9=(t,s,a)=>tt(t,i=>{switch(i){case"bottom":return rN(s,a.bounds);case"top":return sN(s,a.bounds)}}),G9=(t,s)=>{const a=s.optScrollEnv.fold(Y(t.bounds.y),i=>i.scrollElmTop+(t.bounds.y-i.currentScrollTop));return xo(t.bounds.x,a)},Rq=(t,s)=>{const a=s.optScrollEnv.fold(Y(t.y),i=>t.y+i.currentScrollTop-i.scrollElmTop);return xo(t.x,a)},N5=(t,s,a)=>a.getInitialPos().map(i=>{const d=G9(i,s);return{box:gs(d.left,d.top,mr(t),er(t)),location:i.location}}),P5=(t,s,a,i,d)=>{const p=Rq(s,a),h=gs(p.left,p.top,s.width,s.height);i.setInitialPos({style:ar(t),position:Vo(t,"position")||"static",bounds:h,location:d.location})},aN=(t,s,a,i,d)=>{i.getInitialPos().fold(()=>P5(t,s,a,i,d),()=>oe)},f_=(t,s,a)=>a.getInitialPos().bind(i=>{var d;switch(a.clearInitialPos(),i.position){case"static":return E.some({morph:"static"});case"absolute":const p=O5(t).getOr(fr()),h=Ms(p),w=(d=p.dom.scrollTop)!==null&&d!==void 0?d:0;return E.some({morph:"absolute",positionCss:hi("absolute",dt(i.style,"left").map(_=>s.x-h.x),dt(i.style,"top").map(_=>s.y-h.y+w),dt(i.style,"right").map(_=>h.right-s.right),dt(i.style,"bottom").map(_=>h.bottom-s.bottom))});default:return E.none()}}),cN=(t,s,a)=>N5(t,s,a).filter(({box:i})=>q9(a.getModes(),i,s)).bind(({box:i})=>f_(t,i,a)),$5=t=>{switch(t.location){case"top":return E.some({morph:"fixed",positionCss:hi("fixed",E.some(t.leftX),E.some(t.topY),E.none(),E.none())});case"bottom":return E.some({morph:"fixed",positionCss:hi("fixed",E.some(t.leftX),E.none(),E.none(),E.some(t.bottomY))});default:return E.none()}},K9=(t,s,a)=>{const i=Ms(t),d=Wr(),p=Z9(a.getModes(),{win:d,box:i},s);return p.location==="top"||p.location==="bottom"?(P5(t,i,s,a,p),$5(p)):E.none()},Y9=(t,s,a)=>cN(t,s,a).orThunk(()=>s.optScrollEnv.bind(i=>N5(t,s,a)).bind(({box:i,location:d})=>{const p=Wr(),h=B5({win:p,box:i}),w=d==="top"?R5(p,h,s):M5(p,h,s);return $5(w)})),X9=(t,s,a)=>{const i=t.element;return za($s(i,"position"),"fixed")?Y9(i,s,a):K9(i,s,a)},J9=(t,s,a)=>{const i=t.element;return N5(i,s,a).bind(({box:d})=>f_(i,d,a))},Q9=(t,s,a,i)=>{const d=Ms(t),p=Wr(),h=B5({win:p,box:d}),w=i(p,h,s);return w.location==="bottom"||w.location==="top"?(aN(t,d,s,a,w),$5(w)):E.none()},iN=(t,s,a)=>{a.setDocked(!1),ut(["left","right","top","bottom","position"],i=>no(t.element,i)),s.onUndocked(t)},gS=(t,s,a,i)=>{const d=i.position==="fixed";a.setDocked(d),bx(t.element,i),(d?s.onDocked:s.onUndocked)(t)},I5=(t,s,a,i,d=!1)=>{s.contextual.each(p=>{p.lazyContext(t).each(h=>{const w=W9(h,i.bounds);w!==a.isVisible()&&(a.setVisible(w),d&&!w?(As(t.element,[p.fadeOutClass]),p.onHide(t)):(w?D5:oN)(t,p))})})},lN=(t,s,a,i,d)=>{I5(t,s,a,i,!0),gS(t,s,a,d.positionCss)},uN=(t,s,a,i,d)=>{switch(d.morph){case"static":return iN(t,s,a);case"absolute":return gS(t,s,a,d.positionCss);case"fixed":return lN(t,s,a,i,d)}},eV=(t,s,a)=>{const i=s.lazyViewport(t);I5(t,s,a,i),X9(t,i,a).each(d=>{uN(t,s,a,i,d)})},tV=(t,s,a)=>{const i=t.element;a.setDocked(!1);const d=s.lazyViewport(t);J9(t,d,a).each(p=>{switch(p.morph){case"static":{iN(t,s,a);break}case"absolute":{gS(t,s,a,p.positionCss);break}}}),a.setVisible(!0),s.contextual.each(p=>{mi(i,[p.fadeInClass,p.fadeOutClass,p.transitionClass]),p.onShow(t)}),hS(t,s,a)},hS=(t,s,a)=>{t.getSystem().isConnected()&&eV(t,s,a)},uh=(t,s,a)=>{a.isDocked()&&tV(t,s,a)},F5=t=>(s,a,i)=>{const d=a.lazyViewport(s);Q9(s.element,d,i,t).each(h=>{lN(s,a,i,d,h)})},m_=F5(R5),bS=F5(M5);var Mq=Object.freeze({__proto__:null,refresh:hS,reset:uh,isDocked:(t,s,a)=>a.isDocked(),getModes:(t,s,a)=>a.getModes(),setModes:(t,s,a,i)=>a.setModes(i),forceDockToTop:m_,forceDockToBottom:bS}),rV=Object.freeze({__proto__:null,events:(t,s)=>Go([Su(Ym(),(a,i)=>{t.contextual.each(d=>{br(a.element,d.transitionClass)&&(mi(a.element,[d.transitionClass,d.fadeInClass]),(s.isVisible()?d.onShown:d.onHidden)(a)),i.stop()})}),Pe(Cu(),(a,i)=>{hS(a,t,s)}),Pe(o1(),(a,i)=>{hS(a,t,s)}),Pe(jl(),(a,i)=>{uh(a,t,s)})])}),aV=[ya("contextual",[uo("fadeInClass"),uo("fadeOutClass"),uo("transitionClass"),Wi("lazyContext"),Qn("onShow"),Qn("onShown"),Qn("onHide"),Qn("onHidden")]),hr("lazyViewport",()=>({bounds:Wr(),optScrollEnv:E.none()})),Ia("modes",["top","bottom"],Er),Qn("onDocked"),Qn("onUndocked")],cV=Object.freeze({__proto__:null,init:t=>{const s=Kt(!1),a=Kt(!0),i=Fn(),d=Kt(t.modes),p=()=>`docked:  ${s.get()}, visible: ${a.get()}, modes: ${d.get().join(",")}`;return Lc({isDocked:s.get,setDocked:s.set,getInitialPos:i.get,setInitialPos:i.set,clearInitialPos:i.clear,isVisible:a.get,setVisible:a.set,getModes:d.get,setModes:d.set,readState:p})}});const Cs=Rr({fields:aV,name:"docking",active:rV,apis:Mq,state:cV}),hy=Y(Ot("toolbar-height-change")),Yu={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},dN="tox-tinymce--toolbar-sticky-on",fN="tox-tinymce--toolbar-sticky-off",L5=(t,s)=>{const a=Da(s),d=Ml(s).dom.innerHeight,p=Qa(a),h=me.fromDom(t.elm),w=ec(h),_=er(h),T=w.y,A=T+_,R=Ja(s),P=er(s),L=R.top,q=L+P,te=Math.abs(L-p.top)<2,ye=Math.abs(q-(p.top+d))<2;if(te&&T<q)Rh(p.left,T-P,a);else if(ye&&A>L){const ue=T-d+_+P;Rh(p.left,ue,a)}},yS=(t,s)=>Po(Cs.getModes(t),s),by=t=>{const s=i=>ud(i)+(parseInt(Vo(i,"margin-top"),10)||0)+(parseInt(Vo(i,"margin-bottom"),10)||0),a=t.element;oi(a).each(i=>{const d="padding-"+Cs.getModes(t)[0];if(Cs.isDocked(t)){const p=mr(i);Mt(a,"width",p+"px"),Mt(i,d,s(a)+"px")}else no(a,"width"),no(i,d)})},H5=(t,s)=>{s?(xs(t,Yu.fadeOutClass),As(t,[Yu.transitionClass,Yu.fadeInClass])):(xs(t,Yu.fadeInClass),As(t,[Yu.fadeOutClass,Yu.transitionClass]))},mN=(t,s)=>{const a=me.fromDom(t.getContainer());s?(Gs(a,dN),xs(a,fN)):(Gs(a,fN),xs(a,dN))},iV=(t,s)=>{const a=Da(s);Mu(a).filter(i=>!Oo(s,i)).filter(i=>Oo(i,me.fromDom(a.dom.body))||Oa(t,i)).each(()=>wc(s))},lV=(t,s)=>kl(t).orThunk(()=>s().toOptional().bind(a=>kl(a.element))),uV=(t,s,a)=>{t.inline||(s.header.isPositionedAtTop()||t.on("ResizeEditor",()=>{a().each(Cs.reset)}),t.on("ResizeWindow ResizeEditor",()=>{a().each(by)}),t.on("SkinLoaded",()=>{a().each(i=>{Cs.isDocked(i)?Cs.reset(i):Cs.refresh(i)})}),t.on("FullscreenStateChanged",()=>{a().each(Cs.reset)})),t.on("AfterScrollIntoView",i=>{a().each(d=>{Cs.refresh(d);const p=d.element;dv(p)&&L5(i,p)})}),t.on("PostRender",()=>{mN(t,!1)})},dV=t=>t().map(Cs.isDocked).getOr(!1),fV=()=>[vc.config({channels:{[hy()]:{onReceive:by}}})],V5=(t,s)=>{const a=Fn(),i=s.getSink,d=w=>{i().each(_=>w(_.element))},p=w=>{t.inline||by(w),mN(t,Cs.isDocked(w)),w.getSystem().broadcastOn([mp()],{}),i().each(_=>_.getSystem().broadcastOn([mp()],{}))},h=t.inline?[]:fV();return[on.config({}),Cs.config({contextual:{lazyContext:w=>{const _=ud(w.element),T=t.inline?t.getContentAreaContainer():t.getContainer();return E.from(T).map(A=>{const R=Ms(me.fromDom(A));return th(t,w.element).fold(()=>{const L=R.height-_,q=R.y+(yS(w,"top")?0:_);return gs(R.x,q,R.width,L)},L=>{const q=Nh(R,Nv(L)),te=yS(w,"top")?q.y:q.y+_;return gs(q.x,te,q.width,q.height-_)})})},onShow:()=>{d(w=>H5(w,!0))},onShown:w=>{d(_=>mi(_,[Yu.transitionClass,Yu.fadeInClass])),a.get().each(_=>{iV(w.element,_),a.clear()})},onHide:w=>{lV(w.element,i).fold(a.clear,a.set),d(_=>H5(_,!1))},onHidden:()=>{d(w=>mi(w,[Yu.transitionClass]))},...Yu},lazyViewport:w=>th(t,w.element).fold(()=>{const T=Wr(),A=j2(t),R=T.y+(yS(w,"top")?A:0),P=T.height-(yS(w,"bottom")?A:0);return{bounds:gs(T.x,R,T.width,P),optScrollEnv:E.none()}},T=>({bounds:Nv(T),optScrollEnv:E.some({currentScrollTop:T.element.dom.scrollTop,scrollElmTop:Ja(T.element).top})})),modes:[s.header.getDockingMode()],onDocked:p,onUndocked:p}),...h]};var pN=Object.freeze({__proto__:null,setup:uV,isDocked:dV,getBehaviours:V5});const j5=t=>{const s=t.editor,a=t.sticky?V5:tN;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:ct(a(s,t.sharedBackstage))}},mV=Ht([ur,nc("items",Dt([ml([y3,bc("items",Er)]),Er]))].concat(Av)),vS=t=>hs("GroupToolbarButton",mV,t),wS=[Fr("text"),Fr("tooltip"),Fr("icon"),Pa("search",!1,Dt([ji,Ht([Fr("placeholder")])],t=>On(t)?t?E.some({placeholder:E.none()}):E.none():E.some(t))),Wi("fetch"),hr("onSetup",()=>oe)],U5=Ht([ur,...wS]),gN=t=>hs("menubutton",U5,t),pV=Ht([ur,xk,zl,im,k3,rR,Yg,$a("presets","normal",["normal","color","listpreview"]),iR(1),Ev,j$]),gV=t=>hs("SplitButton",pV,t);var p_=Zc({factory:(t,s)=>{const a=(d,p)=>{const h=He(p,w=>{const _={type:"menubutton",text:w.text,fetch:A=>{A(w.getItems())}},T=gN(_).mapError(A=>ta(A)).getOrDie();return Jk(T,"tox-mbtn",s.backstage,E.some("menuitem"))});vn.set(d,h)},i={focus:qt.focusIn,setMenus:a};return{uid:t.uid,dom:t.dom,components:[],behaviours:ct([vn.config({}),Cn("menubar-events",[jo(d=>{t.onSetup(d)}),Pe(Ll(),(d,p)=>{Ks(d.element,".tox-mbtn--active").each(h=>{Wl(p.event.target,".tox-mbtn").each(w=>{Oo(h,w)||d.getSystem().getByDom(h).each(_=>{d.getSystem().getByDom(w).each(T=>{ou.expand(T),ou.close(_),on.focus(T)})})})})}),Pe(n1(),(d,p)=>{p.event.prevFocus.bind(h=>d.getSystem().getByDom(h).toOptional()).each(h=>{p.event.newFocus.bind(w=>d.getSystem().getByDom(w).toOptional()).each(w=>{ou.isOpen(h)&&(ou.expand(w),ou.close(h))})})})]),qt.config({mode:"flow",selector:".tox-mbtn",onEscape:d=>(t.onEscape(d),E.some(!0))}),ys.config({})]),apis:i,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Le("dom"),Le("uid"),Le("onEscape"),Le("backstage"),be("onSetup",oe)],apis:{focus:(t,s)=>{t.focus(s)},setMenus:(t,s,a)=>{t.setMenus(s,a)}}});const W5="⚡️Upgrade",hV="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",Z5=t=>({uid:t.uid,dom:t.dom,components:[{dom:{tag:"a",attributes:{href:hV,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:W5}}]}),hN="container",bV=[yr("slotBehaviours",[])],bN=t=>"<alloy.field."+t+">",yV=t=>{const s=(()=>{const p=[];return{slot:(w,_)=>(p.push(w),Fw(hN,bN(w),_)),record:Y(p)}})(),a=t(s),i=s.record(),d=He(i,p=>_a({name:p,pname:bN(p)}));return Zw(hN,bV,d,vV,a)},vV=(t,s)=>{const a=te=>Vw(t),i=(te,ye)=>Uo(te,t,ye),d=(te,ye)=>(ue,ae)=>Uo(ue,t,ae).map(he=>te(he,ae)).getOr(ye),p=te=>(ye,ue)=>{ut(ue,ae=>te(ye,ae))},h=(te,ye)=>ks(te.element,"aria-hidden")!=="true",w=(te,ye)=>{if(!h(te)){const ue=te.element;no(ue,"display"),Q(ue,"aria-hidden"),Zt(te,Qh(),{name:ye,visible:!0})}},_=(te,ye)=>{if(h(te)){const ue=te.element;Mt(ue,"display","none"),_t(ue,"aria-hidden","true"),Zt(te,Qh(),{name:ye,visible:!1})}},T=d(h,!1),A=d(_),R=p(A),P=te=>R(te,a()),L=d(w),q={getSlotNames:a,getSlot:i,isShowing:T,hideSlot:A,hideAllSlots:P,showSlot:L};return{uid:t.uid,dom:t.dom,components:s,behaviours:Vd(t.slotBehaviours),apis:q}},Ec={...Jn({getSlotNames:(t,s)=>t.getSlotNames(s),getSlot:(t,s,a)=>t.getSlot(s,a),isShowing:(t,s,a)=>t.isShowing(s,a),hideSlot:(t,s,a)=>t.hideSlot(s,a),hideAllSlots:(t,s)=>t.hideAllSlots(s),showSlot:(t,s,a)=>t.showSlot(s,a)},t=>tp(t)),sketch:yV},yN=Ht([zl,xk,hr("onShow",oe),hr("onHide",oe),Yg]),wV=t=>hs("sidebar",yN,t),vN=t=>{const{sidebars:s}=t.ui.registry.getAll();ut(ko(s),a=>{const i=s[a],d=()=>za(E.from(t.queryCommandValue("ToggleSidebar")),a);t.ui.registry.addToggleButton(a,{icon:i.icon,tooltip:i.tooltip,onAction:p=>{t.execCommand("ToggleSidebar",!1,a),p.setActive(d())},onSetup:p=>{p.setActive(d());const h=()=>p.setActive(d());return t.on("ToggleSidebar",h),()=>{t.off("ToggleSidebar",h)}}})})},kV=t=>({element:()=>t.element.dom}),_V=(t,s)=>{const a=He(ko(s),i=>{const d=s[i],p=Mo(wV(d));return{name:i,getApi:kV,onSetup:p.onSetup,onShow:p.onShow,onHide:p.onHide}});return He(a,i=>{const d=Kt(oe);return t.slot(i.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Tk.unnamedEvents([Xg(i,d),um(i,d),Pe(Qh(),(p,h)=>{const w=h.event;Ke(a,T=>T.name===w.name).each(T=>{(w.visible?T.onShow:T.onHide)(T.getApi(p))})})])})})},xV=t=>Ec.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:_V(s,t),slotBehaviours:Tk.unnamedEvents([jo(a=>Ec.hideAllSlots(a))])})),CV=(t,s,a)=>{Zn.getCurrent(t).each(d=>{vn.set(d,[xV(s)]);const p=a==null?void 0:a.toLowerCase();Me(p)&&ho(s,p)&&Zn.getCurrent(d).each(h=>{Ec.showSlot(h,p),Ei.immediateGrow(d),no(d.element,"width"),kS(t.element,"region")})})},kS=(t,s)=>{_t(t,"role",s)},wN=(t,s)=>{Zn.getCurrent(t).each(i=>{Zn.getCurrent(i).each(p=>{Ei.hasGrown(i)?Ec.isShowing(p,s)?(Ei.shrink(i),kS(t.element,"presentation")):(Ec.hideAllSlots(p),Ec.showSlot(p,s),kS(t.element,"region")):(Ec.hideAllSlots(p),Ec.showSlot(p,s),Ei.grow(i),kS(t.element,"region"))})})},SV=t=>Zn.getCurrent(t).bind(a=>Ei.isGrowing(a)||Ei.hasGrown(a)?Zn.getCurrent(a).bind(p=>Ke(Ec.getSlotNames(p),h=>Ec.isShowing(p,h))):E.none()),q5=Ot("FixSizeEvent"),G5=Ot("AutoSizeEvent"),$q=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:ct([ys.config({}),on.config({}),Ei.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{Zn.getCurrent(s).each(Ec.hideAllSlots),Gn(s,G5)},onGrown:s=>{Gn(s,G5)},onStartGrow:s=>{Zt(s,q5,{width:$s(s.element,"width").getOr("")})},onStartShrink:s=>{Zt(s,q5,{width:mr(s.element)+"px"})}}),vn.config({}),Zn.config({find:s=>{const a=vn.contents(s);return Rs(a)}})])}],behaviours:ct([Si.childAt(0),Cn("sidebar-sliding-events",[Pe(q5,(s,a)=>{Mt(s.element,"width",a.event.width)}),Pe(G5,(s,a)=>{no(s.element,"width")})])])});var zV=Object.freeze({__proto__:null,block:(t,s,a,i)=>{_t(t.element,"aria-busy",!0);const d=s.getRoot(t).getOr(t),p=ct([qt.config({mode:"special",onTab:()=>E.some(!0),onShiftTab:()=>E.some(!0)}),on.config({})]),h=i(d,p),w=d.getSystem().build(h);vn.append(d,pi(w)),w.hasConfigured(qt)&&s.focus&&qt.focusIn(w),a.isBlocked()||s.onBlock(t),a.blockWith(()=>vn.remove(d,w))},unblock:(t,s,a)=>{Q(t.element,"aria-busy"),a.isBlocked()&&s.onUnblock(t),a.clear()},isBlocked:(t,s,a)=>a.isBlocked()}),AV=[hr("getRoot",E.none),ir("focus",!0),Qn("onBlock"),Qn("onUnblock")],OV=Object.freeze({__proto__:null,init:()=>{const t=sE(),s=a=>{t.set({destroy:a})};return Lc({readState:t.isSet,blockWith:s,clear:t.clear,isBlocked:t.isSet})}});const Xu=Rr({fields:AV,name:"blocking",apis:zV,state:OV}),kN=t=>(s,a)=>({dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:kp('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),_N=t=>Zn.getCurrent(t).each(s=>wc(s.element,!0)),g_=(t,s)=>{const a="tabindex",i=`data-mce-${a}`;E.from(t.iframeElement).map(me.fromDom).each(d=>{s?(M(d,a).each(p=>_t(d,i,p)),_t(d,a,-1)):(Q(d,a),M(d,i).each(p=>{_t(d,a,p),Q(d,i)}))})},DV=(t,s,a,i)=>{const d=s.element;if(g_(t,a),a)Xu.block(s,kN(i)),no(d,"display"),Q(d,"aria-hidden"),t.hasFocus()&&_N(s);else{const p=Zn.getCurrent(s).exists(h=>hb(h.element));Xu.unblock(s),Mt(d,"display","none"),_t(d,"aria-hidden","true"),p&&t.focus()}},_S=t=>({uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:ct([vn.config({}),Xu.config({focus:!1}),Zn.config({find:s=>Rs(s.components())})]),components:[]}),RV=t=>t.type==="focusin",xS=t=>RV(t)?(t.composed?Rs(t.composedPath()):E.from(t.target)).map(me.fromDom).filter(So).exists(a=>br(a,"mce-pastebin")):!1,MV=(t,s,a)=>{const i=Kt(!1),d=Fn(),p=w=>{i.get()&&!xS(w)&&(w.preventDefault(),_N(s()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",()=>{t.dom.bind(t.getWin(),"focusin",p),t.on("BeforeExecCommand",w=>{w.command.toLowerCase()==="mcefocus"&&w.value!==!0&&p(w)})});const h=w=>{w!==i.get()&&(i.set(w),DV(t,s(),w,a.providers),YR(t,w))};t.on("ProgressState",w=>{if(d.on(clearTimeout),zo(w.time)){const _=ty.setEditorTimeout(t,()=>h(w.state),w.time);d.set(_)}else h(w.state),d.clear()})},BV=(t,s)=>Qe(t,(d,p)=>s(p,d.len).fold(Y(d),w=>({len:w.finish,list:d.list.concat([w])})),{len:0,list:[]}).list,Qi=(t,s,a)=>({within:t,extra:s,withinWidth:a}),xN=(t,s,a)=>{const i=BV(t,(w,_)=>{const T=a(w);return E.some({element:w,start:_,finish:_+T,width:T})}),d=Hn(i,w=>w.finish<=s),p=ot(d,(w,_)=>w+_.width,0),h=i.slice(d.length);return{within:d,extra:h,withinWidth:p}},yy=t=>He(t,s=>s.element),CN=(t,s,a)=>{const i=yy(t.concat(s));return Qi(i,[],a)},SN=(t,s,a,i)=>{const d=yy(t).concat([a]);return Qi(d,yy(s),i)},NV=(t,s,a)=>Qi(yy(t),[],a),TN=(t,s,a)=>{const i=xN(s,t,a);return i.extra.length===0?E.some(i):E.none()},PV=(t,s,a,i)=>{const d=TN(t,s,a).getOrThunk(()=>xN(s,t-a(i),a)),p=d.within,h=d.extra,w=d.withinWidth;return h.length===1&&h[0].width<=a(i)?CN(p,h,w):h.length>=1?SN(p,h,i,w):NV(p,h,w)},EN=(t,s)=>{const a=He(s,i=>pi(i));rf.setGroups(t,a)},$V=t=>es(t,s=>kl(s.element).bind(a=>s.getSystem().getByDom(a).toOptional())),zN=(t,s,a)=>{const i=s.builtGroups.get();if(i.length===0)return;const d=Ud(t,s,"primary"),p=Xs.getCoupled(t,"overflowGroup");Mt(d.element,"visibility","hidden");const h=i.concat([p]),w=$V(h);a([]),EN(d,h);const _=mr(d.element),T=PV(_,s.builtGroups.get(),A=>mr(A.element),p);T.extra.length===0?(vn.remove(d,p),a([])):(EN(d,T.within),a(T.extra)),no(d.element,"visibility"),si(d.element),w.each(on.focus)},AN=Y([yr("splitToolbarBehaviours",[Xs]),Bs("builtGroups",()=>Kt([]))]),IV=Y([Vf(["overflowToggledClass"]),_d("getOverflowBounds"),Le("lazySink"),Bs("overflowGroups",()=>Kt([])),Qn("onOpened"),Qn("onClosed")].concat(AN())),FV=Y([_a({factory:rf,schema:Yv(),name:"primary"}),Cl({schema:Yv(),name:"overflow"}),Cl({name:"overflow-button"}),Cl({name:"overflow-group"})]),CS=Y((t,s)=>{m0(t,Math.floor(s))}),ON=Y([Vf(["toggledClass"]),Le("lazySink"),Wi("fetch"),_d("getBounds"),ya("fireDismissalEventInstead",[be("event",Nf())]),Wf(),Qn("onToggled")]),DN=Y([Cl({name:"button",overrides:t=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:ct([Dn.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])})}),Cl({factory:rf,schema:Yv(),name:"toolbar",overrides:t=>({toolbarBehaviours:ct([qt.config({mode:"cyclic",onEscape:s=>(Uo(s,t,"button").each(on.focus),E.none())})])})})]),SS=Fn(),LV=(t,s)=>{SS.set(!0),TS(t,s),SS.clear()},TS=(t,s)=>{const a=Xs.getCoupled(t,"toolbarSandbox");Kn.isOpen(a)?Kn.close(a):Kn.open(a,s.toolbar())},ES=(t,s,a,i)=>{const d=a.getBounds.map(h=>h()),p=a.lazySink(t).getOrDie();ka.positionWithinBounds(p,s,{anchor:{type:"hotspot",hotspot:t,layouts:i,overrides:{maxWidthFunction:CS()}}},d)},K5=(t,s,a,i,d)=>{rf.setGroups(s,d),ES(t,s,a,i),Dn.on(t)},HV=(t,s,a)=>{const i=sp(),d=(h,w)=>{const _=SS.get().getOr(!1);a.fetch().get(T=>{K5(t,w,a,s.layouts,T),i.link(t.element),_||qt.focusIn(w)})},p=()=>{Dn.off(t),SS.get().getOr(!1)||on.focus(t),i.unlink(t.element)};return{dom:{tag:"div",attributes:{id:i.id}},behaviours:ct([qt.config({mode:"special",onEscape:h=>(Kn.close(h),E.some(!0))}),Kn.config({onOpen:d,onClose:p,isPartOf:(h,w,_)=>Bd(w,_)||Bd(t,_),getAttachPoint:()=>a.lazySink(t).getOrDie()}),vc.config({channels:{...Mb({isExtraPart:Nn,...a.fireDismissalEventInstead.map(h=>({fireEventInstead:{event:h.event}})).getOr({})}),...Ng({doReposition:()=>{Kn.getState(Xs.getCoupled(t,"toolbarSandbox")).each(h=>{ES(t,h,a,s.layouts)})}})}})])}},dh=xa({name:"FloatingToolbarButton",factory:(t,s,a,i)=>({...Gr.sketch({...i.button(),action:d=>{TS(d,i)},buttonBehaviours:Ki.augment({dump:i.button().buttonBehaviours},[Xs.config({others:{toolbarSandbox:d=>HV(d,a,t)}})])}),apis:{setGroups:(d,p)=>{Kn.getState(Xs.getCoupled(d,"toolbarSandbox")).each(h=>{K5(d,h,t,a.layouts,p)})},reposition:d=>{Kn.getState(Xs.getCoupled(d,"toolbarSandbox")).each(p=>{ES(d,p,t,a.layouts)})},toggle:d=>{TS(d,i)},toggleWithoutFocusing:d=>{LV(d,i)},getToolbar:d=>Kn.getState(Xs.getCoupled(d,"toolbarSandbox")),isOpen:d=>Kn.isOpen(Xs.getCoupled(d,"toolbarSandbox"))}}),configFields:ON(),partFields:DN(),apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggleWithoutFocusing(s)},getToolbar:(t,s)=>t.getToolbar(s),isOpen:(t,s)=>t.isOpen(s)}}),RN=Y([Le("items"),Vf(["itemSelector"]),yr("tgroupBehaviours",[qt])]),VV=Y([Vb({name:"items",unit:"item"})]),jV=(t,s,a,i)=>({uid:t.uid,dom:t.dom,components:s,behaviours:or(t.tgroupBehaviours,[qt.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),zS=xa({name:"ToolbarGroup",configFields:RN(),partFields:VV(),factory:jV}),MN=t=>He(t,s=>pi(s)),BN=(t,s,a)=>{zN(t,a,i=>{a.overflowGroups.set(i),s.getOpt(t).each(d=>{dh.setGroups(d,MN(i))})})},UV=(t,s,a,i)=>{const d=To(dh.sketch({fetch:()=>Za.nu(p=>{p(MN(t.overflowGroups.get()))}),layouts:{onLtr:()=>[aa,Or],onRtl:()=>[Or,aa],onBottomLtr:()=>[wa,rc],onBottomRtl:()=>[rc,wa]},getBounds:a.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:i["overflow-button"](),toolbar:i.overflow()},onToggled:(p,h)=>t[h?"onOpened":"onClosed"](p)}));return{uid:t.uid,dom:t.dom,components:s,behaviours:or(t.splitToolbarBehaviours,[Xs.config({others:{overflowGroup:()=>zS.sketch({...i["overflow-group"](),items:[d.asSpec()]})}})]),apis:{setGroups:(p,h)=>{t.builtGroups.set(He(h,p.getSystem().build)),BN(p,d,t)},refresh:p=>BN(p,d,t),toggle:p=>{d.getOpt(p).each(h=>{dh.toggle(h)})},toggleWithoutFocusing:p=>{d.getOpt(p).each(dh.toggleWithoutFocusing)},isOpen:p=>d.getOpt(p).map(dh.isOpen).getOr(!1),reposition:p=>{d.getOpt(p).each(h=>{dh.reposition(h)})},getOverflow:p=>d.getOpt(p).bind(dh.getToolbar)},domModification:{attributes:{role:"group"}}}},NN=xa({name:"SplitFloatingToolbar",configFields:IV(),partFields:FV(),factory:UV,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},refresh:(t,s)=>{t.refresh(s)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s),getOverflow:(t,s)=>t.getOverflow(s)}}),WV=Y([Vf(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Qn("onOpened"),Qn("onClosed")].concat(AN())),ZV=Y([_a({factory:rf,schema:Yv(),name:"primary"}),_a({factory:rf,schema:Yv(),name:"overflow",overrides:t=>({toolbarBehaviours:ct([Ei.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:s=>{Uo(s,t,"overflow-button").each(a=>{Dn.off(a),on.focus(a)}),t.onClosed(s)},onGrown:s=>{qt.focusIn(s),t.onOpened(s)},onStartGrow:s=>{Uo(s,t,"overflow-button").each(Dn.on)}}),qt.config({mode:"acyclic",onEscape:s=>(Uo(s,t,"overflow-button").each(on.focus),E.some(!0))})])})}),Cl({name:"overflow-button",overrides:t=>({buttonBehaviours:ct([Dn.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),Cl({name:"overflow-group"})]),qV=(t,s)=>Uo(t,s,"overflow").map(Ei.hasGrown).getOr(!1),Y5=(t,s)=>{Uo(t,s,"overflow-button").bind(()=>Uo(t,s,"overflow")).each(a=>{X5(t,s),Ei.toggleGrow(a)})},X5=(t,s)=>{Uo(t,s,"overflow").each(a=>{zN(t,s,i=>{const d=He(i,p=>pi(p));rf.setGroups(a,d)}),Uo(t,s,"overflow-button").each(i=>{Ei.hasGrown(a)&&Dn.on(i)}),Ei.refresh(a)})},GV=(t,s,a,i)=>{const d="alloy.toolbar.toggle",p=(h,w)=>{const _=He(w,h.getSystem().build);t.builtGroups.set(_)};return{uid:t.uid,dom:t.dom,components:s,behaviours:or(t.splitToolbarBehaviours,[Xs.config({others:{overflowGroup:h=>zS.sketch({...i["overflow-group"](),items:[Gr.sketch({...i["overflow-button"](),action:w=>{Gn(h,d)}})]})}}),Cn("toolbar-toggle-events",[Pe(d,h=>{Y5(h,t)})])]),apis:{setGroups:(h,w)=>{p(h,w),X5(h,t)},refresh:h=>X5(h,t),toggle:h=>Y5(h,t),isOpen:h=>qV(h,t)},domModification:{attributes:{role:"group"}}}},h_=xa({name:"SplitSlidingToolbar",configFields:WV(),partFields:ZV(),factory:GV,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},refresh:(t,s)=>{t.refresh(s)},toggle:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s)}}),PN=t=>{const s=t.title.fold(()=>({}),a=>({attributes:{title:a}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...s},components:[zS.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:ct([ys.config({}),on.config({})])}},vy=t=>zS.sketch(PN(t)),$N=(t,s)=>{const a=jo(i=>{const d=He(t.initGroups,vy);rf.setGroups(i,d)});return ct([vr.toolbarButton(t.providers.isDisabled),Nr(),qt.config({mode:s,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Cn("toolbar-events",[a])])},J5=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":PN({title:E.none(),items:[]}),"overflow-button":ZH({name:"more",icon:E.some("more-drawer"),enabled:!0,tooltip:E.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:E.none(),borderless:!1},E.none(),t.providers)},splitToolbarBehaviours:$N(t,s)}},KV=t=>{const s=J5(t),a=4,i=NN.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return NN.sketch({...s,lazySink:t.getSink,getOverflowBounds:()=>{const d=t.moreDrawerData.lazyHeader().element,p=ec(d),h=id(d),w=ec(h),_=Math.max(h.dom.scrollHeight,w.height);return gs(p.x+a,w.y,p.width-a*2,_)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}},components:[i],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:d=>t.onToggled(d,!0),onClosed:d=>t.onToggled(d,!1)})},YV=t=>{const s=h_.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),a=h_.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),i=J5(t);return h_.sketch({...i,components:[s,a],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:d=>{d.getSystem().broadcastOn([hy()],{type:"opened"}),t.onToggled(d,!0)},onClosed:d=>{d.getSystem().broadcastOn([hy()],{type:"closed"}),t.onToggled(d,!1)}})},Q5=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return rf.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===Ji.scrolling?["tox-toolbar--scrolling"]:[])},components:[rf.parts.groups({})],toolbarBehaviours:$N(t,s)})},IN=[im,zl,Fr("tooltip"),$a("buttonType","secondary",["primary","secondary"]),ir("borderless",!1),Wi("onAction")],XV=[...IN,Cp,Ui("type",["button"])],eA=[...IN,ir("active",!1),Ui("type",["togglebutton"])],FN={button:XV,togglebutton:eA},AS=[Ui("type",["group"]),Ia("buttons",[],Wn("type",FN))],LN=Wn("type",{...FN,group:AS}),HN=Ht([Ia("buttons",[],LN),Wi("onShow"),Wi("onHide")]),tA=t=>hs("view",HN,t),JV=(t,s)=>{var a,i;const d=t.type==="togglebutton",p=t.icon.map(he=>ch(he,s.icons)).map(To),w=he=>{const et=rt=>{p.map(pt=>pt.getOpt(he).each(Sn=>{vn.set(Sn,[ch(rt,s.icons)])}))},Ne=rt=>{const pt=he.element;rt?(Gs(pt,"tox-button--enabled"),_t(pt,"aria-pressed",!0)):(xs(pt,"tox-button--enabled"),Q(pt,"aria-pressed"))},De=()=>br(he.element,"tox-button--enabled");if(d)return t.onAction({setIcon:et,setActive:Ne,isActive:De});if(t.type==="button")return t.onAction({setIcon:et})},_={...t,name:d?t.text.getOr(t.icon.getOr("")):(a=t.text)!==null&&a!==void 0?a:t.icon.getOr(""),primary:t.buttonType==="primary",buttonType:E.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless},T=f5((i=t.buttonType)!==null&&i!==void 0?i:"secondary"),A=d?t.text.map(s.translate):E.some(s.translate(t.text)),R=A.map(Ls),P=_.tooltip.or(A).map(he=>({"aria-label":s.translate(he),title:s.translate(he)})).getOr({}),L=p.map(he=>he.asSpec()),q=Dv([L,R]),te=t.icon.isSome()&&R.isSome(),ye={tag:"button",classes:T.concat(...t.icon.isSome()&&!te?["tox-button--icon"]:[]).concat(...te?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(...t.type==="togglebutton"&&t.active?["tox-button--enabled"]:[]),attributes:P},ue=[],ae=rS(_,E.some(w),ue,ye,q,s);return Gr.sketch(ae)},nA=(t,s)=>JV(t,s),Xv=(t,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:He(t.buttons,a=>nA(a,s))}),oA=il().deviceType,QV=oA.isPhone(),ej=oA.isTablet(),tj=t=>{let s=!1;const a=He(t.buttons,i=>i.type==="group"?(s=!0,Xv(i,t.providers)):nA(i,t.providers));return{uid:t.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...QV||ej?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:ct([on.config({}),qt.config({mode:"flow",selector:"button, .tox-button",focusInside:g.OnEnterOrSpaceMode})]),components:s?a:[Qd.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Qd.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:a})]}},sA=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-view__pane"]}}),nj=(t,s,a,i)=>{const d={getPane:p=>Kr.getPart(p,t,"pane"),getOnShow:p=>t.viewConfig.onShow,getOnHide:p=>t.viewConfig.onHide};return{uid:t.uid,dom:t.dom,components:s,apis:d}};var Jv=xa({name:"silver.View",configFields:[Le("viewConfig")],partFields:[_c({factory:{sketch:tj},schema:[Le("buttons"),Le("providers")],name:"header"}),_c({factory:{sketch:sA},schema:[],name:"pane"})],factory:nj,apis:{getPane:(t,s)=>t.getPane(s),getOnShow:(t,s)=>t.getOnShow(s),getOnHide:(t,s)=>t.getOnHide(s)}});const VN=(t,s,a)=>rd(s,(i,d)=>{const p=Mo(tA(i));return t.slot(d,Jv.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:p,components:[...p.buttons.length>0?[Jv.parts.header({buttons:p.buttons,providers:a})]:[],Jv.parts.pane({})]}))}),jN=(t,s)=>Ec.sketch(a=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:VN(a,t,s),slotBehaviours:Tk.unnamedEvents([jo(i=>Ec.hideAllSlots(i))])})),b_=t=>Ke(Ec.getSlotNames(t),s=>Ec.isShowing(t,s)),rA=t=>{const s=t.element;Mt(s,"display","none"),_t(s,"aria-hidden","true")},oj=t=>{const s=t.element;no(s,"display"),Q(s,"aria-hidden")},sj=t=>({getContainer:Y(t)}),aA=(t,s,a)=>{Ec.getSlot(t,s).each(i=>{Jv.getPane(i).each(d=>{a(i)(sj(d.element.dom))})})},rj=(t,s)=>aA(t,s,Jv.getOnShow),aj=(t,s)=>aA(t,s,Jv.getOnHide);var y_=Zc({factory:(t,s)=>{const p={setViews:(h,w)=>{vn.set(h,[jN(w,s.backstage.shared.providers)])},whichView:h=>Zn.getCurrent(h).bind(b_),toggleView:(h,w,_,T)=>Zn.getCurrent(h).exists(A=>{const R=b_(A),P=R.exists(q=>T===q),L=Ec.getSlot(A,T).isSome();return L&&(Ec.hideAllSlots(A),P?(rA(h),w()):(_(),oj(h),Ec.showSlot(A,T),rj(A,T)),R.each(q=>aj(A,q))),L})};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:ct([vn.config({}),Zn.config({find:h=>{const w=vn.contents(h);return Rs(w)}})]),apis:p}},name:"silver.ViewWrapper",configFields:[Le("backstage")],apis:{setViews:(t,s,a)=>t.setViews(s,a),toggleView:(t,s,a,i,d)=>t.toggleView(s,a,i,d),whichView:(t,s)=>t.whichView(s)}});const cj=(t,s,a)=>{let i=!1;const d={getSocket:p=>Kr.getPart(p,t,"socket"),setSidebar:(p,h,w)=>{Kr.getPart(p,t,"sidebar").each(_=>CV(_,h,w))},toggleSidebar:(p,h)=>{Kr.getPart(p,t,"sidebar").each(w=>wN(w,h))},whichSidebar:p=>Kr.getPart(p,t,"sidebar").bind(SV).getOrNull(),getHeader:p=>Kr.getPart(p,t,"header"),getToolbar:p=>Kr.getPart(p,t,"toolbar"),setToolbar:(p,h)=>{Kr.getPart(p,t,"toolbar").each(w=>{const _=He(h,vy);w.getApis().setGroups(w,_)})},setToolbars:(p,h)=>{Kr.getPart(p,t,"multiple-toolbar").each(w=>{const _=He(h,T=>He(T,vy));QB.setItems(w,_)})},refreshToolbar:p=>{Kr.getPart(p,t,"toolbar").each(w=>w.getApis().refresh(w))},toggleToolbarDrawer:p=>{Kr.getPart(p,t,"toolbar").each(h=>{Ho(h.getApis().toggle,w=>w(h))})},toggleToolbarDrawerWithoutFocusing:p=>{Kr.getPart(p,t,"toolbar").each(h=>{Ho(h.getApis().toggleWithoutFocusing,w=>w(h))})},isToolbarDrawerToggled:p=>Kr.getPart(p,t,"toolbar").bind(h=>E.from(h.getApis().isOpen).map(w=>w(h))).getOr(!1),getThrobber:p=>Kr.getPart(p,t,"throbber"),focusToolbar:p=>{Kr.getPart(p,t,"toolbar").orThunk(()=>Kr.getPart(p,t,"multiple-toolbar")).each(w=>{qt.focusIn(w)})},setMenubar:(p,h)=>{Kr.getPart(p,t,"menubar").each(w=>{p_.setMenus(w,h)})},focusMenubar:p=>{Kr.getPart(p,t,"menubar").each(h=>{p_.focus(h)})},setViews:(p,h)=>{Kr.getPart(p,t,"viewWrapper").each(w=>{y_.setViews(w,h)})},toggleView:(p,h)=>Kr.getPart(p,t,"viewWrapper").exists(w=>y_.toggleView(w,()=>d.showMainView(p),()=>d.hideMainView(p),h)),whichView:p=>Kr.getPart(p,t,"viewWrapper").bind(y_.whichView).getOrNull(),hideMainView:p=>{i=d.isToolbarDrawerToggled(p),i&&d.toggleToolbarDrawer(p),Kr.getPart(p,t,"editorContainer").each(h=>{const w=h.element;Mt(w,"display","none"),_t(w,"aria-hidden","true")})},showMainView:p=>{i&&d.toggleToolbarDrawer(p),Kr.getPart(p,t,"editorContainer").each(h=>{const w=h.element;no(w,"display"),Q(w,"aria-hidden")})}};return{uid:t.uid,dom:t.dom,components:s,apis:d,behaviours:t.behaviours}},ij=sf.optional({factory:p_,name:"menubar",schema:[Le("backstage")]}),cA=t=>t.type===Ji.sliding?YV:t.type===Ji.floating?KV:Q5,lj=sf.optional({factory:{sketch:t=>QB.sketch({uid:t.uid,dom:t.dom,listBehaviours:ct([qt.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>Q5({type:t.type,uid:Ot("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:()=>(t.onEscape(),E.some(!0))}),setupItem:(s,a,i,d)=>{rf.setGroups(a,i)},shell:!0})},name:"multiple-toolbar",schema:[Le("dom"),Le("onEscape")]}),uj=sf.optional({factory:{sketch:t=>{const s=cA(t),a={type:t.type,uid:t.uid,onEscape:()=>(t.onEscape(),E.some(!0)),onToggled:(i,d)=>t.onToolbarToggled(d),cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return s(a)}},name:"toolbar",schema:[Le("dom"),Le("onEscape"),Le("getSink")]}),UN=sf.optional({factory:{sketch:j5},name:"header",schema:[Le("dom")]}),dj=sf.optional({factory:{sketch:Z5},name:"promotion",schema:[Le("dom")]}),WN=sf.optional({name:"socket",schema:[Le("dom")]}),fj=sf.optional({factory:{sketch:$q},name:"sidebar",schema:[Le("dom")]}),ZN=sf.optional({factory:{sketch:_S},name:"throbber",schema:[Le("dom")]}),mj=sf.optional({factory:y_,name:"viewWrapper",schema:[Le("backstage")]}),pj=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}),gj=sf.optional({factory:{sketch:pj},name:"editorContainer",schema:[]});var Yo=xa({name:"OuterContainer",factory:cj,configFields:[Le("dom"),Le("behaviours")],partFields:[UN,ij,uj,lj,WN,fj,dj,ZN,mj,gj],apis:{getSocket:(t,s)=>t.getSocket(s),setSidebar:(t,s,a,i)=>{t.setSidebar(s,a,i)},toggleSidebar:(t,s,a)=>{t.toggleSidebar(s,a)},whichSidebar:(t,s)=>t.whichSidebar(s),getHeader:(t,s)=>t.getHeader(s),getToolbar:(t,s)=>t.getToolbar(s),setToolbar:(t,s,a)=>{t.setToolbar(s,a)},setToolbars:(t,s,a)=>{t.setToolbars(s,a)},refreshToolbar:(t,s)=>t.refreshToolbar(s),toggleToolbarDrawer:(t,s)=>{t.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(t,s)=>{t.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(t,s)=>t.isToolbarDrawerToggled(s),getThrobber:(t,s)=>t.getThrobber(s),setMenubar:(t,s,a)=>{t.setMenubar(s,a)},focusMenubar:(t,s)=>{t.focusMenubar(s)},focusToolbar:(t,s)=>{t.focusToolbar(s)},setViews:(t,s,a)=>{t.setViews(s,a)},toggleView:(t,s,a)=>t.toggleView(s,a),whichView:(t,s)=>t.whichView(s)}});const hj="file edit view insert format tools table help",qN={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},bj=(t,s,a)=>{const i=W4(a).split(/[ ,]/);return{text:t.title,getItems:()=>ve(t.items,d=>{const p=d.toLowerCase();return p.trim().length===0?[]:Ps(i,h=>h===p)?[]:p==="separator"||p==="|"?[{type:"separator"}]:s.menuItems[p]?[s.menuItems[p]]:[]})}},v_=t=>t.split(" "),OS=(t,s)=>{const a={...qN,...s.menus},i=ko(s.menus).length>0,d=s.menubar===void 0||s.menubar===!0?v_(hj):v_(s.menubar===!1?"":s.menubar),p=Hn(d,w=>{const _=ho(qN,w);return i?_||dt(s.menus,w).exists(T=>ho(T,"items")):_}),h=He(p,w=>{const _=a[w];return bj({title:_.title,items:v_(_.items)},s,t)});return Hn(h,w=>{const _=T=>Me(T)||T.type!=="separator";return w.getItems().length>0&&Ps(w.getItems(),_)})},yj=t=>{const s=()=>{t._skinLoaded=!0,wI(t)};return()=>{t.initialized?s():t.on("init",s)}},vj=(t,s)=>()=>L3(t,{message:s}),GN=(t,s,a)=>(t.on("remove",()=>a.unload(s)),a.load(s)),iA=(t,s,a,i)=>(t.on("remove",()=>i.unloadRawCss(s)),i.loadRawCss(s,a)),wj=async(t,s)=>{const i="ui/"+Y2(t).getOr("default")+"/skin.css",d=tinymce.Resource.get(i);if(Me(d))return Promise.resolve(iA(t,i,d,t.ui.styleSheetLoader));{const p=s+"/skin.min.css";return GN(t,p,t.ui.styleSheetLoader)}},kj=async(t,s)=>{if(Dm(me.fromDom(t.getElement()))){const d="ui/"+Y2(t).getOr("default")+"/skin.shadowdom.css",p=tinymce.Resource.get(d);if(Me(p))return iA(t,d,p,sy.DOM.styleSheetLoader),Promise.resolve();{const h=s+"/skin.shadowdom.min.css";return GN(t,h,sy.DOM.styleSheetLoader)}}},_j=async(t,s)=>{Y2(s).fold(()=>{const i=K2(s);i&&s.contentCSS.push(i+(t?"/content.inline":"/content")+".min.css")},i=>{const d="ui/"+i+(t?"/content.inline":"/content")+".css",p=tinymce.Resource.get(d);if(Me(p))iA(s,d,p,s.ui.styleSheetLoader);else{const h=K2(s);h&&s.contentCSS.push(h+(t?"/content.inline":"/content")+".min.css")}});const a=K2(s);if(!J4(s)&&Me(a))return Promise.all([wj(s,a),kj(s,a)]).then()},KN=(t,s)=>_j(t,s).then(yj(s),vj(s,"Skin could not be loaded")),xj=yn(KN,!1),YN=yn(KN,!0),Dp=(t,s,a)=>t.translate([s,t.translate(a)]),lA=(t,s)=>{const a=(h,w,_,T)=>{const A=t.shared.providers.translate(h.title);if(h.type==="separator")return E.some({type:"separator",text:A});if(h.type==="submenu"){const R=ve(h.getStyleItems(),P=>i(P,w,T));return w===0&&R.length<=0?E.none():E.some({type:"nestedmenuitem",text:A,enabled:R.length>0,getSubmenuItems:()=>ve(h.getStyleItems(),P=>i(P,w,T))})}else return E.some({type:"togglemenuitem",text:A,icon:h.icon,active:h.isSelected(T),enabled:!_,onAction:s.onAction(h),...h.getStylePreview().fold(()=>({}),R=>({meta:{style:R}}))})},i=(h,w,_)=>{const T=h.type==="formatter"&&s.isInvalid(h);return w===0?T?[]:a(h,w,!1,_).toArray():a(h,w,T,_).toArray()},d=h=>{const w=s.getCurrentValue(),_=s.shouldHide?0:1;return ve(h,T=>i(T,_,w))};return{validateItems:d,getFetch:(h,w)=>(_,T)=>{const A=w(),R=d(A),P=Zv(R,Jd.CLOSE_ON_EXECUTE,h,{isHorizontalMenu:!1,search:E.none()});T(P)}}},wy=(t,s,a)=>{const i=a.dataset,d=i.type==="basic"?()=>He(i.data,p=>i_(p,a.isSelectedFor,a.getPreviewFor)):i.getData;return{items:lA(s,a),getStyleItems:d}},Ju=(t,s,a,i,d)=>{const{items:p,getStyleItems:h}=wy(t,s,a),w=T=>({getComponent:Y(T),setTooltip:A=>{const R=s.shared.providers.translate(A);ld(T.element,{"aria-label":R,title:R})}}),_=T=>{const A=R=>T.setTooltip(Dp(t,i,R.value));return t.on(d,A),Dk(Wu(t,"NodeChange",R=>{const P=R.getComponent();a.updateText(P),en.set(R.getComponent(),!t.selection.isEditable())})(T),()=>t.off(d,A))};return Xz({text:a.icon.isSome()?E.none():a.text,icon:a.icon,tooltip:E.from(a.tooltip),role:E.none(),fetch:p.getFetch(s,h),onSetup:_,getApi:w,columns:1,presets:"normal",classes:a.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",s.shared)},XN=t=>He(t,s=>{let a=s,i=s;const d=s.split("=");return d.length>1&&(a=d[0],i=d[1]),{title:a,format:i}}),Cj=t=>({type:"basic",data:t});var Qv;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(Qv||(Qv={}));const Sj=(t,s)=>s===Qv.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),uA=(t,s,a)=>{const i=t.options.get(s);return{type:"basic",data:XN(Sj(i,a))}},Tj="Align",JN="Alignment {0}",QN="left",DS=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],e8=t=>{const s=()=>Ke(DS,w=>t.formatter.match(w.format)),a=w=>()=>t.formatter.match(w),i=w=>E.none,d=w=>{const T=s().fold(Y(QN),A=>A.title.toLowerCase());Zt(w,ih,{icon:`align-${T}`}),CI(t,{value:T})},p=Cj(DS),h=w=>()=>Ke(DS,_=>_.format===w.format).each(_=>t.execCommand(_.command));return{tooltip:Dp(t,JN,QN),text:E.none(),icon:E.some("align-left"),isSelectedFor:a,getCurrentValue:E.none,getPreviewFor:i,onAction:h,updateText:d,dataset:p,shouldHide:!1,isInvalid:w=>!t.formatter.canApply(w.format)}},Ej=(t,s)=>Ju(t,s,e8(t),JN,"AlignTextUpdate"),dA=(t,s)=>{const a=wy(t,s,e8(t));t.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate(Tj),onSetup:Tc(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},t8=(t,s)=>{const a=s(),i=He(a,d=>d.format);return E.from(t.formatter.closest(i)).bind(d=>Ke(a,p=>p.format===d)).orThunk(()=>Qt(t.formatter.match("p"),{title:"Paragraph",format:"p"}))},zj="Blocks",n8="Block {0}",fA="Paragraph",o8=t=>{const s=p=>()=>t.formatter.match(p),a=p=>()=>{const h=t.formatter.get(p);return h?E.some({tag:h.length>0&&(h[0].inline||h[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(p))}):E.none()},i=p=>{const w=t8(t,()=>d.data).fold(Y(fA),_=>_.title);Zt(p,Dl,{text:w}),JR(t,{value:w})},d=uA(t,"block_formats",Qv.SemiColon);return{tooltip:Dp(t,n8,fA),text:E.some(fA),icon:E.none(),isSelectedFor:s,getCurrentValue:E.none,getPreviewFor:a,onAction:eM(t),updateText:i,dataset:d,shouldHide:!1,isInvalid:p=>!t.formatter.canApply(p.format)}},Aj=(t,s)=>Ju(t,s,o8(t),n8,"BlocksTextUpdate"),s8=(t,s)=>{const a=wy(t,s,o8(t));t.ui.registry.addNestedMenuItem("blocks",{text:zj,onSetup:Tc(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},r8="Fonts",mA="Font {0}",pA="System Font",a8=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],c8=t=>{const s=t.split(/\s*,\s*/);return He(s,a=>a.replace(/^['"]+|['"]+$/g,""))},i8=(t,s)=>s.length>0&&tt(s,a=>t.indexOf(a.toLowerCase())>-1),Oj=(t,s)=>{if(t.indexOf("-apple-system")===0||s.length>0){const a=c8(t.toLowerCase());return i8(a,a8)||i8(a,s)}else return!1},gA=t=>{const s=()=>{const _=q=>q?c8(q)[0]:"",T=t.queryCommandValue("FontName"),A=w.data,R=T?T.toLowerCase():"",P=ID(t);return{matchOpt:Ke(A,q=>{const te=q.format;return te.toLowerCase()===R||_(te).toLowerCase()===_(R).toLowerCase()}).orThunk(()=>Qt(Oj(R,P),{title:pA,format:R})),font:T}},a=_=>T=>T.exists(A=>A.format===_),i=()=>{const{matchOpt:_}=s();return _},d=_=>()=>E.some({tag:"div",styles:_.indexOf("dings")===-1?{"font-family":_}:{}}),p=_=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontName",!1,_.format)})},h=_=>{const{matchOpt:T,font:A}=s(),R=T.fold(Y(A),P=>P.title);Zt(_,Dl,{text:R}),QR(t,{value:R})},w=uA(t,"font_family_formats",Qv.SemiColon);return{tooltip:Dp(t,mA,pA),text:E.some(pA),icon:E.none(),isSelectedFor:a,getCurrentValue:i,getPreviewFor:d,onAction:p,updateText:h,dataset:w,shouldHide:!1,isInvalid:Nn}},Dj=(t,s)=>Ju(t,s,gA(t),mA,"FontFamilyTextUpdate"),l8=(t,s)=>{const a=wy(t,s,gA(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate(r8),onSetup:Tc(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},Rj={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Mj=(()=>{const t="[0-9]+",a="[eE]"+("[+-]?"+t),i="\\.",d=w=>`(?:${w})?`,h=`[+-]?(?:${["Infinity",t+i+d(t)+d(a),i+t+d(a),t+d(a)].join("|")})`;return new RegExp(`^(${h})(.*)$`)})(),Bj=(t,s)=>Ps(s,a=>Ps(Rj[a],i=>t===i)),RS=(t,s)=>E.from(Mj.exec(t)).bind(i=>{const d=Number(i[1]),p=i[2];return Bj(p,s)?E.some({value:d,unit:p}):E.none()}),Nj=(t,s)=>RS(t,s).map(({value:a,unit:i})=>a+i),u8={tab:Y(9),escape:Y(27),enter:Y(13),backspace:Y(8),delete:Y(46),left:Y(37),up:Y(38),right:Y(39),down:Y(40),space:Y(32),home:Y(36),end:Y(35),pageUp:Y(33),pageDown:Y(34)},Pj=(t,s,a)=>{let i=E.none();const d=ae=>ae.map(he=>Ct.getValue(he)).getOr(""),p=Wu(t,"NodeChange SwitchMode",ae=>{const he=ae.getComponent();i=E.some(he),a.updateInputValue(he),en.set(he,!t.selection.isEditable())}),h=ae=>({getComponent:Y(ae)}),w=Kt(oe),_=Ot("custom-number-input-events"),T=(ae,he,et)=>{const Ne=d(i),De=a.getNewValue(Ne,ae),rt=Ne.length-`${De}`.length,pt=i.map(At=>At.element.dom.selectionStart-rt),Sn=i.map(At=>At.element.dom.selectionEnd-rt);a.onAction(De,et),i.each(At=>{Ct.setValue(At,De),he&&(pt.each(ln=>At.element.dom.selectionStart=ln),Sn.each(ln=>At.element.dom.selectionEnd=ln))})},A=(ae,he)=>T((et,Ne)=>et-Ne,ae,he),R=(ae,he)=>T((et,Ne)=>et+Ne,ae,he),P=ae=>oi(ae.element).fold(E.none,he=>(wc(he),E.some(!0))),L=ae=>hb(ae.element)?(gu(ae.element).each(he=>wc(he)),E.some(!0)):E.none(),q=(ae,he,et,Ne)=>{const De=Kt(oe),rt=s.shared.providers.translate(et),pt=Ot("altExecuting"),Sn=Wu(t,"NodeChange SwitchMode",ln=>{en.set(ln.getComponent(),!t.selection.isEditable())}),At=ln=>{en.isDisabled(ln)||ae(!0)};return Gr.sketch({dom:{tag:"button",attributes:{title:rt,"aria-label":rt},classes:Ne.concat(he)},components:[Yz(he,s.shared.providers.icons)],buttonBehaviours:ct([en.config({}),Cn(pt,[Xg({onSetup:Sn,getApi:h},De),um({getApi:h},De),Pe(bl(),(ln,sn)=>{(sn.event.raw.keyCode===u8.space()||sn.event.raw.keyCode===u8.enter())&&(en.isDisabled(ln)||ae(!1))}),Pe(Ed(),At),Pe(Sd(),At)])]),eventOrder:{[bl()]:[pt,"keying"],[Ed()]:[pt,"alloy.base.behaviour"],[Sd()]:[pt,"alloy.base.behaviour"]}})},te=To(q(ae=>A(!1,ae),"minus","Decrease font size",[])),ye=To(q(ae=>R(!1,ae),"plus","Increase font size",[])),ue=To({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[ay.sketch({inputBehaviours:ct([en.config({}),Cn(_,[Xg({onSetup:p,getApi:h},w),um({getApi:h},w)]),Cn("input-update-display-text",[Pe(Dl,(ae,he)=>{Ct.setValue(ae,he.event.text)}),Pe(Td(),ae=>{a.onAction(Ct.getValue(ae))}),Pe(Gp(),ae=>{a.onAction(Ct.getValue(ae))})]),qt.config({mode:"special",onEnter:ae=>(T(tn,!0,!0),E.some(!0)),onEscape:P,onUp:ae=>(R(!0,!1),E.some(!0)),onDown:ae=>(A(!0,!1),E.some(!0)),onLeft:(ae,he)=>(he.cut(),E.none()),onRight:(ae,he)=>(he.cut(),E.none())})])})],behaviours:ct([on.config({}),qt.config({mode:"special",onEnter:L,onSpace:L,onEscape:P}),Cn("input-wrapper-events",[Pe(Ll(),ae=>{ut([te,ye],he=>{const et=me.fromDom(he.get(ae).element.dom);hb(et)&&yg(et)})})])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[te.asSpec(),ue.asSpec(),ye.asSpec()],behaviours:ct([on.config({}),qt.config({mode:"flow",focusInside:g.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:ae=>hb(ae.element)?E.none():(wc(ae.element),E.some(!0))})])}},d8="Font sizes",f8="Font size {0}",m8="12pt",$j={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},Ij={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},Fj=(t,s)=>{const a=Math.pow(10,s);return Math.round(t*a)/a},Lj=(t,s)=>/[0-9.]+px$/.test(t)?Fj(parseInt(t,10)*72/96,s||0)+"pt":dt(Ij,t).getOr(t),Hj=t=>dt($j,t).getOr(""),hA=t=>{const s=()=>{let _=E.none();const T=w.data,A=t.queryCommandValue("FontSize");if(A)for(let R=3;_.isNone()&&R>=0;R--){const P=Lj(A,R),L=Hj(P);_=Ke(T,q=>q.format===A||q.format===P||q.format===L)}return{matchOpt:_,size:A}},a=_=>T=>T.exists(A=>A.format===_),i=()=>{const{matchOpt:_}=s();return _},d=Y(E.none),p=_=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,_.format)})},h=_=>{const{matchOpt:T,size:A}=s(),R=T.fold(Y(A),P=>P.title);Zt(_,Dl,{text:R}),SI(t,{value:R})},w=uA(t,"font_size_formats",Qv.Space);return{tooltip:Dp(t,f8,m8),text:E.some(m8),icon:E.none(),isSelectedFor:a,getPreviewFor:d,getCurrentValue:i,onAction:p,updateText:h,dataset:w,shouldHide:!1,isInvalid:Nn}},Vj=(t,s)=>Ju(t,s,hA(t),f8,"FontSizeTextUpdate"),jj=t=>{var s;const a={step:1};return(s={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[t])!==null&&s!==void 0?s:a},p8=16,Uj=t=>t>=0,g8=t=>{const s=()=>t.queryCommandValue("FontSize");return{updateInputValue:i=>Zt(i,Dl,{text:s()}),onAction:(i,d)=>t.execCommand("FontSize",!1,i,{skip_focus:!d}),getNewValue:(i,d)=>{RS(i,["unsupportedLength","empty"]);const p=s(),h=RS(i,["unsupportedLength","empty"]).or(RS(p,["unsupportedLength","empty"])),w=h.map(P=>P.value).getOr(p8),_=MD(t),T=h.map(P=>P.unit).filter(P=>P!=="").getOr(_),A=d(w,jj(T).step),R=`${Uj(A)?A:w}${T}`;return R!==p&&TI(t,{value:R}),R}}},h8=(t,s)=>Pj(t,s,g8(t)),Wj=(t,s)=>{const a=wy(t,s,hA(t));t.ui.registry.addNestedMenuItem("fontsize",{text:d8,onSetup:Tc(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},Zj="Formats",b8="Format {0}",ky=(t,s)=>{const a="Paragraph",i=h=>()=>t.formatter.match(h),d=h=>()=>{const w=t.formatter.get(h);return w!==void 0?E.some({tag:w.length>0&&(w[0].inline||w[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(h))}):E.none()},p=h=>{const w=R=>DB(R)?ve(R.items,w):c_(R)?[{title:R.title,format:R.format}]:[],_=ve(BB(t),w),A=t8(t,Y(_)).fold(Y(a),R=>R.title);Zt(h,Dl,{text:A}),xI(t,{value:A})};return{tooltip:Dp(t,b8,a),text:E.some(a),icon:E.none(),isSelectedFor:i,getCurrentValue:E.none,getPreviewFor:d,onAction:eM(t),updateText:p,shouldHide:zD(t),isInvalid:h=>!t.formatter.canApply(h.format),dataset:s}},qj=(t,s)=>{const a={type:"advanced",...s.styles};return Ju(t,s,ky(t,a),b8,"StylesTextUpdate")},Gj=(t,s)=>{const a={type:"advanced",...s.styles},i=wy(t,s,ky(t,a));t.ui.registry.addNestedMenuItem("styles",{text:Zj,onSetup:Tc(t),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},Kj=Y([Le("toggleClass"),Le("fetch"),Zl("onExecute"),be("getHotspot",E.some),be("getAnchorOverrides",Y({})),Wf(),Zl("onItemExecute"),vo("lazySink"),Le("dom"),Qn("onOpen"),yr("splitDropdownBehaviours",[Xs,qt,on]),be("matchWidth",!1),be("useMinWidth",!1),be("eventOrder",{}),vo("role")].concat(lz())),Yj=_a({factory:Gr,schema:[Le("dom")],name:"arrow",defaults:()=>({buttonBehaviours:ct([on.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(zd)},buttonBehaviours:ct([Dn.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])})}),Xj=_a({factory:Gr,schema:[Le("dom")],name:"button",defaults:()=>({buttonBehaviours:ct([on.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(a=>{t.onExecute(a,s)})}})}),Jj=Y([Yj,Xj,_c({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[Le("text")],name:"aria-descriptor"}),Cl({schema:[lb()],name:"menu",defaults:t=>({onExecute:(s,a)=>{s.getSystem().getByUid(t.uid).each(i=>{t.onItemExecute(i,s,a)})}})}),vM()]),Qj=(t,s,a,i)=>{const d=A=>{Zn.getCurrent(A).each(R=>{yo.highlightFirst(R),qt.focusIn(R)})},p=A=>{cz(t,tn,A,i,d,Sc.HighlightMenuAndItem).get(oe)},h=A=>(p(A),E.some(!0)),w=A=>{const R=Ud(A,t,"button");return zd(R),E.some(!0)},_={...Go([jo((A,R)=>{Uo(A,t,"aria-descriptor").each(L=>{const q=Ot("aria");_t(L.element,"id",q),_t(A.element,"aria-describedby",q)})})]),...Kd(E.some(p))},T={repositionMenus:A=>{Dn.isOn(A)&&xM(A)}};return{uid:t.uid,dom:t.dom,components:s,apis:T,eventOrder:{...t.eventOrder,[Fc()]:["disabling","toggling","alloy.base.behaviour"]},events:_,behaviours:or(t.splitDropdownBehaviours,[Xs.config({others:{sandbox:A=>{const R=Ud(A,t,"arrow");return iz(t,A,{onOpen:()=>{Dn.on(R),Dn.on(A)},onClose:()=>{Dn.off(R),Dn.off(A)}})}}}),qt.config({mode:"special",onSpace:w,onEnter:w,onDown:h}),on.config({}),Dn.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},MS=xa({name:"SplitDropdown",configFields:Kj(),partFields:Jj(),factory:Qj,apis:{repositionMenus:(t,s)=>t.repositionMenus(s)}}),BS=t=>({isEnabled:()=>!en.isDisabled(t),setEnabled:s=>en.set(t,!s),setText:s=>Zt(t,Dl,{text:s}),setIcon:s=>Zt(t,ih,{icon:s})}),eU=t=>({setActive:s=>{Dn.set(t,s)},isActive:()=>Dn.isOn(t),isEnabled:()=>!en.isDisabled(t),setEnabled:s=>en.set(t,!s),setText:s=>Zt(t,Dl,{text:s}),setIcon:s=>Zt(t,ih,{icon:s})}),y8=(t,s)=>t.map(a=>({"aria-label":s.translate(a),title:s.translate(a)})).getOr({}),bA=Ot("focus-button"),NS=(t,s,a,i,d)=>{const p=s.map(w=>To(P6(w,"tox-tbtn",d))),h=t.map(w=>To(ch(w,d.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:y8(a,d)},components:Dv([h.map(w=>w.asSpec()),p.map(w=>w.asSpec())]),eventOrder:{[Vn()]:["focusing","alloy.base.behaviour",py],[fi()]:[py,"toolbar-group-button-events"]},buttonBehaviours:ct([vr.toolbarButton(d.isDisabled),Nr(),Cn(py,[jo((w,_)=>Gz(w)),Pe(Dl,(w,_)=>{p.bind(T=>T.getOpt(w)).each(T=>{vn.set(T,[Ls(d.translate(_.event.text))])})}),Pe(ih,(w,_)=>{h.bind(T=>T.getOpt(w)).each(T=>{vn.set(T,[ch(_.event.icon,d.icons)])})}),Pe(Vn(),(w,_)=>{_.event.prevent(),Gn(w,bA)})])].concat(i.getOr([])))}},tU=(t,s,a,i)=>{const d=s.shared,p=Kt(oe),h={toolbarButtonBehaviours:[],getApi:BS,onSetup:t.onSetup},w=[Cn("toolbar-group-button-events",[Xg(h,p),um(h,p)])];return dh.sketch({lazySink:d.getSink,fetch:()=>Za.nu(_=>{_(He(a(t.items),vy))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:NS(t.icon,t.text,t.tooltip,E.some(w),d.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:i}}}})},v8=(t,s,a)=>{var i;const d=Kt(oe),p=NS(t.icon,t.text,t.tooltip,E.none(),a);return Gr.sketch({dom:p.dom,components:p.components,eventOrder:JC,buttonBehaviours:{...ct([Cn("toolbar-button-events",[fH({onAction:t.onAction,getApi:s.getApi}),Xg(s,d),um(s,d)]),vr.toolbarButton(()=>!t.enabled||a.isDisabled()),Nr()].concat(s.toolbarButtonBehaviours)),[py]:(i=p.buttonBehaviours)===null||i===void 0?void 0:i[py]}})},nU=(t,s)=>w8(t,s,[]),w8=(t,s,a)=>v8(t,{toolbarButtonBehaviours:a.length>0?[Cn("toolbarButtonWith",a)]:[],getApi:BS,onSetup:t.onSetup},s),oU=(t,s)=>k8(t,s,[]),k8=(t,s,a)=>v8(t,{toolbarButtonBehaviours:[vn.config({}),Dn.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(a.length>0?[Cn("toolbarToggleButtonWith",a)]:[]),getApi:eU,onSetup:t.onSetup},s),_8=(t,s,a)=>i=>Za.nu(d=>s.fetch(d)).map(d=>E.from(EC(Ro(ez(Ot("menu-value"),d,p=>{s.onItemAction(t(i),p)},s.columns,s.presets,Jd.CLOSE_ON_EXECUTE,s.select.getOr(Nn),a),{movement:xC(s.columns,s.presets),menuBehaviours:Tk.unnamedEvents(s.columns!=="auto"?[]:[jo((p,h)=>{E3(p,4,GD(s.presets)).each(({numRows:w,numColumns:_})=>{qt.setGridSize(p,w,_)})})])})))),sU=(t,s)=>{const a=p=>({isEnabled:()=>!en.isDisabled(p),setEnabled:h=>en.set(p,!h),setIconFill:(h,w)=>{Ks(p.element,`svg path[class="${h}"], rect[class="${h}"]`).each(_=>{_t(_,"fill",w)})},setActive:h=>{_t(p.element,"aria-pressed",h),Ks(p.element,"span").each(w=>{p.getSystem().getByDom(w).each(_=>Dn.set(_,h))})},isActive:()=>Ks(p.element,"span").exists(h=>p.getSystem().getByDom(h).exists(Dn.isOn)),setText:h=>Ks(p.element,"span").each(w=>p.getSystem().getByDom(w).each(_=>Zt(_,Dl,{text:h}))),setIcon:h=>Ks(p.element,"span").each(w=>p.getSystem().getByDom(w).each(_=>Zt(_,ih,{icon:h}))),setTooltip:h=>{const w=s.providers.translate(h);ld(p.element,{"aria-label":w,title:w})}}),i=Kt(oe),d={getApi:a,onSetup:t.onSetup};return MS.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...y8(t.tooltip,s.providers)}},onExecute:p=>{const h=a(p);h.isEnabled()&&t.onAction(h)},onItemExecute:(p,h,w)=>{},splitDropdownBehaviours:ct([vr.splitButton(s.providers.isDisabled),Nr(),Cn("split-dropdown-events",[jo((p,h)=>Gz(p)),Pe(bA,on.focus),Xg(d,i),um(d,i)]),Lk.config({})]),eventOrder:{[fi()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:s.getSink,fetch:_8(a,t,s.providers),parts:{menu:Cv(!1,t.columns,t.presets)},components:[MS.parts.button(NS(t.icon,t.text,E.none(),E.some([Dn.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),s.providers)),MS.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:F4("chevron-down",s.providers.icons)},buttonBehaviours:ct([vr.splitButton(s.providers.isDisabled),Nr(),L2()])}),MS.parts["aria-descriptor"]({text:s.providers.translate("To open the popup, press Shift+Enter")})]})},rU=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],w_=(t,s)=>(a,i,d)=>{const p=t(a).mapError(h=>ta(h)).getOrDie();return s(p,i,d)},aU={button:w_(C3,(t,s)=>nU(t,s.shared.providers)),togglebutton:w_(pR,(t,s)=>oU(t,s.shared.providers)),menubutton:w_(gN,(t,s)=>Jk(t,"tox-tbtn",s,E.none(),!1)),splitbutton:w_(gV,(t,s)=>sU(t,s.shared)),grouptoolbarbutton:w_(vS,(t,s,a)=>{const i=a.ui.registry.getAll().buttons,d=h=>FS(a,{buttons:i,toolbar:h,allowToolbarGroups:!1},s,E.none()),p={[_g]:s.shared.header.isPositionedAtTop()?Gi.TopToBottom:Gi.BottomToTop};switch(vv(a)){case Ji.floating:return tU(t,s,d,p);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},PS=(t,s,a)=>dt(aU,t.type).fold(()=>(console.error("skipping button defined by",t),E.none()),i=>E.some(i(t,s,a))),x8={styles:qj,fontsize:Vj,fontsizeinput:h8,fontfamily:Dj,blocks:Aj,align:Ej},$S=t=>{const s=He(rU,a=>{const i=Hn(a.items,d=>ho(t,d)||ho(x8,d));return{name:a.name,items:i}});return Hn(s,a=>a.items.length>0)},IS=t=>{const s=t.split("|");return He(s,a=>({items:a.trim().split(" ")}))},C8=t=>Ao(t,s=>ho(s,"name")&&ho(s,"items")),cU=t=>{const s=t.toolbar,a=t.buttons;return s===!1?[]:s===void 0||s===!0?$S(a):Me(s)?IS(s):C8(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},iU=(t,s,a,i,d,p)=>dt(s,a.toLowerCase()).orThunk(()=>p.bind(h=>es(h,w=>dt(s,w+a.toLowerCase())))).fold(()=>dt(x8,a.toLowerCase()).map(h=>h(t,d)),h=>h.type==="grouptoolbarbutton"&&!i?(console.warn(`Ignoring the '${a}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),E.none()):PS(h,d,t)),FS=(t,s,a,i)=>{const d=cU(s),p=He(d,h=>{const w=ve(h.items,_=>_.trim().length===0?[]:iU(t,s.buttons,_,s.allowToolbarGroups,a,i).toArray());return{title:E.from(t.translate(h.name)),items:w}});return Hn(p,h=>h.items.length>0)},S8=(t,s,a,i)=>{const d=s.mainUi.outerContainer,p=a.toolbar,h=a.buttons;if(Ao(p,Me)){const w=p.map(_=>{const T={toolbar:_,buttons:h,allowToolbarGroups:a.allowToolbarGroups};return FS(t,T,i,E.none())});Yo.setToolbars(d,w)}else Yo.setToolbar(d,FS(t,a,i,E.none()))},T8=il(),LS=T8.os.isiOS()&&T8.os.version.major<=12,E8=(t,s)=>{const{uiMotherships:a}=s,i=t.dom;let d=t.getWin();const p=t.getDoc().documentElement,h=Kt(xo(d.innerWidth,d.innerHeight)),w=Kt(xo(p.offsetWidth,p.offsetHeight)),_=()=>{const P=h.get();(P.left!==d.innerWidth||P.top!==d.innerHeight)&&(h.set(xo(d.innerWidth,d.innerHeight)),gC(t))},T=()=>{const P=t.getDoc().documentElement,L=w.get();(L.left!==P.offsetWidth||L.top!==P.offsetHeight)&&(w.set(xo(P.offsetWidth,P.offsetHeight)),gC(t))},A=P=>{kI(t,P)};i.bind(d,"resize",_),i.bind(d,"scroll",A);const R=R1(me.fromDom(t.getBody()),"load",T);t.on("hide",()=>{ut(a,P=>{Mt(P.element,"display","none")})}),t.on("show",()=>{ut(a,P=>{no(P.element,"display")})}),t.on("NodeChange",T),t.on("remove",()=>{R.unbind(),i.unbind(d,"resize",_),i.unbind(d,"scroll",A),d=null})},z8=(t,s,a)=>{rm(t)&&Ld(a.mainUi.mothership.element,a.popupUi.mothership),qr(s,a.dialogUi.mothership)};var A8=Object.freeze({__proto__:null,render:(t,s,a,i,d)=>{const{mainUi:p,uiMotherships:h}=s,w=Kt(0),_=p.outerContainer;xj(t);const T=me.fromDom(d.targetNode),A=dc(Do(T));Ld(T,p.mothership),z8(t,A,s),t.on("SkinLoaded",()=>{Yo.setSidebar(_,a.sidebar,q2(t)),S8(t,s,a,i),w.set(t.getWin().innerWidth),Yo.setMenubar(_,OS(t,a)),Yo.setViews(_,a.views),E8(t,s)});const R=Yo.getSocket(_).getOrDie("Could not find expected socket element");if(LS){us(R.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const te=tH(()=>{t.dispatch("ScrollContent")},20),ye=ja(R.element,"scroll",te.throttle);t.on("remove",ye.unbind)}DR(t,s),t.addCommand("ToggleSidebar",(te,ye)=>{Yo.toggleSidebar(_,ye),t.dispatch("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",()=>{var te;return(te=Yo.whichSidebar(_))!==null&&te!==void 0?te:""}),t.addCommand("ToggleView",(te,ye)=>{if(Yo.toggleView(_,ye)){const ue=_.element;p.mothership.broadcastOn([Yl()],{target:ue}),ut(h,ae=>{ae.broadcastOn([Yl()],{target:ue})}),ht(Yo.whichView(_))&&(t.focus(),t.nodeChanged(),Yo.refreshToolbar(_))}}),t.addQueryValueHandler("ToggleView",()=>{var te;return(te=Yo.whichView(_))!==null&&te!==void 0?te:""});const P=vv(t),L=()=>{Yo.refreshToolbar(s.mainUi.outerContainer)};(P===Ji.sliding||P===Ji.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",()=>{const te=t.getWin().innerWidth;te!==w.get()&&(L(),w.set(te))});const q={setEnabled:te=>{dC(s,!te)},isEnabled:()=>!en.isDisabled(_)};return{iframeContainer:R.element.dom,editorContainer:_.element.dom,api:q}}});const yA=t=>/^[0-9\.]+(|px)$/i.test(""+t)?E.some(parseInt(""+t,10)):E.none(),HS=t=>zo(t)?t+"px":t,VS=(t,s,a)=>{const i=s.filter(p=>t<p),d=a.filter(p=>t>p);return i.or(d).getOr(t)},uU=t=>{const s=H2(t),a=yv(t),i=U4(t);return yA(s).map(d=>VS(d,a,i))},dU=t=>uU(t).getOr(H2(t)),O8=t=>{const s=hk(t),a=j4(t),i=V2(t);return yA(s).map(d=>VS(d,a,i))},fU=t=>O8(t).getOr(hk(t)),{ToolbarLocation:_y,ToolbarMode:D8}=z$,mU=40,pU=(t,s,a,i,d)=>{const{mainUi:p,uiMotherships:h}=a,w=sy.DOM,_=_v(t),T=vk(t),A=V2(t).or(O8(t)),R=i.shared.header,P=R.isPositionedAtTop,L=vv(t),q=L===D8.sliding||L===D8.floating,te=Kt(!1),ye=()=>te.get()&&!t.removed,ue=Xt=>q?Xt.fold(Y(0),so=>so.components().length>1?er(so.components()[1].element):0):0,ae=Xt=>{switch(bk(t)){case _y.auto:const so=Yo.getToolbar(p.outerContainer),gt=ue(so),Nt=er(Xt.element)-gt,un=Ms(s);if(un.y>Nt)return"top";{const Jt=id(s),wn=Math.max(Jt.dom.scrollHeight,er(Jt));return un.bottom<wn-Nt||Wr().bottom<un.bottom-Nt?"bottom":"top"}case _y.bottom:return"bottom";case _y.top:default:return"top"}},he=Xt=>{d.on(so=>{Cs.setModes(so,[Xt]),R.setDockingMode(Xt);const gt=P()?Gi.TopToBottom:Gi.BottomToTop;_t(so.element,_g,gt)})},et=()=>{d.on(Xt=>{const so=A.getOrThunk(()=>{const gt=yA(Vo(fr(),"margin-left")).getOr(0);return mr(fr())-Ja(s).left+gt});Mt(Xt.element,"max-width",so+"px")})},Ne=Xt=>{d.on(so=>{const gt=Yo.getToolbar(p.outerContainer),Nt=ue(gt),un=Ms(s),{top:pn,left:Jt}=De(t,p.outerContainer.element).fold(()=>({top:P()?Math.max(un.y-er(so.element)+Nt,0):un.bottom,left:un.x}),co=>{var la;const Oi=Ms(co),uu=(la=co.dom.scrollTop)!==null&&la!==void 0?la:0,nd=Oo(co,fr()),wh=nd?Math.max(un.y-er(so.element)+Nt,0):un.y-Oi.y+uu-er(so.element)+Nt;return{top:P()?wh:un.bottom,left:nd?un.x:un.x-Oi.x}}),wn={position:"absolute",left:Math.round(Jt)+"px",top:Math.round(pn)+"px"},Zo=Xt.map(co=>{const la=Qa(),Oi=150,uu=window.innerWidth-(Jt-la.left);return{width:Math.max(Math.min(co,uu),Oi)+"px"}}).getOr({});us(p.outerContainer.element,{...wn,...Zo})})},De=(Xt,so)=>rm(Xt)?O5(so):E.none(),rt=()=>{ut(h,Xt=>{Xt.broadcastOn([mp()],{})})},pt=()=>{if(_)return E.none();if(Ja(p.outerContainer.element).left+mc(p.outerContainer.element)>=window.innerWidth-mU||$s(p.outerContainer.element,"width").isSome()){Mt(p.outerContainer.element,"position","absolute"),Mt(p.outerContainer.element,"left","0px"),no(p.outerContainer.element,"width");const so=mc(p.outerContainer.element);return E.some(so)}else return E.none()},Sn=Xt=>{if(!ye())return;_||et();const so=_?E.none():pt();q&&Yo.refreshToolbar(p.outerContainer),_||Ne(so),T&&d.on(Xt),rt()},At=()=>_||!T||!ye()?!1:d.get().exists(Xt=>{const so=R.getDockingMode(),gt=ae(Xt);return gt!==so?(he(gt),!0):!1});return{isVisible:ye,isPositionedAtTop:P,show:()=>{te.set(!0),Mt(p.outerContainer.element,"display","flex"),w.addClass(t.getBody(),"mce-edit-focus"),ut(h,Xt=>{no(Xt.element,"display")}),At(),rm(t)?Sn(Xt=>Cs.isDocked(Xt)?Cs.reset(Xt):Cs.refresh(Xt)):Sn(Cs.refresh)},hide:()=>{te.set(!1),Mt(p.outerContainer.element,"display","none"),w.removeClass(t.getBody(),"mce-edit-focus"),ut(h,Xt=>{Mt(Xt.element,"display","none")})},update:Sn,updateMode:()=>{At()&&Sn(Cs.reset)},repositionPopups:rt}},vA=(t,s)=>{const a=Ms(t);return{pos:s?a.y:a.bottom,bounds:a}},gU=(t,s,a,i)=>{const d=Kt(vA(s,a.isPositionedAtTop())),p=T=>{const{pos:A,bounds:R}=vA(s,a.isPositionedAtTop()),{pos:P,bounds:L}=d.get(),q=R.height!==L.height||R.width!==L.width;d.set({pos:A,bounds:R}),q&&gC(t,T),a.isVisible()&&(P!==A?a.update(Cs.reset):q&&(a.updateMode(),a.repositionPopups()))};i||(t.on("activate",a.show),t.on("deactivate",a.hide)),t.on("SkinLoaded ResizeWindow",()=>a.update(Cs.reset)),t.on("NodeChange keydown",T=>{requestAnimationFrame(()=>p(T))});let h=0;const w=GC(()=>a.update(Cs.refresh),33);t.on("ScrollWindow",()=>{const T=Qa().left;T!==h&&(h=T,w.throttle()),a.updateMode()}),rm(t)&&t.on("ElementScroll",T=>{a.update(Cs.refresh)});const _=$d();_.set(R1(me.fromDom(t.getBody()),"load",T=>p(T.raw))),t.on("remove",()=>{_.clear()})};var bU=Object.freeze({__proto__:null,render:(t,s,a,i,d)=>{const{mainUi:p}=s,h=Fn(),w=me.fromDom(d.targetNode),_=pU(t,w,s,i,h),T=DD(t);YN(t);const A=()=>{if(h.isSet()){_.show();return}h.set(Yo.getHeader(p.outerContainer).getOrDie());const P=t3(t);rm(t)?(Ld(w,p.mothership),Ld(w,s.popupUi.mothership)):qr(P,p.mothership),qr(P,s.dialogUi.mothership),S8(t,s,a,i),Yo.setMenubar(p.outerContainer,OS(t,a)),_.show(),gU(t,w,_,T),t.nodeChanged()};t.on("show",A),t.on("hide",_.hide),T||(t.on("focus",A),t.on("blur",_.hide)),t.on("init",()=>{(t.hasFocus()||T)&&A()}),DR(t,s);const R={show:A,hide:_.hide,setEnabled:P=>{dC(s,!P)},isEnabled:()=>!en.isDisabled(p.outerContainer)};return{editorContainer:p.outerContainer.element.dom,api:R}}});const yU=()=>{const t=Fn(),s=Fn(),a=Fn();return{dialogUi:t,popupUi:s,mainUi:a,getUiMotherships:()=>{const p=t.get().map(w=>w.mothership),h=s.get().map(w=>w.mothership);return p.fold(()=>h.toArray(),w=>h.fold(()=>[w],_=>Oo(w.element,_.element)?[w]:[w,_]))},lazyGetInOuterOrDie:(p,h)=>()=>a.get().bind(w=>h(w.outerContainer)).getOrDie(`Could not find ${p} element in OuterContainer`)}},vU="contexttoolbar-show",R8="contexttoolbar-hide",wU=t=>({hide:()=>Gn(t,Xh()),getValue:()=>Ct.getValue(t)}),e0=(t,s)=>Pe(qz,(a,i)=>{const d=t.get(a),p=wU(d);s.onAction(p,i.event.buttonApi)}),M8=(t,s,a)=>{const{primary:i,...d}=s.original,p=Mo(C3({...d,type:"button",onAction:oe}));return w8(p,a,[e0(t,s)])},kU=(t,s,a)=>{const{primary:i,...d}=s.original,p=Mo(pR({...d,type:"togglebutton",onAction:oe}));return k8(p,a,[e0(t,s)])},_U=t=>t.type==="contextformtogglebutton",B8=(t,s,a)=>_U(s)?kU(t,s,a):M8(t,s,a),wA=(t,s,a)=>{const i=He(s,h=>To(B8(t,h,a)));return{asSpecs:()=>He(i,h=>h.asSpec()),findPrimary:h=>es(s,(w,_)=>w.primary?E.from(i[_]).bind(T=>T.getOpt(h)).filter(Re(en.isDisabled)):E.none())}},kA=(t,s)=>{const a=t.label.fold(()=>({}),p=>({"aria-label":p})),i=To(ay.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:a,selectOnFocus:!0,inputBehaviours:ct([qt.config({mode:"special",onEnter:p=>d.findPrimary(p).map(h=>(zd(h),!0)),onLeft:(p,h)=>(h.cut(),E.none()),onRight:(p,h)=>(h.cut(),E.none())})])})),d=wA(i,t.commands,s);return[{title:E.none(),items:[i.asSpec()]},{title:E.none(),items:d.asSpecs()}]},CU={renderContextForm:(t,s,a)=>Q5({type:t,uid:Ot("context-toolbar"),initGroups:kA(s,a),onEscape:E.none,cyclicKeying:!0,providers:a}),buildInitGroups:kA},xy=(t,s,a)=>s.bottom-t.y>=a&&t.bottom-s.y>=a,jS=t=>{const s=t.getBoundingClientRect();if(s.height<=0&&s.width<=0){const a=zm(me.fromDom(t.startContainer),t.startOffset).element;return(Aa(a)?lc(a):E.some(a)).filter(So).map(d=>d.dom.getBoundingClientRect()).getOr(s)}else return s},k_=t=>{const s=t.selection.getRng(),a=jS(s);if(t.inline){const i=Qa();return gs(i.left+a.left,i.top+a.top,a.width,a.height)}else{const i=ec(me.fromDom(t.getBody()));return gs(i.x+a.left,i.y+a.top,a.width,a.height)}},N8=(t,s)=>s.filter(a=>rr(a)&&tl(a)).map(ec).getOrThunk(()=>k_(t)),P8=(t,s,a)=>{const i=Math.max(t.x+a,s.x),d=Math.min(t.right-a,s.right);return{x:i,width:d-i}},SU=(t,s,a,i,d,p)=>{const h=me.fromDom(t.getContainer()),w=Ks(h,".tox-editor-header").getOr(h),_=Ms(w),T=_.y>=s.bottom,A=i&&!T;if(t.inline&&A)return{y:Math.max(_.bottom+p,a.y),bottom:a.bottom};if(t.inline&&!A)return{y:a.y,bottom:Math.min(_.y-p,a.bottom)};const R=d==="line"?Ms(h):s;return A?{y:Math.max(_.bottom+p,a.y),bottom:Math.min(R.bottom-p,a.bottom)}:{y:Math.max(R.y+p,a.y),bottom:Math.min(_.y-p,a.bottom)}},_A=(t,s,a,i=0)=>{const d=Mh(window),p=Ms(me.fromDom(t.getContentAreaContainer())),h=kv(t)||X2(t)||yk(t),{x:w,width:_}=P8(p,d,i);if(t.inline&&!h)return gs(w,d.y,_,d.height);{const T=s.header.isPositionedAtTop(),{y:A,bottom:R}=SU(t,p,d,T,a,i);return gs(w,A,_,R-A)}},US=12,$8={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},I8={maxHeightFunction:kg(),maxWidthFunction:CS()},TU=(t,s)=>{const a=t.selection.getRng(),i=zm(me.fromDom(a.startContainer),a.startOffset);return a.startContainer===a.endContainer&&a.startOffset===a.endOffset-1&&Oo(i.element,s)},EU=(t,s,a)=>{const i=$s(t,"position");Mt(t,"position",s);const d=a(t);return i.each(p=>Mt(t,"position",p)),d},xA=t=>t==="node",WS=(t,s,a,i,d)=>{const p=k_(t),h=i.lastElement().exists(w=>Oo(a,w));if(TU(t,a))return h?EB:ru;if(h)return EU(s,i.getMode(),()=>xy(p,Ms(s),-20)&&!i.isReposition()?f9:EB);{const w=i.getMode()==="fixed"?d.y+Qa().top:d.y,_=er(s)+US;return w+_<=p.y?ru:r_}},F8=(t,s,a,i)=>{const d=_=>(T,A,R,P,L)=>{const q=WS(t,P,_,a,L),te={...T,y:L.y,height:L.height};return{...q(te,A,R,P,L),alwaysFit:!0}},p=_=>xA(i)?[d(_)]:[];return s?{onLtr:_=>[Dr,Or,aa,rc,wa,Ha].concat(p(_)),onRtl:_=>[Dr,aa,Or,wa,rc,Ha].concat(p(_))}:{onLtr:_=>[Ha,Dr,rc,Or,wa,aa].concat(p(_)),onRtl:_=>[Ha,Dr,wa,aa,rc,Or].concat(p(_))}},L8=(t,s,a,i)=>s==="line"?{bubble:Bu(US,0,$8),layouts:{onLtr:()=>[q0],onRtl:()=>[pb]},overrides:I8}:{bubble:Bu(0,US,$8,1/US),layouts:F8(t,a,i,s),overrides:I8},__=(t,s)=>{const a=Hn(s,p=>p.predicate(t.dom)),{pass:i,fail:d}=Ka(a,p=>p.type==="contexttoolbar");return{contextToolbars:i,contextForms:d}},zU=t=>{if(t.length<=1)return t;{const s=p=>Ps(t,h=>h.position===p),a=p=>Hn(t,h=>h.position===p),i=s("selection"),d=s("node");if(i||d)if(d&&i){const p=a("node"),h=He(a("selection"),w=>({...w,position:"node"}));return p.concat(h)}else return a(i?"selection":"node");else return a("line")}},H8=t=>{if(t.length<=1)return t;{const s=i=>Ke(t,d=>d.position===i);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(i=>i.position).fold(()=>[],i=>Hn(t,d=>d.position===i))}},AU=(t,s,a)=>{const i=__(t,s);if(i.contextForms.length>0)return E.some({elem:t,toolbars:[i.contextForms[0]]});{const d=__(t,a);if(d.contextForms.length>0)return E.some({elem:t,toolbars:[d.contextForms[0]]});if(i.contextToolbars.length>0||d.contextToolbars.length>0){const p=zU(i.contextToolbars.concat(d.contextToolbars));return E.some({elem:t,toolbars:p})}else return E.none()}},OU=(t,s,a)=>t(s)?E.none():oc(s,i=>{if(So(i)){const{contextToolbars:d,contextForms:p}=__(i,a.inNodeScope),h=p.length>0?p:H8(d);return h.length>0?E.some({elem:i,toolbars:h}):E.none()}else return E.none()},t),ZS=(t,s)=>{const a=me.fromDom(s.getBody()),i=h=>Oo(h,a),d=h=>!i(h)&&!Oa(a,h),p=me.fromDom(s.selection.getNode());return d(p)?E.none():AU(p,t.inNodeScope,t.inEditorScope).orThunk(()=>OU(i,p,t))},V8=(t,s)=>{const a={},i=[],d=[],p={},h={},w=(A,R)=>{const P=Mo(K$(R));a[A]=P,P.launch.map(L=>{p["form:"+A]={...R.launch,type:L.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(P)}}}),P.scope==="editor"?d.push(P):i.push(P),h[A]=P},_=(A,R)=>{X$(R).each(P=>{R.scope==="editor"?d.push(P):i.push(P),h[A]=P})},T=ko(t);return ut(T,A=>{const R=t[A];R.type==="contextform"?w(A,R):R.type==="contexttoolbar"&&_(A,R)}),{forms:a,inNodeScope:i,inEditorScope:d,lookupTable:h,formNavigators:p}},j8=Ot("forward-slide"),U8=Ot("backward-slide"),CA=Ot("change-slide-event"),SA="tox-pop--resizing",DU=t=>{const s=Kt([]);return Os.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:a=>{s.set([]),Os.getContent(a).each(i=>{no(i.element,"visibility")}),xs(a.element,SA),no(a.element,"width")},inlineBehaviours:ct([Cn("context-toolbar-events",[Su(Ym(),(a,i)=>{i.event.raw.propertyName==="width"&&(xs(a.element,SA),no(a.element,"width"))}),Pe(CA,(a,i)=>{const d=a.element;no(d,"width");const p=mr(d);Os.setContent(a,i.event.contents),Gs(d,SA);const h=mr(d);Mt(d,"width",p+"px"),Os.getContent(a).each(w=>{i.event.focus.bind(_=>(wc(_),kl(d))).orThunk(()=>(qt.focusIn(w),Mu(Do(d))))}),setTimeout(()=>{Mt(a.element,"width",h+"px")},0)}),Pe(j8,(a,i)=>{Os.getContent(a).each(d=>{s.set(s.get().concat([{bar:d,focus:Mu(Do(a.element))}]))}),Zt(a,CA,{contents:i.event.forwardContents,focus:E.none()})}),Pe(U8,(a,i)=>{Xc(s.get()).each(d=>{s.set(s.get().slice(0,s.get().length-1)),Zt(a,CA,{contents:pi(d.bar),focus:d.focus})})})]),qt.config({mode:"special",onEscape:a=>Xc(s.get()).fold(()=>t.onEscape(),i=>(Gn(a,U8),E.some(!0)))})]),lazySink:()=>xn.value(t.sink)})},qS="tox-pop--transition",W8=(t,s,a,i)=>{const d=i.backstage,p=d.shared,h=il().deviceType.isTouch,w=Fn(),_=Fn(),T=Fn(),A=va(DU({sink:a,onEscape:()=>(t.focus(),E.some(!0))})),R=()=>{const At=T.get().getOr("node"),ln=xA(At)?1:0;return _A(t,p,At,ln)},P=()=>!t.removed&&!(h()&&d.isContextMenuOpen()),L=At=>za(Bi(At,w.get(),Oo),!0),q=()=>{if(P()){const At=R(),ln=za(T.get(),"node")?N8(t,w.get()):k_(t);return At.height<=0||!xy(ln,At,.01)}else return!0},te=()=>{w.clear(),_.clear(),T.clear(),Os.hide(A)},ye=()=>{if(Os.isOpen(A)){const At=A.element;no(At,"display"),q()?Mt(At,"display","none"):(_.set(0),Os.reposition(A))}},ue=At=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[At],behaviours:ct([qt.config({mode:"acyclic"}),Cn("pop-dialog-wrap-events",[jo(ln=>{t.shortcuts.add("ctrl+F9","focus statusbar",()=>qt.focusIn(ln))}),Tu(ln=>{t.shortcuts.remove("ctrl+F9")})])])}),ae=_s(()=>V8(s,At=>{const ln=Ne([At]);Zt(A,j8,{forwardContents:ue(ln)})})),he=(At,ln)=>FS(t,{buttons:At,toolbar:ln.items,allowToolbarGroups:!1},i.backstage,E.some(["form:"])),et=(At,ln)=>CU.buildInitGroups(At,ln),Ne=At=>{const{buttons:ln}=t.ui.registry.getAll(),sn=ae(),Co={...ln,...sn.formNavigators},Xt=vv(t)===Ji.scrolling?Ji.scrolling:Ji.default,so=Pt(He(At,gt=>gt.type==="contexttoolbar"?he(Co,gt):et(gt,p.providers)));return Q5({type:Xt,uid:Ot("context-toolbar"),initGroups:so,onEscape:E.none,cyclicKeying:!0,providers:p.providers})},De=(At,ln)=>{const sn=At==="node"?p.anchors.node(ln):p.anchors.cursor(),Co=L8(t,At,h(),{lastElement:w.get,isReposition:()=>za(_.get(),0),getMode:()=>ka.getMode(a)});return Ro(sn,Co)},rt=(At,ln)=>{if(Sn.cancel(),!P())return;const sn=Ne(At),Co=At[0].position,Xt=De(Co,ln);T.set(Co),_.set(1);const so=A.element;no(so,"display"),L(ln)||(xs(so,qS),ka.reset(a,A)),Os.showWithinBounds(A,ue(sn),{anchor:Xt,transition:{classes:[qS],mode:"placement"}},()=>E.some(R())),ln.fold(w.clear,w.set),q()&&Mt(so,"display","none")};let pt=!1;const Sn=GC(()=>{if(!(!t.hasFocus()||t.removed||pt))if(br(A.element,qS))Sn.throttle();else{const At=ae();ZS(At,t).fold(te,ln=>{rt(ln.toolbars,E.some(ln.elem))})}},17);t.on("init",()=>{t.on("remove",te),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",ye),t.on("click keyup focus SetContent",Sn.throttle),t.on(R8,te),t.on(vU,At=>{const ln=ae();dt(ln.lookupTable,At.toolbarKey).each(sn=>{rt([sn],Qt(At.target!==t,At.target)),Os.getContent(A).each(qt.focusIn)})}),t.on("focusout",At=>{ty.setEditorTimeout(t,()=>{kl(a.element).isNone()&&kl(A.element).isNone()&&te()},0)}),t.on("SwitchMode",()=>{t.mode.isReadOnly()&&te()}),t.on("AfterProgressState",At=>{At.state?te():t.hasFocus()&&Sn.throttle()}),t.on("dragstart",()=>{pt=!0}),t.on("dragend drop",()=>{pt=!1}),t.on("NodeChange",At=>{kl(A.element).fold(Sn.throttle,oe)})})},RU=t=>{ut([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],a=>{t.ui.registry.addToggleButton(a.name,{tooltip:a.text,icon:a.icon,onAction:_i(t,a.cmd),onSetup:hC(t,a.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:Tc(t),onAction:_i(t,"JustifyNone")})},Z8=(t,s)=>{const a=()=>{const i=s.getOptions(t),d=s.getCurrent(t).map(s.hash),p=Fn();return He(i,h=>({type:"togglemenuitem",text:s.display(h),onSetup:w=>{const _=A=>{A&&(p.on(R=>R.setActive(!1)),p.set(w)),w.setActive(A)};_(za(d,s.hash(h)));const T=s.watcher(t,h,_);return()=>{p.clear(),T()}},onAction:()=>s.setCurrent(t,h)}))};t.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:i=>i(a()),onSetup:s.onToolbarSetup}),t.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:a,onSetup:s.onMenuSetup})},q8=t=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:FD,hash:s=>Nj(s,["fixed","relative","empty"]).getOr(s),display:tn,watcher:(s,a,i)=>s.formatter.formatChanged("lineheight",i,!1,{value:a}).unbind,getCurrent:s=>E.from(s.queryCommandValue("LineHeight")),setCurrent:(s,a)=>s.execCommand("LineHeight",!1,a),onToolbarSetup:Tc(t),onMenuSetup:Tc(t)}),MU=t=>E.from(AD(t)).map(a=>({name:"language",text:"Language",icon:"language",getOptions:Y(a),hash:i=>_n(i.customCode)?i.code:`${i.code}/${i.customCode}`,display:i=>i.title,watcher:(i,d,p)=>{var h;return i.formatter.formatChanged("lang",p,!1,{value:d.code,customValue:(h=d.customCode)!==null&&h!==void 0?h:null}).unbind},getCurrent:i=>{const d=me.fromDom(i.selection.getNode());return Fa(d,p=>E.some(p).filter(So).bind(h=>M(h,"lang").map(_=>{const T=M(h,"data-mce-lang").getOrUndefined();return{code:_,customCode:T,title:""}})))},setCurrent:(i,d)=>i.execCommand("Lang",!1,d),onToolbarSetup:i=>{const d=$d();return i.setActive(t.formatter.match("lang",{},void 0,!0)),d.set(t.formatter.formatChanged("lang",i.setActive,!0)),Dk(d.clear,Tc(t)(i))},onMenuSetup:Tc(t)})),BU=t=>{Z8(t,q8(t)),MU(t).each(s=>Z8(t,s))},NU=(t,s)=>{dA(t,s),l8(t,s),Gj(t,s),s8(t,s),Wj(t,s)},PU=t=>Wu(t,"NodeChange",s=>{s.setEnabled(t.queryCommandState("outdent")&&t.selection.isEditable())}),$U=t=>{t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:PU(t),onAction:_i(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:Tc(t),onAction:_i(t,"indent")})},TA=t=>{$U(t)},G8=(t,s)=>a=>{a.setActive(s.get());const i=d=>{s.set(d.state),a.setActive(d.state)};return t.on("PastePlainTextToggle",i),Dk(()=>t.off("PastePlainTextToggle",i),Tc(t)(a))},IU=t=>{const s=Kt(Z2(t)),a=()=>t.execCommand("mceTogglePlainTextPaste");t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:a,onSetup:G8(t,s)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:a,onSetup:G8(t,s)})},x_=(t,s)=>()=>{t.execCommand("mceToggleFormat",!1,s)},K8=t=>{Ap.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,a)=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:hC(t,s.name),onAction:x_(t,s.name)})});for(let s=1;s<=6;s++){const a="h"+s;t.ui.registry.addToggleButton(a,{text:a.toUpperCase(),tooltip:"Heading "+s,onSetup:hC(t,a),onAction:x_(t,a)})}},Y8=t=>{Ap.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:_i(t,s.action)})}),Ap.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:Tc(t),onAction:_i(t,s.action)})})},FU=t=>{Ap.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:_i(t,s.action),onSetup:hC(t,s.name)})})},LU=t=>{K8(t),Y8(t),FU(t)},HU=t=>{Ap.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:_i(t,s.action)})}),Ap.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onSetup:Tc(t),onAction:_i(t,s.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:Tc(t),onAction:x_(t,"code")})},VU=t=>{LU(t),HU(t)},GS=(t,s)=>Wu(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",a=>{a.setEnabled(!t.mode.isReadOnly()&&t.undoManager[s]())}),EA=t=>{t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:GS(t,"hasUndo"),onAction:_i(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:GS(t,"hasRedo"),onAction:_i(t,"redo")})},jU=t=>{t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:GS(t,"hasUndo"),onAction:_i(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:GS(t,"hasRedo"),onAction:_i(t,"redo")})},X8=t=>{EA(t),jU(t)},UU=t=>Wu(t,"VisualAid",s=>{s.setActive(t.hasVisual)}),WU=t=>{t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:UU(t),onAction:_i(t,"mceToggleVisualAid")})},zA=t=>{t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:_i(t,"mceToggleVisualAid")})},ZU=t=>{zA(t),WU(t)},J8=(t,s)=>{RU(t),VU(t),NU(t,s),X8(t),fM(t),ZU(t),TA(t),BU(t),IU(t)},qU=t=>Me(t)?t.split(/[ ,]/):t,Q8=t=>s=>s.options.get(t),AA=t=>{const s=t.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:a=>a===!1?{value:[],valid:!0}:Me(a)||Ao(a,Me)?{value:qU(a),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},e7=Q8("contextmenu_never_use_native"),GU=Q8("contextmenu_avoid_overlap"),KU=t=>t7(t).length===0,t7=t=>{const s=t.ui.registry.getAll().contextMenus,a=t.options.get("contextmenu");return t.options.isSet("contextmenu")?a:Hn(a,i=>ho(s,i))},C_=(t,s)=>({type:"makeshift",x:t,y:s}),n7=(t,s,a)=>C_(t.x+s,t.y+a),o7=t=>t.type==="longpress"||t.type.indexOf("touch")===0,YU=t=>{if(o7(t)){const s=t.touches[0];return C_(s.pageX,s.pageY)}else return C_(t.pageX,t.pageY)},XU=t=>{if(o7(t)){const s=t.touches[0];return C_(s.clientX,s.clientY)}else return C_(t.clientX,t.clientY)},JU=(t,s)=>{const a=sy.DOM.getPos(t);return n7(s,a.x,a.y)},QU=(t,s)=>s.type==="contextmenu"||s.type==="longpress"?t.inline?YU(s):JU(t.getContentAreaContainer(),XU(s)):s7(t),s7=t=>({type:"selection",root:me.fromDom(t.selection.getNode())}),eW=t=>({type:"node",node:E.some(me.fromDom(t.selection.getNode())),root:me.fromDom(t.getBody())}),r7=(t,s,a)=>{switch(a){case"node":return eW(t);case"point":return QU(t,s);case"selection":return s7(t)}},a7=(t,s,a,i,d,p)=>{const h=a(),w=r7(t,s,p);Zv(h,Jd.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:E.none()}).map(_=>{s.preventDefault(),Os.showMenuAt(d,{anchor:w},{menu:{markers:xp("normal")},data:_})})},tW={onLtr:()=>[Dr,Or,aa,rc,wa,Ha,ru,r_,s_,Gv,o_,n_],onRtl:()=>[Dr,aa,Or,wa,rc,Ha,ru,r_,o_,n_,s_,Gv]},c7=12,nW={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},oW=(t,s)=>{const a=t.selection;if(a.isCollapsed()||s.touches.length<1)return!1;{const i=s.touches[0],d=a.getRng();return _w(t.getWin(),Zr.domRange(d)).exists(h=>h.left<=i.clientX&&h.right>=i.clientX&&h.top<=i.clientY&&h.bottom>=i.clientY)}},sW=t=>{const s=t.selection.getRng(),a=()=>{ty.setEditorTimeout(t,()=>{t.selection.setRng(s)},10),p()};t.once("touchend",a);const i=h=>{h.preventDefault(),h.stopImmediatePropagation()};t.on("mousedown",i,!0);const d=()=>p();t.once("longpresscancel",d);const p=()=>{t.off("touchend",a),t.off("longpresscancel",d),t.off("mousedown",i)}},Cy=(t,s,a)=>{const i=r7(t,s,a);return{bubble:Bu(0,a==="point"?c7:0,nW),layouts:tW,overrides:{maxWidthFunction:CS(),maxHeightFunction:kg()},...i}},i7=(t,s,a,i,d,p,h)=>{const w=Cy(t,s,p);Zv(a,Jd.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!0,search:E.none()}).map(_=>{s.preventDefault();const T=h?Sc.HighlightMenuAndItem:Sc.HighlightNone;Os.showMenuWithinBounds(d,{anchor:w},{menu:{markers:xp("normal"),highlightOnOpen:T},data:_,type:"horizontal"},()=>E.some(_A(t,i.shared,p==="node"?"node":"selection"))),t.dispatch(R8)})},rW=(t,s,a,i,d,p)=>{const h=il(),w=h.os.isiOS(),_=h.os.isMacOS(),T=h.os.isAndroid(),A=h.deviceType.isTouch(),R=()=>!(T||w||_&&A),P=()=>{const L=a();i7(t,s,L,i,d,p,R())};if((_||w)&&p!=="node"){const L=()=>{sW(t),P()};oW(t,s)?L():(t.once("selectionchange",L),t.once("touchend",()=>t.off("selectionchange",L)))}else P()},l7=t=>Me(t)?t==="|":t.type==="separator",OA={type:"separator"},u7=t=>{const s=a=>({text:a.text,icon:a.icon,enabled:a.enabled,shortcut:a.shortcut});if(Me(t))return t;switch(t.type){case"separator":return OA;case"submenu":return{type:"nestedmenuitem",...s(t),getSubmenuItems:()=>{const i=t.getSubmenuItems();return Me(i)?i:He(i,u7)}};default:const a=t;return{type:"menuitem",...s(a),onAction:Ut(a.onAction)}}},DA=(t,s)=>{if(s.length===0)return t;const i=Xc(t).filter(d=>!l7(d)).fold(()=>[],d=>[OA]);return t.concat(i).concat(s).concat([OA])},aW=(t,s,a)=>{const i=Qe(s,(d,p)=>dt(t,p.toLowerCase()).map(h=>{const w=h.update(a);if(Me(w)&&fa(Cr(w)))return DA(d,w.split(" "));if(Ze(w)&&w.length>0){const _=He(w,u7);return DA(d,_)}else return d}).getOrThunk(()=>d.concat([p])),[]);return i.length>0&&l7(i[i.length-1])&&i.pop(),i},cW=(t,s)=>s.ctrlKey&&!e7(t),iW=t=>t.type==="longpress"||ho(t,"touches"),d7=(t,s)=>!iW(s)&&(s.button!==2||s.target===t.getBody()&&s.pointerType===""),f7=(t,s)=>d7(t,s)?t.selection.getStart(!0):s.target,lW=(t,s)=>{const a=GU(t),i=d7(t,s)?"selection":"point";if(fa(a)){const d=f7(t,s);return Nk(me.fromDom(d),a)?"node":i}else return i},uW=(t,s,a)=>{const d=il().deviceType.isTouch,p=va(Os.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>t.focus(),onShow:()=>a.setContextMenuState(!0),onHide:()=>a.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:ct([Cn("dismissContextMenu",[Pe(Nf(),(_,T)=>{Kn.close(_),t.focus()})])])})),h=()=>Os.hide(p),w=_=>{if(e7(t)&&_.preventDefault(),cW(t,_)||KU(t))return;const T=lW(t,_),A=()=>{const P=f7(t,_),L=t.ui.registry.getAll(),q=t7(t);return aW(L.contextMenus,q,P)};(d()?rW:a7)(t,_,A,a,p,T)};t.on("init",()=>{const _="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(d()?"":" ResizeWindow");t.on(_,h),t.on("longpress contextmenu",w)})},RA=S.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),KS=t=>s=>s.translate(-t.left,-t.top),YS=t=>s=>s.translate(t.left,t.top),ym=t=>(s,a)=>Qe(t,(i,d)=>d(i),xo(s,a)),S_=(t,s,a)=>t.fold(ym([YS(a),KS(s)]),ym([KS(s)]),ym([])),t0=(t,s,a)=>t.fold(ym([YS(a)]),ym([]),ym([YS(s)])),n0=(t,s,a)=>t.fold(ym([]),ym([KS(a)]),ym([YS(s),KS(a)])),dW=(t,s,a,i,d,p)=>{const h=t0(t,d,p),w=t0(s,d,p);return Math.abs(h.left-w.left)<=a&&Math.abs(h.top-w.top)<=i},fW=(t,s,a,i,d,p)=>{const h=t0(t,d,p),w=t0(s,d,p),_=Math.abs(h.left-w.left),T=Math.abs(h.top-w.top);return xo(_,T)},XS=(t,s,a)=>{const i=t.fold((d,p)=>({position:E.some("absolute"),left:E.some(d+"px"),top:E.some(p+"px")}),(d,p)=>({position:E.some("absolute"),left:E.some(d-a.left+"px"),top:E.some(p-a.top+"px")}),(d,p)=>({position:E.some("fixed"),left:E.some(d+"px"),top:E.some(p+"px")}));return{right:E.none(),bottom:E.none(),...i}},mW=(t,s,a)=>t.fold((i,d)=>JS(i+s,d+a),(i,d)=>fh(i+s,d+a),(i,d)=>Sy(i+s,d+a)),MA=(t,s,a,i)=>{const d=(p,h)=>(w,_)=>{const T=p(s,a,i);return h(w.getOr(T.left),_.getOr(T.top))};return t.fold(d(n0,JS),d(t0,fh),d(S_,Sy))},JS=RA.offset,fh=RA.absolute,Sy=RA.fixed,m7=(t,s)=>{const a=ks(t,s);return _n(a)?NaN:parseInt(a,10)},pW=(t,s)=>{const a=t.element,i=m7(a,s.leftAttr),d=m7(a,s.topAttr);return isNaN(i)||isNaN(d)?E.none():E.some(xo(i,d))},gW=(t,s,a)=>{const i=t.element;_t(i,s.leftAttr,a.left+"px"),_t(i,s.topAttr,a.top+"px")},hW=(t,s)=>{const a=t.element;Q(a,s.leftAttr),Q(a,s.topAttr)},bW=(t,s,a,i)=>pW(t,s).fold(()=>a,d=>Sy(d.left+i.left,d.top+i.top)),yW=(t,s,a,i,d,p)=>{const h=bW(t,s,a,i),w=s.mustSnap?wW(t,s,h,d,p):kW(t,s,h,d,p),_=S_(h,d,p);return gW(t,s,_),w.fold(()=>({coord:Sy(_.left,_.top),extra:E.none()}),T=>({coord:T.output,extra:T.extra}))},vW=(t,s)=>{hW(t,s)},p7=(t,s,a,i)=>es(t,d=>{const p=d.sensor;return dW(s,p,d.range.left,d.range.top,a,i)?E.some({output:MA(d.output,s,a,i),extra:d.extra}):E.none()}),wW=(t,s,a,i,d)=>{const p=s.getSnapPoints(t);return p7(p,a,i,d).orThunk(()=>Qe(p,(_,T)=>{const A=T.sensor,R=fW(a,A,T.range.left,T.range.top,i,d);return _.deltas.fold(()=>({deltas:E.some(R),snap:E.some(T)}),P=>{const L=(R.left+R.top)/2,q=(P.left+P.top)/2;return L<=q?{deltas:E.some(R),snap:E.some(T)}:_})},{deltas:E.none(),snap:E.none()}).snap.map(_=>({output:MA(_.output,a,i,d),extra:_.extra})))},kW=(t,s,a,i,d)=>{const p=s.getSnapPoints(t);return p7(p,a,i,d)},_W=(t,s,a)=>({coord:MA(t.output,t.output,s,a),extra:t.extra});var QS=Object.freeze({__proto__:null,snapTo:(t,s,a,i)=>{const d=s.getTarget(t.element);if(s.repositionTarget){const p=Da(t.element),h=Qa(p),w=nN(d),_=_W(i,h,w),T=XS(_.coord,h,w);Xe(d,T)}}});const BA="data-initial-z-index",xW=t=>{lc(t.element).filter(So).each(s=>{M(s,BA).fold(()=>no(s,"z-index"),a=>Mt(s,"z-index",a)),Q(s,BA)})},CW=t=>{lc(t.element).filter(So).each(s=>{$s(s,"z-index").each(a=>{_t(s,BA,a)}),Mt(s,"z-index",Vo(t.element,"z-index"))})},g7=(t,s)=>{t.getSystem().addToGui(s),CW(s)},SW=t=>{xW(t),t.getSystem().removeFromGui(t)},h7=(t,s,a)=>t.getSystem().build(Qd.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:a}));var b7=ya("snaps",[Le("getSnapPoints"),Qn("onSensor"),Le("leftAttr"),Le("topAttr"),be("lazyViewport",Wr),be("mustSnap",!1)]);const NA=[be("useFixed",Nn),Le("blockerClass"),be("getTarget",tn),be("onDrag",oe),be("repositionTarget",!0),be("onDrop",oe),hr("getBounds",Wr),b7],TW=t=>Ni($s(t,"left"),$s(t,"top"),$s(t,"position"),(s,a,i)=>(i==="fixed"?Sy:JS)(parseInt(s,10),parseInt(a,10))).getOrThunk(()=>{const s=Ja(t);return fh(s.left,s.top)}),EW=(t,s,a,i,d)=>{const p=d.bounds,h=t0(s,a,i),w=gi(h.left,p.x,p.x+p.width-d.width),_=gi(h.top,p.y,p.y+p.height-d.height),T=fh(w,_);return s.fold(()=>{const A=n0(T,a,i);return JS(A.left,A.top)},Y(T),()=>{const A=S_(T,a,i);return Sy(A.left,A.top)})},zW=(t,s,a,i,d,p,h)=>{const w=s.fold(()=>{const _=mW(a,p.left,p.top),T=S_(_,i,d);return Sy(T.left,T.top)},_=>{const T=yW(t,_,a,p,i,d);return T.extra.each(A=>{_.onSensor(t,A)}),T.coord});return EW(t,w,i,d,h)},AW=(t,s,a,i)=>{const d=s.getTarget(t.element);if(s.repositionTarget){const p=Da(t.element),h=Qa(p),w=nN(d),_=TW(d),T=zW(t,s.snaps,_,h,w,i,a),A=XS(T,h,w);Xe(d,A)}s.onDrag(t,d,i)},eT=(t,s)=>({bounds:t.getBounds(),height:ud(s.element),width:mc(s.element)}),tT=(t,s,a,i,d)=>{const p=a.update(i,d),h=a.getStartData().getOrThunk(()=>eT(s,t));p.each(w=>{AW(t,s,h,w)})},y7=(t,s,a,i)=>{s.each(SW),a.snaps.each(p=>{vW(t,p)});const d=a.getTarget(t.element);i.reset(),a.onDrop(t,d)},PA=t=>(s,a)=>{const i=d=>{a.setStartData(eT(s,d))};return Go([Pe(Cu(),d=>{a.getStartData().each(()=>i(d))}),...t(s,a,i)])},OW=t=>Go([Pe(Vn(),t.forceDrop),Pe(Yh(),t.drop),Pe(zr(),(s,a)=>{t.move(a.event)}),Pe(na(),t.delayDrop)]);var DW=Object.freeze({__proto__:null,getData:t=>E.from(xo(t.x,t.y)),getDelta:(t,s)=>xo(s.left-t.left,s.top-t.top)});const v7=(t,s,a)=>[Pe(Vn(),(i,d)=>{if(d.event.raw.button!==0)return;d.stop();const h=()=>y7(i,E.some(T),t,s),w=EM(h,200),_={drop:h,delayDrop:w.schedule,forceDrop:h,move:R=>{w.cancel(),tT(i,t,s,DW,R)}},T=h7(i,t.blockerClass,OW(_));(()=>{a(i),g7(i,T)})()})],RW=[...NA,Bo("dragger",{handlers:PA(v7)})],MW=t=>Go([Pe(Ic(),t.forceDrop),Pe(Sd(),t.drop),Pe(mo(),t.drop),Pe(Of(),(s,a)=>{t.move(a.event)})]),BW=t=>{const s=t[0];return E.some(xo(s.clientX,s.clientY))};var w7=Object.freeze({__proto__:null,getData:t=>{const a=t.raw.touches;return a.length===1?BW(a):E.none()},getDelta:(t,s)=>xo(s.left-t.left,s.top-t.top)});const k7=(t,s,a)=>{const i=Fn(),d=p=>{y7(p,i.get(),t,s),i.clear()};return[Pe(Ic(),(p,h)=>{h.stop();const w=()=>d(p),_={drop:w,delayDrop:oe,forceDrop:w,move:R=>{tT(p,t,s,w7,R)}},T=h7(p,t.blockerClass,MW(_));i.set(T),(()=>{a(p),g7(p,T)})()}),Pe(Of(),(p,h)=>{h.stop(),tT(p,t,s,w7,h.event)}),Pe(Sd(),(p,h)=>{h.stop(),d(p)}),Pe(mo(),d)]},NW=[...NA,Bo("dragger",{handlers:PA(k7)})],PW=(t,s,a)=>[...v7(t,s,a),...k7(t,s,a)],$W=[...NA,Bo("dragger",{handlers:PA(PW)})];var FW=Object.freeze({__proto__:null,mouse:RW,touch:NW,mouseOrTouch:$W}),LW=Object.freeze({__proto__:null,init:()=>{let t=E.none(),s=E.none();const a=()=>{t=E.none(),s=E.none()},i=(_,T)=>{const A=t.map(R=>_.getDelta(R,T));return t=E.some(T),A},d=(_,T)=>_.getData(T).bind(A=>i(_,A)),p=_=>{s=E.some(_)},h=()=>s,w=Y({});return Lc({readState:w,reset:a,update:d,getStartData:h,setStartData:p})}});const Ty=D1({branchKey:"mode",branches:FW,name:"dragging",active:{events:(t,s)=>t.dragger.handlers(t,s)},extra:{snap:t=>({sensor:t.sensor,range:t.range,output:t.output,extra:E.from(t.extra)})},state:LW,apis:QS}),$A=40,nT=$A/2,IA=(t,s,a,i,d,p)=>t.fold(()=>Ty.snap({sensor:fh(a-nT,i-nT),range:xo(d,p),output:fh(E.some(a),E.some(i)),extra:{td:s}}),h=>{const w=a-nT,_=i-nT,T=$A,A=$A,R=h.element.dom.getBoundingClientRect();return Ty.snap({sensor:fh(w,_),range:xo(T,A),output:fh(E.some(a-R.width/2),E.some(i-R.height/2)),extra:{td:s}})}),FA=(t,s,a)=>{const i=(d,p)=>d.exists(h=>Oo(h,p));return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(d,p)=>{const h=p.td;i(s.get(),h)||(s.set(h),a(h))},mustSnap:!0}},mh=t=>To(Gr.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:ct([Ty.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),Lk.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),HW=(t,s)=>{const a=Kt([]),i=Kt([]),d=Kt(!1),p=Fn(),h=Fn(),w=rt=>{const pt=ec(rt);return IA(L.getOpt(s),rt,pt.x,pt.y,pt.width,pt.height)},_=()=>He(a.get(),rt=>w(rt)),T=rt=>{const pt=ec(rt);return IA(q.getOpt(s),rt,pt.right,pt.bottom,pt.width,pt.height)},A=()=>He(i.get(),rt=>T(rt)),R=FA(_,p,rt=>{h.get().each(pt=>{t.dispatch("TableSelectorChange",{start:rt,finish:pt})})}),P=FA(A,h,rt=>{p.get().each(pt=>{t.dispatch("TableSelectorChange",{start:pt,finish:rt})})}),L=mh(R),q=mh(P),te=va(L.asSpec()),ye=va(q.asSpec()),ue=(rt,pt,Sn,At)=>{const ln=pt.dom.getBoundingClientRect();no(rt.element,"display");const sn=Ml(me.fromDom(t.getBody())).dom.innerHeight,Co=Sn(ln),Xt=At(ln,sn);(Co||Xt)&&Mt(rt.element,"display","none")},ae=(rt,pt,Sn,At)=>{const ln=Sn(pt);Ty.snapTo(rt,ln),ue(rt,pt,Xt=>Xt[At]<0,(Xt,so)=>Xt[At]>so)},he=rt=>ae(te,rt,w,"top"),et=()=>p.get().each(he),Ne=rt=>ae(ye,rt,T,"bottom"),De=()=>h.get().each(Ne);il().deviceType.isTouch()&&(t.on("TableSelectionChange",rt=>{d.get()||(Jf(s,te),Jf(s,ye),d.set(!0)),p.set(rt.start),h.set(rt.finish),rt.otherCells.each(pt=>{a.set(pt.upOrLeftCells),i.set(pt.downOrRightCells),he(rt.start),Ne(rt.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",()=>{et(),De()}),t.on("TableSelectionClear",()=>{d.get()&&(Pu(te),Pu(ye),d.set(!1)),p.clear(),h.clear()}))};var LA=`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`;const oT=t=>t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark",VW=(t,s,a)=>{var i;const d=(i=s.delimiter)!==null&&i!==void 0?i:"›",p=(T,A,R)=>Gr.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":R,"aria-level":R+1}},components:[Ls(T)],action:P=>{t.focus(),t.selection.select(A),t.nodeChanged()},buttonBehaviours:ct([vr.button(a.isDisabled),Nr()])}),h=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Ls(` ${d} `)]}),w=T=>Qe(T,(A,R,P)=>{const L=p(R.name,R.element,P);return P===0?A.concat([L]):A.concat([h(),L])},[]),_=T=>{const A=[];let R=T.length;for(;R-- >0;){const P=T[R];if(P.nodeType===1&&!oT(P)){const L=XR(t,P);if(L.isDefaultPrevented()||A.push({name:L.name,element:P}),L.isPropagationStopped())break}}return A};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:ct([qt.config({mode:"flow",selector:"div[role=button]"}),en.config({disabled:a.isDisabled}),Nr(),ys.config({}),vn.config({}),Cn("elementPathEvents",[jo((T,A)=>{t.shortcuts.add("alt+F11","focus statusbar elementpath",()=>qt.focusIn(T)),t.on("NodeChange",R=>{const P=_(R.parents),L=P.length>0?w(P):[];vn.set(T,L)})})])]),components:[]}};var ph;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(ph||(ph={}));const jW=(t,s,a,i,d)=>{const p={height:VS(i+s.top,yv(t),U4(t))};return a===ph.Both&&(p.width=VS(d+s.left,j4(t),V2(t))),p},_7=(t,s,a)=>{const i=me.fromDom(t.getContainer()),d=jW(t,s,a,er(i),mr(i));_o(d,(p,h)=>{zo(p)&&Mt(i,h,HS(p))}),KR(t)},UW=t=>{const s=PD(t);return s===!1?ph.None:s==="both"?ph.Both:ph.Vertical},vm=(t,s,a,i)=>{const p=xo(a*20,i*20);return _7(t,p,s),E.some(!0)},x7=(t,s)=>{const a=UW(t);if(a===ph.None)return E.none();const i=a===ph.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return E.some(Vu("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:s.translate("Resize"),"aria-label":s.translate(i)},behaviours:[Ty.config({mode:"mouse",repositionTarget:!1,onDrag:(d,p,h)=>_7(t,h,a),blockerClass:"tox-blocker"}),qt.config({mode:"special",onLeft:()=>vm(t,a,-1,0),onRight:()=>vm(t,a,1,0),onUp:()=>vm(t,a,0,-1),onDown:()=>vm(t,a,0,1)}),ys.config({}),on.config({})]},s.icons))},WW=(t,s)=>{const a=(i,d,p)=>vn.set(i,[Ls(s.translate(["{0} "+p,d[p]]))]);return Gr.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:ct([vr.button(s.isDisabled),Nr(),ys.config({}),vn.config({}),Ct.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Cn("wordcount-events",[yl(i=>{const d=Ct.getValue(i),p=d.mode==="words"?"characters":"words";Ct.setValue(i,{mode:p,count:d.count}),a(i,d.count,p)}),jo(i=>{t.on("wordCountUpdate",d=>{const{mode:p}=Ct.getValue(i);Ct.setValue(i,{mode:p,count:d.wordCount}),a(i,d.wordCount,p)})})])]),eventOrder:{[Fc()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},ZW=(t,s)=>{const a=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v6",rel:"noopener",target:"_blank","aria-label":El.translate(["Powered by {0}","Tiny"])},innerHtml:LA.trim()},behaviours:ct([on.config({})])}]}),i=()=>{const w=fC("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Ls(El.translate(["Press {0} for help",w]))]}},d=()=>{const w=[];return t.hasPlugin("wordcount")&&w.push(WW(t,s)),X4(t)&&w.push(a()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:w}},p=()=>{const w=[],_=G2(t),T=wv(t),A=X4(t)||t.hasPlugin("wordcount"),R=()=>{const P="tox-statusbar__text-container--flex-start",L="tox-statusbar__text-container--flex-end",q="tox-statusbar__text-container--space-around";if(_){const te="tox-statusbar__text-container-3-cols";return!A&&!T?[te,q]:A&&!T?[te,L]:[te,P]}return[A&&!T?L:P]};return T&&w.push(VW(t,{},s)),_&&w.push(i()),A&&w.push(d()),w.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...R()]},components:w}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const w=p(),_=x7(t,s);return w.concat(_.toArray())})()}},C7=(t,s)=>s.get().getOrDie(`UI for ${t} has not been rendered`),qW=(t,s)=>{const a=t.inline,i=a?bU:A8,d=vk(t)?pN:d_,p=yU(),h=Fn(),w=Fn(),_=Fn(),P=il().deviceType.isTouch()?["tox-platform-touch"]:[],L=e3(t),q=vv(t),te=To({dom:{tag:"div",classes:["tox-anchorbar"]}}),ye=To({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),ue=()=>p.mainUi.get().map(Jt=>Jt.outerContainer).bind(Yo.getHeader),ae=()=>xn.fromOption(p.dialogUi.get().map(Jt=>Jt.sink),"UI has not been rendered"),he=()=>xn.fromOption(p.popupUi.get().map(Jt=>Jt.sink),"(popup) UI has not been rendered"),et=p.lazyGetInOuterOrDie("anchor bar",te.getOpt),Ne=p.lazyGetInOuterOrDie("bottom anchor bar",ye.getOpt),De=p.lazyGetInOuterOrDie("toolbar",Yo.getToolbar),rt=p.lazyGetInOuterOrDie("throbber",Yo.getThrobber),pt=Kv({popup:he,dialog:ae},t,et,Ne),Sn=()=>{const Jt={attributes:{[_g]:L?Gi.BottomToTop:Gi.TopToBottom}},wn=Yo.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:pt.popup,onEscape:()=>{t.focus()}}),Zo=Yo.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:pt.popup.shared.getSink,providers:pt.popup.shared.providers,onEscape:()=>{t.focus()},onToolbarToggled:B_=>{_I(t,B_)},type:q,lazyToolbar:De,lazyHeader:()=>ue().getOrDie("Could not find header element"),...Jt}),co=Yo.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:pt.popup.shared.providers,onEscape:()=>{t.focus()},type:q}),la=yk(t),Oi=X2(t),uu=kv(t),nd=$D(t),wh=At(),Ry=la||Oi||uu,lf=()=>la?[co]:Oi?[Zo]:[],Mp=nd?[wh,wn]:[wn];return Yo.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Ry?[]:["tox-editor-header--empty"]),...Jt},components:Pt([uu?Mp:[],lf(),_v(t)?[]:[te.asSpec()]]),sticky:vk(t),editor:t,sharedBackstage:pt.popup.shared})},At=()=>Yo.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),ln=()=>{const Jt=Yo.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),wn=Yo.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Jt,wn]}},sn=()=>{const Jt=t3(t),wn=Oo(fr(),Jt)&&Vo(Jt,"display")==="grid",Zo={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(P),attributes:{...El.isRtl()?{dir:"rtl"}:{}}},behaviours:ct([ka.config({useFixed:()=>d.isDocked(ue)})])},co={dom:{styles:{width:document.body.clientWidth+"px"}},events:Go([Pe(jl(),uu=>{Mt(uu.element,"width",document.body.clientWidth+"px")})])},la=va(Ro(Zo,wn?co:{})),Oi=zC(la);return w.set(Oi),{sink:la,mothership:Oi}},Co=()=>{const Jt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(P),attributes:{...El.isRtl()?{dir:"rtl"}:{}}},behaviours:ct([ka.config({useFixed:()=>d.isDocked(ue),getBounds:()=>s.getPopupSinkBounds()})])},wn=va(Jt),Zo=zC(wn);return _.set(Zo),{sink:wn,mothership:Zo}},Xt=()=>{const Jt=Sn(),wn=ln(),Zo=Yo.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:pt.popup}),co=Yo.parts.viewWrapper({backstage:pt.popup}),la=ND(t)&&!a?E.some(ZW(t,pt.popup.shared.providers)):E.none(),Oi=Pt([L?[]:[Jt],a?[]:[wn],L?[Jt]:[]]),uu=Yo.parts.editorContainer({components:Pt([Oi,a?[]:[ye.asSpec(),...la.toArray()]])}),nd=n3(t),wh={role:"application",...El.isRtl()?{dir:"rtl"}:{},...nd?{"aria-hidden":"true"}:{}},Ry=va(Yo.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(a?["tox-tinymce-inline"]:[]).concat(L?["tox-tinymce--toolbar-bottom"]:[]).concat(P),styles:{visibility:"hidden",...nd?{opacity:"0",border:"0"}:{}},attributes:wh},components:[uu,...a?[]:[co],Zo],behaviours:ct([Nr(),en.config({disableClass:"tox-tinymce--disabled"}),qt.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),lf=zC(Ry);return h.set(lf),{mothership:lf,outerContainer:Ry}},so=Jt=>{const wn=HS(dU(t)),Zo=HS(fU(t));return t.inline||(rl("div","width",Zo)&&Mt(Jt.element,"width",Zo),rl("div","height",wn)?Mt(Jt.element,"height",wn):Mt(Jt.element,"height","400px")),wn},gt=Jt=>{t.addShortcut("alt+F9","focus menubar",()=>{Yo.focusMenubar(Jt)}),t.addShortcut("alt+F10","focus toolbar",()=>{Yo.focusToolbar(Jt)}),t.addCommand("ToggleToolbarDrawer",(wn,Zo)=>{Zo!=null&&Zo.skipFocus?Yo.toggleToolbarDrawerWithoutFocusing(Jt):Yo.toggleToolbarDrawer(Jt)}),t.addQueryStateHandler("ToggleToolbarDrawer",()=>Yo.isToolbarDrawerToggled(Jt))},Nt=Jt=>{const{mainUi:wn,popupUi:Zo,uiMotherships:co}=Jt;Jn(OD(t),(l0,pT)=>{t.ui.registry.addGroupToolbarButton(pT,l0)});const{buttons:la,menuItems:Oi,contextToolbars:uu,sidebars:nd,views:wh}=t.ui.registry.getAll(),Ry=Q4(t),lf={menuItems:Oi,menus:HD(t),menubar:Z4(t),toolbar:Ry.getOrThunk(()=>U2(t)),allowToolbarGroups:q===Ji.floating,buttons:la,sidebar:nd,views:wh};gt(wn.outerContainer),XB(t,wn.mothership,co),d.setup(t,pt.popup.shared,ue),J8(t,pt.popup),uW(t,pt.popup.shared.getSink,pt.popup),vN(t),MV(t,rt,pt.popup.shared),W8(t,uu,Zo.sink,{backstage:pt.popup}),HW(t,Zo.sink);const Mp=t.getElement(),B_=so(wn.outerContainer),JA={targetNode:Mp,height:B_};return i.render(t,Jt,lf,pt.popup,JA)},un=Jt=>(_.set(Jt.mothership),Jt),pn=()=>{const Jt=Xt(),wn=sn(),Zo=rm(t)?Co():un(wn);p.dialogUi.set(wn),p.popupUi.set(Zo),p.mainUi.set(Jt);const co={popupUi:Zo,dialogUi:wn,mainUi:Jt,uiMotherships:p.getUiMotherships()};return Nt(co)};return{popups:{backstage:pt.popup,getMothership:()=>C7("popups",_)},dialogs:{backstage:pt.dialog,getMothership:()=>C7("dialogs",w)},renderUI:pn}},GW=(t,s)=>{const a=M(t,"id").fold(()=>{const i=Ot("dialog-label");return _t(s,"id",i),i},tn);_t(t,"aria-labelledby",a)},KW=Y([Le("lazySink"),vo("dragBlockClass"),hr("getBounds",Wr),be("useTabstopAt",Et),be("firstTabstop",0),be("eventOrder",{}),yr("modalBehaviours",[qt]),Wc("onExecute"),F0("onEscape")]),HA={sketch:tn},YW=Y([_c({name:"draghandle",overrides:(t,s)=>({behaviours:ct([Ty.config({mode:"mouse",getTarget:a=>jc(a,'[role="dialog"]').getOr(a),blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:t.getDragBounds})])})}),_a({schema:[Le("dom")],name:"title"}),_a({factory:HA,schema:[Le("dom")],name:"close"}),_a({factory:HA,schema:[Le("dom")],name:"body"}),_c({factory:HA,schema:[Le("dom")],name:"footer"}),Cl({factory:{sketch:(t,s)=>({...t,dom:s.dom,components:s.components})},schema:[be("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),be("components",[])],name:"blocker"})]),VA=(t,s,a,i)=>{const d=Fn(),p=L=>{d.set(L);const q=t.lazySink(L).getOrDie(),te=i.blocker(),ye=q.getSystem().build({...te,components:te.components.concat([pi(L)]),behaviours:ct([on.config({}),Cn("dialog-blocker-events",[Su(oa(),()=>{Xu.isBlocked(L)?oe():qt.focusIn(L)})])])});Jf(q,ye),qt.focusIn(L)},h=L=>{d.clear(),lc(L.element).each(q=>{L.getSystem().getByDom(q).each(te=>{Pu(te)})})},w=L=>Ud(L,t,"body"),_=L=>Uo(L,t,"footer"),T=(L,q)=>{Xu.block(L,q)},A=L=>{Xu.unblock(L)},R=Ot("modal-events"),P={...t.eventOrder,[fi()]:[R].concat(t.eventOrder["alloy.system.attached"]||[])};return{uid:t.uid,dom:t.dom,components:s,apis:{show:p,hide:h,getBody:w,getFooter:_,setIdle:A,setBusy:T},eventOrder:P,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:or(t.modalBehaviours,[vn.config({}),qt.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),Xu.config({getRoot:d.get}),Cn(R,[jo(L=>{GW(L.element,Ud(L,t,"title").element)})])])}},sr=xa({name:"ModalDialog",configFields:KW(),partFields:YW(),factory:VA,apis:{show:(t,s)=>{t.show(s)},hide:(t,s)=>{t.hide(s)},getBody:(t,s)=>t.getBody(s),getFooter:(t,s)=>t.getFooter(s),setBusy:(t,s,a)=>{t.setBusy(s,a)},setIdle:(t,s)=>{t.setIdle(s)}}}),jA=Ht([ur,y3].concat(iy)),sT=ji,Rp=[iC("button"),zl,$a("align","end",["start","end"]),lm,eu,Kh("buttonType",["primary","secondary"])],T_=[...Rp,Cp],UA=[Ui("type",["submit","cancel","custom"]),...T_],S7=[Ui("type",["menu"]),im,xk,zl,bc("items",jA),...Rp],T7=[...Rp,Ui("type",["togglebutton"]),uo("tooltip"),zl,im,ir("active",!1)],E7=Wn("type",{submit:UA,cancel:UA,custom:UA,menu:S7,togglebutton:T7}),XW=[ur,Cp,Ui("level",["info","warn","error","success"]),v3,be("url","")],JW=Ht(XW),QW=t=>[ur,t],z7=[ur,Cp,eu,iC("button"),zl,cR,Kh("buttonType",["primary","secondary","toolbar"]),lm],A7=Ht(z7),gh=[ur,y3],af=gh.concat([aC]),eZ=gh.concat([rC,eu]),tZ=Ht(eZ),O7=ji,nZ=af.concat([iR("auto")]),oZ=Ht(nZ),sZ=ml([Tv,Cp,v3]),WA=af.concat([Pc("storageKey","default")]),ZA=Ht(WA),rZ=Er,cZ=Ht(af),iZ=Er,D7=gh.concat([Pc("tag","textarea"),uo("scriptId"),uo("scriptUrl"),Qy("settings",void 0)]),lZ=gh.concat([Pc("tag","textarea"),Wi("init")]),uZ=ku(t=>hs("customeditor.old",qo(lZ),t).orThunk(()=>hs("customeditor.new",qo(D7),t))),Ey=Er,fZ=Ht(af),rT=Xy(),o0=t=>[ur,Zm("columns"),t],aT=[ur,uo("html"),$a("presets","presentation",["presentation","document"])],R7=Ht(aT),cT=af.concat([ir("border",!1),ir("sandboxed",!0),ir("streamContent",!1),ir("transparent",!0)]),zi=Ht(cT),iT=Er,M7=Ht(gh.concat([Fr("height")])),B7=Ht([uo("url"),kd("zoom"),kd("cachedWidth"),kd("cachedHeight")]),mZ=af.concat([Fr("inputMode"),Fr("placeholder"),ir("maximized",!1),eu]),pZ=Ht(mZ),hh=Er,Gq=t=>[ur,rC,t,$a("align","start",["start","center","end"])],gZ=[Cp,Tv],N7=[Cp,bc("items",zf("items",()=>zy))],zy=Dt([Ht(gZ),Ht(N7)]),lT=af.concat([bc("items",zy),eu]),P7=Ht(lT),hZ=Er,bZ=af.concat([Gh("items",[Cp,Tv]),Nc("size",1),eu]),yZ=Ht(bZ),vZ=Er,s0=af.concat([ir("constrain",!0),eu]),Kq=Ht(s0),$7=Ht([uo("width"),uo("height")]),wZ=gh.concat([rC,Nc("min",0),Nc("max",0)]),Yq=Ht(wZ),kZ=jm,_Z=[ur,bc("header",Er),bc("cells",fl(Er))],E_=Ht(_Z),xZ=af.concat([Fr("placeholder"),ir("maximized",!1),eu]),CZ=Ht(xZ),I7=Er,F7=[Ui("type",["directory","leaf"]),sR,uo("id"),gl("menu",U5)],e=Ht(F7),n=F7.concat([bc("children",zf("children",()=>Je("type",{directory:o,leaf:e})))]),o=Ht(n),r=Je("type",{directory:o,leaf:e}),c=[ur,bc("items",r),_d("onLeafAction"),_d("onToggleExpand"),Ia("defaultExpandedIds",[],Er),Fr("defaultSelectedId")],u=Ht(c),m=af.concat([$a("filetype","file",["image","media","file"]),eu,Fr("picker_text")]),b=Ht(m),v=Ht([Tv,Ck]),C=t=>Ir("items","items",ro(),fl(ku(s=>hs(`Checking item of ${t}`,O,s).fold(a=>xn.error(ta(a)),a=>xn.value(a))))),O=Tr(()=>Je("type",{alertbanner:JW,bar:Ht(QW(C("bar"))),button:A7,checkbox:tZ,colorinput:ZA,colorpicker:cZ,dropzone:fZ,grid:Ht(o0(C("grid"))),iframe:zi,input:pZ,listbox:P7,selectbox:yZ,sizeinput:Kq,slider:Yq,textarea:CZ,urlinput:b,customeditor:uZ,htmlpanel:R7,imagepreview:M7,collection:oZ,label:Ht(Gq(C("label"))),table:E_,tree:u,panel:N})),D=[ur,be("classes",[]),bc("items",O)],N=Ht(D),G=[iC("tab"),sR,bc("items",O)],X=[ur,Gh("tabs",G)],U=Ht(X),J=T_,le=E7,fe=Ht([uo("title"),nc("body",Je("type",{panel:N,tabpanel:U})),Pc("size","normal"),Ia("buttons",[],le),be("initialData",{}),hr("onAction",oe),hr("onChange",oe),hr("onSubmit",oe),hr("onClose",oe),hr("onCancel",oe),hr("onTabChange",oe)]),de=t=>hs("dialog",fe,t),we=Ht([Ui("type",["cancel","custom"]),...J]),We=Ht([uo("title"),uo("url"),kd("height"),kd("width"),xd("buttons",we),hr("onAction",oe),hr("onCancel",oe),hr("onClose",oe),hr("onMessage",oe)]),at=t=>hs("dialog",We,t),kt=t=>Ge(t)?[t].concat(ve(uf(t),kt)):Ze(t)?ve(t,kt):[],Ae=t=>Me(t.type)&&Me(t.name),Se={checkbox:O7,colorinput:rZ,colorpicker:iZ,dropzone:rT,input:hh,iframe:iT,imagepreview:B7,selectbox:vZ,sizeinput:$7,slider:kZ,listbox:hZ,size:$7,textarea:I7,urlinput:v,customeditor:Ey,collection:sZ,togglemenuitem:sT},je=t=>E.from(Se[t.type]),Rt=t=>Hn(kt(t),Ae),Wt=t=>{const s=Rt(t),a=ve(s,i=>je(i).fold(()=>[],d=>[nc(i.name,d)]));return Ht(a)},Rn=t=>{var s;const a=Mo(de(t)),i=Wt(t),d=(s=t.initialData)!==null&&s!==void 0?s:{};return{internalDialog:a,dataValidator:i,initialData:d}},zn={open:(t,s)=>{const a=Rn(s);return t(a.internalDialog,a.initialData,a.dataValidator)},openUrl:(t,s)=>{const a=Mo(at(s));return t(a)},redial:t=>Rn(t)};var Xo=Object.freeze({__proto__:null,events:(t,s)=>{const a=(i,d)=>{t.updateState.each(p=>{const h=p(i,d);s.set(h)}),t.renderComponents.each(p=>{const h=p(d,s.get());(t.reuseDom?HO:Cc)(i,h)})};return Go([Pe(Jm(),(i,d)=>{const p=d;if(!p.universal){const h=t.channel;Po(p.channels,h)&&a(i,p.data)}}),jo((i,d)=>{t.initialData.each(p=>{a(i,p)})})])}}),Ta=Object.freeze({__proto__:null,getState:(t,s,a)=>a}),No=[Le("channel"),vo("renderComponents"),vo("updateState"),vo("initialData"),ir("reuseDom",!0)],Ft=Object.freeze({__proto__:null,init:()=>{const t=Kt(E.none()),s=()=>t.set(E.none());return{readState:()=>t.get().getOr("none"),get:t.get,set:t.set,clear:s}}});const An=Rr({fields:No,name:"reflecting",active:Xo,apis:Ta,state:Ft}),jn=t=>{const s=[],a={};return _o(t,(i,d)=>{i.fold(()=>{s.push(d)},p=>{a[d]=p})}),s.length>0?xn.error(s):xn.value(a)},Bt=(t,s,a)=>{const i=To(Hv.sketch(d=>({dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:He(t.items,p=>e_(d,p,s,a))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[i.asSpec()]}],behaviours:ct([qt.config({mode:"acyclic",useTabstopAt:Re(jv)}),Si.memento(i),x6(i,{postprocess:d=>jn(d).fold(p=>(console.error(p),{}),tn)}),Cn("dialog-body-panel",[Pe(oa(),(d,p)=>{d.getSystem().broadcastOn([Wv],{newFocus:E.some(p.event.target)})})])])}},fn=(t,s)=>({uid:t.uid,dom:t.dom,components:t.components,events:Kd(t.action),behaviours:or(t.tabButtonBehaviours,[on.config({}),qt.config({mode:"execution",useSpace:!0,useEnter:!0}),Ct.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}),lt=Zc({name:"TabButton",configFields:[be("uid",void 0),Le("value"),Ir("dom","dom",Bn(()=>({attributes:{role:"tab",id:Ot("aria"),"aria-selected":"false"}})),Zs()),vo("action"),be("domModification",{}),yr("tabButtonBehaviours",[on,qt,Ct]),Le("view")],factory:fn}),mn=Y([Le("tabs"),Le("dom"),be("clickToDismiss",!1),yr("tabbarBehaviours",[yo,qt]),Vf(["tabClass","selectedClass"])]),to=Vb({factory:lt,name:"tabs",unit:"tab",overrides:t=>{const s=(i,d)=>{yo.dehighlight(i,d),Zt(i,s1(),{tabbar:i,button:d})},a=(i,d)=>{yo.highlight(i,d),Zt(i,W_(),{tabbar:i,button:d})};return{action:i=>{const d=i.getSystem().getByUid(t.uid).getOrDie(),p=yo.isHighlighted(d,i);(p&&t.clickToDismiss?s:p?oe:a)(d,i)},domModification:{classes:[t.markers.tabClass]}}}}),Wo=Y([to]),Lo=(t,s,a,i)=>({uid:t.uid,dom:t.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:or(t.tabbarBehaviours,[yo.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:(d,p)=>{_t(p.element,"aria-selected","true")},onDehighlight:(d,p)=>{_t(p.element,"aria-selected","false")}}),qt.config({mode:"flow",getInitial:d=>yo.getHighlighted(d).map(p=>p.element),selector:"."+t.markers.tabClass,executeOnMove:!0})])}),Hr=xa({name:"Tabbar",configFields:mn(),partFields:Wo(),factory:Lo}),Qu=(t,s)=>({uid:t.uid,dom:t.dom,behaviours:or(t.tabviewBehaviours,[vn.config({})]),domModification:{attributes:{role:"tabpanel"}}}),wm=Zc({name:"Tabview",configFields:[yr("tabviewBehaviours",[vn])],factory:Qu}),Kc=Y([be("selectFirst",!0),Qn("onChangeTab"),Qn("onDismissTab"),be("tabs",[]),yr("tabSectionBehaviours",[])]),cu=_a({factory:Hr,schema:[Le("dom"),di("markers",[Le("tabClass"),Le("selectedClass")])],name:"tabbar",defaults:t=>({tabs:t.tabs})}),bn=_a({factory:wm,name:"tabview"}),po=Y([cu,bn]),Jo=(t,s,a,i)=>{const d=h=>{const w=Ct.getValue(h);Uo(h,t,"tabview").each(_=>{Ke(t.tabs,A=>A.value===w).each(A=>{const R=A.view();M(h.element,"id").each(P=>{_t(_.element,"aria-labelledby",P)}),vn.set(_,R),t.onChangeTab(_,h,R)})})},p=(h,w)=>{Uo(h,t,"tabbar").each(_=>{w(_).each(zd)})};return{uid:t.uid,dom:t.dom,components:s,behaviours:Vd(t.tabSectionBehaviours),events:Go(Pt([t.selectFirst?[jo((h,w)=>{p(h,yo.getFirst)})]:[],[Pe(W_(),(h,w)=>{const _=w.event.button;d(_)}),Pe(s1(),(h,w)=>{const _=w.event.button;t.onDismissTab(h,_)})]])),apis:{getViewItems:h=>Uo(h,t,"tabview").map(w=>vn.contents(w)).getOr([]),showTab:(h,w)=>{p(h,T=>{const A=yo.getCandidates(T);return Ke(A,P=>Ct.getValue(P)===w).filter(P=>!yo.isHighlighted(T,P))})}}}},vs=xa({name:"TabSection",configFields:Kc(),partFields:po(),factory:Jo,apis:{getViewItems:(t,s)=>t.getViewItems(s),showTab:(t,s,a)=>{t.showTab(s,a)}}}),Ds=(t,s,a)=>He(t,(i,d)=>{vn.set(a,t[d].view());const p=s.dom.getBoundingClientRect();return vn.set(a,[]),p.height}),Ai=t=>Rs(is(t,(s,a)=>s>a?-1:s<a?1:0)),cf=(t,s,a)=>{const i=id(t).dom,d=jc(t,".tox-dialog-wrap").getOr(t),p=Vo(d,"position")==="fixed";let h;p?h=Math.max(i.clientHeight,window.innerHeight):h=Math.max(i.offsetHeight,i.scrollHeight);const w=er(s),T=s.dom.offsetLeft>=a.dom.offsetLeft+mr(a)?Math.max(er(a),w):w,A=parseInt(Vo(t,"margin-top"),10)||0,R=parseInt(Vo(t,"margin-bottom"),10)||0,L=er(t)+A+R-T;return h-L},bh=(t,s)=>{Rs(t).each(a=>vs.showTab(s,a.value))},z_=(t,s)=>{Mt(t,"height",s+"px"),Mt(t,"flex-basis",s+"px")},Ay=(t,s,a)=>{jc(t,'[role="dialog"]').each(i=>{Ks(i,'[role="tablist"]').each(d=>{a.get().map(p=>(Mt(s,"height","0"),Mt(s,"flex-basis","0"),Math.min(p,cf(i,s,d)))).each(p=>{z_(s,p)})})})},r0=t=>Ks(t,'[role="tabpanel"]'),a0=t=>{const s=Fn();return{extraEvents:[jo(d=>{const p=d.element;r0(p).each(h=>{Mt(h,"visibility","hidden"),d.getSystem().getByDom(h).toOptional().each(w=>{const _=Ds(t,h,w);Ai(_).fold(s.clear,s.set)}),Ay(p,h,s),no(h,"visibility"),bh(t,d),requestAnimationFrame(()=>{Ay(p,h,s)})})}),Pe(jl(),d=>{const p=d.element;r0(p).each(h=>{Ay(p,h,s)})}),Pe(IM,(d,p)=>{const h=d.element;r0(h).each(w=>{const _=Mu(Do(w));Mt(w,"visibility","hidden");const T=$s(w,"height").map(P=>parseInt(P,10));no(w,"height"),no(w,"flex-basis");const A=w.dom.getBoundingClientRect().height;T.forall(P=>A>P)?(s.set(A),Ay(h,w,s)):T.each(P=>{z_(w,P)}),no(w,"visibility"),_.each(wc)})})],selectFirst:!1}},A_="send-data-to-section",Oy="send-data-to-view",Dy=(t,s,a)=>{const i=Kt({}),d=T=>{const A=Ct.getValue(T),R=jn(A).getOr({}),P=i.get(),L=Ro(P,R);i.set(L)},p=T=>{const A=i.get();Ct.setValue(T,A)},h=Kt(null),w=He(t.tabs,T=>({value:T.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Ls(a.shared.providers.translate(T.title))],view:()=>[Hv.sketch(A=>({dom:{tag:"div",classes:["tox-form"]},components:He(T.items,R=>e_(A,R,s,a)),formBehaviours:ct([qt.config({mode:"acyclic",useTabstopAt:Re(jv)}),Cn("TabView.form.events",[jo(p),Tu(d)]),vc.config({channels:Vt([{key:A_,value:{onReceive:d}},{key:Oy,value:{onReceive:p}}])})])}))]})),_=a0(w);return vs.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(T,A,R)=>{const P=Ct.getValue(A);Zt(T,$M,{name:P,oldName:h.get()}),h.set(P)},tabs:w,components:[vs.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[Hr.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:ct([ys.config({})])}),vs.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:_.selectFirst,tabSectionBehaviours:ct([Cn("tabpanel",_.extraEvents),qt.config({mode:"acyclic"}),Zn.config({find:T=>Rs(vs.getViewItems(T))}),rh(E.none(),T=>(T.getSystem().broadcastOn([A_],{}),i.get()),(T,A)=>{i.set(A),T.getSystem().broadcastOn([Oy],{})})])})},ed=(t,s,a,i,d)=>{const p=_=>{const T=_.body;switch(T.type){case"tabpanel":return[Dy(T,_.initialData,i)];default:return[Bt(T,_.initialData,i)]}},h=(_,T)=>E.some({isTabPanel:()=>T.body.type==="tabpanel"}),w={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...a.map(_=>({id:_})).getOr({}),...d?w:{}}},components:[],behaviours:ct([Si.childAt(0),An.config({channel:`${KC}-${s}`,updateState:h,renderComponents:p,initialData:t})])}},km=(t,s,a,i,d)=>ed(t,s,E.some(a),i,d),O_=(t,s,a)=>{const i=ed(t,s,E.none(),a,!1);return sr.parts.body(i)},c0=t=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[O6(E.none(),{dom:{tag:"iframe",attributes:{src:t.url}},behaviours:ct([ys.config({}),on.config({})])})]}],behaviours:ct([qt.config({mode:"acyclic",useTabstopAt:Re(jv)})])};return sr.parts.body(s)},uT=bv.deviceType.isTouch(),_m=(t,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,s]}),dT=(t,s)=>sr.parts.close(Gr.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:t,buttonBehaviours:ct([ys.config({})])})),D_=()=>sr.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),Ga=(t,s)=>sr.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:kp(`<p>${P4(s.translate(t))}</p>`)}]}]}),yh=t=>sr.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t}),qA=(t,s)=>[Qd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),Qd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],R_=t=>{const s="tox-dialog",a=s+"-wrap",i=a+"__backdrop",d=s+"__disable-scroll";return sr.sketch({lazySink:t.lazySink,onEscape:p=>(t.onEscape(p),E.some(!0)),useTabstopAt:p=>!jv(p),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[s].concat(t.extraClasses),styles:{position:"relative",...t.extraStyles}},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:kp(`<div class="${a}"></div>`),components:[{dom:{tag:"div",classes:uT?[i,i+"--opaque"]:[i]}}]}},dragBlockClass:a,modalBehaviours:ct([on.config({}),Cn("dialog-events",t.dialogEvents.concat([Su(oa(),(p,h)=>{Xu.isBlocked(p)?oe():qt.focusIn(p)}),Pe(n1(),(p,h)=>{p.getSystem().broadcastOn([Wv],{newFocus:h.event.newFocus})})])),Cn("scroll-lock",[jo(()=>{Gs(fr(),d)}),Tu(()=>{xs(fr(),d)})]),...t.extraBehaviours]),eventOrder:{[Fc()]:["dialog-events"],[fi()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Bf()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...t.eventOrder}})},M_=t=>Gr.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},buttonBehaviours:ct([ys.config({})]),components:[Vu("close",{tag:"span",classes:["tox-icon"]},t.icons)],action:s=>{Gn(s,nh)}}),xm=(t,s,a,i)=>{const d=p=>[Ls(i.translate(p.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...a.map(p=>({id:p})).getOr({})}},components:[],behaviours:ct([An.config({channel:`${hm}-${s}`,initialData:t,renderComponents:d})])}},i0=()=>({dom:kp('<div class="tox-dialog__draghandle"></div>')}),ke=(t,s,a,i)=>Qd.sketch({dom:kp('<div class="tox-dialog__header"></div>'),components:[xm(t,s,E.some(a),i),i0(),M_(i)],containerBehaviours:ct([Ty.config({mode:"mouse",blockerClass:"blocker",getTarget:d=>Wl(d,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),xe=(t,s,a)=>{const i=sr.parts.title(xm(t,s,E.none(),a)),d=sr.parts.draghandle(i0()),p=sr.parts.close(M_(a)),h=[i].concat(t.draggable?[d]:[]).concat([p]);return Qd.sketch({dom:kp('<div class="tox-dialog__header"></div>'),components:h})},ft=(t,s,a)=>xe({title:a.shared.providers.translate(t),draggable:a.dialog.isDraggableModal()},s,a.shared.providers),st=(t,s,a,i)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":a.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${i.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:kp('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),jt=(t,s,a)=>({onClose:()=>a.closeWindow(),onBlock:i=>{const d=Ks(t().element,".tox-dialog__header").map(p=>er(p));sr.setBusy(t(),(p,h)=>st(i.message,h,s,d))},onUnblock:()=>{sr.setIdle(t())}}),Un="tox-dialog--fullscreen",Ss="tox-dialog--width-lg",Yc="tox-dialog--width-md",Yr=t=>{switch(t){case"large":return E.some(Ss);case"medium":return E.some(Yc);default:return E.none()}},vh=(t,s)=>{const a=me.fromDom(s.element.dom);br(a,Un)||(mi(a,[Ss,Yc]),Yr(t).each(i=>Gs(a,i)))},iu=(t,s)=>{const a=me.fromDom(t.element.dom),i=cg(a),d=Ke(i,p=>p===Ss||p===Yc).or(Yr(s));N0(a,[Un,...d.toArray()])},GA=(t,s,a)=>va(R_({...t,firstTabstop:1,lazySink:a.shared.getSink,extraBehaviours:[qC({}),...t.extraBehaviours],onEscape:i=>{Gn(i,nh)},dialogEvents:s,eventOrder:{[Jm()]:[An.name(),vc.name()],[fi()]:["scroll-lock",An.name(),"messages","dialog-events","alloy.base.behaviour"],[Bf()]:["alloy.base.behaviour","dialog-events","messages",An.name(),"scroll-lock"]}})),fT=(t,s={})=>{const a=i=>{const d=He(i.items,p=>{const h=dt(s,p.name).getOr(Kt(!1));return{...p,storage:h}});return{...i,items:d}};return He(t,i=>i.type==="menu"?a(i):i)},KA=t=>Qe(t,(s,a)=>a.type==="menu"?Qe(a.items,(d,p)=>(d[p.name]=p.storage,d),s):s,{}),YA=(t,s)=>[C0(oa(),nH),t(Pv,(a,i,d,p)=>{Mu(Do(p.element)).fold(oe,yg),s.onClose(),i.onClose()}),t(nh,(a,i,d,p)=>{i.onCancel(a),Gn(p,Pv)}),Pe(pz,(a,i)=>s.onUnblock()),Pe(mz,(a,i)=>s.onBlock(i.event))],SZ=(t,s)=>{const a=(d,p)=>Pe(d,(h,w)=>{i(h,(_,T)=>{p(t(),_,w.event,h)})}),i=(d,p)=>{An.getState(d).get().each(h=>{p(h,d)})};return[...YA(a,s),a(mm,(d,p,h)=>{p.onAction(d,{name:h.name})})]},Ln=(t,s,a)=>{const i=(p,h)=>Pe(p,(w,_)=>{d(w,(T,A)=>{h(t(),T,_.event,w)})}),d=(p,h)=>{An.getState(p).get().each(w=>{h(w.internalDialog,p)})};return[...YA(i,s),i(Fk,(p,h)=>h.onSubmit(p)),i(xi,(p,h,w)=>{h.onChange(p,{name:w.name})}),i(mm,(p,h,w,_)=>{const T=()=>_.getSystem().isConnected()?qt.focusIn(_):void 0,A=L=>Z(L,"disabled")||M(L,"aria-disabled").exists(q=>q==="true"),R=Do(_.element),P=Mu(R);h.onAction(p,{name:w.name,value:w.value}),Mu(R).fold(T,L=>{A(L)||P.exists(q=>Oa(L,q)&&A(q))?T():a().toOptional().filter(q=>!Oa(q.element,L)).each(T)})}),i($M,(p,h,w)=>{h.onTabChange(p,{newTabName:w.name,oldTabName:w.oldName})}),Tu(p=>{const h=t();Ct.setValue(p,h.getData())})]},Te=(t,s)=>aS(t,t.type,s),It=(t,s,a)=>Ke(s,i=>i.name===a).bind(i=>i.memento.getOpt(t)),rn=(t,s)=>{const a=s.map(w=>w.footerButtons).getOr([]),i=Ka(a,w=>w.align==="start"),d=(w,_)=>Qd.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${w}`]},components:He(_,T=>T.memento.asSpec())}),p=d("start",i.pass),h=d("end",i.fail);return[p,h]},Qs=(t,s,a)=>{const i=(d,p)=>{const h=He(p.buttons,_=>{const T=To(Te(_,a));return{name:_.name,align:_.align,memento:T}}),w=_=>It(d,h,_);return E.some({lookupByName:w,footerButtons:h})};return{dom:kp('<div class="tox-dialog__footer"></div>'),components:[],behaviours:ct([An.config({channel:`${Uz}-${s}`,initialData:t,updateState:i,renderComponents:rn})])}},zc=(t,s,a)=>Qs(t,s,a),lu=(t,s,a)=>sr.parts.footer(Qs(t,s,a)),Vr=(t,s)=>{if(t.getRoot().getSystem().isConnected()){const i=Zn.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return Hv.getField(i,s).orThunk(()=>t.getFooter().bind(h=>An.getState(h).get()).bind(h=>h.lookupByName(s)))}else return E.none()},td=(t,s)=>{const a=t.getRoot();return An.getState(a).get().map(i=>Mo(hs("data",i.dataValidator,s))).getOr(s)},mT=(t,s,a)=>{const i=q=>{const te=t.getRoot();te.getSystem().isConnected()&&q(te)},L={getData:()=>{const q=t.getRoot(),te=q.getSystem().isConnected()?t.getFormWrapper():q,ye=Ct.getValue(te),ue=Jn(a,ae=>ae.get());return{...ye,...ue}},setData:q=>{i(te=>{const ye=L.getData(),ue=Ro(ye,q),ae=td(t,ue),he=t.getFormWrapper();Ct.setValue(he,ae),_o(a,(et,Ne)=>{ho(ue,Ne)&&et.set(ue[Ne])})})},setEnabled:(q,te)=>{Vr(t,q).each(te?en.enable:en.disable)},focus:q=>{Vr(t,q).each(on.focus)},block:q=>{if(!Me(q))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");i(te=>{Zt(te,mz,{message:q})})},unblock:()=>{i(q=>{Gn(q,pz)})},showTab:q=>{i(te=>{const ye=t.getBody();An.getState(ye).get().exists(ae=>ae.isTabPanel())&&Zn.getCurrent(ye).each(ae=>{vs.showTab(ae,q)})})},redial:q=>{i(te=>{const ye=t.getId(),ue=s(q),ae=fT(ue.internalDialog.buttons,a);te.getSystem().broadcastOn([`${Uv}-${ye}`],ue),te.getSystem().broadcastOn([`${hm}-${ye}`],ue.internalDialog),te.getSystem().broadcastOn([`${KC}-${ye}`],ue.internalDialog),te.getSystem().broadcastOn([`${Uz}-${ye}`],{...ue.internalDialog,buttons:ae}),L.setData(ue.initialData)})},close:()=>{i(q=>{Gn(q,Pv)})},toggleFullscreen:t.toggleFullscreen};return L},TZ=(t,s,a)=>{const i=Ot("dialog"),d=t.internalDialog,p=ft(d.title,i,a),h=Kt(d.size),w=Yr(h.get()).toArray(),_=(ae,he)=>(h.set(he.internalDialog.size),vh(he.internalDialog.size,ae),E.some(he)),T=O_({body:d.body,initialData:d.initialData},i,a),A=fT(d.buttons),R=KA(A),P=Qt(A.length!==0,lu({buttons:A},i,a)),L=Ln(()=>ue,jt(()=>te,a.shared.providers,s),a.shared.getSink),q={id:i,header:p,body:T,footer:P,extraClasses:w,extraBehaviours:[An.config({channel:`${Uv}-${i}`,updateState:_,initialData:t})],extraStyles:{}},te=GA(q,L,a),ye=(()=>{const ae=()=>{const et=sr.getBody(te);return Zn.getCurrent(et).getOr(et)},he=()=>{iu(te,h.get())};return{getId:Y(i),getRoot:Y(te),getBody:()=>sr.getBody(te),getFooter:()=>sr.getFooter(te),getFormWrapper:ae,toggleFullscreen:he}})(),ue=mT(ye,s.redial,R);return{dialog:te,instanceApi:ue}},XA=(t,s,a,i=!1,d)=>{const p=Ot("dialog"),h=Ot("dialog-label"),w=Ot("dialog-content"),_=t.internalDialog,T=Kt(_.size),A=Yr(T.get()).toArray(),R=(De,rt)=>(T.set(rt.internalDialog.size),vh(rt.internalDialog.size,De),d(),E.some(rt)),P=To(ke({title:_.title,draggable:!0},p,h,a.shared.providers)),L=To(km({body:_.body,initialData:_.initialData},p,w,a,i)),q=fT(_.buttons),te=KA(q),ye=Qt(q.length!==0,To(zc({buttons:q},p,a))),ue=Ln(()=>Ne,{onBlock:De=>{Xu.block(he,(rt,pt)=>{const Sn=P.getOpt(he).map(At=>er(At.element));return st(De.message,pt,a.shared.providers,Sn)})},onUnblock:()=>{Xu.unblock(he)},onClose:()=>s.closeWindow()},a.shared.getSink),he=va({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...A],attributes:{role:"dialog","aria-labelledby":h}},eventOrder:{[Jm()]:[An.name(),vc.name()],[Fc()]:["execute-on-form"],[fi()]:["reflecting","execute-on-form"]},behaviours:ct([qt.config({mode:"cyclic",onEscape:De=>(Gn(De,Pv),E.some(!0)),useTabstopAt:De=>!jv(De)&&(Xa(De)!=="button"||ks(De,"disabled")!=="disabled"),firstTabstop:1}),An.config({channel:`${Uv}-${p}`,updateState:R,initialData:t}),on.config({}),Cn("execute-on-form",ue.concat([Su(oa(),(De,rt)=>{qt.focusIn(De)}),Pe(n1(),(De,rt)=>{De.getSystem().broadcastOn([Wv],{newFocus:rt.event.newFocus})})])),Xu.config({getRoot:()=>E.some(he)}),vn.config({}),qC({})]),components:[P.asSpec(),L.asSpec(),...ye.map(De=>De.asSpec()).toArray()]}),et=()=>{iu(he,T.get())},Ne=mT({getId:Y(p),getRoot:Y(he),getFooter:()=>ye.map(De=>De.get(he)),getBody:()=>L.get(he),getFormWrapper:()=>{const De=L.get(he);return Zn.getCurrent(De).getOr(De)},toggleFullscreen:et},s.redial,te);return{dialog:he,instanceApi:Ne}};var L7=tinymce.util.Tools.resolve("tinymce.util.URI");const JG=t=>{const s=h=>{t.getSystem().isConnected()&&h(t)};return{block:h=>{if(!Me(h))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(w=>{Zt(w,mz,{message:h})})},unblock:()=>{s(h=>{Gn(h,pz)})},close:()=>{s(h=>{Gn(h,Pv)})},sendMessage:h=>{s(w=>{w.getSystem().broadcastOn([Wz],h)})}}},QG=["insertContent","setContent","execCommand","close","block","unblock"],Xq=t=>Ge(t)&&QG.indexOf(t.mceAction)!==-1,eK=t=>!Xq(t)&&Ge(t)&&ho(t,"mceAction"),tK=(t,s,a)=>{switch(a.mceAction){case"insertContent":t.insertContent(a.content);break;case"setContent":t.setContent(a.content);break;case"execCommand":const i=On(a.ui)?a.ui:!1;t.execCommand(a.cmd,i,a.value);break;case"close":s.close();break;case"block":s.block(a.message);break;case"unblock":s.unblock();break}},nK=(t,s,a,i)=>{const d=Ot("dialog"),p=ft(t.title,d,i),h=c0(t),w=t.buttons.bind(he=>he.length===0?E.none():E.some(lu({buttons:he},d,i))),_=SZ(()=>ae,jt(()=>ue,i.shared.providers,s)),T={...t.height.fold(()=>({}),he=>({height:he+"px","max-height":he+"px"})),...t.width.fold(()=>({}),he=>({width:he+"px","max-width":he+"px"}))},A=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],R=new L7(t.url,{base_uri:new L7(window.location.href)}),P=`${R.protocol}://${R.host}${R.port?":"+R.port:""}`,L=$d(),q=(he,et)=>E.some(et),te=[An.config({channel:`${Uv}-${d}`,updateState:q,initialData:t}),Cn("messages",[jo(()=>{const he=ja(me.fromDom(window),"message",et=>{if(R.isSameOrigin(new L7(et.raw.origin))){const Ne=et.raw.data;Xq(Ne)?tK(a,ae,Ne):eK(Ne)&&t.onMessage(ae,Ne)}});L.set(he)}),Tu(L.clear)]),vc.config({channels:{[Wz]:{onReceive:(he,et)=>{Ks(he.element,"iframe").each(Ne=>{const De=Ne.dom.contentWindow;Tn(De)&&De.postMessage(et,P)})}}}})],ue=GA({id:d,header:p,body:h,footer:w,extraClasses:A,extraBehaviours:te,extraStyles:T},_,i),ae=JG(ue);return{dialog:ue,instanceApi:ae}},oK=t=>{const s=t.shared;return{open:(i,d)=>{const p=()=>{sr.hide(T),d()},h=To(aS({name:"close-alert",text:"OK",primary:!0,buttonType:E.some("primary"),align:"end",enabled:!0,icon:E.none()},"cancel",t)),w=D_(),_=dT(p,s.providers),T=va(R_({lazySink:()=>s.getSink(),header:_m(w,_),body:Ga(i,s.providers),footer:E.some(yh(qA([],[h.asSpec()]))),onEscape:p,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Pe(nh,p)],eventOrder:{}}));sr.show(T);const A=h.get(T);on.focus(A)}}},sK=t=>{const s=t.shared;return{open:(i,d)=>{const p=P=>{sr.hide(A),d(P)},h=To(aS({name:"yes",text:"Yes",primary:!0,buttonType:E.some("primary"),align:"end",enabled:!0,icon:E.none()},"submit",t)),w=aS({name:"no",text:"No",primary:!1,buttonType:E.some("secondary"),align:"end",enabled:!0,icon:E.none()},"cancel",t),_=D_(),T=dT(()=>p(!1),s.providers),A=va(R_({lazySink:()=>s.getSink(),header:_m(_,T),body:Ga(i,s.providers),footer:E.some(yh(qA([],[w,h.asSpec()]))),onEscape:()=>p(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Pe(nh,()=>p(!1)),Pe(Fk,()=>p(!0))],eventOrder:{}}));sr.show(A);const R=h.get(A);on.focus(R)}}},Jq=(t,s)=>Mo(hs("data",s,t)),Qq=t=>Nk(t,".tox-alert-dialog")||Nk(t,".tox-confirm-dialog"),rK=(t,s,a)=>s&&a?[]:[Cs.config({contextual:{lazyContext:()=>E.some(Ms(me.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:i=>th(t,i.element).map(p=>({bounds:Nv(p),optScrollEnv:E.some({currentScrollTop:p.element.dom.scrollTop,scrollElmTop:Ja(p.element).top})})).getOrThunk(()=>({bounds:Wr(),optScrollEnv:E.none()}))})],aK=t=>{const s=t.editor,a=vk(s),i=oK(t.backstages.dialog),d=sK(t.backstages.dialog),p=(q,te,ye)=>{if(!_n(te)){if(te.inline==="toolbar")return T(q,t.backstages.popup.shared.anchors.inlineDialog(),ye,te);if(te.inline==="bottom")return A(q,t.backstages.popup.shared.anchors.inlineBottomDialog(),ye,te);if(te.inline==="cursor")return T(q,t.backstages.popup.shared.anchors.cursor(),ye,te)}return _(q,ye)},h=(q,te)=>w(q,te),w=(q,te)=>{const ye=ue=>{const ae=nK(ue,{closeWindow:()=>{sr.hide(ae.dialog),te(ae.instanceApi)}},s,t.backstages.dialog);return sr.show(ae.dialog),ae.instanceApi};return zn.openUrl(ye,q)},_=(q,te)=>{const ye=(ue,ae,he)=>{const et=ae,De=TZ({dataValidator:he,initialData:et,internalDialog:ue},{redial:zn.redial,closeWindow:()=>{sr.hide(De.dialog),te(De.instanceApi)}},t.backstages.dialog);return sr.show(De.dialog),De.instanceApi.setData(et),De.instanceApi};return zn.open(ye,q)},T=(q,te,ye,ue)=>{const ae=(he,et,Ne)=>{const De=Jq(et,Ne),rt=Fn(),pt=t.backstages.popup.shared.header.isPositionedAtTop(),Sn={dataValidator:Ne,initialData:De,internalDialog:he},At=()=>rt.on(Xt=>{Os.reposition(Xt),(!a||!pt)&&Cs.refresh(Xt)}),ln=XA(Sn,{redial:zn.redial,closeWindow:()=>{rt.on(Os.hide),s.off("ResizeEditor",At),rt.clear(),ye(ln.instanceApi)}},t.backstages.popup,ue.ariaAttrs,At),sn=va(Os.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:ue.persistent?{event:"doNotDismissYet"}:{},...pt?{}:{fireRepositionEventInstead:{}},inlineBehaviours:ct([Cn("window-manager-inline-events",[Pe(Nf(),(Xt,so)=>{Gn(ln.dialog,nh)})]),...rK(s,a,pt)]),isExtraPart:(Xt,so)=>Qq(so)}));rt.set(sn);const Co=()=>{const Xt=s.inline?fr():me.fromDom(s.getContainer()),so=Ms(Xt);return E.some(so)};return Os.showWithinBounds(sn,pi(ln.dialog),{anchor:te},Co),(!a||!pt)&&(Cs.refresh(sn),s.on("ResizeEditor",At)),ln.instanceApi.setData(De),qt.focusIn(ln.dialog),ln.instanceApi};return zn.open(ae,q)},A=(q,te,ye,ue)=>{const ae=(he,et,Ne)=>{const De=Jq(et,Ne),rt=Fn(),pt=t.backstages.popup.shared.header.isPositionedAtTop(),Sn={dataValidator:Ne,initialData:De,internalDialog:he},At=()=>rt.on(Xt=>{Os.reposition(Xt),Cs.refresh(Xt)}),ln=XA(Sn,{redial:zn.redial,closeWindow:()=>{rt.on(Os.hide),s.off("ResizeEditor ScrollWindow ElementScroll",At),rt.clear(),ye(ln.instanceApi)}},t.backstages.popup,ue.ariaAttrs,At),sn=va(Os.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:ue.persistent?{event:"doNotDismissYet"}:{},...pt?{}:{fireRepositionEventInstead:{}},inlineBehaviours:ct([Cn("window-manager-inline-events",[Pe(Nf(),(Xt,so)=>{Gn(ln.dialog,nh)})]),Cs.config({contextual:{lazyContext:()=>E.some(Ms(me.fromDom(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:Xt=>th(s,Xt.element).map(gt=>({bounds:Nv(gt),optScrollEnv:E.some({currentScrollTop:gt.element.dom.scrollTop,scrollElmTop:Ja(gt.element).top})})).getOrThunk(()=>({bounds:Wr(),optScrollEnv:E.none()}))})]),isExtraPart:(Xt,so)=>Qq(so)}));rt.set(sn);const Co=()=>t.backstages.popup.shared.getSink().toOptional().bind(Xt=>{const so=th(s,Xt.element),gt=15,Nt=so.map(Jt=>Nv(Jt)).getOr(Wr()),un=Ms(me.fromDom(s.getContentAreaContainer())),pn=Nh(un,Nt);return E.some(gs(pn.x,pn.y,pn.width,pn.height-gt))});return Os.showWithinBounds(sn,pi(ln.dialog),{anchor:te},Co),Cs.refresh(sn),s.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",At),ln.instanceApi.setData(De),qt.focusIn(ln.dialog),ln.instanceApi};return zn.open(ae,q)};return{open:p,openUrl:h,alert:(q,te)=>{i.open(q,te)},close:q=>{q.close()},confirm:(q,te)=>{d.open(q,te)}}},cK=t=>{CD(t),DI(t),AA(t)};var iK=()=>{hd.add("silver",t=>{cK(t);let s=()=>Wr();const{dialogs:a,popups:i,renderUI:d}=qW(t,{getPopupSinkBounds:()=>s()}),p=()=>{const _=d();return th(t,i.getMothership().element).each(A=>{s=()=>Nv(A)}),_};kF.register(t,i.backstage.shared);const h=aK({editor:t,backstages:{popup:i.backstage,dialog:a.backstage}}),w=()=>V4(t,{backstage:i.backstage},i.getMothership());return{renderUI:p,getWindowManagerImpl:Y(h),getNotificationManagerImpl:w}})};iK()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){var F=tinymce.util.Tools.resolve("tinymce.PluginManager");const V=tt=>Ve=>tt===Ve,j=V(null),re=V(void 0),se=tt=>tt==null,pe=tt=>!se(tt),ze=()=>{},Ge=(tt=>()=>tt)(!1);class Fe{constructor(Ve,Ie){this.tag=Ve,this.value=Ie}static some(Ve){return new Fe(!0,Ve)}static none(){return Fe.singletonNone}fold(Ve,Ie){return this.tag?Ie(this.value):Ve()}isSome(){return this.tag}isNone(){return!this.tag}map(Ve){return this.tag?Fe.some(Ve(this.value)):Fe.none()}bind(Ve){return this.tag?Ve(this.value):Fe.none()}exists(Ve){return this.tag&&Ve(this.value)}forall(Ve){return!this.tag||Ve(this.value)}filter(Ve){return!this.tag||Ve(this.value)?this:Fe.none()}getOr(Ve){return this.tag?this.value:Ve}or(Ve){return this.tag?this:Ve}getOrThunk(Ve){return this.tag?this.value:Ve()}orThunk(Ve){return this.tag?this:Ve()}getOrDie(Ve){if(this.tag)return this.value;throw new Error(Ve??"Called getOrDie on None")}static from(Ve){return pe(Ve)?Fe.some(Ve):Fe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ve){this.tag&&Ve(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Fe.singletonNone=new Fe(!1);const Ze=(tt,Ve)=>{for(let Ie=0,Mn=tt.length;Ie<Mn;Ie++){const nn=tt[Ie];if(Ve(nn,Ie))return!0}return!1},ht=(tt,Ve)=>{const Ie=tt.length,Mn=new Array(Ie);for(let nn=0;nn<Ie;nn++){const is=tt[nn];Mn[nn]=Ve(is,nn)}return Mn},On=(tt,Ve)=>{for(let Ie=0,Mn=tt.length;Ie<Mn;Ie++){const nn=tt[Ie];Ve(nn,Ie)}},_n=tt=>{let Ve=tt;return{get:()=>Ve,set:nn=>{Ve=nn}}},io=(tt,Ve)=>{let Ie=null;const Mn=()=>{j(Ie)||(clearTimeout(Ie),Ie=null)};return{cancel:Mn,throttle:(...is)=>{Mn(),Ie=setTimeout(()=>{Ie=null,tt.apply(null,is)},Ve)}}},Tn=(tt,Ve)=>{tt.insertContent(Ve)},it=Object.keys,zo=Object.hasOwnProperty,Ao=(tt,Ve)=>{const Ie=it(tt);for(let Mn=0,nn=Ie.length;Mn<nn;Mn++){const is=Ie[Mn],go=tt[is];Ve(go,is)}},oe=(tt,Ve)=>Ut(tt,(Ie,Mn)=>({k:Mn,v:Ve(Ie,Mn)})),Ut=(tt,Ve)=>{const Ie={};return Ao(tt,(Mn,nn)=>{const is=Ve(Mn,nn);Ie[is.k]=is.v}),Ie},St=(tt,Ve)=>zo.call(tt,Ve),tn=(tt=>(...Ve)=>{if(Ve.length===0)throw new Error("Can't merge zero objects");const Ie={};for(let Mn=0;Mn<Ve.length;Mn++){const nn=Ve[Mn];for(const is in nn)St(nn,is)&&(Ie[is]=tt(Ie[is],nn[is]))}return Ie})((tt,Ve)=>Ve),$n=tt=>{const Ve=_n(Fe.none()),Ie=()=>Ve.get().each(tt);return{clear:()=>{Ie(),Ve.set(Fe.none())},isSet:()=>Ve.get().isSome(),get:()=>Ve.get(),set:Rs=>{Ie(),Ve.set(Fe.some(Rs))}}},yn=()=>{const tt=$n(ze);return{...tt,on:Ie=>tt.get().each(Ie)}},Re=(tt,Ve,Ie)=>Ve===""||tt.length>=Ve.length&&tt.substr(Ie,Ie+Ve.length)===Ve,ce=(tt,Ve,Ie=0,Mn)=>{const nn=tt.indexOf(Ve,Ie);return nn!==-1?re(Mn)?!0:nn+Ve.length<=Mn:!1},Qo=(tt,Ve)=>Re(tt,Ve,0);var Nn=tinymce.util.Tools.resolve("tinymce.Resource");const Et="tinymce.plugins.emoticons",E=tt=>Ve=>Ve.options.get(tt),lo=(tt,Ve)=>{const Ie=tt.options.register;Ie("emoticons_database",{processor:"string",default:"emojis"}),Ie("emoticons_database_url",{processor:"string",default:`${Ve}/js/${Ye(tt)}${tt.suffix}.js`}),Ie("emoticons_database_id",{processor:"string",default:Et}),Ie("emoticons_append",{processor:"object",default:{}}),Ie("emoticons_images_url",{processor:"string",default:"https://twemoji.maxcdn.com/v/13.0.1/72x72/"})},Ye=E("emoticons_database"),wo=E("emoticons_database_url"),Yt=E("emoticons_database_id"),Ue=E("emoticons_append"),Po=E("emoticons_images_url"),Ps="All",Xn={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},Vs=(tt,Ve)=>St(tt,Ve)?tt[Ve]:Ve,He=tt=>{const Ve=Ue(tt);return oe(Ve,Ie=>({keywords:[],category:"user",...Ie}))},ut=(tt,Ve,Ie)=>{const Mn=yn(),nn=yn(),is=Po(tt),go=_o=>Qo(_o.char,"<img")?_o.char.replace(/src="([^"]+)"/,(Jn,Ya)=>`src="${is}${Ya}"`):_o.char,Rs=_o=>{const Jn={},Ya=[];Ao(_o,(In,fs)=>{const js={title:fs,keywords:In.keywords,char:go(In),category:Vs(Xn,In.category)},Jc=Jn[js.category]!==void 0?Jn[js.category]:[];Jn[js.category]=Jc.concat([js]),Ya.push(js)}),Mn.set(Jn),nn.set(Ya)};tt.on("init",()=>{Nn.load(Ie,Ve).then(_o=>{const Jn=He(tt);Rs(tn(_o,Jn))},_o=>{console.log(`Failed to load emojis: ${_o}`),Mn.set({}),nn.set([])})});const Xc=_o=>_o===Ps?cs():Mn.get().bind(Jn=>Fe.from(Jn[_o])).getOr([]),cs=()=>nn.get().getOr([]),es=()=>[Ps].concat(it(Mn.get().getOr({}))),ko=()=>Xr()?Promise.resolve(!0):new Promise((_o,Jn)=>{let Ya=15;const In=setInterval(()=>{Xr()?(clearInterval(In),_o(!0)):(Ya--,Ya<0&&(console.log("Could not load emojis from url: "+Ve),clearInterval(In),Jn(!1)))},100)}),Xr=()=>Mn.isSet()&&nn.isSet();return{listCategories:es,hasLoaded:Xr,waitForLoad:ko,listAll:cs,listCategory:Xc}},I=(tt,Ve)=>ce(tt.title.toLowerCase(),Ve)||Ze(tt.keywords,Ie=>ce(Ie.toLowerCase(),Ve)),Ka=(tt,Ve,Ie)=>{const Mn=[],nn=Ve.toLowerCase(),is=Ie.fold(()=>Ge,go=>Rs=>Rs>=go);for(let go=0;go<tt.length&&!((Ve.length===0||I(tt[go],nn))&&(Mn.push({value:tt[go].char,text:tt[go].title,icon:tt[go].char}),is(Mn.length)));go++);return Mn},Hn="pattern",ot=(tt,Ve)=>{const Ie={pattern:"",results:Ka(Ve.listAll(),"",Fe.some(300))},Mn=_n(Ps),nn=es=>{const ko=es.getData(),Xr=Mn.get(),_o=Ve.listCategory(Xr),Jn=Ka(_o,ko[Hn],Xr===Ps?Fe.some(300):Fe.none());es.setData({results:Jn})},is=io(es=>{nn(es)},200),go={label:"Search",type:"input",name:Hn},Rs={type:"collection",name:"results"},Xc=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:ht(Ve.listCategories(),ko=>({title:ko,name:ko,items:[go,Rs]}))},initialData:Ie,onTabChange:(ko,Xr)=>{Mn.set(Xr.newTabName),is.throttle(ko)},onChange:is.throttle,onAction:(ko,Xr)=>{Xr.name==="results"&&(Tn(tt,Xr.value),ko.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),cs=tt.windowManager.open(Xc());cs.focus(Hn),Ve.hasLoaded()||(cs.block("Loading emojis..."),Ve.waitForLoad().then(()=>{cs.redial(Xc()),is.throttle(cs),cs.focus(Hn),cs.unblock()}).catch(es=>{cs.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),cs.focus(Hn),cs.unblock()}))},Qe=(tt,Ve)=>{tt.addCommand("mceEmoticons",()=>ot(tt,Ve))},dn=tt=>{tt.on("PreInit",()=>{tt.parser.addAttributeFilter("data-emoticon",Ve=>{On(Ve,Ie=>{Ie.attr("data-mce-resize","false"),Ie.attr("data-mce-placeholder","1")})})})},Ke=(tt,Ve)=>{tt.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(Ie,Mn)=>Ve.waitForLoad().then(()=>{const nn=Ve.listAll();return Ka(nn,Ie,Fe.some(Mn))}),onAction:(Ie,Mn,nn)=>{tt.selection.setRng(Mn),tt.insertContent(nn),Ie.hide()}})},hn=tt=>Ve=>{const Ie=()=>{Ve.setEnabled(tt.selection.isEditable())};return tt.on("NodeChange",Ie),Ie(),()=>{tt.off("NodeChange",Ie)}},Pt=tt=>{const Ve=()=>tt.execCommand("mceEmoticons");tt.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:Ve,onSetup:hn(tt)}),tt.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:Ve,onSetup:hn(tt)})};var ve=()=>{F.add("emoticons",(tt,Ve)=>{lo(tt,Ve);const Ie=wo(tt),Mn=Yt(tt),nn=ut(tt,Ie,Mn);Qe(tt,nn),Pt(tt),Ke(tt,nn),dn(tt)})};ve()})();window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"😀",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"😬",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"😁",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"😂",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"🤣",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"🥳",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"😃",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"😄",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"😅",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"😆",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"😇",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"😉",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"😊",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"🙂",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"🙃",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"☺️",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"😋",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"😌",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"😍",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"🥰",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😘",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"😗",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"😙",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😚",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"😜",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"🤪",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"🤨",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"🧐",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"😝",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"😛",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"🤑",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"🤓",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"😎",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"🤩",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"🤡",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"🤠",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"🤗",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"😏",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"😶",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"😐",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"😑",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"😒",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"🙄",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"🤔",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"🤥",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"🤭",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"🤫",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"🤬",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"🤯",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"😳",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"😞",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"😟",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"😠",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"😡",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"😔",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"😕",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"🙁",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"☹",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"😣",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"😖",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"😫",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"😩",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"🥺",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"😤",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"😮",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"😱",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"😨",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"😰",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"😯",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"😦",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"😧",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"😢",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"😥",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"🤤",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"😪",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"😓",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"🥵",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"🥶",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"😭",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"😵",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"😲",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"🤐",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"🤢",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"🤧",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"🤮",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"😷",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"🤒",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"🤕",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"🥴",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"😴",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"💤",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"💩",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"😈",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"👿",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"👹",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"👺",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"💀",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"👻",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"👽",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"🤖",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"😺",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"😸",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"😹",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"😻",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"😼",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"😽",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"🙀",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"😿",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"😾",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"🤲",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"🙌",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"👏",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"👋",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"🤙",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"👍",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"👎",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"👊",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"✊",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"🤛",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"🤜",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"✌",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"👌",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"✋",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"🤚",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"👐",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"💪",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"🙏",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"🦶",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"🦵",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"🤝",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"☝",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"👆",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"👇",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"👈",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"👉",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"🖕",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"🖐",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"🤟",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"🤘",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"🤞",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"🖖",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"✍",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"🤳",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"💅",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"👄",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"🦷",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"👅",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"👂",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"👃",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"👁",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"👀",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"🧠",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"👤",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"👥",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"🗣",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"👶",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"🧒",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"👦",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"👧",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"🧑",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"👨",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"👩",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"👱‍♀️",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"👱",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"🧔",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"🧓",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"👴",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"👵",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"👲",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"🧕",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"👳‍♀️",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"👳",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"👮‍♀️",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"👮",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"👷‍♀️",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"👷",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"💂‍♀️",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"💂",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"🕵️‍♀️",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"🕵",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"👩‍⚕️",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"👨‍⚕️",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"👩‍🌾",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"👨‍🌾",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"👩‍🍳",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"👨‍🍳",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"👩‍🎓",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"👨‍🎓",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"👩‍🎤",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"👨‍🎤",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"👩‍🏫",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"👨‍🏫",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"👩‍🏭",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"👨‍🏭",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"👩‍💻",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"👨‍💻",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"👩‍💼",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"👨‍💼",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"👩‍🔧",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"👨‍🔧",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"👩‍🔬",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"👨‍🔬",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"👩‍🎨",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"👨‍🎨",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"👩‍🚒",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"👨‍🚒",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"👩‍✈️",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"👨‍✈️",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"👩‍🚀",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"👨‍🚀",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"👩‍⚖️",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"👨‍⚖️",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"🦸‍♀️",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"🦸‍♂️",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"🦹‍♀️",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"🦹‍♂️",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"🤶",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"🎅",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"🧙‍♀️",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"🧙‍♂️",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"🧝‍♀️",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"🧝‍♂️",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"🧛‍♀️",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"🧛‍♂️",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"🧟‍♀️",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"🧟‍♂️",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"🧞‍♀️",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"🧞‍♂️",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"🧜‍♀️",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"🧜‍♂️",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"🧚‍♀️",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"🧚‍♂️",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"👼",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"🤰",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"🤱",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"👸",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"🤴",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"👰",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"🤵",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"🏃‍♀️",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"🏃",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"🚶‍♀️",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"🚶",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"💃",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"🕺",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"👯",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"👯‍♂️",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"👫",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"👬",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"👭",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"🙇‍♀️",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"🙇",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"🤦‍♂️",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"🤦‍♀️",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"🤷",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"🤷‍♂️",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"💁",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"💁‍♂️",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"🙅",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"🙅‍♂️",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"🙆",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"🙆‍♂️",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"🙋",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"🙋‍♂️",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"🙎",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"🙎‍♂️",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"🙍",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"🙍‍♂️",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"💇",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"💇‍♂️",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"💆",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"💆‍♂️",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"🧖‍♀️",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"🧖‍♂️",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"💑",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👩‍❤️‍👩",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👨‍❤️‍👨",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"💏",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👩‍❤️‍💋‍👩",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👨‍❤️‍💋‍👨",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"👪",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"👨‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"🧶",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"🧵",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"🧥",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"🥼",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"👚",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"👕",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"👖",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"👔",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"👗",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"👙",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"👘",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"💄",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"💋",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"👣",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"🥿",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"👠",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"👡",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"👢",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"👞",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"👟",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"🥾",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"🧦",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"🧤",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"🧣",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"👒",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"🎩",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"🧢",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"⛑",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"🎓",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"👑",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"🎒",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"🧳",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"👝",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"👛",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"👜",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"💼",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"👓",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"🕶",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"🥽",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"💍",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"🌂",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"🐶",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"🐱",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"🐭",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"🐹",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"🐰",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"🦊",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"🐻",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"🐼",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"🐨",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"🐯",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"🦁",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐮",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"🐷",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"🐽",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"🐸",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"🦑",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"🐙",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"🦐",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"🐵",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"🦍",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"🙈",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"🙉",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"🙊",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"🐒",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"🐔",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"🐧",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"🐦",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"🐤",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"🐣",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"🐥",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"🦆",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"🦅",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"🦉",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"🦇",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"🐺",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"🐗",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"🐴",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"🦄",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"🐝",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"🐛",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"🦋",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"🐌",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"🐞",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"🐜",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"🦗",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"🕷",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"🦂",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"🦀",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"🐍",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"🦎",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"🦖",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"🦕",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"🐢",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"🐠",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"🐟",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"🐡",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"🐬",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"🦈",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"🐳",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"🐋",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"🐊",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"🐆",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"🦓",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"🐅",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"🐃",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"🐂",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐄",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"🦌",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"🐪",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"🐫",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"🦒",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"🐘",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"🦏",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"🐐",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"🐏",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"🐑",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"🐎",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"🐖",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"🐀",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"🐁",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"🐓",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"🦃",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"🕊",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"🐕",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"🐩",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"🐈",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"🐇",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"🐿",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"🦔",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"🦝",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"🦙",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"🦛",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"🦘",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"🦡",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"🦢",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"🦚",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"🦜",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"🦞",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"🦟",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"🐾",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"🐉",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"🐲",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"🌵",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"🎄",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"🌲",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"🌳",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"🌴",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"🌱",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"🌿",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"☘",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"🍀",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"🎍",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"🎋",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"🍃",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"🍂",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"🍁",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"🌾",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"🌺",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"🌻",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"🌹",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"🥀",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"🌷",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"🌼",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"🌸",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"💐",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"🍄",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"🌰",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"🎃",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"🐚",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"🕸",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"🌎",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"🌍",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"🌏",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"🌕",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"🌖",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌗",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌘",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌑",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌒",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌓",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"🌔",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌚",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌝",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌛",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌜",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"🌞",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"🌙",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"⭐",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"🌟",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"💫",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"✨",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"☄",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"☀️",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"🌤",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"⛅",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"🌥",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"🌦",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"☁️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"🌧",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"⛈",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"🌩",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"⚡",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"🔥",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"💥",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"❄️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"🌨",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"⛄",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"☃",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"🌬",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"💨",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"🌪",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"🌫",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"☂",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"☔",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"💧",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"💦",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"🌊",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"🍏",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"🍎",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"🍐",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"🍊",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"🍋",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"🍌",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"🍉",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"🍇",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"🍓",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"🍈",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"🍒",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"🍑",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"🍍",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"🥥",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"🥝",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"🥭",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"🥑",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"🥦",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"🍅",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"🍆",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"🥒",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"🥕",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"🌶",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"🥔",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"🌽",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"🥬",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"🍠",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"🥜",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"🍯",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"🥐",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"🍞",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"🥖",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"🥯",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"🥨",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"🧀",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"🥚",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"🥓",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"🥩",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"🥞",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"🍗",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"🍖",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"🦴",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"🍤",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"🍳",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"🍔",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"🍟",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"🥙",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"🌭",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"🍕",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"🥪",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"🥫",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"🍝",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"🌮",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"🌯",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"🥗",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"🥘",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"🍜",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"🍲",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"🍥",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"🥠",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"🍣",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"🍱",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"🍛",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"🍙",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"🍚",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"🍘",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"🍢",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"🍡",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"🍧",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"🍨",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"🍦",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"🥧",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"🍰",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"🧁",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"🥮",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"🎂",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"🍮",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"🍬",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"🍭",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"🍫",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"🍿",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"🥟",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"🍩",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"🍪",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"🥛",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍺",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍻",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"🥂",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"🍷",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"🥃",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"🍸",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"🍹",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"🍾",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"🍶",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"🍵",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"🥤",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"☕",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"🍼",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"🧂",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"🥄",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"🍴",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"🍽",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"🥣",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"🥡",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"🥢",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"⚽",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"🏀",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"🏈",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"⚾",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"🥎",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"🎾",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"🏐",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"🏉",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"🥏",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"🎱",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"⛳",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"🏌️‍♀️",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"🏌",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"🏓",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"🏸",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"🥅",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"🏒",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"🏑",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"🥍",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"🏏",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"🎿",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"⛷",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"🏂",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"🤺",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♀️",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♂️",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♀️",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"🤾‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"🤾‍♂️",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"⛸",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"🥌",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"🛹",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"🛷",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"🏹",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"🎣",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"🥊",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"🥋",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"🚣‍♀️",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"🚣",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"🧗‍♀️",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"🧗‍♂️",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"🏊‍♀️",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"🏊",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♀️",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♂️",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"🏄‍♀️",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"🏄",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"🛀",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"⛹️‍♀️",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"⛹",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"🏋️‍♀️",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"🏋",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"🚴‍♀️",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"🚴",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"🚵‍♀️",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"🚵",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"🏇",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"🕴",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"🏆",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"🎽",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"🏅",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"🎖",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"🥇",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"🥈",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"🥉",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"🎗",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"🏵",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"🎫",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"🎟",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"🎭",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"🎨",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"🎪",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♀️",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♂️",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"🎤",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"🎧",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"🎼",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"🎹",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"🥁",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"🎷",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"🎺",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"🎸",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"🎻",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"🎬",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"🎮",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"👾",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"🎯",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"🎲",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"♟",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"🎰",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"🧩",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"🎳",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"🚗",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"🚕",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"🚙",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"🚌",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"🚎",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"🏎",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"🚓",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"🚑",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"🚒",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"🚐",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"🚚",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"🚛",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"🚜",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"🛴",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"🏍",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"🚲",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"🛵",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"🚨",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"🚔",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"🚍",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"🚘",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"🚖",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"🚡",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"🚠",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"🚟",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"🚃",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"🚋",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"🚝",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"🚄",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"🚅",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"🚈",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"🚞",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"🚂",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"🚆",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"🚇",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"🚊",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"🚉",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"🛸",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"🚁",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"🛩",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"✈️",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"🛫",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"🛬",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"⛵",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"🛥",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"🚤",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"⛴",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"🛳",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"🚀",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"🛰",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"💺",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"🛶",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"⚓",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"🚧",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"⛽",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"🚏",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"🚦",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"🚥",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"🏁",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"🚢",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"🎡",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"🎢",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"🎠",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"🏗",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"🌁",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"🗼",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"🏭",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"⛲",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"🎑",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"⛰",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"🏔",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"🗻",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"🌋",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"🗾",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"🏕",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"⛺",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"🏞",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"🛣",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"🛤",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"🌅",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"🌄",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"🏜",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"🏖",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"🏝",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"🌇",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"🌆",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"🏙",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"🌃",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"🌉",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"🌌",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"🌠",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"🎇",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"🎆",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"🌈",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"🏘",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"🏰",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"🏯",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"🏟",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"🗽",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"🏠",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"🏡",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"🏚",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"🏢",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"🏬",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"🏣",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"🏤",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"🏥",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"🏦",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"🏨",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"🏪",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"🏫",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"🏩",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"💒",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"🏛",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"⛪",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"🕌",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"🕍",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"🕋",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"⛩",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"⌚",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"📱",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"📲",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"💻",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"⌨",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"🖥",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"🖨",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"🖱",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"🖲",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"🕹",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"🗜",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"💽",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"💾",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"💿",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"📀",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"📼",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"📷",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"📸",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"📹",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"🎥",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"📽",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"🎞",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"📞",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"☎️",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"📟",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"📠",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"📺",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"📻",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"🎙",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"🎚",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"🎛",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"🧭",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"⏱",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"⏲",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"⏰",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"🕰",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"⏳",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"⌛",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"📡",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"🔋",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"🔌",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"💡",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"🔦",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"🕯",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"🧯",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"🗑",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"🛢",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"💸",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"💵",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"💴",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"💶",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"💷",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"💰",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"💳",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"💎",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"⚖",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"🧰",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"🔧",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"🔨",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"⚒",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"🛠",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"⛏",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"🔩",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"⚙",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"🧱",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"⛓",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"🧲",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"🔫",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"💣",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"🧨",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"🔪",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"🗡",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"⚔",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"🛡",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"🚬",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"☠",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"⚰",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"⚱",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"🏺",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"🔮",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"📿",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"🧿",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"💈",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"⚗",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"🔭",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"🔬",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"🕳",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"💊",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"💉",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"🧬",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"🦠",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"🧫",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"🧪",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"🌡",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"🧹",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"🧺",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"🧻",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"🏷",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"🔖",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"🚽",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"🚿",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"🛁",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"🧼",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"🧽",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"🧴",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"🔑",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"🗝",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"🛋",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"🛌",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"🛏",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"🚪",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"🛎",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"🧸",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"🖼",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"🗺",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"⛱",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"🗿",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"🛍",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"🛒",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"🎈",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"🎏",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"🎀",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"🎁",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"🎊",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"🎉",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"🎎",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"🎐",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"🎌",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"🏮",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"🧧",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"✉️",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"📩",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"📨",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"📧",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"💌",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"📮",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"📪",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"📫",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"📬",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"📭",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"📦",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"📯",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"📥",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"📤",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"📜",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"📃",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"📑",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"🧾",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"📊",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"📈",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"📉",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"📄",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"📅",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"📆",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"🗓",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"📇",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"🗃",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"🗳",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"🗄",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"📋",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"🗒",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"📁",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"📂",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"🗂",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"🗞",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"📰",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"📓",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"📕",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"📗",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"📘",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"📙",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"📔",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"📒",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"📚",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"📖",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"🧷",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"🔗",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"📎",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"🖇",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"✂️",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"📐",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"📏",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"🧮",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"📌",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"📍",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"🚩",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"🏳",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"🏴",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"🏳️‍🌈",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"🔐",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"🔒",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"🔓",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"🔏",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"🖊",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"🖋",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"✒️",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"📝",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"✏️",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"🖍",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"🖌",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"🔍",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"🔎",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"❤️",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"🧡",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"💛",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"💚",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"💙",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"💜",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"🖤",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"💔",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"❣",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"💕",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"💞",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"💓",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"💗",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"💖",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"💘",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"💝",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"💟",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"☮",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"✝",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"☪",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"🕉",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"☸",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"✡",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"🔯",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"🕎",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"☯",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"☦",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"🛐",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"⛎",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"♈",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"♉",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"♊",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"♋",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"♌",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"♍",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"♎",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"♏",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"♐",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"♑",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"♒",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"♓",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"🆔",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"⚛",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"🈳",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"🈹",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"☢",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"☣",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"📴",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"📳",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"🈶",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"🈚",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"🈸",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"🈺",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"🈷️",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"✴️",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"🆚",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"🉑",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"💮",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"🉐",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"㊙️",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"㊗️",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"🈴",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"🈵",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"🈲",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"🅰️",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"🅱️",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"🆎",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"🆑",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"🅾️",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"🆘",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"⛔",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"📛",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"🚫",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"❌",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"⭕",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"🛑",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"💢",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"♨️",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"🚷",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"🚯",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"🚳",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"🚱",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"🔞",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"📵",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"❗",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"❕",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"❓",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"❔",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"‼️",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"⁉️",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"💯",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"🔅",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"🔆",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"🔱",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"⚜",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"〽️",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"⚠️",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"🚸",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"🔰",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"♻️",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"🈯",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"💹",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"❇️",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"✳️",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"❎",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"✅",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"💠",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"🌀",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"➿",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"🌐",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"Ⓜ️",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"🏧",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"🈂️",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"🛂",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"🛃",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"🛄",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"🛅",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"♿",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"🚭",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"🚾",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"🅿️",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"🚰",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"🚹",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"🚺",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"🚼",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"🚻",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"🚮",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"🎦",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"📶",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"🈁",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"🆖",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"🆗",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"🆙",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"🆒",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"🆕",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"🆓",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0️⃣",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1️⃣",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2️⃣",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3️⃣",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4️⃣",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5️⃣",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6️⃣",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7️⃣",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8️⃣",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9️⃣",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"🔟",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*⃣",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"🔢",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"⏏️",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"▶️",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"⏸",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"⏭",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"⏹",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"⏺",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"⏯",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"⏮",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"⏩",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"⏪",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"🔀",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"🔁",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"🔂",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"◀️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"🔼",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"🔽",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"⏫",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"⏬",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"➡️",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"⬅️",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"⬆️",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"⬇️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"↗️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"↘️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"↙️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"↖️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"↕️",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"↔️",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"🔄",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"↪️",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"↩️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"⤴️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"⤵️",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#️⃣",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"ℹ️",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"🔤",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"🔡",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"🔠",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"🔣",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"🎵",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"🎶",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"〰️",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"➰",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"✔️",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"🔃",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"➕",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"➖",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"➗",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"✖️",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"♾",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"💲",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"💱",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"©️",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"®️",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"™️",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"🔚",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"🔙",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"🔛",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"🔝",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"🔜",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"☑️",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"🔘",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"⚪",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"⚫",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"🔴",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"🔵",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔸",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔹",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔶",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔷",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"🔺",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"▪️",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"▫️",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"⬛",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"⬜",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"🔻",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"◼️",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"◻️",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"◾",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"◽",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"🔲",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"🔳",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"🔈",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"🔉",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"🔊",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"🔇",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"📣",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"📢",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"🔔",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"🔕",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"🃏",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"🀄",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"♠️",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"♣️",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"♥️",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"♦️",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"🎴",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"💭",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"🗯",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"💬",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"🗨",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"🕐",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"🕑",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"🕒",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"🕓",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"🕔",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"🕕",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"🕖",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"🕗",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"🕘",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"🕙",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"🕚",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"🕛",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"🕜",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"🕝",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"🕞",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"🕟",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"🕠",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"🕡",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"🕢",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"🕣",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"🕤",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"🕥",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"🕦",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"🕧",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"🇦🇫",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["Åland","islands","flag","nation","country","banner"],char:"🇦🇽",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"🇦🇱",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"🇩🇿",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"🇦🇸",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"🇦🇩",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"🇦🇴",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"🇦🇮",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"🇦🇶",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"🇦🇬",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"🇦🇷",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"🇦🇲",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"🇦🇼",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"🇦🇺",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"🇦🇹",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"🇦🇿",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"🇧🇸",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"🇧🇭",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"🇧🇩",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"🇧🇧",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"🇧🇾",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"🇧🇪",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"🇧🇿",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"🇧🇯",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"🇧🇲",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"🇧🇹",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"🇧🇴",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"🇧🇶",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"🇧🇦",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"🇧🇼",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"🇧🇷",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"🇮🇴",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"🇻🇬",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"🇧🇳",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"🇧🇬",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"🇧🇫",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"🇧🇮",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"🇨🇻",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"🇰🇭",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"🇨🇲",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"🇨🇦",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"🇮🇨",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"🇰🇾",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"🇨🇫",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"🇹🇩",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"🇨🇱",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"🇨🇳",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"🇨🇽",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"🇨🇨",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"🇨🇴",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"🇰🇲",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"🇨🇬",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"🇨🇩",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"🇨🇰",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"🇨🇷",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"🇭🇷",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"🇨🇺",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["curaçao","flag","nation","country","banner"],char:"🇨🇼",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"🇨🇾",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"🇨🇿",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"🇩🇰",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"🇩🇯",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"🇩🇲",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"🇩🇴",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"🇪🇨",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"🇪🇬",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"🇸🇻",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"🇬🇶",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"🇪🇷",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"🇪🇪",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"🇪🇹",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"🇪🇺",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"🇫🇰",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"🇫🇴",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"🇫🇯",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"🇫🇮",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"🇫🇷",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"🇬🇫",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"🇵🇫",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"🇹🇫",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"🇬🇦",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"🇬🇲",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"🇬🇪",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"🇩🇪",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"🇬🇭",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"🇬🇮",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"🇬🇷",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"🇬🇱",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"🇬🇩",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"🇬🇵",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"🇬🇺",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"🇬🇹",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"🇬🇬",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"🇬🇳",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"🇬🇼",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"🇬🇾",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"🇭🇹",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"🇭🇳",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"🇭🇰",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"🇭🇺",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"🇮🇸",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"🇮🇳",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"🇮🇩",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"🇮🇷",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"🇮🇶",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"🇮🇪",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"🇮🇲",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"🇮🇱",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"🇮🇹",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"🇨🇮",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"🇯🇲",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"🇯🇵",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"🇯🇪",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"🇯🇴",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"🇰🇿",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"🇰🇪",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"🇰🇮",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"🇽🇰",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"🇰🇼",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"🇰🇬",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"🇱🇦",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"🇱🇻",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"🇱🇧",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"🇱🇸",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"🇱🇷",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"🇱🇾",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"🇱🇮",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"🇱🇹",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"🇱🇺",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"🇲🇴",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"🇲🇰",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"🇲🇬",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"🇲🇼",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"🇲🇾",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"🇲🇻",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"🇲🇱",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"🇲🇹",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"🇲🇭",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"🇲🇶",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"🇲🇷",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"🇲🇺",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"🇾🇹",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"🇲🇽",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"🇫🇲",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"🇲🇩",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"🇲🇨",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"🇲🇳",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"🇲🇪",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"🇲🇸",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"🇲🇦",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"🇲🇿",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"🇲🇲",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"🇳🇦",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"🇳🇷",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"🇳🇵",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"🇳🇱",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"🇳🇨",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"🇳🇿",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"🇳🇮",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"🇳🇪",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"🇳🇬",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"🇳🇺",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"🇳🇫",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"🇲🇵",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"🇰🇵",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"🇳🇴",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"🇴🇲",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"🇵🇰",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"🇵🇼",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"🇵🇸",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"🇵🇦",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"🇵🇬",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"🇵🇾",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"🇵🇪",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"🇵🇭",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"🇵🇳",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"🇵🇱",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"🇵🇹",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"🇵🇷",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"🇶🇦",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["réunion","flag","nation","country","banner"],char:"🇷🇪",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"🇷🇴",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"🇷🇺",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"🇷🇼",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barthélemy","flag","nation","country","banner"],char:"🇧🇱",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"🇸🇭",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"🇰🇳",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"🇱🇨",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"🇵🇲",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"🇻🇨",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"🇼🇸",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"🇸🇲",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"🇸🇹",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"🇸🇦",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"🇸🇳",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"🇷🇸",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"🇸🇨",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"🇸🇱",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"🇸🇬",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"🇸🇽",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"🇸🇰",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"🇸🇮",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"🇸🇧",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"🇸🇴",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"🇿🇦",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"🇬🇸",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"🇰🇷",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"🇸🇸",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"🇪🇸",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"🇱🇰",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"🇸🇩",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"🇸🇷",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"🇸🇿",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"🇸🇪",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"🇨🇭",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"🇸🇾",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"🇹🇼",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"🇹🇯",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"🇹🇿",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"🇹🇭",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"🇹🇱",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"🇹🇬",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"🇹🇰",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"🇹🇴",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"🇹🇹",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"🇹🇳",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"🇹🇷",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"🇹🇲",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"🇹🇨",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"🇹🇻",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"🇺🇬",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"🇺🇦",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"🇦🇪",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"🇬🇧",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"🇺🇸",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"🇻🇮",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"🇺🇾",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"🇺🇿",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"🇻🇺",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"🇻🇦",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"🇻🇪",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"🇻🇳",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"🇼🇫",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"🇪🇭",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"🇾🇪",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"🇿🇲",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"🇿🇼",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"🇺🇳",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"🏴‍☠️",fitzpatrick_scale:!1,category:"flags"}});(function(){var F=tinymce.util.Tools.resolve("tinymce.PluginManager");const V=(k,S,$)=>{var W;return $(k,S.prototype)?!0:((W=k.constructor)===null||W===void 0?void 0:W.name)===S.name},j=k=>{const S=typeof k;return k===null?"null":S==="object"&&Array.isArray(k)?"array":S==="object"&&V(k,String,($,W)=>W.isPrototypeOf($))?"string":S},re=k=>S=>j(S)===k,se=k=>S=>typeof S===k,pe=k=>S=>k===S,ze=re("string"),Me=re("array"),Ge=se("boolean"),Fe=pe(void 0),Ze=k=>k==null,ht=k=>!Ze(k),On=se("function"),_n=se("number"),io=()=>{},Tn=(k,S)=>$=>k(S($)),it=k=>()=>k,zo=k=>k,Ao=(k,S)=>k===S;function oe(k,...S){return(...$)=>{const W=S.concat($);return k.apply(null,W)}}const Ut=k=>{k()},St=it(!1),Gt=it(!0);class Y{constructor(S,$){this.tag=S,this.value=$}static some(S){return new Y(!0,S)}static none(){return Y.singletonNone}fold(S,$){return this.tag?$(this.value):S()}isSome(){return this.tag}isNone(){return!this.tag}map(S){return this.tag?Y.some(S(this.value)):Y.none()}bind(S){return this.tag?S(this.value):Y.none()}exists(S){return this.tag&&S(this.value)}forall(S){return!this.tag||S(this.value)}filter(S){return!this.tag||S(this.value)?this:Y.none()}getOr(S){return this.tag?this.value:S}or(S){return this.tag?this:S}getOrThunk(S){return this.tag?this.value:S()}orThunk(S){return this.tag?this:S()}getOrDie(S){if(this.tag)return this.value;throw new Error(S??"Called getOrDie on None")}static from(S){return ht(S)?Y.some(S):Y.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(S){this.tag&&S(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Y.singletonNone=new Y(!1);const tn=Object.keys,$n=Object.hasOwnProperty,yn=(k,S)=>{const $=tn(k);for(let W=0,ie=$.length;W<ie;W++){const Oe=$[W],nt=k[Oe];S(nt,Oe)}},Re=k=>(S,$)=>{k[$]=S},ce=(k,S,$,W)=>{yn(k,(ie,Oe)=>{(S(ie,Oe)?$:W)(ie,Oe)})},Qo=(k,S)=>{const $={};return ce(k,S,Re($),io),$},Nn=(k,S)=>{const $=[];return yn(k,(W,ie)=>{$.push(S(W,ie))}),$},Et=k=>Nn(k,zo),E=k=>tn(k).length,lo=(k,S)=>Ye(k,S)?Y.from(k[S]):Y.none(),Ye=(k,S)=>$n.call(k,S),wo=(k,S)=>Ye(k,S)&&k[S]!==void 0&&k[S]!==null,Yt=k=>{for(const S in k)if($n.call(k,S))return!1;return!0},Ue=Array.prototype.indexOf,Po=Array.prototype.push,Ps=(k,S)=>Ue.call(k,S),Xn=(k,S)=>Ps(k,S)>-1,Vs=(k,S)=>{for(let $=0,W=k.length;$<W;$++){const ie=k[$];if(S(ie,$))return!0}return!1},He=(k,S)=>{const $=[];for(let W=0;W<k;W++)$.push(S(W));return $},ut=(k,S)=>{const $=k.length,W=new Array($);for(let ie=0;ie<$;ie++){const Oe=k[ie];W[ie]=S(Oe,ie)}return W},I=(k,S)=>{for(let $=0,W=k.length;$<W;$++){const ie=k[$];S(ie,$)}},Ka=(k,S)=>{for(let $=k.length-1;$>=0;$--){const W=k[$];S(W,$)}},Hn=(k,S)=>{const $=[],W=[];for(let ie=0,Oe=k.length;ie<Oe;ie++){const nt=k[ie];(S(nt,ie)?$:W).push(nt)}return{pass:$,fail:W}},ot=(k,S)=>{const $=[];for(let W=0,ie=k.length;W<ie;W++){const Oe=k[W];S(Oe,W)&&$.push(Oe)}return $},Qe=(k,S,$)=>(Ka(k,(W,ie)=>{$=S($,W,ie)}),$),dn=(k,S,$)=>(I(k,(W,ie)=>{$=S($,W,ie)}),$),Ke=(k,S,$)=>{for(let W=0,ie=k.length;W<ie;W++){const Oe=k[W];if(S(Oe,W))return Y.some(Oe);if($(Oe,W))break}return Y.none()},hn=(k,S)=>Ke(k,S,St),Pt=k=>{const S=[];for(let $=0,W=k.length;$<W;++$){if(!Me(k[$]))throw new Error("Arr.flatten item "+$+" was not an array, input: "+k);Po.apply(S,k[$])}return S},ve=(k,S)=>Pt(ut(k,S)),tt=(k,S)=>{for(let $=0,W=k.length;$<W;++$){const ie=k[$];if(S(ie,$)!==!0)return!1}return!0},Ve=(k,S)=>{const $={};for(let W=0,ie=k.length;W<ie;W++){const Oe=k[W];$[String(Oe)]=S(Oe,W)}return $},Ie=(k,S)=>S>=0&&S<k.length?Y.some(k[S]):Y.none(),Mn=k=>Ie(k,0),nn=k=>Ie(k,k.length-1),is=(k,S)=>{for(let $=0;$<k.length;$++){const W=S(k[$],$);if(W.isSome())return W}return Y.none()},go=8,Rs=9,Xc=11,cs=1,es=3,ko=(k,S)=>{const W=(S||document).createElement("div");if(W.innerHTML=k,!W.hasChildNodes()||W.childNodes.length>1){const ie="HTML does not have a single root node";throw console.error(ie,k),new Error(ie)}return Jn(W.childNodes[0])},Xr=(k,S)=>{const W=(S||document).createElement(k);return Jn(W)},_o=(k,S)=>{const W=(S||document).createTextNode(k);return Jn(W)},Jn=k=>{if(k==null)throw new Error("Node cannot be null or undefined");return{dom:k}},In={fromHtml:ko,fromTag:Xr,fromText:_o,fromDom:Jn,fromPoint:(k,S,$)=>Y.from(k.dom.elementFromPoint(S,$)).map(Jn)},fs=(k,S)=>{const $=k.dom;if($.nodeType!==cs)return!1;{const W=$;if(W.matches!==void 0)return W.matches(S);if(W.msMatchesSelector!==void 0)return W.msMatchesSelector(S);if(W.webkitMatchesSelector!==void 0)return W.webkitMatchesSelector(S);if(W.mozMatchesSelector!==void 0)return W.mozMatchesSelector(S);throw new Error("Browser lacks native selectors")}},js=k=>k.nodeType!==cs&&k.nodeType!==Rs&&k.nodeType!==Xc||k.childElementCount===0,Jc=(k,S)=>{const $=S===void 0?document:S.dom;return js($)?[]:ut($.querySelectorAll(k),In.fromDom)},rd=(k,S)=>{const $=S===void 0?document:S.dom;return js($)?Y.none():Y.from($.querySelector(k)).map(In.fromDom)},ts=(k,S)=>k.dom===S.dom,uf=fs;typeof window<"u"||Function("return this;")();const dt=k=>k.dom.nodeName.toLowerCase(),ho=k=>k.dom.nodeType,Jr=k=>S=>ho(S)===k,za=k=>ho(k)===go||dt(k)==="#comment",Qc=Jr(cs),ei=Jr(es),ns=Jr(Rs),Bi=Jr(Xc),Ni=k=>S=>Qc(S)&&dt(S)===k,Ho=k=>In.fromDom(k.dom.ownerDocument),Qt=k=>ns(k)?k:Ho(k),kr=k=>Y.from(k.dom.parentNode).map(In.fromDom),Pi=(k,S)=>{const $=On(S)?S:St;let W=k.dom;const ie=[];for(;W.parentNode!==null&&W.parentNode!==void 0;){const Oe=W.parentNode,nt=In.fromDom(Oe);if(ie.push(nt),$(nt)===!0)break;W=Oe}return ie},df=k=>Y.from(k.dom.previousSibling).map(In.fromDom),ad=k=>Y.from(k.dom.nextSibling).map(In.fromDom),_r=k=>ut(k.dom.childNodes,In.fromDom),xr=(k,S)=>{const $=k.dom.childNodes;return Y.from($[S]).map(In.fromDom)},Us=k=>xr(k,0),ti=k=>Bi(k)&&ht(k.dom.host),Cr=On(Element.prototype.attachShadow)&&On(Node.prototype.getRootNode)?k=>In.fromDom(k.dom.getRootNode()):Qt,fa=k=>{const S=Cr(k);return ti(S)?Y.some(S):Y.none()},Ts=k=>In.fromDom(k.dom.host),$r=k=>{const S=ei(k)?k.dom.parentNode:k.dom;if(S==null||S.ownerDocument===null)return!1;const $=S.ownerDocument;return fa(In.fromDom(S)).fold(()=>$.body.contains(S),Tn($r,Ts))};var $i=(k,S,$,W,ie)=>k($,W)?Y.some($):On(ie)&&ie($)?Y.none():S($,W,ie);const Rl=(k,S,$)=>{let W=k.dom;const ie=On($)?$:St;for(;W.parentNode;){W=W.parentNode;const Oe=In.fromDom(W);if(S(Oe))return Y.some(Oe);if(ie(Oe))break}return Y.none()},ff=(k,S,$)=>$i((ie,Oe)=>Oe(ie),Rl,k,S,$),ni=(k,S)=>{const $=ie=>S(In.fromDom(ie));return hn(k.dom.childNodes,$).map(In.fromDom)},mf=(k,S,$)=>Rl(k,W=>fs(W,S),$),me=(k,S)=>ni(k,$=>fs($,S)),Qr=(k,S)=>rd(S,k),Ii=(k,S,$)=>$i((ie,Oe)=>fs(ie,Oe),mf,k,S,$),Np=k=>Ii(k,"[contenteditable]"),Em=(k,S=!1)=>$r(k)?k.dom.isContentEditable:Np(k).fold(it(S),$=>os($)==="true"),os=k=>k.dom.contentEditable,Pp=k=>k.nodeName.toLowerCase(),Ny=k=>In.fromDom(k.getBody()),Oc=k=>S=>ts(S,Ny(k)),du=k=>k?k.replace(/px$/,""):"",ls=k=>/^\d+(\.\d+)?$/.test(k)?k+"px":k,Es=k=>In.fromDom(k.selection.getStart()),Fi=k=>In.fromDom(k.selection.getEnd()),Xa=k=>ff(k,Ni("table")).forall(Em),el=(k,S)=>ot(_r(k),S),fu=(k,S)=>{let $=[];return I(_r(k),W=>{S(W)&&($=$.concat([W])),$=$.concat(fu(W,S))}),$},tl=(k,S)=>el(k,$=>fs($,S)),So=(k,S)=>Jc(S,k),Aa=(k,S,$)=>{if(ze($)||Ge($)||_n($))k.setAttribute(S,$+"");else throw console.error("Invalid call to Attribute.set. Key ",S,":: Value ",$,":: Element ",k),new Error("Attribute value was not simple")},mu=(k,S,$)=>{Aa(k.dom,S,$)},pu=(k,S)=>{const $=k.dom;yn(S,(W,ie)=>{Aa($,ie,W)})},Dc=(k,S)=>{const $=k.dom.getAttribute(S);return $===null?void 0:$},jr=(k,S)=>Y.from(Dc(k,S)),ms=(k,S)=>{k.dom.removeAttribute(S)},Py=k=>dn(k.dom.attributes,(S,$)=>(S[$.name]=$.value,S),{}),pf=(k,S,$=Ao)=>k.exists(W=>$(W,S)),Oo=k=>{const S=[],$=W=>{S.push(W)};for(let W=0;W<k.length;W++)k[W].each($);return S},Oa=(k,S,$)=>k.isSome()&&S.isSome()?Y.some($(k.getOrDie(),S.getOrDie())):Y.none(),Da=k=>k.bind(zo),dr=(k,S)=>k?Y.some(S):Y.none(),id=(k,S)=>k.substring(S),Ml=(k,S,$)=>S===""||k.length>=S.length&&k.substr($,$+S.length)===S,lc=(k,S)=>nl(k,S)?id(k,S.length):k,nl=(k,S)=>Ml(k,S,0),$p=(k=>S=>S.replace(k,""))(/^\s+|\s+$/g),gf=k=>k.length>0,hf=k=>!gf(k),uc=(k,S=10)=>{const $=parseInt(k,S);return isNaN($)?Y.none():Y.some($)},ol=k=>{const S=parseFloat(k);return isNaN(S)?Y.none():Y.some(S)},gu=k=>k.style!==void 0&&On(k.style.getPropertyValue),bf=(k,S,$)=>{if(!ze($))throw console.error("Invalid call to CSS.set. Property ",S,":: Value ",$,":: Element ",k),new Error("CSS value must be a string: "+$);gu(k)&&k.style.setProperty(S,$)},zm=(k,S)=>{gu(k)&&k.style.removeProperty(S)},Am=(k,S,$)=>{const W=k.dom;bf(W,S,$)},hu=(k,S)=>{const $=k.dom,ie=window.getComputedStyle($).getPropertyValue(S);return ie===""&&!$r(k)?Om($,S):ie},Om=(k,S)=>gu(k)?k.style.getPropertyValue(S):"",Do=(k,S)=>{const $=k.dom,W=Om($,S);return Y.from(W).filter(ie=>ie.length>0)},dc=(k,S)=>{const $=k.dom;zm($,S),pf(jr(k,"style").map($p),"")&&ms(k,"style")},Dm=(k,S,$=0)=>jr(k,S).map(W=>parseInt(W,10)).getOr($),yf=(k,S)=>fc(k,S,Gt),fc=(k,S,$)=>ve(_r(k),W=>fs(W,S)?$(W)?[W]:[]:fc(W,S,$)),xh=["tfoot","thead","tbody","colgroup"],bu=k=>Xn(xh,k),rr=(k,S)=>({rows:k,columns:S}),fr=(k,S,$)=>({element:k,rowspan:S,colspan:$}),sl=(k,S,$,W,ie,Oe)=>({element:k,rowspan:S,colspan:$,row:W,column:ie,isLocked:Oe}),vf=(k,S,$)=>({element:k,cells:S,section:$}),_t=(k,S,$,W)=>({startRow:k,startCol:S,finishRow:$,finishCol:W}),ld=(k,S,$)=>({element:k,colspan:S,column:$}),ks=(k,S)=>({element:k,columns:S}),M=(k,S,$=St)=>{if($(S))return Y.none();if(Xn(k,dt(S)))return Y.some(S);const W=ie=>fs(ie,"table")||$(ie);return mf(S,k.join(","),W)},Z=(k,S)=>M(["td","th"],k,S),Q=k=>yf(k,"th,td"),Ce=k=>fs(k,"colgroup")?tl(k,"col"):ve(Mt(k),S=>tl(S,"col")),xt=(k,S)=>Ii(k,"table",S),Pn=k=>yf(k,"tr"),Mt=k=>xt(k).fold(it([]),S=>tl(S,"colgroup")),us=(k,S)=>ut(k,$=>{if(dt($)==="colgroup"){const W=ut(Ce($),ie=>{const Oe=Dm(ie,"span",1);return fr(ie,1,Oe)});return vf($,W,"colgroup")}else{const W=ut(Q($),ie=>{const Oe=Dm(ie,"rowspan",1),nt=Dm(ie,"colspan",1);return fr(ie,Oe,nt)});return vf($,W,S($))}}),Xe=k=>kr(k).map(S=>{const $=dt(S);return bu($)?$:"tbody"}).getOr("tbody"),Vo=k=>{const S=Pn(k),W=[...Mt(k),...S];return us(W,Xe)},ma="data-snooker-locked-cols",$s=k=>jr(k,ma).bind(S=>Y.from(S.match(/\d+/g))).map(S=>Ve(S,Gt)),ar=(k,S)=>k+","+S,rl=(k,S,$)=>Y.from(k.access[ar(S,$)]),no=(k,S,$)=>{const W=si(k,ie=>$(S,ie.element));return W.length>0?Y.some(W[0]):Y.none()},si=(k,S)=>{const $=ve(k.all,W=>W.cells);return ot($,S)},ps=k=>{const S={};let $=0;return I(k.cells,W=>{const ie=W.colspan;He(ie,Oe=>{const nt=$+Oe;S[nt]=ld(W.element,ie,nt)}),$+=ie}),S},Bl=k=>{const S={},$=[],ie=Mn(k).map(oc=>oc.element).bind(xt).bind($s).getOr({});let Oe=0,nt=0,bt=0;const{pass:Vt,fail:kn}=Hn(k,oc=>oc.section==="colgroup");I(kn,oc=>{const Fa=[];I(oc.cells,$c=>{let xu=0;for(;S[ar(bt,xu)]!==void 0;)xu++;const Zi=wo(ie,xu.toString()),qm=sl($c.element,$c.rowspan,$c.colspan,bt,xu,Zi);for(let Af=0;Af<$c.colspan;Af++)for(let Cd=0;Cd<$c.rowspan;Cd++){const Gm=bt+Cd,nr=xu+Af,Ic=ar(Gm,nr);S[Ic]=qm,nt=Math.max(nt,nr+1)}Fa.push(qm)}),Oe++,$.push(vf(oc.element,Fa,oc.section)),bt++});const{columns:zs,colgroups:bo}=nn(Vt).map(oc=>{const Fa=ps(oc);return{colgroups:[ks(oc.element,Et(Fa))],columns:Fa}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:rr(Oe,nt),access:S,all:$,columns:zs,colgroups:bo}},Li={fromTable:k=>{const S=Vo(k);return Bl(S)},generate:Bl,getAt:rl,findItem:no,filterItems:si,justCells:k=>ve(k.all,S=>S.cells),justColumns:k=>Et(k.columns),hasColumns:k=>tn(k.columns).length>0,getColumnAt:(k,S)=>Y.from(k.columns[S])};var Nl=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ja=(k,S,$)=>{const W=k.select("td,th",S);let ie;for(let Oe=0;Oe<W.length;Oe++){const nt=k.getStyle(W[Oe],$);if(Fe(ie)&&(ie=nt),ie!==nt)return""}return ie},Pl=(k,S,$)=>{Nl.each("left center right".split(" "),W=>{W!==$&&k.formatter.remove("align"+W,{},S)}),$&&k.formatter.apply("align"+$,{},S)},Rm=(k,S,$)=>{Nl.each("top middle bottom".split(" "),W=>{W!==$&&k.formatter.remove("valign"+W,{},S)}),$&&k.formatter.apply("valign"+$,{},S)},oo=(k,S,$)=>{k.dispatch("TableModified",{...$,table:S})},mr=(k,S)=>ol(k).getOr(S),mc=(k,S,$)=>mr(hu(k,S),$),m0=(k,S,$,W)=>{const ie=mc(k,`padding-${$}`,0),Oe=mc(k,`padding-${W}`,0),nt=mc(k,`border-${$}-width`,0),bt=mc(k,`border-${W}-width`,0);return S-ie-Oe-nt-bt},_s=(k,S)=>{const $=k.dom,W=$.getBoundingClientRect().width||$.offsetWidth;return S==="border-box"?W:m0(k,W,"left","right")},Ur=k=>_s(k,"content-box");var Fy=tinymce.util.Tools.resolve("tinymce.Env");const Ch="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",ri=He(5,k=>{const S=`${k+1}px`;return{title:S,value:S}}),Ip=ut(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],k=>({title:k,value:k.toLowerCase()})),ss="100%",ai=k=>{var S;const $=k.dom,W=(S=$.getParent(k.selection.getStart(),$.isBlock))!==null&&S!==void 0?S:k.getBody();return Ur(In.fromDom(W))+"px"},ga=(k,S)=>Eh(k)||!cl(k)?S:Th(k)?{...S,width:ai(k)}:{...S,width:ss},al=(k,S)=>Eh(k)||cl(k)?S:Th(k)?{...S,width:ai(k)}:{...S,width:ss},pr=k=>S=>S.options.get(k),Is=k=>{const S=k.options.register;S("table_border_widths",{processor:"object[]",default:ri}),S("table_border_styles",{processor:"object[]",default:Ip}),S("table_cell_advtab",{processor:"boolean",default:!0}),S("table_row_advtab",{processor:"boolean",default:!0}),S("table_advtab",{processor:"boolean",default:!0}),S("table_appearance_options",{processor:"boolean",default:!0}),S("table_grid",{processor:"boolean",default:!Fy.deviceType.isTouch()}),S("table_cell_class_list",{processor:"object[]",default:[]}),S("table_row_class_list",{processor:"object[]",default:[]}),S("table_class_list",{processor:"object[]",default:[]}),S("table_toolbar",{processor:"string",default:Ch}),S("table_background_color_map",{processor:"object[]",default:[]}),S("table_border_color_map",{processor:"object[]",default:[]})},ci=pr("table_sizing_mode"),wf=pr("table_border_widths"),dd=pr("table_border_styles"),Fp=pr("table_cell_advtab"),Mm=pr("table_row_advtab"),Ra=pr("table_advtab"),Bm=pr("table_appearance_options"),Ma=pr("table_grid"),cl=pr("table_style_by_css"),Nm=pr("table_cell_class_list"),fd=pr("table_row_class_list"),Pm=pr("table_class_list"),md=pr("table_toolbar"),Sh=pr("table_background_color_map"),$l=pr("table_border_color_map"),Th=k=>ci(k)==="fixed",Eh=k=>ci(k)==="responsive",zh=k=>{const S=k.options,$=S.get("table_default_styles");return S.isSet("table_default_styles")?$:ga(k,$)},pd=k=>{const S=k.options,$=S.get("table_default_attributes");return S.isSet("table_default_attributes")?$:al(k,$)},Ly=(k,S)=>S.column>=k.startCol&&S.column+S.colspan-1<=k.finishCol&&S.row>=k.startRow&&S.row+S.rowspan-1<=k.finishRow,ee=(k,S)=>{let $=!0;const W=oe(Ly,S);for(let ie=S.startRow;ie<=S.finishRow;ie++)for(let Oe=S.startCol;Oe<=S.finishCol;Oe++)$=$&&Li.getAt(k,ie,Oe).exists(W);return $?Y.some(S):Y.none()},kf=(k,S)=>_t(Math.min(k.row,S.row),Math.min(k.column,S.column),Math.max(k.row+k.rowspan-1,S.row+S.rowspan-1),Math.max(k.column+k.colspan-1,S.column+S.colspan-1)),ii=(k,S,$)=>{const W=Li.findItem(k,S,ts),ie=Li.findItem(k,$,ts);return W.bind(Oe=>ie.map(nt=>kf(Oe,nt)))},Lp=(k,S,$)=>ii(k,S,$).bind(W=>ee(k,W)),L_=(k,S,$)=>{const W=p0(k);return Lp(W,S,$)},p0=Li.fromTable,fo=(k,S)=>{kr(k).each(W=>{W.dom.insertBefore(S.dom,k.dom)})},ea=(k,S)=>{ad(k).fold(()=>{kr(k).each(ie=>{Rc(ie,S)})},W=>{fo(W,S)})},il=(k,S)=>{Us(k).fold(()=>{Rc(k,S)},W=>{k.dom.insertBefore(S.dom,W.dom)})},Rc=(k,S)=>{k.dom.appendChild(S.dom)},Ah=(k,S)=>{fo(k,S),Rc(S,k)},gd=(k,S)=>{I(S,($,W)=>{const ie=W===0?k:S[W-1];ea(ie,$)})},pc=(k,S)=>{I(S,$=>{Rc(k,$)})},_f=k=>{const S=k.dom;S.parentNode!==null&&S.parentNode.removeChild(S)},Oh=k=>{const S=_r(k);S.length>0&&gd(k,S),_f(k)},Mc=((k,S)=>{const $=Oe=>{if(!k(Oe))throw new Error("Can only get "+S+" value of a "+S+" node");return W(Oe).getOr("")},W=Oe=>k(Oe)?Y.from(Oe.dom.nodeValue):Y.none();return{get:$,getOption:W,set:(Oe,nt)=>{if(!k(Oe))throw new Error("Can only set raw "+S+" value of a "+S+" node");Oe.dom.nodeValue=nt}}})(ei,"text"),$m=k=>Mc.get(k),Dh=(k,S)=>Mc.set(k,S);var gc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Sr=()=>{const k=kn=>In.fromDom(kn.dom.cloneNode(!1)),S=kn=>Qt(kn).dom,$=kn=>Qc(kn)?dt(kn)==="body"?!0:Xn(gc,dt(kn)):!1,W=kn=>Qc(kn)?Xn(["br","img","hr","input"],dt(kn)):!1,ie=kn=>Qc(kn)&&Dc(kn,"contenteditable")==="false",Oe=(kn,zs)=>kn.dom.compareDocumentPosition(zs.dom),nt=(kn,zs)=>{const bo=Py(kn);pu(zs,bo)},bt=kn=>{const zs=dt(kn);return Xn(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],zs)},Vt=kn=>Qc(kn)?jr(kn,"lang"):Y.none();return{up:it({selector:mf,closest:Ii,predicate:Rl,all:Pi}),down:it({selector:So,predicate:fu}),styles:it({get:hu,getRaw:Do,set:Am,remove:dc}),attrs:it({get:Dc,set:mu,remove:ms,copyTo:nt}),insert:it({before:fo,after:ea,afterAll:gd,append:Rc,appendAll:pc,prepend:il,wrap:Ah}),remove:it({unwrap:Oh,remove:_f}),create:it({nu:In.fromTag,clone:k,text:In.fromText}),query:it({comparePosition:Oe,prevSibling:df,nextSibling:ad}),property:it({children:_r,name:dt,parent:kr,document:S,isText:ei,isComment:za,isElement:Qc,isSpecial:bt,getLanguage:Vt,getText:$m,setText:Dh,isBoundary:$,isEmptyTag:W,isNonEditable:ie}),eq:ts,is:uf}};const yu=(k,S,$,W)=>{const ie=$[0],Oe=$.slice(1);return W(k,S,ie,Oe)},xf=(k,S,$)=>$.length>0?yu(k,S,$,li):Y.none(),li=(k,S,$,W)=>{const ie=S(k,$);return Qe(W,(Oe,nt)=>{const bt=S(k,nt);return Qa(k,Oe,bt)},ie)},Qa=(k,S,$)=>S.bind(W=>$.filter(oe(k.eq,W))),Rh=xf,Hy=Sr(),Im=(k,S)=>Rh(Hy,($,W)=>k(W),S),Mh=k=>mf(k,"table"),Hp=(k,S)=>{const $=So(k,S);return $.length>0?Y.some($):Y.none()},ll=(k,S,$)=>Qr(k,S).bind(W=>Qr(k,$).bind(ie=>Im(Mh,[W,ie]).map(Oe=>({first:W,last:ie,table:Oe})))),Vy=(k,S)=>Hp(k,S),H_=(k,S,$)=>ll(k,S,$).bind(W=>{const ie=Vt=>ts(k,Vt),Oe="thead,tfoot,tbody,table",nt=mf(W.first,Oe,ie),bt=mf(W.last,Oe,ie);return nt.bind(Vt=>bt.bind(kn=>ts(Vt,kn)?L_(W.table,W.first,W.last):Y.none()))}),jy=k=>ut(k,In.fromDom),Bh="data-mce-selected",Fm="td["+Bh+"],th["+Bh+"]",Vp="data-mce-first-selected",Cf="td["+Vp+"],th["+Vp+"]",gs="data-mce-last-selected",Ms="td["+gs+"],th["+gs+"]",ec={selected:Bh,selectedSelector:Fm,firstSelected:Vp,firstSelectedSelector:Cf,lastSelected:gs,lastSelectedSelector:Ms},Nh=k=>xt(k).bind(S=>Vy(S,ec.firstSelectedSelector)).fold(it(k),S=>S[0]),Uy=k=>(S,$)=>{const W=dt(S),ie=W==="col"||W==="colgroup"?Nh(S):S;return Ii(ie,k,$)},Wr=Uy("th,td,caption"),hd=Uy("th,td"),Ba=k=>jy(k.model.table.getSelectedCells()),ul=(k,S)=>{const $=hd(k),W=$.bind(ie=>xt(ie)).map(ie=>Pn(ie));return Oa($,W,(ie,Oe)=>ot(Oe,nt=>Vs(jy(nt.dom.cells),bt=>Dc(bt,S)==="1"||ts(bt,ie)))).getOr([])},jp=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],xn=k=>({value:Ph(k)}),tc=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,vu=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Sf=k=>tc.test(k)||vu.test(k),Ph=k=>lc(k,"#").toUpperCase(),Wy=k=>Sf(k)?Y.some({value:Ph(k)}):Y.none(),ha=k=>{const S=k.toString(16);return(S.length===1?"0"+S:S).toUpperCase()},Ws=k=>{const S=ha(k.red)+ha(k.green)+ha(k.blue);return xn(S)},hc=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,cr=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Lm=(k,S,$,W)=>({red:k,green:S,blue:$,alpha:W}),Hm=(k,S,$,W)=>{const ie=parseInt(k,10),Oe=parseInt(S,10),nt=parseInt($,10),bt=parseFloat(W);return Lm(ie,Oe,nt,bt)},Fs=k=>{if(k==="transparent")return Y.some(Lm(0,0,0,0));const S=hc.exec(k);if(S!==null)return Y.some(Hm(S[1],S[2],S[3],"1"));const $=cr.exec(k);return $!==null?Y.some(Hm($[1],$[2],$[3],$[4])):Y.none()},gr=k=>Wy(k).orThunk(()=>Fs(k).map(Ws)).getOrThunk(()=>{const S=document.createElement("canvas");S.height=1,S.width=1;const $=S.getContext("2d");$.clearRect(0,0,S.width,S.height),$.fillStyle="#FFFFFF",$.fillStyle=k,$.fillRect(0,0,1,1);const W=$.getImageData(0,0,1,1).data,ie=W[0],Oe=W[1],nt=W[2],bt=W[3];return Ws(Lm(ie,Oe,nt,bt))}),Hi=k=>Fs(k).map(Ws).map(S=>"#"+S.value).getOr(k),bd=k=>{let S=k;return{get:()=>S,set:ie=>{S=ie}}},tr=k=>{const S=bd(Y.none()),$=()=>S.get().each(k);return{clear:()=>{$(),S.set(Y.none())},isSet:()=>S.get().isSome(),get:()=>S.get(),set:bt=>{$(),S.set(Y.some(bt))}}},$h=()=>tr(k=>k.unbind()),Zy=(k,S,$)=>W=>{const ie=$h(),Oe=hf($),nt=()=>{const bt=Ba(k),Vt=kn=>k.formatter.match(S,{value:$},kn.dom,Oe);Oe?(W.setActive(!Vs(bt,Vt)),ie.set(k.formatter.formatChanged(S,kn=>W.setActive(!kn),!0))):(W.setActive(tt(bt,Vt)),ie.set(k.formatter.formatChanged(S,W.setActive,!1,{value:$})))};return k.initialized?nt():k.on("init",nt),ie.clear},Ro=k=>wo(k,"menu"),dl=k=>ut(k,S=>{const $=S.text||S.title||"";return Ro(S)?{text:$,items:dl(S.menu)}:{text:$,value:S.value}}),ro=(k,S,$,W)=>ut(S,ie=>{const Oe=ie.text||ie.title;return Ro(ie)?{type:"nestedmenuitem",text:Oe,getSubmenuItems:()=>ro(k,ie.menu,$,W)}:{text:Oe,type:"togglemenuitem",onAction:()=>W(ie.value),onSetup:Zy(k,$,ie.value)}}),Na=(k,S)=>$=>{k.execCommand("mceTableApplyCellStyle",!1,{[S]:$})},yd=k=>ve(k,S=>Ro(S)?[{...S,menu:yd(S.menu)}]:gf(S.value)?[S]:[]),wu=(k,S,$,W)=>ie=>ie(ro(k,S,$,W)),Bn=(k,S,$)=>{const W=ut(S,ie=>({text:ie.title,value:"#"+gr(ie.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:W.length>0?W:void 0,allowCustomColors:!1},onAction:ie=>{const Oe=ie.value==="remove"?"":ie.value;k.execCommand("mceTableApplyCellStyle",!1,{[$]:Oe})}}]},vd=k=>()=>{const $=k.queryCommandValue("mceTableRowType")==="header"?"body":"header";k.execCommand("mceTableRowType",!1,{type:$})},Ih=k=>()=>{const $=k.queryCommandValue("mceTableColType")==="th"?"td":"th";k.execCommand("mceTableColType",!1,{type:$})},Fh=k=>{const S=dl(Nm(k));return S.length>0?Y.some({name:"class",type:"listbox",label:"Class",items:S}):Y.none()},V_=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:jp}],qy=k=>V_.concat(Fh(k).toArray()),Up=(k,S)=>{const W=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(dl(dd(k)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:S==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(W):W}},Vm={normal:(k,S)=>{const $=k.dom;return{setAttrib:(nt,bt)=>{$.setAttrib(S,nt,bt)},setStyle:(nt,bt)=>{$.setStyle(S,nt,bt)},setFormat:(nt,bt)=>{bt===""?k.formatter.remove(nt,{value:null},S,!0):k.formatter.apply(nt,{value:bt},S)}}}},wd=Ni("th"),Tf=(k,S)=>k&&S?"sectionCells":k?"section":"cells",Gy=k=>{const S=k.section==="thead",$=pf(ui(k.cells),"th");return k.section==="tfoot"?{type:"footer"}:S||$?{type:"header",subType:Tf(S,$)}:{type:"body"}},ui=k=>{const S=ot(k,$=>wd($.element));return S.length===0?Y.some("td"):S.length===k.length?Y.some("th"):Y.none()},h0=k=>{const S=ut(k,ie=>Gy(ie).type),$=Xn(S,"header"),W=Xn(S,"footer");if(!$&&!W)return Y.some("body");{const ie=Xn(S,"body");return $&&!ie&&!W?Y.some("header"):!$&&!ie&&W?Y.some("footer"):Y.none()}},Ef=k=>{let S=!1,$;return(...W)=>(S||(S=!0,$=k.apply(null,W)),$)},Bc=(k,S)=>is(k.all,$=>hn($.cells,W=>ts(S,W.element))),Hh=(k,S,$)=>{const W=ut(S.selection,Oe=>Z(Oe).bind(nt=>Bc(k,nt)).filter($)),ie=Oo(W);return dr(ie.length>0,ie)},Vh=(k,S)=>S.mergable,jh=(k,S)=>S.unmergable,Wp=(k,S)=>Hh(k,S,Gt),Uh=(k,S)=>Bc(k,S).exists($=>!$.isLocked),Wh=(k,S)=>tt(S,$=>Uh(k,$)),Zh=(k,S)=>Vh(k,S).filter($=>Wh(k,$.cells)),Tr=(k,S)=>jh(k,S).filter($=>Wh(k,$));({...{generate:k=>{if(!Me(k))throw new Error("cases must be an array");if(k.length===0)throw new Error("there must be at least one case");const S=[],$={};return I(k,(W,ie)=>{const Oe=tn(W);if(Oe.length!==1)throw new Error("one and only one name per case");const nt=Oe[0],bt=W[nt];if($[nt]!==void 0)throw new Error("duplicate key detected:"+nt);if(nt==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Me(bt))throw new Error("case arguments must be an array");S.push(nt),$[nt]=(...Vt)=>{const kn=Vt.length;if(kn!==bt.length)throw new Error("Wrong number of arguments to case "+nt+". Expected "+bt.length+" ("+bt+"), got "+kn);return{fold:(...bo)=>{if(bo.length!==k.length)throw new Error("Wrong number of arguments to fold. Expected "+k.length+", got "+bo.length);return bo[ie].apply(null,Vt)},match:bo=>{const rs=tn(bo);if(S.length!==rs.length)throw new Error("Wrong number of arguments to match. Expected: "+S.join(",")+`
Actual: `+rs.join(","));if(!tt(S,Fa=>Xn(rs,Fa)))throw new Error("Not all branches were specified when using match. Specified: "+rs.join(", ")+`
Required: `+S.join(", "));return bo[nt].apply(null,Vt)},log:bo=>{console.log(bo,{constructors:S,constructor:nt,params:Vt})}}}}),$}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const Dt=(k,S)=>{const $=Li.fromTable(k);return Wp($,S).bind(ie=>{const Oe=ie[ie.length-1],nt=ie[0].row,bt=Oe.row+Oe.rowspan,Vt=$.all.slice(nt,bt);return h0(Vt)}).getOr("")},Vi=k=>nl(k,"rgb")?Hi(k):k,Ky=k=>{const S=In.fromDom(k);return{borderwidth:Do(S,"border-width").getOr(""),borderstyle:Do(S,"border-style").getOr(""),bordercolor:Do(S,"border-color").map(Vi).getOr(""),backgroundcolor:Do(S,"background-color").map(Vi).getOr("")}},ml=k=>{const S=k[0],$=k.slice(1);return I($,W=>{I(tn(S),ie=>{yn(W,(Oe,nt)=>{const bt=S[ie];bt!==""&&ie===nt&&bt!==Oe&&(S[ie]="")})})}),S},Zs=(k,S,$,W)=>hn(k,ie=>!Fe($.formatter.matchNode(W,S+ie))).getOr(""),Il=oe(Zs,["left","center","right"],"align"),jm=oe(Zs,["top","middle","bottom"],"valign"),Er=(k,S)=>{const $=zh(k),W=pd(k),ie=()=>({borderstyle:lo($,"border-style").getOr(""),bordercolor:Vi(lo($,"border-color").getOr("")),backgroundcolor:Vi(lo($,"background-color").getOr(""))}),Oe={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},nt=()=>{const zs=$["border-width"];return cl(k)&&zs?{border:zs}:lo(W,"border").fold(()=>({}),bo=>({border:bo}))},bt=S?ie():{},Vt=()=>{const zs=lo($,"border-spacing").or(lo(W,"cellspacing")).fold(()=>({}),rs=>({cellspacing:rs})),bo=lo($,"border-padding").or(lo(W,"cellpadding")).fold(()=>({}),rs=>({cellpadding:rs}));return{...zs,...bo}};return{...Oe,...$,...W,...bt,...nt(),...Vt()}},ji=k=>xt(In.fromDom(k)).map(S=>{const $={selection:jy(k.cells)};return Dt(S,$)}).getOr(""),Zp=(k,S,$)=>{const W=(bt,Vt)=>{const kn=Do(In.fromDom(Vt),"border-width");return cl(k)&&kn.isSome()?kn.getOr(""):bt.getAttrib(Vt,"border")||Ja(k.dom,Vt,"border-width")||Ja(k.dom,Vt,"border")||""},ie=k.dom,Oe=cl(k)?ie.getStyle(S,"border-spacing")||ie.getAttrib(S,"cellspacing"):ie.getAttrib(S,"cellspacing")||ie.getStyle(S,"border-spacing"),nt=cl(k)?Ja(ie,S,"padding")||ie.getAttrib(S,"cellpadding"):ie.getAttrib(S,"cellpadding")||Ja(ie,S,"padding");return{width:ie.getStyle(S,"width")||ie.getAttrib(S,"width"),height:ie.getStyle(S,"height")||ie.getAttrib(S,"height"),cellspacing:Oe??"",cellpadding:nt??"",border:W(ie,S),caption:!!ie.select("caption",S)[0],class:ie.getAttrib(S,"class",""),align:Il(k,S),...$?Ky(S):{}}},pl=(k,S,$)=>{const W=k.dom;return{height:W.getStyle(S,"height")||W.getAttrib(S,"height"),class:W.getAttrib(S,"class",""),type:ji(S),align:Il(k,S),...$?Ky(S):{}}},Yy=(k,S,$,W)=>{const ie=k.dom,Oe=W.getOr(S),nt=(bt,Vt)=>ie.getStyle(bt,Vt)||ie.getAttrib(bt,Vt);return{width:nt(Oe,"width"),height:nt(S,"height"),scope:ie.getAttrib(S,"scope"),celltype:Pp(S),class:ie.getAttrib(S,"class",""),halign:Il(k,S),valign:jm(k,S),...$?Ky(S):{}}},Um=(k,S)=>{const $=Li.fromTable(k),W=Li.justCells($),ie=ot(W,Oe=>Vs(S,nt=>ts(Oe.element,nt)));return ut(ie,Oe=>({element:Oe.element.dom,column:Li.getColumnAt($,Oe.column).map(nt=>nt.element.dom)}))},Je=(k,S,$,W)=>{W("scope")&&k.setAttrib("scope",$.scope),W("class")&&k.setAttrib("class",$.class),W("height")&&k.setStyle("height",ls($.height)),W("width")&&S.setStyle("width",ls($.width))},Xy=(k,S,$)=>{$("backgroundcolor")&&k.setFormat("tablecellbackgroundcolor",S.backgroundcolor),$("bordercolor")&&k.setFormat("tablecellbordercolor",S.bordercolor),$("borderstyle")&&k.setFormat("tablecellborderstyle",S.borderstyle),$("borderwidth")&&k.setFormat("tablecellborderwidth",ls(S.borderwidth))},ku=(k,S,$,W)=>{const ie=S.length===1;I(S,Oe=>{const nt=Oe.element,bt=ie?Gt:W,Vt=Vm.normal(k,nt),kn=Oe.column.map(zs=>Vm.normal(k,zs)).getOr(Vt);Je(Vt,kn,$,bt),Fp(k)&&Xy(Vt,$,bt),W("halign")&&Pl(k,nt,$.halign),W("valign")&&Rm(k,nt,$.valign)})},Fl=(k,S)=>{k.execCommand("mceTableCellType",!1,{type:S.celltype,no_events:!0})},Wm=(k,S,$,W)=>{const ie=Qo(W,(Oe,nt)=>$[nt]!==Oe);E(ie)>0&&S.length>=1&&xt(S[0]).each(Oe=>{const nt=Um(Oe,S),bt=E(Qo(ie,(kn,zs)=>zs!=="scope"&&zs!=="celltype"))>0,Vt=Ye(ie,"celltype");(bt||Ye(ie,"scope"))&&ku(k,nt,W,oe(Ye,ie)),Vt&&Fl(k,W),oo(k,Oe.dom,{structure:Vt,style:bt})})},hs=(k,S,$,W)=>{const ie=W.getData();W.close(),k.undoManager.transact(()=>{Wm(k,S,$,ie),k.focus()})},Mo=(k,S)=>{const $=xt(S[0]).map(W=>ut(Um(W,S),ie=>Yy(k,ie.element,Fp(k),ie.column)));return ml($.getOrDie())},ba=k=>{const S=Ba(k);if(S.length===0)return;const $=Mo(k,S),W={type:"tabpanel",tabs:[{title:"General",name:"general",items:qy(k)},Up(k,"cell")]},ie={type:"panel",items:[{type:"grid",columns:2,items:qy(k)}]};k.windowManager.open({title:"Cell Properties",size:"normal",body:Fp(k)?W:ie,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:$,onSubmit:oe(hs,k,S,$)})},ta=k=>{const S=dl(fd(k));return S.length>0?Y.some({name:"class",type:"listbox",label:"Class",items:S}):Y.none()},Wn=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],zf=k=>Wn.concat(ta(k).toArray()),Ir=(k,S,$)=>{$("class")&&k.setAttrib("class",S.class),$("height")&&k.setStyle("height",ls(S.height))},Bs=(k,S,$)=>{$("backgroundcolor")&&k.setStyle("background-color",S.backgroundcolor),$("bordercolor")&&k.setStyle("border-color",S.bordercolor),$("borderstyle")&&k.setStyle("border-style",S.borderstyle)},qp=(k,S,$,W)=>{const Oe=S.length===1?Gt:W;I(S,nt=>{const bt=Vm.normal(k,nt);Ir(bt,$,Oe),Mm(k)&&Bs(bt,$,Oe),W("align")&&Pl(k,nt,$.align)})},Le=(k,S)=>{k.execCommand("mceTableRowType",!1,{type:S.type,no_events:!0})},nc=(k,S,$,W)=>{const ie=Qo(W,(Oe,nt)=>$[nt]!==Oe);if(E(ie)>0){const Oe=Ye(ie,"type"),nt=Oe?E(ie)>1:!0;nt&&qp(k,S,W,oe(Ye,ie)),Oe&&Le(k,W),xt(In.fromDom(S[0])).each(bt=>oo(k,bt.dom,{structure:Oe,style:nt}))}},Zm=(k,S,$,W)=>{const ie=W.getData();W.close(),k.undoManager.transact(()=>{nc(k,S,$,ie),k.focus()})},uo=k=>{const S=ul(Es(k),ec.selected);if(S.length===0)return;const $=ut(S,nt=>pl(k,nt.dom,Mm(k))),W=ml($),ie={type:"tabpanel",tabs:[{title:"General",name:"general",items:zf(k)},Up(k,"row")]},Oe={type:"panel",items:[{type:"grid",columns:2,items:zf(k)}]};k.windowManager.open({title:"Row Properties",size:"normal",body:Mm(k)?ie:Oe,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:W,onSubmit:oe(Zm,k,ut(S,nt=>nt.dom),W)})},Ui=(k,S,$)=>{const W=$?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],ie=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],Oe=Bm(k)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],nt=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],bt=S.length>0?[{type:"listbox",name:"class",label:"Class",items:S}]:[];return W.concat(ie).concat(Oe).concat(nt).concat(bt)},Jy=(k,S,$,W)=>{if(S.tagName==="TD"||S.tagName==="TH")ze($)&&ht(W)?k.setStyle(S,$,W):k.setStyles(S,$);else if(S.children)for(let ie=0;ie<S.children.length;ie++)Jy(k,S.children[ie],$,W)},Wi=(k,S,$,W)=>{const ie=k.dom,Oe={},nt={},bt=cl(k),Vt=Ra(k);if(Fe($.class)||(Oe.class=$.class),nt.height=ls($.height),bt?nt.width=ls($.width):ie.getAttrib(S,"width")&&(Oe.width=du($.width)),bt?(nt["border-width"]=ls($.border),nt["border-spacing"]=ls($.cellspacing)):(Oe.border=$.border,Oe.cellpadding=$.cellpadding,Oe.cellspacing=$.cellspacing),bt&&S.children){const kn={};if(W.border&&(kn["border-width"]=ls($.border)),W.cellpadding&&(kn.padding=ls($.cellpadding)),Vt&&W.bordercolor&&(kn["border-color"]=$.bordercolor),!Yt(kn))for(let zs=0;zs<S.children.length;zs++)Jy(ie,S.children[zs],kn)}if(Vt){const kn=$;nt["background-color"]=kn.backgroundcolor,nt["border-color"]=kn.bordercolor,nt["border-style"]=kn.borderstyle}ie.setStyles(S,{...zh(k),...nt}),ie.setAttribs(S,{...pd(k),...Oe})},qh=(k,S,$,W)=>{const ie=k.dom,Oe=W.getData(),nt=Qo(Oe,(bt,Vt)=>$[Vt]!==bt);W.close(),Oe.class===""&&delete Oe.class,k.undoManager.transact(()=>{if(!S){const bt=uc(Oe.cols).getOr(1),Vt=uc(Oe.rows).getOr(1);k.execCommand("mceInsertTable",!1,{rows:Vt,columns:bt}),S=hd(Es(k),Oc(k)).bind(kn=>xt(kn,Oc(k))).map(kn=>kn.dom).getOrDie()}if(E(nt)>0){const bt={border:Ye(nt,"border"),bordercolor:Ye(nt,"bordercolor"),cellpadding:Ye(nt,"cellpadding")};Wi(k,S,Oe,bt);const Vt=ie.select("caption",S)[0];(Vt&&!Oe.caption||!Vt&&Oe.caption)&&k.execCommand("mceTableToggleCaption"),Pl(k,S,Oe.align)}if(k.focus(),k.addVisual(),E(nt)>0){const bt=Ye(nt,"caption"),Vt=bt?E(nt)>1:!0;oo(k,S,{structure:bt,style:Vt})}})},di=(k,S)=>{const $=k.dom;let W,ie=Er(k,Ra(k));S?(ie.cols="1",ie.rows="1",Ra(k)&&(ie.borderstyle="",ie.bordercolor="",ie.backgroundcolor="")):(W=$.getParent(k.selection.getStart(),"table",k.getBody()),W?ie=Zp(k,W,Ra(k)):Ra(k)&&(ie.borderstyle="",ie.bordercolor="",ie.backgroundcolor=""));const Oe=dl(Pm(k));Oe.length>0&&ie.class&&(ie.class=ie.class.replace(/\s*mce\-item\-table\s*/g,""));const nt={type:"grid",columns:2,items:Ui(k,Oe,S)},bt=()=>({type:"panel",items:[nt]}),Vt=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[nt]},Up(k,"table")]}),kn=Ra(k)?Vt():bt();k.windowManager.open({title:"Table Properties",size:"normal",body:kn,onSubmit:oe(qh,k,W,ie),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ie})},Gh=k=>{const S=$=>{Xa(Es(k))&&$()};yn({mceTableProps:oe(di,k,!1),mceTableRowProps:oe(uo,k),mceTableCellProps:oe(ba,k),mceInsertTableDialog:oe(di,k,!0)},($,W)=>k.addCommand(W,()=>S($)))},bc=(k,S)=>me(k,S).isSome(),vo=zo,gl=k=>{const S=(W,ie)=>jr(W,ie).exists(Oe=>parseInt(Oe,10)>1),$=W=>S(W,"rowspan")||S(W,"colspan");return k.length>0&&tt(k,$)?Y.some(k):Y.none()},kd=(k,S,$)=>S.length<=1?Y.none():H_(k,$.firstSelectedSelector,$.lastSelectedSelector).map(W=>({bounds:W,cells:S})),Fr=k=>({element:k,mergable:Y.none(),unmergable:Y.none(),selection:[k]}),Kh=(k,S,$)=>({element:$,mergable:kd(S,k,ec),unmergable:gl(k),selection:vo(k)}),_d=k=>{const S=bd(Y.none()),$=bd([]);let W=Y.none();const ie=Ni("caption"),Oe=mo=>W.forall(Vn=>!Vn[mo]),nt=()=>Wr(Es(k),Oc(k)),bt=()=>Wr(Fi(k),Oc(k)),Vt=()=>nt().bind(mo=>Da(Oa(xt(mo),bt().bind(xt),(Vn,zr)=>ts(Vn,zr)?ie(mo)?Y.some(Fr(mo)):Y.some(Kh(Ba(k),Vn,mo)):Y.none()))),kn=mo=>xt(mo.element).map(zr=>{const na=Li.fromTable(zr),Yh=Wp(na,mo).getOr([]),Ll=dn(Yh,(oa,Td)=>(Td.isLocked&&(oa.onAny=!0,Td.column===0?oa.onFirst=!0:Td.column+Td.colspan>=na.grid.columns&&(oa.onLast=!0)),oa),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Zh(na,mo).isSome(),unmergeable:Tr(na,mo).isSome(),locked:Ll}}),zs=()=>{S.set(Ef(Vt)()),W=S.get().bind(kn),I($.get(),Ut)},bo=mo=>(mo(),$.set($.get().concat([mo])),()=>{$.set(ot($.get(),Vn=>Vn!==mo))}),rs=(mo,Vn)=>bo(()=>S.get().fold(()=>{mo.setEnabled(!1)},zr=>{mo.setEnabled(!Vn(zr)&&k.selection.isEditable())})),oc=(mo,Vn,zr)=>bo(()=>S.get().fold(()=>{mo.setEnabled(!1),mo.setActive(!1)},na=>{mo.setEnabled(!Vn(na)&&k.selection.isEditable()),mo.setActive(zr(na))})),Fa=mo=>W.exists(Vn=>Vn.locked[mo]),$c=mo=>rs(mo,Vn=>!1),xu=mo=>rs(mo,Vn=>ie(Vn.element)),Zi=mo=>Vn=>rs(Vn,zr=>ie(zr.element)||Fa(mo)),qm=mo=>Vn=>rs(Vn,zr=>ie(zr.element)||mo().isNone()),Af=(mo,Vn)=>zr=>rs(zr,na=>ie(na.element)||mo().isNone()||Fa(Vn)),Cd=mo=>rs(mo,Vn=>Oe("mergeable")),Gm=mo=>rs(mo,Vn=>Oe("unmergeable")),nr=mo=>oc(mo,St,Vn=>xt(Vn.element,Oc(k)).exists(na=>bc(na,"caption"))),Ic=(mo,Vn)=>zr=>oc(zr,na=>ie(na.element),()=>k.queryCommandValue(mo)===Vn),Of=Ic("mceTableRowType","header"),Sd=Ic("mceTableColType","th");return k.on("NodeChange ExecCommand TableSelectorChange",zs),{onSetupTable:$c,onSetupCellOrRow:xu,onSetupColumn:Zi,onSetupPasteable:qm,onSetupPasteableColumn:Af,onSetupMergeable:Cd,onSetupUnmergeable:Gm,resetTargets:zs,onSetupTableWithCaption:nr,onSetupTableRowHeaders:Of,onSetupTableColumnHeaders:Sd,targets:S.get}};var xd=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const ya="x-tinymce/dom-table-",_u=ya+"rows",be=ya+"columns",Pa=k=>{var S;const $=(S=xd.read())!==null&&S!==void 0?S:[];return is($,W=>Y.from(W.getType(k)))},Nc=()=>Pa(_u),Pc=()=>Pa(be),$a=k=>S=>{const $=()=>{S.setEnabled(k.selection.isEditable())};return k.on("NodeChange",$),$(),()=>{k.off("NodeChange",$)}},ir=(k,S)=>{k.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:$a(k),fetch:bt=>bt("inserttable | cell row column | advtablesort | tableprops deletetable")});const $=bt=>()=>k.execCommand(bt),W=(bt,Vt)=>{k.queryCommandSupported(Vt.command)&&k.ui.registry.addButton(bt,{...Vt,onAction:On(Vt.onAction)?Vt.onAction:$(Vt.command)})},ie=(bt,Vt)=>{k.queryCommandSupported(Vt.command)&&k.ui.registry.addToggleButton(bt,{...Vt,onAction:On(Vt.onAction)?Vt.onAction:$(Vt.command)})};W("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:S.onSetupTable}),W("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:S.onSetupTable}),W("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:S.onSetupCellOrRow}),W("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:S.onSetupMergeable}),W("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:S.onSetupUnmergeable}),W("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:S.onSetupCellOrRow}),W("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:S.onSetupCellOrRow}),W("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:S.onSetupCellOrRow}),W("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:S.onSetupCellOrRow}),W("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:S.onSetupColumn("onFirst")}),W("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:S.onSetupColumn("onLast")}),W("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:S.onSetupColumn("onAny")}),W("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:S.onSetupCellOrRow}),W("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:S.onSetupCellOrRow}),W("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:S.onSetupPasteable(Nc)}),W("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:S.onSetupPasteable(Nc)}),W("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:S.onSetupColumn("onAny")}),W("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:S.onSetupColumn("onAny")}),W("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:S.onSetupPasteableColumn(Pc,"onFirst")}),W("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:S.onSetupPasteableColumn(Pc,"onLast")}),W("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:$a(k)});const Oe=yd(Pm(k));Oe.length!==0&&k.queryCommandSupported("mceTableToggleClass")&&k.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:wu(k,Oe,"tableclass",bt=>k.execCommand("mceTableToggleClass",!1,bt)),onSetup:S.onSetupTable});const nt=yd(Nm(k));nt.length!==0&&k.queryCommandSupported("mceTableCellToggleClass")&&k.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:wu(k,nt,"tablecellclass",bt=>k.execCommand("mceTableCellToggleClass",!1,bt)),onSetup:S.onSetupCellOrRow}),k.queryCommandSupported("mceTableApplyCellStyle")&&(k.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:wu(k,jp,"tablecellverticalalign",Na(k,"vertical-align")),onSetup:S.onSetupCellOrRow}),k.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:wu(k,wf(k),"tablecellborderwidth",Na(k,"border-width")),onSetup:S.onSetupCellOrRow}),k.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:wu(k,dd(k),"tablecellborderstyle",Na(k,"border-style")),onSetup:S.onSetupCellOrRow}),k.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:bt=>bt(Bn(k,Sh(k),"background-color")),onSetup:S.onSetupCellOrRow}),k.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:bt=>bt(Bn(k,$l(k),"border-color")),onSetup:S.onSetupCellOrRow})),ie("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:S.onSetupTableWithCaption}),ie("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:vd(k),onSetup:S.onSetupTableRowHeaders}),ie("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Ih(k),onSetup:S.onSetupTableColumnHeaders})},hr=k=>{const S=W=>k.dom.is(W,"table")&&k.getBody().contains(W)&&k.dom.isEditable(W.parentNode),$=md(k);$.length>0&&k.ui.registry.addContextToolbar("table",{predicate:S,items:$,scope:"node",position:"node"})},Qy=k=>S=>{const $=()=>{S.setEnabled(k.selection.isEditable())};return k.on("NodeChange",$),$(),()=>{k.off("NodeChange",$)}},Ia=(k,S)=>{const $=bo=>()=>k.execCommand(bo),W=(bo,rs)=>k.queryCommandSupported(rs.command)?(k.ui.registry.addMenuItem(bo,{...rs,onAction:On(rs.onAction)?rs.onAction:$(rs.command)}),!0):!1,ie=(bo,rs)=>{k.queryCommandSupported(rs.command)&&k.ui.registry.addToggleMenuItem(bo,{...rs,onAction:On(rs.onAction)?rs.onAction:$(rs.command)})},Oe=bo=>{k.execCommand("mceInsertTable",!1,{rows:bo.numRows,columns:bo.numColumns})},nt=[W("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:S.onSetupCellOrRow}),W("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:S.onSetupCellOrRow}),W("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:S.onSetupCellOrRow}),W("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:S.onSetupCellOrRow}),W("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:S.onSetupCellOrRow}),W("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:S.onSetupCellOrRow}),W("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:S.onSetupPasteable(Nc)}),W("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:S.onSetupPasteable(Nc)})],bt=[W("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:S.onSetupColumn("onFirst")}),W("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:S.onSetupColumn("onLast")}),W("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:S.onSetupColumn("onAny")}),W("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:S.onSetupColumn("onAny")}),W("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:S.onSetupColumn("onAny")}),W("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:S.onSetupPasteableColumn(Pc,"onFirst")}),W("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:S.onSetupPasteableColumn(Pc,"onLast")})],Vt=[W("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:S.onSetupCellOrRow}),W("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:S.onSetupMergeable}),W("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:S.onSetupUnmergeable})];Ma(k)?k.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:Oe}],onSetup:Qy(k)}):k.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:$("mceInsertTableDialog"),onSetup:Qy(k)}),k.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:$("mceInsertTableDialog"),onSetup:Qy(k)}),W("tableprops",{text:"Table properties",onSetup:S.onSetupTable,command:"mceTableProps"}),W("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:S.onSetupTable,command:"mceTableDelete"}),Xn(nt,!0)&&k.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:it("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),Xn(bt,!0)&&k.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:it("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),Xn(Vt,!0)&&k.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:it("tablecellprops tablemergecells tablesplitcells")}),k.ui.registry.addContextMenu("table",{update:()=>(S.resetTargets(),S.targets().fold(it(""),bo=>dt(bo.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const kn=yd(Pm(k));kn.length!==0&&k.queryCommandSupported("mceTableToggleClass")&&k.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>ro(k,kn,"tableclass",bo=>k.execCommand("mceTableToggleClass",!1,bo)),onSetup:S.onSetupTable});const zs=yd(Nm(k));zs.length!==0&&k.queryCommandSupported("mceTableCellToggleClass")&&k.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>ro(k,zs,"tablecellclass",bo=>k.execCommand("mceTableCellToggleClass",!1,bo)),onSetup:S.onSetupCellOrRow}),k.queryCommandSupported("mceTableApplyCellStyle")&&(k.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>ro(k,jp,"tablecellverticalalign",Na(k,"vertical-align")),onSetup:S.onSetupCellOrRow}),k.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>ro(k,wf(k),"tablecellborderwidth",Na(k,"border-width")),onSetup:S.onSetupCellOrRow}),k.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>ro(k,dd(k),"tablecellborderstyle",Na(k,"border-style")),onSetup:S.onSetupCellOrRow}),k.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Bn(k,Sh(k),"background-color"),onSetup:S.onSetupCellOrRow}),k.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Bn(k,$l(k),"border-color"),onSetup:S.onSetupCellOrRow})),ie("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:S.onSetupTableWithCaption}),ie("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:vd(k),onSetup:S.onSetupTableRowHeaders}),ie("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Ih(k),onSetup:S.onSetupTableRowHeaders})},hl=k=>{const S=_d(k);Is(k),Gh(k),Ia(k,S),ir(k,S),hr(k)};var Kt=()=>{F.add("table",hl)};Kt()})();(function(){var F=tinymce.util.Tools.resolve("tinymce.PluginManager");const V=(ot,Qe,dn)=>{var Ke;return dn(ot,Qe.prototype)?!0:((Ke=ot.constructor)===null||Ke===void 0?void 0:Ke.name)===Qe.name},j=ot=>{const Qe=typeof ot;return ot===null?"null":Qe==="object"&&Array.isArray(ot)?"array":Qe==="object"&&V(ot,String,(dn,Ke)=>Ke.isPrototypeOf(dn))?"string":Qe},re=ot=>Qe=>j(Qe)===ot,se=ot=>Qe=>typeof Qe===ot,pe=re("string"),ze=se("boolean"),Me=ot=>ot==null,Ge=ot=>!Me(ot),Fe=se("function"),Ze=ot=>Qe=>Qe.options.get(ot),ht=ot=>{const Qe=ot.options.register,dn=ve=>tt=>{const Ve=ze(tt)||pe(tt);return Ve?ze(tt)?{value:tt?ve:"",valid:Ve}:{value:tt.trim(),valid:Ve}:{valid:!1,message:"Must be a boolean or string."}},Ke="bold italic | quicklink h2 h3 blockquote";Qe("quickbars_selection_toolbar",{processor:dn(Ke),default:Ke});const hn="quickimage quicktable";Qe("quickbars_insert_toolbar",{processor:dn(hn),default:hn});const Pt="alignleft aligncenter alignright";Qe("quickbars_image_toolbar",{processor:dn(Pt),default:Pt})},On=Ze("quickbars_selection_toolbar"),_n=Ze("quickbars_insert_toolbar"),io=Ze("quickbars_image_toolbar");let Tn=0;const it=ot=>{const dn=new Date().getTime(),Ke=Math.floor(Math.random()*1e9);return Tn++,ot+"_"+Ke+Tn+String(dn)},zo=(ot,Qe,dn)=>{ot.execCommand("mceInsertTable",!1,{rows:dn,columns:Qe})},Ao=(ot,Qe,dn)=>{const Ke=ot.editorUpload.blobCache,hn=Ke.create(it("mceu"),dn,Qe);Ke.add(hn),ot.insertContent(ot.dom.createHTML("img",{src:hn.blobUri()}))},oe=ot=>new Promise(Qe=>{const dn=new FileReader;dn.onloadend=()=>{Qe(dn.result.split(",")[1])},dn.readAsDataURL(ot)});var Ut=tinymce.util.Tools.resolve("tinymce.util.Delay");const St=ot=>new Promise(Qe=>{let dn=!1;const Ke=document.createElement("input");Ke.type="file",Ke.accept="image/*",Ke.style.position="fixed",Ke.style.left="0",Ke.style.top="0",Ke.style.opacity="0.001",document.body.appendChild(Ke);const hn=tt=>{var Ve;dn||((Ve=Ke.parentNode)===null||Ve===void 0||Ve.removeChild(Ke),dn=!0,Qe(tt))},Pt=tt=>{hn(Array.prototype.slice.call(tt.target.files))};Ke.addEventListener("input",Pt),Ke.addEventListener("change",Pt);const ve=tt=>{const Ve=()=>{hn([])};dn||(tt.type==="focusin"?Ut.setEditorTimeout(ot,Ve,1e3):Ve()),ot.off("focusin remove",ve)};ot.on("focusin remove",ve),Ke.click()}),Gt=ot=>{ot.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:()=>{St(ot).then(Qe=>{if(Qe.length>0){const dn=Qe[0];oe(dn).then(Ke=>{Ao(ot,Ke,dn)})}})}}),ot.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:()=>{zo(ot,2,2)}})},tn=(ot=>()=>ot)(!1);class $n{constructor(Qe,dn){this.tag=Qe,this.value=dn}static some(Qe){return new $n(!0,Qe)}static none(){return $n.singletonNone}fold(Qe,dn){return this.tag?dn(this.value):Qe()}isSome(){return this.tag}isNone(){return!this.tag}map(Qe){return this.tag?$n.some(Qe(this.value)):$n.none()}bind(Qe){return this.tag?Qe(this.value):$n.none()}exists(Qe){return this.tag&&Qe(this.value)}forall(Qe){return!this.tag||Qe(this.value)}filter(Qe){return!this.tag||Qe(this.value)?this:$n.none()}getOr(Qe){return this.tag?this.value:Qe}or(Qe){return this.tag?this:Qe}getOrThunk(Qe){return this.tag?this.value:Qe()}orThunk(Qe){return this.tag?this:Qe()}getOrDie(Qe){if(this.tag)return this.value;throw new Error(Qe??"Called getOrDie on None")}static from(Qe){return Ge(Qe)?$n.some(Qe):$n.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Qe){this.tag&&Qe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}$n.singletonNone=new $n(!1),typeof window<"u"||Function("return this;")();const yn=1,Re=ot=>ot.dom.nodeName.toLowerCase(),ce=(ot,Qe)=>{const dn=ot.dom;return dn&&dn.hasAttribute?dn.hasAttribute(Qe):!1};var Qo=(ot,Qe,dn,Ke,hn)=>ot(dn,Ke)?$n.some(dn):Fe(hn)&&hn(dn)?$n.none():Qe(dn,Ke,hn);const Nn=(ot,Qe)=>{const Ke=(Qe||document).createElement("div");if(Ke.innerHTML=ot,!Ke.hasChildNodes()||Ke.childNodes.length>1){const hn="HTML does not have a single root node";throw console.error(hn,ot),new Error(hn)}return lo(Ke.childNodes[0])},Et=(ot,Qe)=>{const Ke=(Qe||document).createElement(ot);return lo(Ke)},E=(ot,Qe)=>{const Ke=(Qe||document).createTextNode(ot);return lo(Ke)},lo=ot=>{if(ot==null)throw new Error("Node cannot be null or undefined");return{dom:ot}},wo={fromHtml:Nn,fromTag:Et,fromText:E,fromDom:lo,fromPoint:(ot,Qe,dn)=>$n.from(ot.dom.elementFromPoint(Qe,dn)).map(lo)},Yt=(ot,Qe)=>{const dn=ot.dom;if(dn.nodeType!==yn)return!1;{const Ke=dn;if(Ke.matches!==void 0)return Ke.matches(Qe);if(Ke.msMatchesSelector!==void 0)return Ke.msMatchesSelector(Qe);if(Ke.webkitMatchesSelector!==void 0)return Ke.webkitMatchesSelector(Qe);if(Ke.mozMatchesSelector!==void 0)return Ke.mozMatchesSelector(Qe);throw new Error("Browser lacks native selectors")}},Ue=(ot,Qe,dn)=>{let Ke=ot.dom;const hn=Fe(dn)?dn:tn;for(;Ke.parentNode;){Ke=Ke.parentNode;const Pt=wo.fromDom(Ke);if(Qe(Pt))return $n.some(Pt);if(hn(Pt))break}return $n.none()},Po=(ot,Qe,dn)=>Qo((hn,Pt)=>Pt(hn),Ue,ot,Qe,dn),Ps=(ot,Qe,dn)=>Po(ot,Qe,dn).isSome(),Xn=(ot,Qe,dn)=>Ue(ot,Ke=>Yt(Ke,Qe),dn),Vs=(ot,Qe,dn)=>Qo((hn,Pt)=>Yt(hn,Pt),Xn,ot,Qe,dn),He=ot=>{const Qe=_n(ot);Qe.length>0&&ot.ui.registry.addContextToolbar("quickblock",{predicate:dn=>{const Ke=wo.fromDom(dn),hn=ot.schema.getTextBlockElements(),Pt=ve=>ve.dom===ot.getBody();return!ce(Ke,"data-mce-bogus")&&Vs(Ke,'table,[data-mce-bogus="all"]',Pt).fold(()=>Ps(Ke,ve=>Re(ve)in hn&&ot.dom.isEmpty(ve.dom),Pt),tn)},items:Qe,position:"line",scope:"editor"})},ut=ot=>ot.dom.classList!==void 0,I=(ot,Qe)=>ut(ot)&&ot.dom.classList.contains(Qe),Ka=ot=>{const Qe=ve=>ot.dom.isEditable(ve),dn=ve=>Qe(ve.parentElement),Ke=ve=>{const tt=ve.nodeName==="FIGURE"&&/image/i.test(ve.className),Ve=ve.nodeName==="IMG"||tt,Ie=I(wo.fromDom(ve),"mce-pagebreak");return Ve&&dn(ve)&&!Ie},hn=io(ot);hn.length>0&&ot.ui.registry.addContextToolbar("imageselection",{predicate:Ke,items:hn,position:"node"});const Pt=On(ot);Pt.length>0&&ot.ui.registry.addContextToolbar("textselection",{predicate:ve=>!Ke(ve)&&!ot.selection.isCollapsed()&&Qe(ve),items:Pt,position:"selection",scope:"editor"})};var Hn=()=>{F.add("quickbars",ot=>{ht(ot),Gt(ot),He(ot),Ka(ot)})};Hn()})();(function(){var F=tinymce.util.Tools.resolve("tinymce.PluginManager");const V=Object.getPrototypeOf,j=(M,Z,Q)=>{var Ce;return Q(M,Z.prototype)?!0:((Ce=M.constructor)===null||Ce===void 0?void 0:Ce.name)===Z.name},re=M=>{const Z=typeof M;return M===null?"null":Z==="object"&&Array.isArray(M)?"array":Z==="object"&&j(M,String,(Q,Ce)=>Ce.isPrototypeOf(Q))?"string":Z},se=M=>Z=>re(Z)===M,pe=M=>Z=>typeof Z===M,ze=M=>Z=>M===Z,Me=(M,Z)=>Fe(M)&&j(M,Z,(Q,Ce)=>V(Q)===Ce),Ge=se("string"),Fe=se("object"),Ze=M=>Me(M,Object),ht=se("array"),On=ze(null),_n=pe("boolean"),io=M=>M==null,Tn=M=>!io(M),it=pe("function"),zo=pe("number"),Ao=(M,Z)=>{if(ht(M)){for(let Q=0,Ce=M.length;Q<Ce;++Q)if(!Z(M[Q]))return!1;return!0}return!1},oe=()=>{};class Ut{constructor(Z,Q){this.tag=Z,this.value=Q}static some(Z){return new Ut(!0,Z)}static none(){return Ut.singletonNone}fold(Z,Q){return this.tag?Q(this.value):Z()}isSome(){return this.tag}isNone(){return!this.tag}map(Z){return this.tag?Ut.some(Z(this.value)):Ut.none()}bind(Z){return this.tag?Z(this.value):Ut.none()}exists(Z){return this.tag&&Z(this.value)}forall(Z){return!this.tag||Z(this.value)}filter(Z){return!this.tag||Z(this.value)?this:Ut.none()}getOr(Z){return this.tag?this.value:Z}or(Z){return this.tag?this:Z}getOrThunk(Z){return this.tag?this.value:Z()}orThunk(Z){return this.tag?this:Z()}getOrDie(Z){if(this.tag)return this.value;throw new Error(Z??"Called getOrDie on None")}static from(Z){return Tn(Z)?Ut.some(Z):Ut.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Z){this.tag&&Z(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Ut.singletonNone=new Ut(!1);const St=Object.keys,Gt=Object.hasOwnProperty,Y=(M,Z)=>{const Q=St(M);for(let Ce=0,xt=Q.length;Ce<xt;Ce++){const Pn=Q[Ce],Mt=M[Pn];Z(Mt,Pn)}},tn=M=>(Z,Q)=>{M[Q]=Z},$n=(M,Z,Q,Ce)=>{Y(M,(xt,Pn)=>{(Z(xt,Pn)?Q:Ce)(xt,Pn)})},yn=(M,Z)=>{const Q={};return $n(M,Z,tn(Q),oe),Q},Re=(M,Z)=>Gt.call(M,Z),ce=(M,Z)=>Re(M,Z)&&M[Z]!==void 0&&M[Z]!==null,Qo=Array.prototype.push,Nn=M=>{const Z=[];for(let Q=0,Ce=M.length;Q<Ce;++Q){if(!ht(M[Q]))throw new Error("Arr.flatten item "+Q+" was not an array, input: "+M);Qo.apply(Z,M[Q])}return Z},Et=(M,Z)=>Z>=0&&Z<M.length?Ut.some(M[Z]):Ut.none(),E=M=>Et(M,0),lo=(M,Z)=>{for(let Q=0;Q<M.length;Q++){const Ce=Z(M[Q],Q);if(Ce.isSome())return Ce}return Ut.none()};typeof window<"u"||Function("return this;")();const Ye=(M,Z,Q)=>{if(Ge(Q)||_n(Q)||zo(Q))M.setAttribute(Z,Q+"");else throw console.error("Invalid call to Attribute.set. Key ",Z,":: Value ",Q,":: Element ",M),new Error("Attribute value was not simple")},wo=(M,Z,Q)=>{Ye(M.dom,Z,Q)},Yt=(M,Z)=>{M.dom.removeAttribute(Z)},Ue=(M,Z)=>{const Ce=(Z||document).createElement("div");if(Ce.innerHTML=M,!Ce.hasChildNodes()||Ce.childNodes.length>1){const xt="HTML does not have a single root node";throw console.error(xt,M),new Error(xt)}return Xn(Ce.childNodes[0])},Po=(M,Z)=>{const Ce=(Z||document).createElement(M);return Xn(Ce)},Ps=(M,Z)=>{const Ce=(Z||document).createTextNode(M);return Xn(Ce)},Xn=M=>{if(M==null)throw new Error("Node cannot be null or undefined");return{dom:M}},He={fromHtml:Ue,fromTag:Po,fromText:Ps,fromDom:Xn,fromPoint:(M,Z,Q)=>Ut.from(M.dom.elementFromPoint(Z,Q)).map(Xn)};var ut=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),I=tinymce.util.Tools.resolve("tinymce.util.URI");const Ka=M=>M.length>0,Hn=M=>Z=>Z.options.get(M),ot=M=>{const Z=M.options.register;Z("image_dimensions",{processor:"boolean",default:!0}),Z("image_advtab",{processor:"boolean",default:!1}),Z("image_uploadtab",{processor:"boolean",default:!0}),Z("image_prepend_url",{processor:"string",default:""}),Z("image_class_list",{processor:"object[]"}),Z("image_description",{processor:"boolean",default:!0}),Z("image_title",{processor:"boolean",default:!1}),Z("image_caption",{processor:"boolean",default:!1}),Z("image_list",{processor:Q=>{const Ce=Q===!1||Ge(Q)||Ao(Q,Fe)||it(Q);return Ce?{value:Q,valid:Ce}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},Qe=Hn("image_dimensions"),dn=Hn("image_advtab"),Ke=Hn("image_uploadtab"),hn=Hn("image_prepend_url"),Pt=Hn("image_class_list"),ve=Hn("image_description"),tt=Hn("image_title"),Ve=Hn("image_caption"),Ie=Hn("image_list"),Mn=Hn("a11y_advanced_options"),nn=Hn("automatic_uploads"),is=M=>Ka(M.options.get("images_upload_url")),go=M=>Tn(M.options.get("images_upload_handler")),Rs=(M,Z)=>Math.max(parseInt(M,10),parseInt(Z,10)),Xc=M=>new Promise(Z=>{const Q=document.createElement("img"),Ce=Pn=>{Q.onload=Q.onerror=null,Q.parentNode&&Q.parentNode.removeChild(Q),Z(Pn)};Q.onload=()=>{const Pn=Rs(Q.width,Q.clientWidth),Mt=Rs(Q.height,Q.clientHeight),us={width:Pn,height:Mt};Ce(Promise.resolve(us))},Q.onerror=()=>{Ce(Promise.reject(`Failed to get image dimensions for: ${M}`))};const xt=Q.style;xt.visibility="hidden",xt.position="fixed",xt.bottom=xt.left="0px",xt.width=xt.height="auto",document.body.appendChild(Q),Q.src=M}),cs=M=>(M&&(M=M.replace(/px$/,"")),M),es=M=>(M.length>0&&/^[0-9]+$/.test(M)&&(M+="px"),M),ko=M=>{if(M.margin){const Z=String(M.margin).split(" ");switch(Z.length){case 1:M["margin-top"]=M["margin-top"]||Z[0],M["margin-right"]=M["margin-right"]||Z[0],M["margin-bottom"]=M["margin-bottom"]||Z[0],M["margin-left"]=M["margin-left"]||Z[0];break;case 2:M["margin-top"]=M["margin-top"]||Z[0],M["margin-right"]=M["margin-right"]||Z[1],M["margin-bottom"]=M["margin-bottom"]||Z[0],M["margin-left"]=M["margin-left"]||Z[1];break;case 3:M["margin-top"]=M["margin-top"]||Z[0],M["margin-right"]=M["margin-right"]||Z[1],M["margin-bottom"]=M["margin-bottom"]||Z[2],M["margin-left"]=M["margin-left"]||Z[1];break;case 4:M["margin-top"]=M["margin-top"]||Z[0],M["margin-right"]=M["margin-right"]||Z[1],M["margin-bottom"]=M["margin-bottom"]||Z[2],M["margin-left"]=M["margin-left"]||Z[3]}delete M.margin}return M},Xr=(M,Z)=>{const Q=Ie(M);Ge(Q)?fetch(Q).then(Ce=>{Ce.ok&&Ce.json().then(Z)}):it(Q)?Q(Z):Z(Q)},_o=(M,Z,Q)=>{const Ce=()=>{Q.onload=Q.onerror=null,M.selection&&(M.selection.select(Q),M.nodeChanged())};Q.onload=()=>{!Z.width&&!Z.height&&Qe(M)&&M.dom.setAttribs(Q,{width:String(Q.clientWidth),height:String(Q.clientHeight)}),Ce()},Q.onerror=Ce},Jn=M=>new Promise((Z,Q)=>{const Ce=new FileReader;Ce.onload=()=>{Z(Ce.result)},Ce.onerror=()=>{var xt;Q((xt=Ce.error)===null||xt===void 0?void 0:xt.message)},Ce.readAsDataURL(M)}),Ya=M=>M.nodeName==="IMG"&&(M.hasAttribute("data-mce-object")||M.hasAttribute("data-mce-placeholder")),In=(M,Z)=>{const Q=M.options.get;return I.isDomSafe(Z,"img",{allow_html_data_urls:Q("allow_html_data_urls"),allow_script_urls:Q("allow_script_urls"),allow_svg_data_urls:Q("allow_svg_data_urls")})},fs=ut.DOM,js=M=>M.style.marginLeft&&M.style.marginRight&&M.style.marginLeft===M.style.marginRight?cs(M.style.marginLeft):"",Jc=M=>M.style.marginTop&&M.style.marginBottom&&M.style.marginTop===M.style.marginBottom?cs(M.style.marginTop):"",rd=M=>M.style.borderWidth?cs(M.style.borderWidth):"",ts=(M,Z)=>{var Q;return M.hasAttribute(Z)&&(Q=M.getAttribute(Z))!==null&&Q!==void 0?Q:""},uf=M=>M.parentNode!==null&&M.parentNode.nodeName==="FIGURE",dt=(M,Z,Q)=>{Q===""||Q===null?M.removeAttribute(Z):M.setAttribute(Z,Q)},ho=M=>{const Z=fs.create("figure",{class:"image"});fs.insertAfter(Z,M),Z.appendChild(M),Z.appendChild(fs.create("figcaption",{contentEditable:"true"},"Caption")),Z.contentEditable="false"},Jr=M=>{const Z=M.parentNode;Tn(Z)&&(fs.insertAfter(M,Z),fs.remove(Z))},za=M=>{uf(M)?Jr(M):ho(M)},Qc=(M,Z)=>{const Q=M.getAttribute("style"),Ce=Z(Q!==null?Q:"");Ce.length>0?(M.setAttribute("style",Ce),M.setAttribute("data-mce-style",Ce)):M.removeAttribute("style")},ei=(M,Z)=>(Q,Ce,xt)=>{const Pn=Q.style;Pn[Ce]?(Pn[Ce]=es(xt),Qc(Q,Z)):dt(Q,Ce,xt)},ns=(M,Z)=>M.style[Z]?cs(M.style[Z]):ts(M,Z),Bi=(M,Z)=>{const Q=es(Z);M.style.marginLeft=Q,M.style.marginRight=Q},Ni=(M,Z)=>{const Q=es(Z);M.style.marginTop=Q,M.style.marginBottom=Q},Ho=(M,Z)=>{const Q=es(Z);M.style.borderWidth=Q},Qt=(M,Z)=>{M.style.borderStyle=Z},kr=M=>{var Z;return(Z=M.style.borderStyle)!==null&&Z!==void 0?Z:""},Pi=M=>Tn(M)&&M.nodeName==="FIGURE",df=M=>M.nodeName==="IMG",ad=M=>fs.getAttrib(M,"alt").length===0&&fs.getAttrib(M,"role")==="presentation",_r=M=>ad(M)?"":ts(M,"alt"),xr=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),Us=(M,Z)=>{var Q;const Ce=document.createElement("img");return dt(Ce,"style",Z.style),(js(Ce)||Z.hspace!=="")&&Bi(Ce,Z.hspace),(Jc(Ce)||Z.vspace!=="")&&Ni(Ce,Z.vspace),(rd(Ce)||Z.border!=="")&&Ho(Ce,Z.border),(kr(Ce)||Z.borderStyle!=="")&&Qt(Ce,Z.borderStyle),M((Q=Ce.getAttribute("style"))!==null&&Q!==void 0?Q:"")},ti=(M,Z)=>{const Q=document.createElement("img");if($i(M,{...Z,caption:!1},Q),fa(Q,Z.alt,Z.isDecorative),Z.caption){const Ce=fs.create("figure",{class:"image"});return Ce.appendChild(Q),Ce.appendChild(fs.create("figcaption",{contentEditable:"true"},"Caption")),Ce.contentEditable="false",Ce}else return Q},cd=(M,Z)=>({src:ts(Z,"src"),alt:_r(Z),title:ts(Z,"title"),width:ns(Z,"width"),height:ns(Z,"height"),class:ts(Z,"class"),style:M(ts(Z,"style")),caption:uf(Z),hspace:js(Z),vspace:Jc(Z),border:rd(Z),borderStyle:kr(Z),isDecorative:ad(Z)}),Cr=(M,Z,Q,Ce,xt)=>{Q[Ce]!==Z[Ce]&&xt(M,Ce,String(Q[Ce]))},fa=(M,Z,Q)=>{if(Q){fs.setAttrib(M,"role","presentation");const Ce=He.fromDom(M);wo(Ce,"alt","")}else{if(On(Z)){const Ce=He.fromDom(M);Yt(Ce,"alt")}else{const Ce=He.fromDom(M);wo(Ce,"alt",Z)}fs.getAttrib(M,"role")==="presentation"&&fs.setAttrib(M,"role","")}},Ts=(M,Z,Q)=>{(Q.alt!==Z.alt||Q.isDecorative!==Z.isDecorative)&&fa(M,Q.alt,Q.isDecorative)},$r=(M,Z)=>(Q,Ce,xt)=>{M(Q,xt),Qc(Q,Z)},$i=(M,Z,Q)=>{const Ce=cd(M,Q);Cr(Q,Ce,Z,"caption",(xt,Pn,Mt)=>za(xt)),Cr(Q,Ce,Z,"src",dt),Cr(Q,Ce,Z,"title",dt),Cr(Q,Ce,Z,"width",ei("width",M)),Cr(Q,Ce,Z,"height",ei("height",M)),Cr(Q,Ce,Z,"class",dt),Cr(Q,Ce,Z,"style",$r((xt,Pn)=>dt(xt,"style",Pn),M)),Cr(Q,Ce,Z,"hspace",$r(Bi,M)),Cr(Q,Ce,Z,"vspace",$r(Ni,M)),Cr(Q,Ce,Z,"border",$r(Ho,M)),Cr(Q,Ce,Z,"borderStyle",$r(Qt,M)),Ts(Q,Ce,Z)},Rl=(M,Z)=>{const Q=M.dom.styles.parse(Z),Ce=ko(Q),xt=M.dom.styles.parse(M.dom.styles.serialize(Ce));return M.dom.styles.serialize(xt)},ff=M=>{const Z=M.selection.getNode(),Q=M.dom.getParent(Z,"figure.image");return Q?M.dom.select("img",Q)[0]:Z&&(Z.nodeName!=="IMG"||Ya(Z))?null:Z},ni=(M,Z)=>{var Q;const Ce=M.dom,xt=yn(M.schema.getTextBlockElements(),(Mt,us)=>!M.schema.isValidChild(us,"figure")),Pn=Ce.getParent(Z.parentNode,Mt=>ce(xt,Mt.nodeName),M.getBody());return Pn&&(Q=Ce.split(Pn,Z))!==null&&Q!==void 0?Q:Z},mf=M=>{const Z=ff(M);return Z?cd(Q=>Rl(M,Q),Z):xr()},me=(M,Z)=>{const Q=ti(xt=>Rl(M,xt),Z);M.dom.setAttrib(Q,"data-mce-id","__mcenew"),M.focus(),M.selection.setContent(Q.outerHTML);const Ce=M.dom.select('*[data-mce-id="__mcenew"]')[0];if(M.dom.setAttrib(Ce,"data-mce-id",null),Pi(Ce)){const xt=ni(M,Ce);M.selection.select(xt)}else M.selection.select(Ce)},Qr=(M,Z)=>{M.dom.setAttrib(Z,"src",Z.getAttribute("src"))},Ii=(M,Z)=>{if(Z){const Q=M.dom.is(Z.parentNode,"figure.image")?Z.parentNode:Z;M.dom.remove(Q),M.focus(),M.nodeChanged(),M.dom.isEmpty(M.getBody())&&(M.setContent(""),M.selection.setCursorLocation())}},Np=(M,Z)=>{const Q=ff(M);if(Q)if($i(Ce=>Rl(M,Ce),Z,Q),Qr(M,Q),Pi(Q.parentNode)){const Ce=Q.parentNode;ni(M,Ce),M.selection.select(Q.parentNode)}else M.selection.select(Q),_o(M,Z,Q)},Em=(M,Z)=>{const Q=Z.src;return{...Z,src:In(M,Q)?Q:""}},os=(M,Z)=>{const Q=ff(M);if(Q){const xt={...cd(Mt=>Rl(M,Mt),Q),...Z},Pn=Em(M,xt);xt.src?Np(M,Pn):Ii(M,Q)}else Z.src&&me(M,{...xr(),...Z})},Oc=(M=>(...Z)=>{if(Z.length===0)throw new Error("Can't merge zero objects");const Q={};for(let Ce=0;Ce<Z.length;Ce++){const xt=Z[Ce];for(const Pn in xt)Re(xt,Pn)&&(Q[Pn]=M(Q[Pn],xt[Pn]))}return Q})((M,Z)=>Ze(M)&&Ze(Z)?Oc(M,Z):Z);var du=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),ls=tinymce.util.Tools.resolve("tinymce.util.Tools");const Es=M=>Ge(M.value)?M.value:"",Fi=M=>Ge(M.text)?M.text:Ge(M.title)?M.title:"",Xa=(M,Z)=>{const Q=[];return ls.each(M,Ce=>{const xt=Fi(Ce);if(Ce.menu!==void 0){const Pn=Xa(Ce.menu,Z);Q.push({text:xt,items:Pn})}else{const Pn=Z(Ce);Q.push({text:xt,value:Pn})}}),Q},el=(M=Es)=>Z=>Z?Ut.from(Z).map(Q=>Xa(Q,M)):Ut.none(),fu=M=>el(Es)(M),tl=M=>Re(M,"items"),So=(M,Z)=>lo(M,Q=>tl(Q)?So(Q.items,Z):Q.value===Z?Ut.some(Q):Ut.none()),mu={sanitizer:el,sanitize:fu,findEntry:(M,Z)=>M.bind(Q=>So(Q,Z))},Dc={makeTab:M=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},jr=M=>{const Z=mu.sanitizer(ps=>M.convertURL(ps.value||ps.url||"","src")),Q=new Promise(ps=>{Xr(M,Bl=>{ps(Z(Bl).map(er=>Nn([[{text:"None",value:""}],er])))})}),Ce=mu.sanitize(Pt(M)),xt=dn(M),Pn=Ke(M),Mt=is(M),us=go(M),Xe=mf(M),Vo=ve(M),ma=tt(M),$s=Qe(M),ar=Ve(M),rl=Mn(M),no=nn(M),si=Ut.some(hn(M)).filter(ps=>Ge(ps)&&ps.length>0);return Q.then(ps=>({image:Xe,imageList:ps,classList:Ce,hasAdvTab:xt,hasUploadTab:Pn,hasUploadUrl:Mt,hasUploadHandler:us,hasDescription:Vo,hasImageTitle:ma,hasDimensions:$s,hasImageCaption:ar,prependURL:si,hasAccessibilityOptions:rl,automaticUploads:no}))},ms=M=>{const Z={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},Q=M.imageList.map(ma=>({name:"images",type:"listbox",label:"Image list",items:ma})),Ce={name:"alt",type:"input",label:"Alternative description",enabled:!(M.hasAccessibilityOptions&&M.image.isDecorative)},xt={name:"title",type:"input",label:"Image title"},Pn={name:"dimensions",type:"sizeinput"},Mt={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},us=M.classList.map(ma=>({name:"classes",type:"listbox",label:"Class",items:ma})),Xe={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Vo=ma=>ma?{type:"grid",columns:2}:{type:"panel"};return Nn([[Z],Q.toArray(),M.hasAccessibilityOptions&&M.hasDescription?[Mt]:[],M.hasDescription?[Ce]:[],M.hasImageTitle?[xt]:[],M.hasDimensions?[Pn]:[],[{...Vo(M.classList.isSome()&&M.hasImageCaption),items:Nn([us.toArray(),M.hasImageCaption?[Xe]:[]])}]])},pf={makeTab:M=>({title:"General",name:"general",items:ms(M)}),makeItems:ms},Oa={makeTab:M=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},Da=M=>({prevImage:mu.findEntry(M.imageList,M.image.src),prevAlt:M.image.alt,open:!0}),dr=M=>({src:{value:M.src,meta:{}},images:M.src,alt:M.alt,title:M.title,dimensions:{width:M.width,height:M.height},classes:M.class,caption:M.caption,style:M.style,vspace:M.vspace,border:M.border,hspace:M.hspace,borderstyle:M.borderStyle,fileinput:[],isDecorative:M.isDecorative}),id=(M,Z)=>({src:M.src.value,alt:(M.alt===null||M.alt.length===0)&&Z?null:M.alt,title:M.title,width:M.dimensions.width,height:M.dimensions.height,class:M.classes,style:M.style,caption:M.caption,hspace:M.hspace,vspace:M.vspace,border:M.border,borderStyle:M.borderstyle,isDecorative:M.isDecorative}),Ml=(M,Z)=>/^(?:[a-zA-Z]+:)?\/\//.test(Z)?Ut.none():M.prependURL.bind(Q=>Z.substring(0,Q.length)!==Q?Ut.some(Q+Z):Ut.none()),lc=(M,Z)=>{const Q=Z.getData();Ml(M,Q.src.value).each(Ce=>{Z.setData({src:{value:Ce,meta:Q.src.meta}})})},nl=(M,Z,Q)=>{M.hasDescription&&Ge(Q.alt)&&(Z.alt=Q.alt),M.hasAccessibilityOptions&&(Z.isDecorative=Q.isDecorative||Z.isDecorative||!1),M.hasImageTitle&&Ge(Q.title)&&(Z.title=Q.title),M.hasDimensions&&(Ge(Q.width)&&(Z.dimensions.width=Q.width),Ge(Q.height)&&(Z.dimensions.height=Q.height)),Ge(Q.class)&&mu.findEntry(M.classList,Q.class).each(Ce=>{Z.classes=Ce.value}),M.hasImageCaption&&_n(Q.caption)&&(Z.caption=Q.caption),M.hasAdvTab&&(Ge(Q.style)&&(Z.style=Q.style),Ge(Q.vspace)&&(Z.vspace=Q.vspace),Ge(Q.border)&&(Z.border=Q.border),Ge(Q.hspace)&&(Z.hspace=Q.hspace),Ge(Q.borderstyle)&&(Z.borderstyle=Q.borderstyle))},oi=(M,Z)=>{const Q=Z.getData(),Ce=Q.src.meta;if(Ce!==void 0){const xt=Oc({},Q);nl(M,xt,Ce),Z.setData(xt)}},$p=(M,Z,Q,Ce)=>{const xt=Ce.getData(),Pn=xt.src.value,Mt=xt.src.meta||{};!Mt.width&&!Mt.height&&Z.hasDimensions&&(Ka(Pn)?M.imageSize(Pn).then(us=>{Q.open&&Ce.setData({dimensions:us})}).catch(us=>console.error(us)):Ce.setData({dimensions:{width:"",height:""}}))},gf=(M,Z,Q)=>{const Ce=Q.getData(),xt=mu.findEntry(M.imageList,Ce.src.value);Z.prevImage=xt,Q.setData({images:xt.map(Pn=>Pn.value).getOr("")})},hf=(M,Z,Q,Ce)=>{lc(Z,Ce),oi(Z,Ce),$p(M,Z,Q,Ce),gf(Z,Q,Ce)},uc=(M,Z,Q,Ce)=>{const xt=Ce.getData(),Pn=mu.findEntry(Z.imageList,xt.images);Pn.each(Mt=>{xt.alt===""||Q.prevImage.map(Xe=>Xe.text===xt.alt).getOr(!1)?Mt.value===""?Ce.setData({src:Mt,alt:Q.prevAlt}):Ce.setData({src:Mt,alt:Mt.text}):Ce.setData({src:Mt})}),Q.prevImage=Pn,hf(M,Z,Q,Ce)},ol=(M,Z,Q,Ce)=>{const xt=Ce.getData();Ce.block("Uploading image"),E(xt.fileinput).fold(()=>{Ce.unblock()},Pn=>{const Mt=URL.createObjectURL(Pn),us=()=>{Ce.unblock(),URL.revokeObjectURL(Mt)},Xe=Vo=>{Ce.setData({src:{value:Vo,meta:{}}}),Ce.showTab("general"),hf(M,Z,Q,Ce)};Jn(Pn).then(Vo=>{const ma=M.createBlobCache(Pn,Mt,Vo);Z.automaticUploads?M.uploadImage(ma).then($s=>{Xe($s.url),us()}).catch($s=>{us(),M.alertErr($s)}):(M.addToBlobCache(ma),Xe(ma.blobUri()),Ce.unblock())})})},gu=(M,Z,Q)=>(Ce,xt)=>{xt.name==="src"?hf(M,Z,Q,Ce):xt.name==="images"?uc(M,Z,Q,Ce):xt.name==="alt"?Q.prevAlt=Ce.getData().alt:xt.name==="fileinput"?ol(M,Z,Q,Ce):xt.name==="isDecorative"&&Ce.setEnabled("alt",!Ce.getData().isDecorative)},bf=M=>()=>{M.open=!1},zm=M=>M.hasAdvTab||M.hasUploadUrl||M.hasUploadHandler?{type:"tabpanel",tabs:Nn([[pf.makeTab(M)],M.hasAdvTab?[Dc.makeTab(M)]:[],M.hasUploadTab&&(M.hasUploadUrl||M.hasUploadHandler)?[Oa.makeTab(M)]:[]])}:{type:"panel",items:pf.makeItems(M)},Am=(M,Z,Q)=>Ce=>{const xt=Oc(dr(Z.image),Ce.getData()),Pn={...xt,style:Us(Q.normalizeCss,id(xt,!1))};M.execCommand("mceUpdateImage",!1,id(Pn,Z.hasAccessibilityOptions)),M.editorUpload.uploadImagesAuto(),Ce.close()},hu=M=>Z=>In(M,Z)?Xc(M.documentBaseURI.toAbsolute(Z)).then(Q=>({width:String(Q.width),height:String(Q.height)})):Promise.resolve({width:"",height:""}),Om=M=>(Z,Q,Ce)=>{var xt;return M.editorUpload.blobCache.create({blob:Z,blobUri:Q,name:(xt=Z.name)===null||xt===void 0?void 0:xt.replace(/\.[^\.]+$/,""),filename:Z.name,base64:Ce.split(",")[1]})},Do=M=>Z=>{M.editorUpload.blobCache.add(Z)},dc=M=>Z=>{M.windowManager.alert(Z)},Dm=M=>Z=>Rl(M,Z),yf=M=>Z=>M.dom.parseStyle(Z),fc=M=>(Z,Q)=>M.dom.serializeStyle(Z,Q),xh=M=>Z=>du(M).upload([Z],!1).then(Q=>{var Ce;return Q.length===0?Promise.reject("Failed to upload image"):Q[0].status===!1?Promise.reject((Ce=Q[0].error)===null||Ce===void 0?void 0:Ce.message):Q[0]}),bu=M=>{const Z={imageSize:hu(M),addToBlobCache:Do(M),createBlobCache:Om(M),alertErr:dc(M),normalizeCss:Dm(M),parseStyle:yf(M),serializeStyle:fc(M),uploadImage:xh(M)};return{open:()=>{jr(M).then(Ce=>{const xt=Da(Ce);return{title:"Insert/Edit Image",size:"normal",body:zm(Ce),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:dr(Ce.image),onSubmit:Am(M,Ce,Z),onChange:gu(Z,Ce,xt),onClose:bf(xt)}}).then(M.windowManager.open)}}},rr=M=>{M.addCommand("mceImage",bu(M).open),M.addCommand("mceUpdateImage",(Z,Q)=>{M.undoManager.transact(()=>os(M,Q))})},fr=M=>{const Z=M.attr("class");return Tn(Z)&&/\bimage\b/.test(Z)},sl=M=>Z=>{let Q=Z.length;const Ce=xt=>{xt.attr("contenteditable",M?"true":null)};for(;Q--;){const xt=Z[Q];fr(xt)&&(xt.attr("contenteditable",M?"false":null),ls.each(xt.getAll("figcaption"),Ce))}},vf=M=>{M.on("PreInit",()=>{M.parser.addNodeFilter("figure",sl(!0)),M.serializer.addNodeFilter("figure",sl(!1))})},_t=M=>Z=>{const Q=()=>{Z.setEnabled(M.selection.isEditable())};return M.on("NodeChange",Q),Q(),()=>{M.off("NodeChange",Q)}},ld=M=>{M.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:bu(M).open,onSetup:Z=>{Z.setActive(Tn(ff(M)));const Q=M.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",Z.setActive).unbind,Ce=_t(M)(Z);return()=>{Q(),Ce()}}}),M.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:bu(M).open,onSetup:_t(M)}),M.ui.registry.addContextMenu("image",{update:Z=>M.selection.isEditable()&&(Pi(Z)||df(Z)&&!Ya(Z))?["image"]:[]})};var ks=()=>{F.add("image",M=>{ot(M),vf(M),ld(M),rr(M)})};ks()})();tinymce.addI18n("zh_TW",{Redo:"重做",Undo:"撤銷",Cut:"剪下",Copy:"複製",Paste:"貼上","Select all":"全選","New document":"新文件",Ok:"確定",Cancel:"取消","Visual aids":"小幫手",Bold:"粗體",Italic:"斜體",Underline:"下劃線",Strikethrough:"刪除線",Superscript:"上標",Subscript:"下標","Clear formatting":"清除格式","Align left":"左邊對齊","Align center":"中間對齊","Align right":"右邊對齊",Justify:"左右對齊","Bullet list":"項目清單","Numbered list":"數字清單","Decrease indent":"減少縮排","Increase indent":"增加縮排",Close:"關閉",Formats:"格式","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"您的瀏覽器不支援存取剪貼簿，可以使用快速鍵 Ctrl + X/C/V 代替剪下、複製與貼上。",Headers:"標題","Header 1":"標題 1","Header 2":"標題 2","Header 3":"標題 3","Header 4":"標題 4","Header 5":"標題 5","Header 6":"標題 6",Headings:"標題","Heading 1":"標題1","Heading 2":"標題2","Heading 3":"標題3","Heading 4":"標題4","Heading 5":"標題5","Heading 6":"標題6",Preformatted:"預先格式化的",Div:"Div",Pre:"Pre",Code:"代碼",Paragraph:"段落",Blockquote:"引文區塊",Inline:"內聯",Blocks:"基塊","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"目前將以純文字的模式貼上，您可以再點選一次取消。",Fonts:"字型","Font Sizes":"字型大小",Class:"類型","Browse for an image":"從圖片中瀏覽",OR:"或","Drop an image here":"拖曳圖片至此",Upload:"上傳",Block:"區塊",Align:"對齊",Default:"預設",Circle:"空心圓",Disc:"實心圓",Square:"正方形","Lower Alpha":"小寫英文字母","Lower Greek":"希臘字母","Lower Roman":"小寫羅馬數字","Upper Alpha":"大寫英文字母","Upper Roman":"大寫羅馬數字","Anchor...":"錨點...",Name:"名稱",Id:"Id","Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"Id應以字母開頭，後面接著字母，數字，破折號，點數，冒號或下劃線。","You have unsaved changes are you sure you want to navigate away?":"編輯尚未被儲存，你確定要離開？","Restore last draft":"載入上一次編輯的草稿","Special character...":"特殊字元......","Source code":"原始碼","Insert/Edit code sample":"插入/編輯 程式碼範例",Language:"語言","Code sample...":"程式碼範例...","Color Picker":"選色器",R:"紅",G:"綠",B:"藍","Left to right":"從左到右","Right to left":"從右到左","Emoticons...":"表情符號…","Metadata and Document Properties":"後設資料與文件屬性",Title:"標題",Keywords:"關鍵字",Description:"描述",Robots:"機器人",Author:"作者",Encoding:"編碼",Fullscreen:"全螢幕",Action:"動作",Shortcut:"快速鍵",Help:"幫助",Address:"地址","Focus to menubar":"跳至選單列","Focus to toolbar":"跳至工具列","Focus to element path":"跳至HTML元素列","Focus to contextual toolbar":"跳至快捷選單","Insert link (if link plugin activated)":"新增捷徑 (捷徑外掛啟用時)","Save (if save plugin activated)":"儲存 (儲存外掛啟用時)","Find (if searchreplace plugin activated)":"尋找 (尋找取代外掛啟用時)","Plugins installed ({0}):":"({0}) 個外掛已安裝：","Premium plugins:":"加值外掛：","Learn more...":"了解更多...","You are using {0}":"您正在使用 {0}",Plugins:"外掛","Handy Shortcuts":"快速鍵","Horizontal line":"水平線","Insert/edit image":"插入/編輯 圖片","Image description":"圖片描述",Source:"圖片網址",Dimensions:"尺寸","Constrain proportions":"等比例縮放",General:"一般",Advanced:"進階",Style:"樣式","Vertical space":"高度","Horizontal space":"寬度",Border:"邊框","Insert image":"插入圖片","Image...":"圖片......","Image list":"圖片清單","Rotate counterclockwise":"逆時針旋轉","Rotate clockwise":"順時針旋轉","Flip vertically":"垂直翻轉","Flip horizontally":"水平翻轉","Edit image":"編輯圖片","Image options":"圖片選項","Zoom in":"放大","Zoom out":"縮小",Crop:"裁剪",Resize:"調整大小",Orientation:"方向",Brightness:"亮度",Sharpen:"銳化",Contrast:"對比","Color levels":"顏色層次",Gamma:"伽馬值",Invert:"反轉",Apply:"應用",Back:"後退","Insert date/time":"插入 日期/時間","Date/time":"日期/時間","Insert/Edit Link":"插入/編輯連結","Insert/edit link":"插入/編輯連結","Text to display":"顯示文字",Url:"網址","Open link in...":"開啟連結於...","Current window":"目前視窗",None:"無","New window":"另開視窗","Remove link":"移除連結",Anchors:"加入錨點","Link...":"連結...","Paste or type a link":"貼上或輸入連結","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"你所填寫的URL為電子郵件，需要加上mailto:前綴嗎？","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"你所填寫的URL屬於外部鏈接，需要加上http://:前綴嗎？","Link list":"連結清單","Insert video":"插入影音","Insert/edit video":"插件/編輯 影音","Insert/edit media":"插入/編輯 媒體","Alternative source":"替代影音","Alternative source URL":"替代來源URL","Media poster (Image URL)":"媒體海報（影像Image URL）","Paste your embed code below:":"請將您的嵌入式程式碼貼在下面:",Embed:"嵌入碼","Media...":"媒體...","Nonbreaking space":"不分行的空格","Page break":"分頁","Paste as text":"以純文字貼上",Preview:"預覽","Print...":"列印...",Save:"儲存",Find:"搜尋","Replace with":"更換",Replace:"替換","Replace all":"替換全部",Previous:"上一個",Next:"下一個","Find and replace...":"尋找及取代...","Could not find the specified string.":"無法查詢到此特定字串","Match case":"相匹配案件","Find whole words only":"僅找出完整字匯","Spell check":"拼寫檢查",Ignore:"忽略","Ignore all":"忽略所有",Finish:"完成","Add to Dictionary":"加入字典中","Insert table":"插入表格","Table properties":"表格屬性","Delete table":"刪除表格",Cell:"儲存格",Row:"列",Column:"行","Cell properties":"儲存格屬性","Merge cells":"合併儲存格","Split cell":"分割儲存格","Insert row before":"插入列在...之前","Insert row after":"插入列在...之後","Delete row":"刪除列","Row properties":"列屬性","Cut row":"剪下列","Copy row":"複製列","Paste row before":"貼上列在...之前","Paste row after":"貼上列在...之後","Insert column before":"插入欄位在...之前","Insert column after":"插入欄位在...之後","Delete column":"刪除行",Cols:"欄位段",Rows:"列",Width:"寬度",Height:"高度","Cell spacing":"儲存格得間距","Cell padding":"儲存格的邊距","Show caption":"顯示標題",Left:"左邊",Center:"中間",Right:"右邊","Cell type":"儲存格的類型",Scope:"範圍",Alignment:"對齊","H Align":"水平位置","V Align":"垂直位置",Top:"置頂",Middle:"置中",Bottom:"置底","Header cell":"標頭儲存格","Row group":"列群組","Column group":"欄位群組","Row type":"行的類型",Header:"標頭",Body:"主體",Footer:"頁尾","Border color":"邊框顏色","Insert template...":"插入樣版...",Templates:"樣版",Template:"樣板","Text color":"文字顏色","Background color":"背景顏色","Custom...":"自訂","Custom color":"自訂顏色","No color":"No color","Remove color":"移除顏色","Table of Contents":"目錄","Show blocks":"顯示區塊資訊","Show invisible characters":"顯示隱藏字元","Word count":"計算字數",Count:"計算",Document:"文件",Selection:"選項",Words:"字數","Words: {0}":"字數：{0}","{0} words":"{0} 字元",File:"檔案",Edit:"編輯",Insert:"插入",View:"檢視",Format:"格式",Table:"表格",Tools:"工具","Powered by {0}":"由 {0} 提供","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"豐富的文本區域。按ALT-F9前往主選單。按ALT-F10呼叫工具欄。按ALT-0尋求幫助","Image title":"圖片標題","Border width":"框線寬度","Border style":"框線樣式",Error:"錯誤",Warn:"警告",Valid:"有效","To open the popup, press Shift+Enter":"要開啟彈出視窗，請按Shift+Enter","Rich Text Area. Press ALT-0 for help.":"富文本區域。請按ALT-0尋求協助。","System Font":"系統字型","Failed to upload image: {0}":"無法上傳影像：{0}","Failed to load plugin: {0} from url {1}":"無法上傳插件：{0}自url{1}","Failed to load plugin url: {0}":"無法上傳插件：{0}","Failed to initialize plugin: {0}":"無法啟動插件：{0}",example:"範例",Search:"搜索",All:"全部",Currency:"貨幣",Text:"文本",Quotations:"引用",Mathematical:"數學","Extended Latin":"拉丁字母擴充",Symbols:"符號",Arrows:"箭頭","User Defined":"使用者已定義","dollar sign":"美元符號","currency sign":"貨幣符號","euro-currency sign":"歐元符號","colon sign":"科朗符號","cruzeiro sign":"克魯賽羅符號","french franc sign":"法朗符號","lira sign":"里拉符號","mill sign":"文符號","naira sign":"奈拉符號","peseta sign":"比塞塔符號","rupee sign":"盧比符號","won sign":"韓圜符號","new sheqel sign":"新謝克爾符號","dong sign":"越南盾符號","kip sign":"老撾幣符號","tugrik sign":"蒙古幣符號","drachma sign":"德克拉馬符號","german penny symbol":"德國分符號","peso sign":"披索符號","guarani sign":"巴拉圭幣符號","austral sign":"阿根廷幣符號","hryvnia sign":"烏克蘭幣符號","cedi sign":"迦納幣符號","livre tournois sign":"里弗爾符號","spesmilo sign":"國際幣符號","tenge sign":"哈薩克幣符號","indian rupee sign":"印度盧比符號","turkish lira sign":"土耳其里拉符號","nordic mark sign":"北歐馬克符號","manat sign":"亞塞拜然幣符號","ruble sign":"盧布符號","yen character":"日圓符號","yuan character":"人民幣符號","yuan character, in hong kong and taiwan":"港元與台幣符號","yen/yuan character variant one":"日圓/人民幣符號變化型","Loading emoticons...":"載入表情符號…","Could not load emoticons":"無法載入表情符號",People:"人","Animals and Nature":"動物與自然","Food and Drink":"飲食",Activity:"活動","Travel and Places":"旅行與地點",Objects:"物件",Flags:"旗標",Characters:"字元","Characters (no spaces)":"字元（無空格）","{0} characters":"{0}字元","Error: Form submit field collision.":"錯誤：表格遞交欄位衝突。","Error: No form element found.":"錯誤：找不到表格元素。",Update:"更新","Color swatch":"色彩樣本",Turquoise:"土耳其藍",Green:"綠色",Blue:"藍色",Purple:"紫色","Navy Blue":"深藍色","Dark Turquoise":"深土耳其藍","Dark Green":"深綠色","Medium Blue":"中藍色","Medium Purple":"中紫色","Midnight Blue":"黑藍色",Yellow:"黃色",Orange:"橙色",Red:"紅色","Light Gray":"淺灰色",Gray:"灰色","Dark Yellow":"深黃色","Dark Orange":"深橙色","Dark Red":"暗紅色","Medium Gray":"中灰色","Dark Gray":"深灰色","Light Green":"淡綠色","Light Yellow":"淺黃色","Light Red":"淺紅色","Light Purple":"淺紫色","Light Blue":"淺藍色","Dark Purple":"深紫色","Dark Blue":"深藍色",Black:"黑色",White:"白色","Switch to or from fullscreen mode":"轉換自/至全螢幕模式","Open help dialog":"開啟協助對話",history:"歷史",styles:"樣式",formatting:"格式",alignment:"對齊",indentation:"縮排","permanent pen":"永久性筆",comments:"註解","Format Painter":"複製格式","Insert/edit iframe":"插入/編輯iframe",Capitalization:"大寫",lowercase:"小寫",UPPERCASE:"大寫","Title Case":"字首大寫","Permanent Pen Properties":"永久標記屬性","Permanent pen properties...":"永久標記屬性......",Font:"字型",Size:"字形大小","More...":"更多資訊......","Spellcheck Language":"拼寫語言","Select...":"選擇......",Preferences:"首選項",Yes:"是",No:"否","Keyboard Navigation":"鍵盤導航",Version:"版本",Anchor:"加入錨點","Special character":"特殊字元","Code sample":"程式碼範例",Color:"顏色",Emoticons:"表情","Document properties":"文件的屬性",Image:"圖片","Insert link":"插入連結",Target:"開啟方式",Link:"連結",Poster:"預覽圖片",Media:"媒體",Print:"列印",Prev:"上一個","Find and replace":"尋找及取代","Whole words":"整個單字",Spellcheck:"拼字檢查",Caption:"表格標題","Insert template":"插入樣版"});
