import{_ as h}from"./logo-CC90_112.js";import"./database-ZJ_VP24k.js";import{A as b}from"./useFireStorage-Hc109o-2.js";import{d as x,r as k,b as y,o as V,c as S,a as s,e as l,u as p,f as I,q as r,k as C,x as L}from"./index-CJPEv9_p.js";import{S as B,E as A}from"./useEncryp-Q3ynrUA9.js";import{s as f,e as _}from"./useToast-D3Ko8A9i.js";import{_ as E}from"./InputPasswordFloat.vue_vue_type_script_setup_true_lang-BQJCXMtf.js";import{_ as U}from"./InputTextFloat.vue_vue_type_script_setup_true_lang-BrWc5ltn.js";/* empty css                                                                       */import"./Editor-kc3vYnik.js";import"./user-BioliIlB.js";const $={class:"surface-ground flex align-items-center justify-content-center min-h-screen min-w-screen overflow-hidden"},j={class:"flex flex-column align-items-center justify-content-center w-11 md:w-auto"},q=s("img",{src:h,alt:"Image",class:"mb-5 w-6rem flex-shrink-0"},null,-1),N={class:"w-11 md:w-auto",style:{"border-radius":"56px",padding:"0.3rem",background:"linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"}},T={class:"w-full surface-card py-8 px-5 sm:px-8",style:{"border-radius":"53px"}},D=s("div",{class:"text-center mb-4"},[s("div",{class:"text-900 text-3xl font-medium mb-3"},"帳戶登入")],-1),M={class:"field mt-6"},R={class:"field mt-6"},z={class:"flex align-items-center justify-content-between my-4 gap-5"},F={class:"flex align-items-center"},G=s("label",{for:"rememberme1",class:"mr-3"},"記住帳密",-1),H=s("label",{for:"rememberme1"},"保持登入狀態",-1),ae=x({__name:"AuthLogin",setup(J){const i=C(),n=new B,c=new A,m=new b,e=k({email:"",password:"",checked:!1,keepSignIn:!0}),v=async()=>{e.value.keepSignIn?await m.keepSignIn(e.value.email,e.value.password).then(t=>{t&&(u(),f(`${t}`),setTimeout(()=>{i.push("/")},700))}).catch(t=>{_(t)}):await m.signIn(e.value.email,e.value.password).then(t=>{t&&(u(),f(`${t}`),setTimeout(()=>{i.push("/")},700))}).catch(t=>{_(t)})};function u(){e.value.checked?(e.value.password=c.aesEncryp(e.value.password),n.setLocalStorage("account",e.value)):n.removeLocalStorage("account")}return y(()=>{n.getLocalStorage("account")&&(e.value=n.getLocalStorage("account"),e.value.password=c.aesDecrypt(e.value.password),e.value.keepSignIn=!0)}),(t,a)=>{const d=r("Checkbox"),g=r("router-link"),w=r("Button");return V(),S("div",$,[s("div",j,[q,s("div",N,[s("div",T,[D,s("div",null,[s("div",M,[l(p(U),{label:"信箱",modelValue:e.value.email,"onUpdate:modelValue":a[0]||(a[0]=o=>e.value.email=o),name:"email1",rules:"required|email","input-class":"md:w-30rem"},null,8,["modelValue"])]),s("div",R,[l(p(E),{label:"密碼",modelValue:e.value.password,"onUpdate:modelValue":a[1]||(a[1]=o=>e.value.password=o),name:"password1",rules:"required",feedback:!1,"input-class":"md:w-30rem"},null,8,["modelValue"])]),s("div",z,[s("div",F,[l(d,{modelValue:e.value.checked,"onUpdate:modelValue":a[2]||(a[2]=o=>e.value.checked=o),id:"rememberme1",binary:"",class:"mr-1"},null,8,["modelValue"]),G,l(d,{modelValue:e.value.keepSignIn,"onUpdate:modelValue":a[3]||(a[3]=o=>e.value.keepSignIn=o),id:"rememberme1",binary:"",class:"mr-1"},null,8,["modelValue"]),H]),l(g,{class:"font-medium no-underline ml-2 text-right cursor-pointer",style:{color:"var(--primary-color)"},to:"/auth/forget"},{default:I(()=>[L("忘記密碼?")]),_:1})]),l(w,{label:"登入",class:"w-full p-3 text-xl mb-2",onClick:v})])])])])])}}});export{ae as default};
