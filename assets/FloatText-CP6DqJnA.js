import{b as L,V,r as m,W as j,X as H,Y as $,u as M,Z as N,p as A,w as k,H as q,d as z,q as D,o as I,c as Y,a as b,A as B,n as G,D as Q,C as R,_ as X}from"./index-BAnCtb42.js";import"./index-CkfW3gqd.js";function w(e){return H()?($(e),!0):!1}function g(e){return typeof e=="function"?e():M(e)}const S=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Z=Object.prototype.toString,J=e=>Z.call(e)==="[object Object]",K=()=>{};function U(e){let t;function o(){return t||(t=e()),t}return o.reset=async()=>{const a=t;t=void 0,a&&await a},o}function ee(e){return N()}function te(e,t=!0,o){ee()?L(e,o):t?e():V(e)}function ne(e,t,o={}){const{immediate:a=!0}=o,n=m(!1);let i=null;function s(){i&&(clearTimeout(i),i=null)}function r(){n.value=!1,s()}function c(...u){s(),n.value=!0,i=setTimeout(()=>{n.value=!1,i=null,e(...u)},g(t))}return a&&(n.value=!0,S&&c()),w(r),{isPending:j(n),start:c,stop:r}}function oe(e){var t;const o=g(e);return(t=o==null?void 0:o.$el)!=null?t:o}const C=S?window:void 0,O=S?window.navigator:void 0;function E(...e){let t,o,a,n;if(typeof e[0]=="string"||Array.isArray(e[0])?([o,a,n]=e,t=C):[t,o,a,n]=e,!t)return K;Array.isArray(o)||(o=[o]),Array.isArray(a)||(a=[a]);const i=[],s=()=>{i.forEach(d=>d()),i.length=0},r=(d,f,v,y)=>(d.addEventListener(f,v,y),()=>d.removeEventListener(f,v,y)),c=k(()=>[oe(t),g(n)],([d,f])=>{if(s(),!d)return;const v=J(f)?{...f}:f;i.push(...o.flatMap(y=>a.map(h=>r(d,y,h,v))))},{immediate:!0,flush:"post"}),u=()=>{c(),s()};return w(u),u}function ie(){const e=m(!1),t=N();return t&&L(()=>{e.value=!0},t),e}function T(e){const t=ie();return A(()=>(t.value,!!e()))}function ae(e,t={}){const{window:o=C}=t,a=T(()=>o&&"matchMedia"in o&&typeof o.matchMedia=="function");let n;const i=m(!1),s=u=>{i.value=u.matches},r=()=>{n&&("removeEventListener"in n?n.removeEventListener("change",s):n.removeListener(s))},c=q(()=>{a.value&&(r(),n=o.matchMedia(g(e)),"addEventListener"in n?n.addEventListener("change",s):n.addListener(s),i.value=n.matches)});return w(()=>{c(),r(),n=void 0}),i}function W(e,t={}){const{controls:o=!1,navigator:a=O}=t,n=T(()=>a&&"permissions"in a);let i;const s=typeof e=="string"?{name:e}:e,r=m(),c=()=>{i&&(r.value=i.state)},u=U(async()=>{if(n.value){if(!i)try{i=await a.permissions.query(s),E(i,"change",c),c()}catch{r.value="prompt"}return i}});return u(),o?{state:r,isSupported:n,query:u}:r}function se(e={}){const{navigator:t=O,read:o=!1,source:a,copiedDuring:n=1500,legacy:i=!1}=e,s=T(()=>t&&"clipboard"in t),r=W("clipboard-read"),c=W("clipboard-write"),u=A(()=>s.value||i),d=m(""),f=m(!1),v=ne(()=>f.value=!1,n);function y(){s.value&&_(r.value)?t.clipboard.readText().then(l=>{d.value=l}):d.value=P()}u.value&&o&&E(["copy","cut"],y);async function h(l=g(a)){u.value&&l!=null&&(s.value&&_(c.value)?await t.clipboard.writeText(l):F(l),d.value=l,f.value=!0,v.start())}function F(l){const p=document.createElement("textarea");p.value=l??"",p.style.position="absolute",p.style.opacity="0",document.body.appendChild(p),p.select(),document.execCommand("copy"),p.remove()}function P(){var l,p,x;return(x=(p=(l=document==null?void 0:document.getSelection)==null?void 0:l.call(document))==null?void 0:p.toString())!=null?x:""}function _(l){return l==="granted"||l==="prompt"}return{isSupported:u,text:d,copied:f,copy:h}}function fe(e={}){const{window:t=C,initialWidth:o=Number.POSITIVE_INFINITY,initialHeight:a=Number.POSITIVE_INFINITY,listenOrientation:n=!0,includeScrollbar:i=!0}=e,s=m(o),r=m(a),c=()=>{t&&(i?(s.value=t.innerWidth,r.value=t.innerHeight):(s.value=t.document.documentElement.clientWidth,r.value=t.document.documentElement.clientHeight))};if(c(),te(c),E("resize",c,{passive:!0}),n){const u=ae("(orientation: portrait)");k(u,()=>c())}return{width:s,height:r}}const re={class:"relative"},ce={class:"absolute float-span"},ue=z({__name:"FloatText",props:{label:{type:String,default:"-"},content:{type:[String,Number],default:"-"},disabled:{type:Boolean,default:!1},copyButton:{type:Boolean,default:!1}},setup(e){const{isSupported:t,copy:o}=se(),a=n=>{t&&(o(n),alert(`已複製：${n}`))};return(n,i)=>{const s=D("Button");return I(),Y("div",re,[b("span",ce,B(e.label),1),b("div",{class:G(["p-inputtext",{"opacity-90":e.disabled}])},[b("span",null,B(e.content),1)],2),e.copyButton&&M(t)?(I(),Q(s,{key:0,icon:"pi pi-copy",text:"","aria-label":"複製",class:"copy-button",onClick:i[0]||(i[0]=r=>a(`${e.content}`))})):R("",!0)])}}}),pe=X(ue,[["__scopeId","data-v-90df8e5e"]]);export{pe as F,fe as u};
