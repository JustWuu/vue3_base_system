import{d as k,r as t,b as g,o as D,c as U,a as i,e,f as a,u as V,q as n,k as B,L as M,E as b}from"./index-C0IYFN2w.js";import{U as S}from"./UniversalTable-BIqBLIsS.js";import"./database-B5mFUmtQ.js";import{M as T}from"./member-CM71EHXB.js";import"./useFireStorage-Bkb40Xyt.js";/* empty css                                                                       */import"./user-CRyQV22G.js";const E={class:"grid"},F={class:"col-12 px-2"},I={class:"card"},$={class:"my-2"},J=k({__name:"MemberList",setup(z){const d=B(),f=new T,c=t(),v=t([{field:"email",header:"帳號",sortable:!1,style:"min-width:10rem;"},{field:"uid",header:"UID",sortable:!0,style:"min-width:10rem;"},{type:"boolean",field:"emailVerified",header:"信箱驗證",sortable:!0,style:"min-width:8rem;"},{type:"date",field:"createdAt",header:"註冊時間",sortable:!0,style:"min-width:10rem;"},{type:"tag",tag:[{value:"enable",severity:"success",text:"啟用"},{value:"xxx",severity:"warning",text:"異常"},{value:"disabled",severity:"danger",text:"停用"}],field:"state",header:"狀態",sortable:!0,style:"min-width:6rem;"}]),h=t([{type:"Dropdown",options:[{value:"true",text:"已驗證"},{value:"false",text:"未驗證"}],placeholder:"信箱驗證",class:"md:mr-1 md:w-3",field:"emailVerified"},{type:"Dropdown",options:[{value:"enable",text:"啟用"},{value:"disabled",text:"停用"}],placeholder:"狀態",class:"md:mr-1 md:w-3",field:"state"},{type:"InputText",placeholder:"Search UID...",class:"md:w-3",field:"uid"}]),m=t([]),u=t([]);g(()=>{f.array().then(s=>{m.value=s})});const _=()=>{d.push("/system/user/add")},y=s=>{d.push(`/front/member/edit/${s.uid}`)},x=()=>{c.value.exportCSV()};return(s,o)=>{const l=n("Button"),w=n("Toolbar"),C=n("Column"),p=M("role");return D(),U("div",E,[i("div",F,[i("div",I,[e(w,{class:"mb-4"},{start:a(()=>[i("div",$,[b(e(l,{label:"新增",icon:"pi pi-plus",class:"p-button-success mr-2",onClick:_},null,512),[[p,["member:c"]]])])]),end:a(()=>[e(l,{label:"Export",icon:"pi pi-upload",class:"p-button-help",onClick:o[0]||(o[0]=r=>x())})]),_:1}),e(V(S),{ref_key:"dt",ref:c,data:m.value,columns:v.value,selection:u.value,"onUpdate:selection":o[1]||(o[1]=r=>u.value=r),header:"會員管理",filter:h.value},{footer:a(()=>[e(C,{headerStyle:"min-width:2rem;",header:"操作",alignFrozen:"right",frozen:""},{body:a(r=>[b(e(l,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:L=>y(r.data)},null,8,["onClick"]),[[p,["member:u"]]])]),_:1})]),_:1},8,["data","columns","selection","filter"])])])])}}});export{J as default};
